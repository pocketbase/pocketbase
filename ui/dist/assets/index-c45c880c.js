(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function ee(){}const ka=n=>n;function je(n,e){for(const t in e)n[t]=e[t];return n}function Q3(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Mw(n){return n()}function qm(){return Object.create(null)}function Qe(n){n.forEach(Mw)}function fn(n){return typeof n=="function"}function be(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let za;function ni(n,e){return za||(za=document.createElement("a")),za.href=e,n===za.href}function D3(n){return Object.keys(n).length===0}function cp(n,...e){if(n==null)return ee;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function E3(n){let e;return cp(n,t=>e=t)(),e}function et(n,e,t){n.$$.on_destroy.push(cp(e,t))}function xt(n,e,t,i){if(n){const s=Aw(n,e,t,i);return n[0](s)}}function Aw(n,e,t,i){return n[1]&&i?je(t.ctx.slice(),n[1](i(e))):t.ctx}function Zt(n,e,t,i){if(n[2]&&i){const s=n[2](i(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const l=[],r=Math.max(e.dirty.length,s.length);for(let o=0;o<r;o+=1)l[o]=e.dirty[o]|s[o];return l}return e.dirty|s}return e.dirty}function Ft(n,e,t,i,s,l){if(s){const r=Aw(e,t,i,l);n.p(r,s)}}function Xt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function $n(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function ft(n,e){const t={};e=new Set(e);for(const i in n)!e.has(i)&&i[0]!=="$"&&(t[i]=n[i]);return t}function er(n){return n??""}function Zn(n,e,t){return n.set(t),e}function Ae(n){return n&&fn(n.destroy)?n.destroy:ee}function Vm(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const Qw=typeof window<"u";let Yu=Qw?()=>window.performance.now():()=>Date.now(),dp=Qw?n=>requestAnimationFrame(n):ee;const Tr=new Set;function Dw(n){Tr.forEach(e=>{e.c(n)||(Tr.delete(e),e.f())}),Tr.size!==0&&dp(Dw)}function Hu(n){let e;return Tr.size===0&&dp(Dw),{promise:new Promise(t=>{Tr.add(e={c:n,f:t})}),abort(){Tr.delete(e)}}}function O(n,e){n.appendChild(e)}function Ew(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function I3(n){const e=v("style");return R3(Ew(n),e),e.sheet}function R3(n,e){return O(n.head||n,e),e.sheet}function S(n,e,t){n.insertBefore(e,t||null)}function w(n){n.parentNode&&n.parentNode.removeChild(n)}function At(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function v(n){return document.createElement(n)}function W(n){return document.createTextNode(n)}function A(){return W(" ")}function Se(){return W("")}function H(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function ut(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Pi(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function m(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const L3=["width","height"];function $s(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&L3.indexOf(i)===-1?n[i]=e[i]:m(n,i,e[i])}function N3(n){let e;return{p(...t){e=t,e.forEach(i=>n.push(i))},r(){e.forEach(t=>n.splice(n.indexOf(t),1))}}}function Ct(n){return n===""?null:+n}function x3(n){return Array.from(n.childNodes)}function re(n,e){e=""+e,n.data!==e&&(n.data=e)}function fe(n,e){n.value=e??""}function Zd(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}function J(n,e,t){n.classList[t?"add":"remove"](e)}function Iw(n,e,{bubbles:t=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(n,t,i,e),s}function on(n,e){return new n(e)}const eu=new Map;let tu=0;function Z3(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function F3(n,e){const t={stylesheet:I3(e),rules:{}};return eu.set(n,t),t}function Go(n,e,t,i,s,l,r,o=0){const a=16.666/i;let f=`{
`;for(let _=0;_<=1;_+=a){const y=e+(t-e)*l(_);f+=_*100+`%{${r(y,1-y)}}
`}const u=f+`100% {${r(t,1-t)}}
}`,d=`__svelte_${Z3(u)}_${o}`,h=Ew(n),{stylesheet:p,rules:g}=eu.get(h)||F3(h,n);g[d]||(g[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const b=n.style.animation||"";return n.style.animation=`${b?`${b}, `:""}${d} ${i}ms linear ${s}ms 1 both`,tu+=1,d}function Ko(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),s=t.length-i.length;s&&(n.style.animation=i.join(", "),tu-=s,tu||X3())}function X3(){dp(()=>{tu||(eu.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&w(e)}),eu.clear())})}function q3(n,e,t,i){if(!e)return ee;const s=n.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return ee;const{delay:l=0,duration:r=300,easing:o=ka,start:a=Yu()+l,end:f=a+r,tick:u=ee,css:d}=t(n,{from:e,to:s},i);let h=!0,p=!1,g;function b(){d&&(g=Go(n,0,1,r,l,o,d)),l||(p=!0)}function _(){d&&Ko(n,g),h=!1}return Hu(y=>{if(!p&&y>=a&&(p=!0),p&&y>=f&&(u(1,0),_()),!h)return!1;if(p){const k=y-a,C=0+1*o(k/r);u(C,1-C)}return!0}),b(),u(0,1),_}function V3(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:i}=e,s=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=i,Rw(n,s)}}function Rw(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const i=getComputedStyle(n),s=i.transform==="none"?"":i.transform;n.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Jo;function qs(n){Jo=n}function wa(){if(!Jo)throw new Error("Function called outside component initialization");return Jo}function vn(n){wa().$$.on_mount.push(n)}function j3(n){wa().$$.after_update.push(n)}function Sa(n){wa().$$.on_destroy.push(n)}function Lt(){const n=wa();return(e,t,{cancelable:i=!1}={})=>{const s=n.$$.callbacks[e];if(s){const l=Iw(e,t,{cancelable:i});return s.slice().forEach(r=>{r.call(n,l)}),!l.defaultPrevented}return!0}}function Fe(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const vr=[],ne=[];let Pr=[];const Fd=[],Lw=Promise.resolve();let Xd=!1;function Nw(){Xd||(Xd=!0,Lw.then(hp))}function Bn(){return Nw(),Lw}function at(n){Pr.push(n)}function ye(n){Fd.push(n)}const Ac=new Set;let pr=0;function hp(){if(pr!==0)return;const n=Jo;do{try{for(;pr<vr.length;){const e=vr[pr];pr++,qs(e),U3(e.$$)}}catch(e){throw vr.length=0,pr=0,e}for(qs(null),vr.length=0,pr=0;ne.length;)ne.pop()();for(let e=0;e<Pr.length;e+=1){const t=Pr[e];Ac.has(t)||(Ac.add(t),t())}Pr.length=0}while(vr.length);for(;Fd.length;)Fd.pop()();Xd=!1,Ac.clear(),qs(n)}function U3(n){if(n.fragment!==null){n.update(),Qe(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(at)}}function W3(n){const e=[],t=[];Pr.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Pr=e}let ho;function pp(){return ho||(ho=Promise.resolve(),ho.then(()=>{ho=null})),ho}function Bl(n,e,t){n.dispatchEvent(Iw(`${e?"intro":"outro"}${t}`))}const Lf=new Set;let bs;function ue(){bs={r:0,c:[],p:bs}}function ce(){bs.r||Qe(bs.c),bs=bs.p}function D(n,e){n&&n.i&&(Lf.delete(n),n.i(e))}function I(n,e,t,i){if(n&&n.o){if(Lf.has(n))return;Lf.add(n),bs.c.push(()=>{Lf.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const mp={duration:0};function xw(n,e,t){const i={direction:"in"};let s=e(n,t,i),l=!1,r,o,a=0;function f(){r&&Ko(n,r)}function u(){const{delay:h=0,duration:p=300,easing:g=ka,tick:b=ee,css:_}=s||mp;_&&(r=Go(n,0,1,p,h,g,_,a++)),b(0,1);const y=Yu()+h,k=y+p;o&&o.abort(),l=!0,at(()=>Bl(n,!0,"start")),o=Hu(C=>{if(l){if(C>=k)return b(1,0),Bl(n,!0,"end"),f(),l=!1;if(C>=y){const $=g((C-y)/p);b($,1-$)}}return l})}let d=!1;return{start(){d||(d=!0,Ko(n),fn(s)?(s=s(i),pp().then(u)):u())},invalidate(){d=!1},end(){l&&(f(),l=!1)}}}function gp(n,e,t){const i={direction:"out"};let s=e(n,t,i),l=!0,r;const o=bs;o.r+=1;function a(){const{delay:f=0,duration:u=300,easing:d=ka,tick:h=ee,css:p}=s||mp;p&&(r=Go(n,1,0,u,f,d,p));const g=Yu()+f,b=g+u;at(()=>Bl(n,!1,"start")),Hu(_=>{if(l){if(_>=b)return h(0,1),Bl(n,!1,"end"),--o.r||Qe(o.c),!1;if(_>=g){const y=d((_-g)/u);h(1-y,y)}}return l})}return fn(s)?pp().then(()=>{s=s(i),a()}):a(),{end(f){f&&s.tick&&s.tick(1,0),l&&(r&&Ko(n,r),l=!1)}}}function Ue(n,e,t,i){const s={direction:"both"};let l=e(n,t,s),r=i?0:1,o=null,a=null,f=null;function u(){f&&Ko(n,f)}function d(p,g){const b=p.b-r;return g*=Math.abs(b),{a:r,b:p.b,d:b,duration:g,start:p.start,end:p.start+g,group:p.group}}function h(p){const{delay:g=0,duration:b=300,easing:_=ka,tick:y=ee,css:k}=l||mp,C={start:Yu()+g,b:p};p||(C.group=bs,bs.r+=1),o||a?a=C:(k&&(u(),f=Go(n,r,p,b,g,_,k)),p&&y(0,1),o=d(C,b),at(()=>Bl(n,p,"start")),Hu($=>{if(a&&$>a.start&&(o=d(a,b),a=null,Bl(n,o.b,"start"),k&&(u(),f=Go(n,r,o.b,o.duration,0,_,l.css))),o){if($>=o.end)y(r=o.b,1-r),Bl(n,o.b,"end"),a||(o.b?u():--o.group.r||Qe(o.group.c)),o=null;else if($>=o.start){const T=$-o.start;r=o.a+o.d*_(T/o.duration),y(r,1-r)}}return!!(o||a)}))}return{run(p){fn(l)?pp().then(()=>{l=l(s),h(p)}):h(p)},end(){u(),o=a=null}}}function jm(n,e){const t=e.token={};function i(s,l,r,o){if(e.token!==t)return;e.resolved=o;let a=e.ctx;r!==void 0&&(a=a.slice(),a[r]=o);const f=s&&(e.current=s)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,h)=>{h!==l&&d&&(ue(),I(d,1,1,()=>{e.blocks[h]===d&&(e.blocks[h]=null)}),ce())}):e.block.d(1),f.c(),D(f,1),f.m(e.mount(),e.anchor),u=!0),e.block=f,e.blocks&&(e.blocks[l]=f),u&&hp()}if(Q3(n)){const s=wa();if(n.then(l=>{qs(s),i(e.then,1,e.value,l),qs(null)},l=>{if(qs(s),i(e.catch,2,e.error,l),qs(null),!e.hasCatch)throw l}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,n),!0;e.resolved=n}}function z3(n,e,t){const i=e.slice(),{resolved:s}=n;n.current===n.then&&(i[n.value]=s),n.current===n.catch&&(i[n.error]=s),n.block.p(i,t)}function or(n,e){n.d(1),e.delete(n.key)}function hn(n,e){I(n,1,1,()=>{e.delete(n.key)})}function B3(n,e){n.f(),hn(n,e)}function It(n,e,t,i,s,l,r,o,a,f,u,d){let h=n.length,p=l.length,g=h;const b={};for(;g--;)b[n[g].key]=g;const _=[],y=new Map,k=new Map,C=[];for(g=p;g--;){const M=d(s,l,g),Q=t(M);let E=r.get(Q);E?i&&C.push(()=>E.p(M,e)):(E=f(Q,M),E.c()),y.set(Q,_[g]=E),Q in b&&k.set(Q,Math.abs(g-b[Q]))}const $=new Set,T=new Set;function P(M){D(M,1),M.m(o,u),r.set(M.key,M),u=M.first,p--}for(;h&&p;){const M=_[p-1],Q=n[h-1],E=M.key,R=Q.key;M===Q?(u=M.first,h--,p--):y.has(R)?!r.has(E)||$.has(E)?P(M):T.has(R)?h--:k.get(E)>k.get(R)?(T.add(E),P(M)):($.add(R),h--):(a(Q,r),h--)}for(;h--;){const M=n[h];y.has(M.key)||a(M,r)}for(;p;)P(_[p-1]);return Qe(C),_}function Bt(n,e){const t={},i={},s={$$scope:1};let l=n.length;for(;l--;){const r=n[l],o=e[l];if(o){for(const a in r)a in o||(i[a]=1);for(const a in o)s[a]||(t[a]=o[a],s[a]=1);n[l]=o}else for(const a in r)s[a]=1}for(const r in i)r in t||(t[r]=void 0);return t}function Cn(n){return typeof n=="object"&&n!==null?n:{}}function pe(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function V(n){n&&n.c()}function X(n,e,t,i){const{fragment:s,after_update:l}=n.$$;s&&s.m(e,t),i||at(()=>{const r=n.$$.on_mount.map(Mw).filter(fn);n.$$.on_destroy?n.$$.on_destroy.push(...r):Qe(r),n.$$.on_mount=[]}),l.forEach(at)}function q(n,e){const t=n.$$;t.fragment!==null&&(W3(t.after_update),Qe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Y3(n,e){n.$$.dirty[0]===-1&&(vr.push(n),Nw(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ve(n,e,t,i,s,l,r,o=[-1]){const a=Jo;qs(n);const f=n.$$={fragment:null,ctx:[],props:l,update:ee,not_equal:s,bound:qm(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:qm(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};r&&r(f.root);let u=!1;if(f.ctx=t?t(n,e.props||{},(d,h,...p)=>{const g=p.length?p[0]:h;return f.ctx&&s(f.ctx[d],f.ctx[d]=g)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](g),u&&Y3(n,d)),h}):[],f.update(),u=!0,Qe(f.before_update),f.fragment=i?i(f.ctx):!1,e.target){if(e.hydrate){const d=x3(e.target);f.fragment&&f.fragment.l(d),d.forEach(w)}else f.fragment&&f.fragment.c();e.intro&&D(n.$$.fragment),X(n,e.target,e.anchor,e.customElement),hp()}qs(a)}class ke{$destroy(){q(this,1),this.$destroy=ee}$on(e,t){if(!fn(t))return ee;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!D3(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function nn(n){if(!n)throw Error("Parameter args is required");if(!n.component==!n.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(n.component&&(n.asyncComponent=()=>Promise.resolve(n.component)),typeof n.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(n.conditions){Array.isArray(n.conditions)||(n.conditions=[n.conditions]);for(let t=0;t<n.conditions.length;t++)if(!n.conditions[t]||typeof n.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return n.loadingComponent&&(n.asyncComponent.loading=n.loadingComponent,n.asyncComponent.loadingParams=n.loadingParams||void 0),{component:n.asyncComponent,userData:n.userData,conditions:n.conditions&&n.conditions.length?n.conditions:void 0,props:n.props&&Object.keys(n.props).length?n.props:{},_sveltesparouter:!0}}const mr=[];function Zw(n,e){return{subscribe:Mi(n,e).subscribe}}function Mi(n,e=ee){let t;const i=new Set;function s(o){if(be(n,o)&&(n=o,t)){const a=!mr.length;for(const f of i)f[1](),mr.push(f,n);if(a){for(let f=0;f<mr.length;f+=2)mr[f][0](mr[f+1]);mr.length=0}}}function l(o){s(o(n))}function r(o,a=ee){const f=[o,a];return i.add(f),i.size===1&&(t=e(s)||ee),o(n),()=>{i.delete(f),i.size===0&&t&&(t(),t=null)}}return{set:s,update:l,subscribe:r}}function Fw(n,e,t){const i=!Array.isArray(n),s=i?[n]:n,l=e.length<2;return Zw(t,r=>{let o=!1;const a=[];let f=0,u=ee;const d=()=>{if(f)return;u();const p=e(i?a[0]:a,r);l?r(p):u=fn(p)?p:ee},h=s.map((p,g)=>cp(p,b=>{a[g]=b,f&=~(1<<g),o&&d()},()=>{f|=1<<g}));return o=!0,d(),function(){Qe(h),u(),o=!1}})}function Xw(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,i,s,l,r=[],o="",a=n.split("/");for(a[0]||a.shift();s=a.shift();)t=s[0],t==="*"?(r.push("wild"),o+="/(.*)"):t===":"?(i=s.indexOf("?",1),l=s.indexOf(".",1),r.push(s.substring(1,~i?i:~l?l:s.length)),o+=~i&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(o+=(~i?"?":"")+"\\"+s.substring(l))):o+="/"+s;return{keys:r,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function H3(n){let e,t,i;const s=[n[2]];var l=n[0];function r(o){let a={};for(let f=0;f<s.length;f+=1)a=je(a,s[f]);return{props:a}}return l&&(e=on(l,r()),e.$on("routeEvent",n[7])),{c(){e&&V(e.$$.fragment),t=Se()},m(o,a){e&&X(e,o,a),S(o,t,a),i=!0},p(o,a){const f=a&4?Bt(s,[Cn(o[2])]):{};if(a&1&&l!==(l=o[0])){if(e){ue();const u=e;I(u.$$.fragment,1,0,()=>{q(u,1)}),ce()}l?(e=on(l,r()),e.$on("routeEvent",o[7]),V(e.$$.fragment),D(e.$$.fragment,1),X(e,t.parentNode,t)):e=null}else l&&e.$set(f)},i(o){i||(e&&D(e.$$.fragment,o),i=!0)},o(o){e&&I(e.$$.fragment,o),i=!1},d(o){o&&w(t),e&&q(e,o)}}}function G3(n){let e,t,i;const s=[{params:n[1]},n[2]];var l=n[0];function r(o){let a={};for(let f=0;f<s.length;f+=1)a=je(a,s[f]);return{props:a}}return l&&(e=on(l,r()),e.$on("routeEvent",n[6])),{c(){e&&V(e.$$.fragment),t=Se()},m(o,a){e&&X(e,o,a),S(o,t,a),i=!0},p(o,a){const f=a&6?Bt(s,[a&2&&{params:o[1]},a&4&&Cn(o[2])]):{};if(a&1&&l!==(l=o[0])){if(e){ue();const u=e;I(u.$$.fragment,1,0,()=>{q(u,1)}),ce()}l?(e=on(l,r()),e.$on("routeEvent",o[6]),V(e.$$.fragment),D(e.$$.fragment,1),X(e,t.parentNode,t)):e=null}else l&&e.$set(f)},i(o){i||(e&&D(e.$$.fragment,o),i=!0)},o(o){e&&I(e.$$.fragment,o),i=!1},d(o){o&&w(t),e&&q(e,o)}}}function K3(n){let e,t,i,s;const l=[G3,H3],r=[];function o(a,f){return a[1]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Se()},m(a,f){r[e].m(a,f),S(a,i,f),s=!0},p(a,[f]){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),D(t,1),t.m(i.parentNode,i))},i(a){s||(D(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&w(i)}}}function Um(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let i="";return t>-1&&(i=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:i}}const Gu=Zw(null,function(e){e(Um());const t=()=>{e(Um())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});Fw(Gu,n=>n.location);const bp=Fw(Gu,n=>n.querystring),Wm=Mi(void 0);async function $l(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await Bn();const e=(n.charAt(0)=="#"?"":"#")+n;try{const t={...history.state};delete t.__svelte_spa_router_scrollX,delete t.__svelte_spa_router_scrollY,window.history.replaceState(t,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function qn(n,e){if(e=Bm(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return zm(n,e),{update(t){t=Bm(t),zm(n,t)}}}function J3(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function zm(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",i=>{i.preventDefault(),e.disabled||eP(i.currentTarget.getAttribute("href"))})}function Bm(n){return n&&typeof n=="string"?{href:n}:n||{}}function eP(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function tP(n,e,t){let{routes:i={}}=e,{prefix:s=""}=e,{restoreScrollState:l=!1}=e;class r{constructor(T,P){if(!P||typeof P!="function"&&(typeof P!="object"||P._sveltesparouter!==!0))throw Error("Invalid component object");if(!T||typeof T=="string"&&(T.length<1||T.charAt(0)!="/"&&T.charAt(0)!="*")||typeof T=="object"&&!(T instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:M,keys:Q}=Xw(T);this.path=T,typeof P=="object"&&P._sveltesparouter===!0?(this.component=P.component,this.conditions=P.conditions||[],this.userData=P.userData,this.props=P.props||{}):(this.component=()=>Promise.resolve(P),this.conditions=[],this.props={}),this._pattern=M,this._keys=Q}match(T){if(s){if(typeof s=="string")if(T.startsWith(s))T=T.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const E=T.match(s);if(E&&E[0])T=T.substr(E[0].length)||"/";else return null}}const P=this._pattern.exec(T);if(P===null)return null;if(this._keys===!1)return P;const M={};let Q=0;for(;Q<this._keys.length;){try{M[this._keys[Q]]=decodeURIComponent(P[Q+1]||"")||null}catch{M[this._keys[Q]]=null}Q++}return M}async checkConditions(T){for(let P=0;P<this.conditions.length;P++)if(!await this.conditions[P](T))return!1;return!0}}const o=[];i instanceof Map?i.forEach(($,T)=>{o.push(new r(T,$))}):Object.keys(i).forEach($=>{o.push(new r($,i[$]))});let a=null,f=null,u={};const d=Lt();async function h($,T){await Bn(),d($,T)}let p=null,g=null;l&&(g=$=>{$.state&&($.state.__svelte_spa_router_scrollY||$.state.__svelte_spa_router_scrollX)?p=$.state:p=null},window.addEventListener("popstate",g),j3(()=>{J3(p)}));let b=null,_=null;const y=Gu.subscribe(async $=>{b=$;let T=0;for(;T<o.length;){const P=o[T].match($.location);if(!P){T++;continue}const M={route:o[T].path,location:$.location,querystring:$.querystring,userData:o[T].userData,params:P&&typeof P=="object"&&Object.keys(P).length?P:null};if(!await o[T].checkConditions(M)){t(0,a=null),_=null,h("conditionsFailed",M);return}h("routeLoading",Object.assign({},M));const Q=o[T].component;if(_!=Q){Q.loading?(t(0,a=Q.loading),_=Q,t(1,f=Q.loadingParams),t(2,u={}),h("routeLoaded",Object.assign({},M,{component:a,name:a.name,params:f}))):(t(0,a=null),_=null);const E=await Q();if($!=b)return;t(0,a=E&&E.default||E),_=Q}P&&typeof P=="object"&&Object.keys(P).length?t(1,f=P):t(1,f=null),t(2,u=o[T].props),h("routeLoaded",Object.assign({},M,{component:a,name:a.name,params:f})).then(()=>{Wm.set(f)});return}t(0,a=null),_=null,Wm.set(void 0)});Sa(()=>{y(),g&&window.removeEventListener("popstate",g)});function k($){Fe.call(this,n,$)}function C($){Fe.call(this,n,$)}return n.$$set=$=>{"routes"in $&&t(3,i=$.routes),"prefix"in $&&t(4,s=$.prefix),"restoreScrollState"in $&&t(5,l=$.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=l?"manual":"auto")},[a,f,u,i,s,l,k,C]}class nP extends ke{constructor(e){super(),ve(this,e,tP,K3,be,{routes:3,prefix:4,restoreScrollState:5})}}const Nf=[];let qw;function Vw(n){const e=n.pattern.test(qw);Ym(n,n.className,e),Ym(n,n.inactiveClassName,!e)}function Ym(n,e,t){(e||"").split(" ").forEach(i=>{i&&(n.node.classList.remove(i),t&&n.node.classList.add(i))})}Gu.subscribe(n=>{qw=n.location+(n.querystring?"?"+n.querystring:""),Nf.map(Vw)});function Ri(n,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute("href")&&(e.path=n.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:t}=typeof e.path=="string"?Xw(e.path):{pattern:e.path},i={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return Nf.push(i),Vw(i),{destroy(){Nf.splice(Nf.indexOf(i),1)}}}const iP="modulepreload",sP=function(n,e){return new URL(n,e).href},Hm={},_t=function(e,t,i){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(l=>{if(l=sP(l,i),l in Hm)return;Hm[l]=!0;const r=l.endsWith(".css"),o=r?'[rel="stylesheet"]':"";if(!!i)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===l&&(!r||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${o}`))return;const f=document.createElement("link");if(f.rel=r?"stylesheet":iP,r||(f.as="script",f.crossOrigin=""),f.href=l,document.head.appendChild(f),r)return new Promise((u,d)=>{f.addEventListener("load",u),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>e())};var qd=function(n,e){return qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},qd(n,e)};function An(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}qd(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Vd=function(){return Vd=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var l in t=arguments[i])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},Vd.apply(this,arguments)};function Tn(n,e,t,i){return new(t||(t=Promise))(function(s,l){function r(f){try{a(i.next(f))}catch(u){l(u)}}function o(f){try{a(i.throw(f))}catch(u){l(u)}}function a(f){f.done?s(f.value):function(d){return d instanceof t?d:new t(function(h){h(d)})}(f.value).then(r,o)}a((i=i.apply(n,e||[])).next())})}function Pn(n,e){var t,i,s,l,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(a){return function(f){return function(d){if(t)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(r=0)),r;)try{if(t=1,i&&(s=2&d[0]?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!((s=s.length>0&&s[s.length-1])||d[0]!==6&&d[0]!==2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(n,r)}catch(h){d=[6,h],i=0}finally{t=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([a,f])}}}var jw,Vs=function(n){function e(t){var i,s,l,r,o=this;return(o=n.call(this,"ClientResponseError")||this).url="",o.status=0,o.response={},o.isAbort=!1,o.originalError=null,Object.setPrototypeOf(o,e.prototype),t!==null&&typeof t=="object"&&(o.url=typeof t.url=="string"?t.url:"",o.status=typeof t.status=="number"?t.status:0,o.isAbort=!!t.isAbort,o.originalError=t.originalError,t.response!==null&&typeof t.response=="object"?o.response=t.response:t.data!==null&&typeof t.data=="object"?o.response=t.data:o.response={}),o.originalError||t instanceof e||(o.originalError=t),typeof DOMException<"u"&&t instanceof DOMException&&(o.isAbort=!0),o.name="ClientResponseError "+o.status,o.message=(i=o.response)===null||i===void 0?void 0:i.message,o.message||(o.isAbort?o.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((r=(l=(s=o.originalError)===null||s===void 0?void 0:s.cause)===null||l===void 0?void 0:l.message)===null||r===void 0)&&r.includes("ECONNREFUSED ::1")?o.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":o.message="Something went wrong while processing your request."),o}return An(e,n),Object.defineProperty(e.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return Vd({},this)},e}(Error),Ba=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Gm(n,e,t){var i=Object.assign({},t||{}),s=i.encode||rP;if(!Ba.test(n))throw new TypeError("argument name is invalid");var l=s(e);if(l&&!Ba.test(l))throw new TypeError("argument val is invalid");var r=n+"="+l;if(i.maxAge!=null){var o=i.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");r+="; Max-Age="+Math.floor(o)}if(i.domain){if(!Ba.test(i.domain))throw new TypeError("option domain is invalid");r+="; Domain="+i.domain}if(i.path){if(!Ba.test(i.path))throw new TypeError("option path is invalid");r+="; Path="+i.path}if(i.expires){if(!function(f){return Object.prototype.toString.call(f)==="[object Date]"||f instanceof Date}(i.expires)||isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");r+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(r+="; HttpOnly"),i.secure&&(r+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r}function lP(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function rP(n){return encodeURIComponent(n)}function Uw(n){if(n)try{var e=decodeURIComponent(jw(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function Ww(n,e){e===void 0&&(e=0);var t=Uw(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}jw=typeof atob=="function"?atob:function(n){var e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,s=0,l=0,r="";i=e.charAt(l++);~i&&(t=s%4?64*t+i:i,s++%4)?r+=String.fromCharCode(255&t>>(-2*s&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return r};var $a=function(){function n(e){e===void 0&&(e={}),this.$load(e||{})}return n.prototype.load=function(e){return this.$load(e)},n.prototype.$load=function(e){for(var t=0,i=Object.entries(e);t<i.length;t++){var s=i[t],l=s[0],r=s[1];this[l]=r}this.id=e.id!==void 0?e.id:"",this.created=e.created!==void 0?e.created:"",this.updated=e.updated!==void 0?e.updated:""},Object.defineProperty(n.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.$clone()},n.prototype.$clone=function(){var e=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(e)},n.prototype.export=function(){return this.$export()},n.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},n}(),Us=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this._loadExpand(t.expand)},e.prototype._loadExpand=function(t){for(var i in t=t||{},this.expand={},t)Array.isArray(t[i])?this.expand[i]=t[i].map(function(s){return new e(s||{})}):this.expand[i]=new e(t[i]||{})},e}($a),tr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},e}($a),Km="pb_auth",oP=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!Ww(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(e,t){this.baseToken=e||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new Us(t):new tr(t):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(e,t){t===void 0&&(t=Km);var i=function(r,o){var a={};if(typeof r!="string")return a;for(var f=Object.assign({},o||{}).decode||lP,u=0;u<r.length;){var d=r.indexOf("=",u);if(d===-1)break;var h=r.indexOf(";",u);if(h===-1)h=r.length;else if(h<d){u=r.lastIndexOf(";",d-1)+1;continue}var p=r.slice(u,d).trim();if(a[p]===void 0){var g=r.slice(d+1,h).trim();g.charCodeAt(0)===34&&(g=g.slice(1,-1));try{a[p]=f(g)}catch{a[p]=g}}u=h+1}return a}(e||"")[t]||"",s={};try{(typeof(s=JSON.parse(i))===null||typeof s!="object"||Array.isArray(s))&&(s={})}catch{}this.save(s.token||"",s.model||null)},n.prototype.exportToCookie=function(e,t){var i,s,l;t===void 0&&(t=Km);var r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},o=Uw(this.token);o!=null&&o.exp?r.expires=new Date(1e3*o.exp):r.expires=new Date("1970-01-01"),e=Object.assign({},r,e);var a={token:this.token,model:((i=this.model)===null||i===void 0?void 0:i.export())||null},f=Gm(t,JSON.stringify(a),e),u=typeof Blob<"u"?new Blob([f]).size:f.length;return a.model&&u>4096&&(a.model={id:(s=a==null?void 0:a.model)===null||s===void 0?void 0:s.id,email:(l=a==null?void 0:a.model)===null||l===void 0?void 0:l.email},this.model instanceof Us&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),f=Gm(t,JSON.stringify(a),e)),f},n.prototype.onChange=function(e,t){var i=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(e),t&&e(this.token,this.model),function(){for(var s=i._onChangeCallbacks.length-1;s>=0;s--)if(i._onChangeCallbacks[s]==e)return delete i._onChangeCallbacks[s],void i._onChangeCallbacks.splice(s,1)}},n.prototype.triggerChange=function(){for(var e=0,t=this._onChangeCallbacks;e<t.length;e++){var i=t[e];i&&i(this.token,this.model)}},n}(),zw=function(n){function e(t){t===void 0&&(t="pocketbase_auth");var i=n.call(this)||this;return i.storageFallback={},i.storageKey=t,i}return An(e,n),Object.defineProperty(e.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){var t,i=this._storageGet(this.storageKey)||{};return i===null||typeof i!="object"||i.model===null||typeof i.model!="object"?null:((t=i.model)===null||t===void 0?void 0:t.collectionId)===void 0?new tr(i.model):new Us(i.model)},enumerable:!1,configurable:!0}),e.prototype.save=function(t,i){this._storageSet(this.storageKey,{token:t,model:i}),n.prototype.save.call(this,t,i)},e.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},e.prototype._storageGet=function(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=window.localStorage.getItem(t)||"";try{return JSON.parse(i)}catch{return i}}return this.storageFallback[t]},e.prototype._storageSet=function(t,i){if(typeof window<"u"&&(window!=null&&window.localStorage)){var s=i;typeof i!="string"&&(s=JSON.stringify(i)),window.localStorage.setItem(t,s)}else this.storageFallback[t]=i},e.prototype._storageRemove=function(t){var i;typeof window<"u"&&(window!=null&&window.localStorage)&&((i=window.localStorage)===null||i===void 0||i.removeItem(t)),delete this.storageFallback[t]},e}(oP),ar=function(e){this.client=e},aP=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(i){return i||{}})},e.prototype.update=function(t,i){return t===void 0&&(t={}),i===void 0&&(i={}),this.client.send("/api/settings",{method:"PATCH",params:i,body:t}).then(function(s){return s||{}})},e.prototype.testS3=function(t,i){t===void 0&&(t="storage"),i===void 0&&(i={});var s={filesystem:t};return this.client.send("/api/settings/test/s3",{method:"POST",params:i,body:s}).then(function(){return!0})},e.prototype.testEmail=function(t,i,s){s===void 0&&(s={});var l={email:t,template:i};return this.client.send("/api/settings/test/email",{method:"POST",params:s,body:l}).then(function(){return!0})},e.prototype.generateAppleClientSecret=function(t,i,s,l,r,o,a){return o===void 0&&(o={}),a===void 0&&(a={}),o=Object.assign({clientId:t,teamId:i,keyId:s,privateKey:l,duration:r},o),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:o})},e}(ar),Bw=function(e,t,i,s,l){this.page=e>0?e:1,this.perPage=t>=0?t:0,this.totalItems=i>=0?i:0,this.totalPages=s>=0?s:0,this.items=l||[]},_p=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.getFullList=function(t,i){if(typeof t=="number")return this._getFullList(this.baseCrudPath,t,i);var s=Object.assign({},t,i);return this._getFullList(this.baseCrudPath,s.batch||200,s)},e.prototype.getList=function(t,i,s){return t===void 0&&(t=1),i===void 0&&(i=30),s===void 0&&(s={}),this._getList(this.baseCrudPath,t,i,s)},e.prototype.getFirstListItem=function(t,i){return i===void 0&&(i={}),this._getFirstListItem(this.baseCrudPath,t,i)},e.prototype.getOne=function(t,i){return i===void 0&&(i={}),this._getOne(this.baseCrudPath,t,i)},e.prototype.create=function(t,i){return t===void 0&&(t={}),i===void 0&&(i={}),this._create(this.baseCrudPath,t,i)},e.prototype.update=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),this._update(this.baseCrudPath,t,i,s)},e.prototype.delete=function(t,i){return i===void 0&&(i={}),this._delete(this.baseCrudPath,t,i)},e}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype._getFullList=function(t,i,s){var l=this;i===void 0&&(i=200),s===void 0&&(s={});var r=[],o=function(a){return Tn(l,void 0,void 0,function(){return Pn(this,function(f){return[2,this._getList(t,a,i||200,s).then(function(u){var d=u,h=d.items,p=d.totalItems;return r=r.concat(h),h.length&&p>r.length?o(a+1):r})]})})};return o(1)},e.prototype._getList=function(t,i,s,l){var r=this;return i===void 0&&(i=1),s===void 0&&(s=30),l===void 0&&(l={}),l=Object.assign({page:i,perPage:s},l),this.client.send(t,{method:"GET",params:l}).then(function(o){var a=[];if(o!=null&&o.items){o.items=o.items||[];for(var f=0,u=o.items;f<u.length;f++){var d=u[f];a.push(r.decode(d))}}return new Bw((o==null?void 0:o.page)||1,(o==null?void 0:o.perPage)||0,(o==null?void 0:o.totalItems)||0,(o==null?void 0:o.totalPages)||0,a)})},e.prototype._getOne=function(t,i,s){var l=this;return s===void 0&&(s={}),this.client.send(t+"/"+encodeURIComponent(i),{method:"GET",params:s}).then(function(r){return l.decode(r)})},e.prototype._getFirstListItem=function(t,i,s){return s===void 0&&(s={}),s=Object.assign({filter:i,$cancelKey:"one_by_filter_"+t+"_"+i},s),this._getList(t,1,1,s).then(function(l){var r;if(!(!((r=l==null?void 0:l.items)===null||r===void 0)&&r.length))throw new Vs({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return l.items[0]})},e.prototype._create=function(t,i,s){var l=this;return i===void 0&&(i={}),s===void 0&&(s={}),this.client.send(t,{method:"POST",params:s,body:i}).then(function(r){return l.decode(r)})},e.prototype._update=function(t,i,s,l){var r=this;return s===void 0&&(s={}),l===void 0&&(l={}),this.client.send(t+"/"+encodeURIComponent(i),{method:"PATCH",params:l,body:s}).then(function(o){return r.decode(o)})},e.prototype._delete=function(t,i,s){return s===void 0&&(s={}),this.client.send(t+"/"+encodeURIComponent(i),{method:"DELETE",params:s}).then(function(){return!0})},e}(ar)),fP=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.decode=function(t){return new tr(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),e.prototype.update=function(t,i,s){var l=this;return i===void 0&&(i={}),s===void 0&&(s={}),n.prototype.update.call(this,t,i,s).then(function(r){var o,a;return l.client.authStore.model&&((o=l.client.authStore.model)===null||o===void 0?void 0:o.collectionId)===void 0&&((a=l.client.authStore.model)===null||a===void 0?void 0:a.id)===(r==null?void 0:r.id)&&l.client.authStore.save(l.client.authStore.token,r),r})},e.prototype.delete=function(t,i){var s=this;return i===void 0&&(i={}),n.prototype.delete.call(this,t,i).then(function(l){var r,o;return l&&s.client.authStore.model&&((r=s.client.authStore.model)===null||r===void 0?void 0:r.collectionId)===void 0&&((o=s.client.authStore.model)===null||o===void 0?void 0:o.id)===t&&s.client.authStore.clear(),l})},e.prototype.authResponse=function(t){var i=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,i),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:i})},e.prototype.authWithPassword=function(t,i,s,l){return s===void 0&&(s={}),l===void 0&&(l={}),s=Object.assign({identity:t,password:i},s),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:l,body:s}).then(this.authResponse.bind(this))},e.prototype.authRefresh=function(t,i){return t===void 0&&(t={}),i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:i,body:t}).then(this.authResponse.bind(this))},e.prototype.requestPasswordReset=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({email:t},i),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,i,s,l,r){return l===void 0&&(l={}),r===void 0&&(r={}),l=Object.assign({token:t,password:i,passwordConfirm:s},l),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:r,body:l}).then(function(){return!0})},e}(_p),uP=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},e}($a),cP=function(n){function e(t,i){var s=n.call(this,t)||this;return s.collectionIdOrName=i,s}return An(e,n),e.prototype.decode=function(t){return new Us(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),e.prototype.subscribeOne=function(t,i){return Tn(this,void 0,void 0,function(){return Pn(this,function(s){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,i)]})})},e.prototype.subscribe=function(t,i){return Tn(this,void 0,void 0,function(){var s;return Pn(this,function(l){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!i)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return s=this.collectionIdOrName,t!=="*"&&(s+="/"+t),[2,this.client.realtime.subscribe(s,i)]})})},e.prototype.unsubscribe=function(t){return Tn(this,void 0,void 0,function(){return Pn(this,function(i){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},e.prototype.getFullList=function(t,i){if(typeof t=="number")return n.prototype.getFullList.call(this,t,i);var s=Object.assign({},t,i);return n.prototype.getFullList.call(this,s)},e.prototype.getList=function(t,i,s){return t===void 0&&(t=1),i===void 0&&(i=30),s===void 0&&(s={}),n.prototype.getList.call(this,t,i,s)},e.prototype.getFirstListItem=function(t,i){return i===void 0&&(i={}),n.prototype.getFirstListItem.call(this,t,i)},e.prototype.getOne=function(t,i){return i===void 0&&(i={}),n.prototype.getOne.call(this,t,i)},e.prototype.create=function(t,i){return t===void 0&&(t={}),i===void 0&&(i={}),n.prototype.create.call(this,t,i)},e.prototype.update=function(t,i,s){var l=this;return i===void 0&&(i={}),s===void 0&&(s={}),n.prototype.update.call(this,t,i,s).then(function(r){var o,a,f;return((o=l.client.authStore.model)===null||o===void 0?void 0:o.id)!==(r==null?void 0:r.id)||((a=l.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==l.collectionIdOrName&&((f=l.client.authStore.model)===null||f===void 0?void 0:f.collectionName)!==l.collectionIdOrName||l.client.authStore.save(l.client.authStore.token,r),r})},e.prototype.delete=function(t,i){var s=this;return i===void 0&&(i={}),n.prototype.delete.call(this,t,i).then(function(l){var r,o,a;return!l||((r=s.client.authStore.model)===null||r===void 0?void 0:r.id)!==t||((o=s.client.authStore.model)===null||o===void 0?void 0:o.collectionId)!==s.collectionIdOrName&&((a=s.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==s.collectionIdOrName||s.client.authStore.clear(),l})},e.prototype.authResponse=function(t){var i=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,i),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:i})},e.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(i){return Object.assign({},i,{usernamePassword:!!(i!=null&&i.usernamePassword),emailPassword:!!(i!=null&&i.emailPassword),authProviders:Array.isArray(i==null?void 0:i.authProviders)?i==null?void 0:i.authProviders:[]})})},e.prototype.authWithPassword=function(t,i,s,l){var r=this;return s===void 0&&(s={}),l===void 0&&(l={}),s=Object.assign({identity:t,password:i},s),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:l,body:s}).then(function(o){return r.authResponse(o)})},e.prototype.authWithOAuth2Code=function(t,i,s,l,r,o,a){var f=this;return r===void 0&&(r={}),o===void 0&&(o={}),a===void 0&&(a={}),o=Object.assign({provider:t,code:i,codeVerifier:s,redirectUrl:l,createData:r},o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:o}).then(function(u){return f.authResponse(u)})},e.prototype.authWithOAuth2=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return Tn(this,void 0,void 0,function(){var s,l,r,o,a=this;return Pn(this,function(f){switch(f.label){case 0:return t.length>1||typeof(t==null?void 0:t[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((t==null?void 0:t[0])||"",(t==null?void 0:t[1])||"",(t==null?void 0:t[2])||"",(t==null?void 0:t[3])||"",(t==null?void 0:t[4])||{},(t==null?void 0:t[5])||{},(t==null?void 0:t[6])||{})]):(s=(t==null?void 0:t[0])||{},[4,this.listAuthMethods()]);case 1:if(l=f.sent(),!(r=l.authProviders.find(function(u){return u.name===s.provider})))throw new Vs(new Error('Missing or invalid provider "'.concat(s.provider,'".')));return o=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(u,d){return Tn(a,void 0,void 0,function(){var h,p,g,b,_,y=this;return Pn(this,function(k){switch(k.label){case 0:return k.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(C){return Tn(y,void 0,void 0,function(){var $,T,P;return Pn(this,function(M){switch(M.label){case 0:$=this.client.realtime.clientId,M.label=1;case 1:if(M.trys.push([1,3,,4]),h(),!C.state||$!==C.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(r.name,C.code,r.codeVerifier,o,s.createData,s.body,s.query)];case 2:return T=M.sent(),u(T),[3,4];case 3:return P=M.sent(),d(new Vs(P)),[3,4];case 4:return[2]}})})})];case 1:return h=k.sent(),p={state:this.client.realtime.clientId},!((_=s.scopes)===null||_===void 0)&&_.length&&(p.scope=s.scopes.join(" ")),g=this._replaceQueryParams(r.authUrl+o,p),[4,s.urlCallback?s.urlCallback(g):this._defaultUrlCallback(g)];case 2:return k.sent(),[3,4];case 3:return b=k.sent(),d(new Vs(b)),[3,4];case 4:return[2]}})})})]}})})},e.prototype.authRefresh=function(t,i){var s=this;return t===void 0&&(t={}),i===void 0&&(i={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:i,body:t}).then(function(l){return s.authResponse(l)})},e.prototype.requestPasswordReset=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({email:t},i),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,i,s,l,r){return l===void 0&&(l={}),r===void 0&&(r={}),l=Object.assign({token:t,password:i,passwordConfirm:s},l),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:r,body:l}).then(function(){return!0})},e.prototype.requestVerification=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({email:t},i),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.confirmVerification=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({token:t},i),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.requestEmailChange=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({newEmail:t},i),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.confirmEmailChange=function(t,i,s,l){return s===void 0&&(s={}),l===void 0&&(l={}),s=Object.assign({token:t,password:i},s),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:l,body:s}).then(function(){return!0})},e.prototype.listExternalAuths=function(t,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:i}).then(function(s){var l=[];if(Array.isArray(s))for(var r=0,o=s;r<o.length;r++){var a=o[r];l.push(new uP(a))}return l})},e.prototype.unlinkExternalAuth=function(t,i,s){return s===void 0&&(s={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(i),{method:"DELETE",params:s}).then(function(){return!0})},e.prototype._replaceQueryParams=function(t,i){i===void 0&&(i={});var s=t,l="";t.indexOf("?")>=0&&(s=t.substring(0,t.indexOf("?")),l=t.substring(t.indexOf("?")+1));for(var r={},o=0,a=l.split("&");o<a.length;o++){var f=a[o];if(f!=""){var u=f.split("=");r[decodeURIComponent(u[0].replace(/\+/g," "))]=decodeURIComponent((u[1]||"").replace(/\+/g," "))}}for(var d in i)i.hasOwnProperty(d)&&(i[d]==null?delete r[d]:r[d]=i[d]);for(var d in l="",r)r.hasOwnProperty(d)&&(l!=""&&(l+="&"),l+=encodeURIComponent(d.replace(/%20/g,"+"))+"="+encodeURIComponent(r[d].replace(/%20/g,"+")));return l!=""?s+"?"+l:s},e.prototype._defaultUrlCallback=function(t){if(typeof window>"u"||!(window!=null&&window.open))throw new Vs(new Error("Not in a browser context - please pass a custom urlCallback function."));var i=1024,s=768,l=window.innerWidth,r=window.innerHeight,o=l/2-(i=i>l?l:i)/2,a=r/2-(s=s>r?r:s)/2;window.open(t,"oauth2-popup","width="+i+",height="+s+",top="+a+",left="+o+",resizable,menubar=no")},e}(_p),di=function(e){e===void 0&&(e={}),this.id=e.id!==void 0?e.id:"",this.name=e.name!==void 0?e.name:"",this.type=e.type!==void 0?e.type:"text",this.system=!!e.system,this.required=!!e.required,this.options=typeof e.options=="object"&&e.options!==null?e.options:{}},ci=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0&&t.options!==null?t.options:{},this.indexes=Array.isArray(t.indexes)?t.indexes:[],this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var i=0,s=t.schema;i<s.length;i++){var l=s[i];this.schema.push(new di(l))}},Object.defineProperty(e.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),e}($a),dP=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.decode=function(t){return new ci(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),e.prototype.import=function(t,i,s){return i===void 0&&(i=!1),s===void 0&&(s={}),Tn(this,void 0,void 0,function(){return Pn(this,function(l){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:s,body:{collections:t,deleteMissing:i}}).then(function(){return!0})]})})},e}(_p),jd=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},e}($a),hP=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.getRequestsList=function(t,i,s){return t===void 0&&(t=1),i===void 0&&(i=30),s===void 0&&(s={}),s=Object.assign({page:t,perPage:i},s),this.client.send("/api/logs/requests",{method:"GET",params:s}).then(function(l){var r=[];if(l!=null&&l.items){l.items=(l==null?void 0:l.items)||[];for(var o=0,a=l.items;o<a.length;o++){var f=a[o];r.push(new jd(f))}}return new Bw((l==null?void 0:l.page)||1,(l==null?void 0:l.perPage)||0,(l==null?void 0:l.totalItems)||0,(l==null?void 0:l.totalPages)||0,r)})},e.prototype.getRequest=function(t,i){return i===void 0&&(i={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:i}).then(function(s){return new jd(s)})},e.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(i){return i})},e}(ar),pP=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t.lastSentTopics=[],t.maxConnectTimeout=15e3,t.reconnectAttempts=0,t.maxReconnectAttempts=1/0,t.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],t.pendingConnects=[],t}return An(e,n),Object.defineProperty(e.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(t,i){var s;return Tn(this,void 0,void 0,function(){var l,r=this;return Pn(this,function(o){switch(o.label){case 0:if(!t)throw new Error("topic must be set.");return l=function(a){var f,u=a;try{f=JSON.parse(u==null?void 0:u.data)}catch{}i(f||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(l),this.isConnected?[3,2]:[4,this.connect()];case 1:return o.sent(),[3,5];case 2:return this.subscriptions[t].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return o.sent(),[3,5];case 4:(s=this.eventSource)===null||s===void 0||s.addEventListener(t,l),o.label=5;case 5:return[2,function(){return Tn(r,void 0,void 0,function(){return Pn(this,function(a){return[2,this.unsubscribeByTopicAndListener(t,l)]})})}]}})})},e.prototype.unsubscribe=function(t){var i;return Tn(this,void 0,void 0,function(){var s,l,r;return Pn(this,function(o){switch(o.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(s=0,l=this.subscriptions[t];s<l.length;s++)r=l[s],(i=this.eventSource)===null||i===void 0||i.removeEventListener(t,r);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByPrefix=function(t){var i;return Tn(this,void 0,void 0,function(){var s,l,r,o,a;return Pn(this,function(f){switch(f.label){case 0:for(l in s=!1,this.subscriptions)if(l.startsWith(t)){for(s=!0,r=0,o=this.subscriptions[l];r<o.length;r++)a=o[r],(i=this.eventSource)===null||i===void 0||i.removeEventListener(l,a);delete this.subscriptions[l]}return s?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return f.sent(),[3,3];case 2:this.disconnect(),f.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByTopicAndListener=function(t,i){var s;return Tn(this,void 0,void 0,function(){var l,r;return Pn(this,function(o){switch(o.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(l=!1,r=this.subscriptions[t].length-1;r>=0;r--)this.subscriptions[t][r]===i&&(l=!0,delete this.subscriptions[t][r],this.subscriptions[t].splice(r,1),(s=this.eventSource)===null||s===void 0||s.removeEventListener(t,i));return l?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.hasSubscriptionListeners=function(t){var i,s;if(this.subscriptions=this.subscriptions||{},t)return!!(!((i=this.subscriptions[t])===null||i===void 0)&&i.length);for(var l in this.subscriptions)if(!((s=this.subscriptions[l])===null||s===void 0)&&s.length)return!0;return!1},e.prototype.submitSubscriptions=function(){return Tn(this,void 0,void 0,function(){return Pn(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:this.getSubscriptionsCancelKey()}}).catch(function(i){if(!(i!=null&&i.isAbort))throw i})]):[2]})})},e.prototype.getSubscriptionsCancelKey=function(){return"realtime_"+this.clientId},e.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var i in this.subscriptions)this.subscriptions[i].length&&t.push(i);return t},e.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var i=0,s=this.subscriptions[t];i<s.length;i++){var l=s[i];this.eventSource.addEventListener(t,l)}},e.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var i=0,s=this.subscriptions[t];i<s.length;i++){var l=s[i];this.eventSource.removeEventListener(t,l)}},e.prototype.connect=function(){return Tn(this,void 0,void 0,function(){var t=this;return Pn(this,function(i){return this.reconnectAttempts>0?[2]:[2,new Promise(function(s,l){t.pendingConnects.push({resolve:s,reject:l}),t.pendingConnects.length>1||t.initConnect()})]})})},e.prototype.initConnect=function(){var t=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){t.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(i){t.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(i){var s=i;t.clientId=s==null?void 0:s.lastEventId,t.submitSubscriptions().then(function(){return Tn(t,void 0,void 0,function(){var l;return Pn(this,function(r){switch(r.label){case 0:l=3,r.label=1;case 1:return this.hasUnsentSubscriptions()&&l>0?(l--,[4,this.submitSubscriptions()]):[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var l=0,r=t.pendingConnects;l<r.length;l++)r[l].resolve();t.pendingConnects=[],t.reconnectAttempts=0,clearTimeout(t.reconnectTimeoutId),clearTimeout(t.connectTimeoutId)}).catch(function(l){t.clientId="",t.connectErrorHandler(l)})})},e.prototype.hasUnsentSubscriptions=function(){var t=this.getNonEmptySubscriptionTopics();if(t.length!=this.lastSentTopics.length)return!0;for(var i=0,s=t;i<s.length;i++){var l=s[i];if(!this.lastSentTopics.includes(l))return!0}return!1},e.prototype.connectErrorHandler=function(t){var i=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var s=0,l=this.pendingConnects;s<l.length;s++)l[s].reject(new Vs(t));this.disconnect()}else{this.disconnect(!0);var r=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){i.initConnect()},r)}},e.prototype.disconnect=function(t){var i;if(t===void 0&&(t=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(i=this.eventSource)===null||i===void 0||i.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(var s=new Vs(new Error("Realtime disconnected.")),l=0,r=this.pendingConnects;l<r.length;l++)r[l].reject(s);this.pendingConnects=[]}},e}(ar),mP=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.check=function(t){return t===void 0&&(t={}),this.client.send("/api/health",{method:"GET",params:t})},e}(ar),gP=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.getUrl=function(t,i,s){s===void 0&&(s={});var l=[];l.push("api"),l.push("files"),l.push(encodeURIComponent(t.collectionId||t.collectionName)),l.push(encodeURIComponent(t.id)),l.push(encodeURIComponent(i));var r=this.client.buildUrl(l.join("/"));if(Object.keys(s).length){var o=new URLSearchParams(s);r+=(r.includes("?")?"&":"?")+o}return r},e.prototype.getToken=function(t){return t===void 0&&(t={}),this.client.send("/api/files/token",{method:"POST",params:t}).then(function(i){return(i==null?void 0:i.token)||""})},e}(ar),bP=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return An(e,n),e.prototype.getFullList=function(t){return t===void 0&&(t={}),this.client.send("/api/backups",{method:"GET",params:t})},e.prototype.create=function(t,i){i===void 0&&(i={});var s={name:t};return this.client.send("/api/backups",{method:"POST",params:i,body:s}).then(function(){return!0})},e.prototype.delete=function(t,i){return i===void 0&&(i={}),this.client.send("/api/backups/".concat(encodeURIComponent(t)),{method:"DELETE",params:i}).then(function(){return!0})},e.prototype.restore=function(t,i){return i===void 0&&(i={}),this.client.send("/api/backups/".concat(encodeURIComponent(t),"/restore"),{method:"POST",params:i}).then(function(){return!0})},e.prototype.getDownloadUrl=function(t,i){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(i),"?token=").concat(encodeURIComponent(t)))},e}(ar),no=function(){function n(e,t,i){e===void 0&&(e="/"),i===void 0&&(i="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=i,this.authStore=t||new zw,this.admins=new fP(this),this.collections=new dP(this),this.files=new gP(this),this.logs=new hP(this),this.settings=new aP(this),this.realtime=new pP(this),this.health=new mP(this),this.backups=new bP(this)}return n.prototype.collection=function(e){return this.recordServices[e]||(this.recordServices[e]=new cP(this,e)),this.recordServices[e]},n.prototype.autoCancellation=function(e){return this.enableAutoCancellation=!!e,this},n.prototype.cancelRequest=function(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this},n.prototype.cancelAllRequests=function(){for(var e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this},n.prototype.send=function(e,t){var i,s,l,r,o,a,f,u;return Tn(this,void 0,void 0,function(){var d,h,p,g,b,_,y,k,C,$=this;return Pn(this,function(T){switch(T.label){case 0:return d=Object.assign({method:"GET"},t),this.isFormData(d.body)||(d.body&&typeof d.body!="string"&&(d.body=JSON.stringify(d.body)),((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i["Content-Type"])===void 0&&(d.headers=Object.assign({},d.headers,{"Content-Type":"application/json"}))),((s=d==null?void 0:d.headers)===null||s===void 0?void 0:s["Accept-Language"])===void 0&&(d.headers=Object.assign({},d.headers,{"Accept-Language":this.lang})),!((l=this.authStore)===null||l===void 0)&&l.token&&((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r.Authorization)===void 0&&(d.headers=Object.assign({},d.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((o=d.params)===null||o===void 0?void 0:o.$autoCancel)!==!1&&(h=((a=d.params)===null||a===void 0?void 0:a.$cancelKey)||(d.method||"GET")+e,this.cancelRequest(h),p=new AbortController,this.cancelControllers[h]=p,d.signal=p.signal),(f=d.params)===null||f===void 0||delete f.$autoCancel,(u=d.params)===null||u===void 0||delete u.$cancelKey,g=this.buildUrl(e),d.params!==void 0&&((b=this.serializeQueryParams(d.params))&&(g+=(g.includes("?")?"&":"?")+b),delete d.params),this.beforeSend?(k=(y=Object).assign,C=[{}],[4,this.beforeSend(g,d)]):[3,2];case 1:(_=k.apply(y,C.concat([T.sent()]))).url!==void 0||_.options!==void 0?(g=_.url||g,d=_.options||d):Object.keys(_).length&&(d=_,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),T.label=2;case 2:return[2,fetch(g,d).then(function(P){return Tn($,void 0,void 0,function(){var M;return Pn(this,function(Q){switch(Q.label){case 0:M={},Q.label=1;case 1:return Q.trys.push([1,3,,4]),[4,P.json()];case 2:return M=Q.sent(),[3,4];case 3:return Q.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(P,M)]:[3,6];case 5:M=Q.sent(),Q.label=6;case 6:if(P.status>=400)throw new Vs({url:P.url,status:P.status,data:M});return[2,M]}})})}).catch(function(P){throw new Vs(P)})]}})})},n.prototype.getFileUrl=function(e,t,i){return i===void 0&&(i={}),this.files.getUrl(e,t,i)},n.prototype.buildUrl=function(e){var t,i=this.baseUrl;return typeof window>"u"||!window.location||i.startsWith("https://")||i.startsWith("http://")||(i=!((t=window.location.origin)===null||t===void 0)&&t.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(i+=window.location.pathname||"/",i+=i.endsWith("/")?"":"/"),i+=this.baseUrl),e&&(i+=i.endsWith("/")?"":"/",i+=e.startsWith("/")?e.substring(1):e),i},n.prototype.isFormData=function(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)},n.prototype.serializeQueryParams=function(e){var t=[];for(var i in e)if(e[i]!==null){var s=e[i],l=encodeURIComponent(i);if(Array.isArray(s))for(var r=0,o=s;r<o.length;r++){var a=o[r];t.push(l+"="+encodeURIComponent(a))}else s instanceof Date?t.push(l+"="+encodeURIComponent(s.toISOString())):typeof s!==null&&typeof s=="object"?t.push(l+"="+encodeURIComponent(JSON.stringify(s))):t.push(l+"="+encodeURIComponent(s))}return t.join("&")},n}();class fr extends Error{}class _P extends fr{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class OP extends fr{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class yP extends fr{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Qo extends fr{}class Yw extends fr{constructor(e){super(`Invalid unit ${e}`)}}class Ni extends fr{}class tl extends fr{constructor(){super("Zone is an abstract class")}}const Le="numeric",is="short",Ti="long",Ud={year:Le,month:Le,day:Le},Hw={year:Le,month:is,day:Le},vP={year:Le,month:is,day:Le,weekday:is},Gw={year:Le,month:Ti,day:Le},Kw={year:Le,month:Ti,day:Le,weekday:Ti},Jw={hour:Le,minute:Le},e2={hour:Le,minute:Le,second:Le},t2={hour:Le,minute:Le,second:Le,timeZoneName:is},n2={hour:Le,minute:Le,second:Le,timeZoneName:Ti},i2={hour:Le,minute:Le,hourCycle:"h23"},s2={hour:Le,minute:Le,second:Le,hourCycle:"h23"},l2={hour:Le,minute:Le,second:Le,hourCycle:"h23",timeZoneName:is},r2={hour:Le,minute:Le,second:Le,hourCycle:"h23",timeZoneName:Ti},o2={year:Le,month:Le,day:Le,hour:Le,minute:Le},a2={year:Le,month:Le,day:Le,hour:Le,minute:Le,second:Le},f2={year:Le,month:is,day:Le,hour:Le,minute:Le},u2={year:Le,month:is,day:Le,hour:Le,minute:Le,second:Le},kP={year:Le,month:is,day:Le,weekday:is,hour:Le,minute:Le},c2={year:Le,month:Ti,day:Le,hour:Le,minute:Le,timeZoneName:is},d2={year:Le,month:Ti,day:Le,hour:Le,minute:Le,second:Le,timeZoneName:is},h2={year:Le,month:Ti,day:Le,weekday:Ti,hour:Le,minute:Le,timeZoneName:Ti},p2={year:Le,month:Ti,day:Le,weekday:Ti,hour:Le,minute:Le,second:Le,timeZoneName:Ti};function dt(n){return typeof n>"u"}function Yl(n){return typeof n=="number"}function Ku(n){return typeof n=="number"&&n%1===0}function wP(n){return typeof n=="string"}function SP(n){return Object.prototype.toString.call(n)==="[object Date]"}function m2(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function $P(n){return Array.isArray(n)?n:[n]}function Jm(n,e,t){if(n.length!==0)return n.reduce((i,s)=>{const l=[e(s),s];return i&&t(i[0],l[0])===i[0]?i:l},null)[1]}function CP(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}function Xr(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function js(n,e,t){return Ku(n)&&n>=e&&n<=t}function TP(n,e){return n-e*Math.floor(n/e)}function mn(n,e=2){const t=n<0;let i;return t?i="-"+(""+-n).padStart(e,"0"):i=(""+n).padStart(e,"0"),i}function il(n){if(!(dt(n)||n===null||n===""))return parseInt(n,10)}function Ql(n){if(!(dt(n)||n===null||n===""))return parseFloat(n)}function Op(n){if(!(dt(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function yp(n,e,t=!1){const i=10**e;return(t?Math.trunc:Math.round)(n*i)/i}function Ca(n){return n%4===0&&(n%100!==0||n%400===0)}function Fo(n){return Ca(n)?366:365}function nu(n,e){const t=TP(e-1,12)+1,i=n+(e-t)/12;return t===2?Ca(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function vp(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function iu(n){const e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,i=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||i===3?53:52}function Wd(n){return n>99?n:n>60?1900+n:2e3+n}function g2(n,e,t,i=null){const s=new Date(n),l={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(l.timeZone=i);const r={timeZoneName:e,...l},o=new Intl.DateTimeFormat(t,r).formatToParts(s).find(a=>a.type.toLowerCase()==="timezonename");return o?o.value:null}function Ju(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,s=t<0||Object.is(t,-0)?-i:i;return t*60+s}function b2(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Ni(`Invalid unit value ${n}`);return e}function su(n,e){const t={};for(const i in n)if(Xr(n,i)){const s=n[i];if(s==null)continue;t[e(i)]=b2(s)}return t}function Xo(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),s=n>=0?"+":"-";switch(e){case"short":return`${s}${mn(t,2)}:${mn(i,2)}`;case"narrow":return`${s}${t}${i>0?`:${i}`:""}`;case"techie":return`${s}${mn(t,2)}${mn(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function ec(n){return CP(n,["hour","minute","second","millisecond"])}const _2=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,PP=["January","February","March","April","May","June","July","August","September","October","November","December"],O2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],MP=["J","F","M","A","M","J","J","A","S","O","N","D"];function y2(n){switch(n){case"narrow":return[...MP];case"short":return[...O2];case"long":return[...PP];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const v2=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],k2=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],AP=["M","T","W","T","F","S","S"];function w2(n){switch(n){case"narrow":return[...AP];case"short":return[...k2];case"long":return[...v2];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const S2=["AM","PM"],QP=["Before Christ","Anno Domini"],DP=["BC","AD"],EP=["B","A"];function $2(n){switch(n){case"narrow":return[...EP];case"short":return[...DP];case"long":return[...QP];default:return null}}function IP(n){return S2[n.hour<12?0:1]}function RP(n,e){return w2(e)[n.weekday-1]}function LP(n,e){return y2(e)[n.month-1]}function NP(n,e){return $2(e)[n.year<0?0:1]}function xP(n,e,t="always",i=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},l=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&l){const d=n==="days";switch(e){case 1:return d?"tomorrow":`next ${s[n][0]}`;case-1:return d?"yesterday":`last ${s[n][0]}`;case 0:return d?"today":`this ${s[n][0]}`}}const r=Object.is(e,-0)||e<0,o=Math.abs(e),a=o===1,f=s[n],u=i?a?f[1]:f[2]||f[1]:a?s[n][0]:n;return r?`${o} ${u} ago`:`in ${o} ${u}`}function eg(n,e){let t="";for(const i of n)i.literal?t+=i.val:t+=e(i.val);return t}const ZP={D:Ud,DD:Hw,DDD:Gw,DDDD:Kw,t:Jw,tt:e2,ttt:t2,tttt:n2,T:i2,TT:s2,TTT:l2,TTTT:r2,f:o2,ff:f2,fff:c2,ffff:h2,F:a2,FF:u2,FFF:d2,FFFF:p2};class oi{static create(e,t={}){return new oi(e,t)}static parseFormat(e){let t=null,i="",s=!1;const l=[];for(let r=0;r<e.length;r++){const o=e.charAt(r);o==="'"?(i.length>0&&l.push({literal:s,val:i}),t=null,i="",s=!s):s||o===t?i+=o:(i.length>0&&l.push({literal:!1,val:i}),i=o,t=o)}return i.length>0&&l.push({literal:s,val:i}),l}static macroTokenToFormatOpts(e){return ZP[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).formatToParts()}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return mn(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",l=(p,g)=>this.loc.extract(e,p,g),r=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",o=()=>i?IP(e):l({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(p,g)=>i?LP(e,p):l(g?{month:p}:{month:p,day:"numeric"},"month"),f=(p,g)=>i?RP(e,p):l(g?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),u=p=>{const g=oi.macroTokenToFormatOpts(p);return g?this.formatWithSystemDefault(e,g):p},d=p=>i?NP(e,p):l({era:p},"era"),h=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return r({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return r({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return r({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?l({day:"numeric"},"day"):this.num(e.day);case"dd":return s?l({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return f("short",!0);case"cccc":return f("long",!0);case"ccccc":return f("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return f("short",!1);case"EEEE":return f("long",!1);case"EEEEE":return f("narrow",!1);case"L":return s?l({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?l({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return s?l({month:"numeric"},"month"):this.num(e.month);case"MM":return s?l({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return s?l({year:"numeric"},"year"):this.num(e.year);case"yy":return s?l({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?l({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?l({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(p)}};return eg(oi.parseFormat(t),h)}formatDurationFromString(e,t){const i=a=>{switch(a[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=a=>f=>{const u=i(f);return u?this.num(a.get(u),f.length):f},l=oi.parseFormat(t),r=l.reduce((a,{literal:f,val:u})=>f?a:a.concat(u),[]),o=e.shiftTo(...r.map(i).filter(a=>a));return eg(l,s(o))}}class ts{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Ta{get type(){throw new tl}get name(){throw new tl}get ianaName(){return this.name}get isUniversal(){throw new tl}offsetName(e,t){throw new tl}formatOffset(e,t){throw new tl}offset(e){throw new tl}equals(e){throw new tl}get isValid(){throw new tl}}let Qc=null;class kp extends Ta{static get instance(){return Qc===null&&(Qc=new kp),Qc}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return g2(e,t,i)}formatOffset(e,t){return Xo(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let xf={};function FP(n){return xf[n]||(xf[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),xf[n]}const XP={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function qP(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,s,l,r,o,a,f,u]=i;return[r,s,l,o,a,f,u]}function VP(n,e){const t=n.formatToParts(e),i=[];for(let s=0;s<t.length;s++){const{type:l,value:r}=t[s],o=XP[l];l==="era"?i[o]=r:dt(o)||(i[o]=parseInt(r,10))}return i}let Ya={};class zs extends Ta{static create(e){return Ya[e]||(Ya[e]=new zs(e)),Ya[e]}static resetCache(){Ya={},xf={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=zs.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return g2(e,t,i,this.name)}formatOffset(e,t){return Xo(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=FP(this.name);let[s,l,r,o,a,f,u]=i.formatToParts?VP(i,t):qP(i,t);o==="BC"&&(s=-Math.abs(s)+1);const h=vp({year:s,month:l,day:r,hour:a===24?0:a,minute:f,second:u,millisecond:0});let p=+t;const g=p%1e3;return p-=g>=0?g:1e3+g,(h-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Dc=null;class Jn extends Ta{static get utcInstance(){return Dc===null&&(Dc=new Jn(0)),Dc}static instance(e){return e===0?Jn.utcInstance:new Jn(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Jn(Ju(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Xo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Xo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Xo(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class jP extends Ta{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function rl(n,e){if(dt(n)||n===null)return e;if(n instanceof Ta)return n;if(wP(n)){const t=n.toLowerCase();return t==="local"||t==="system"?e:t==="utc"||t==="gmt"?Jn.utcInstance:Jn.parseSpecifier(t)||zs.create(n)}else return Yl(n)?Jn.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new jP(n)}let tg=()=>Date.now(),ng="system",ig=null,sg=null,lg=null,rg;class kn{static get now(){return tg}static set now(e){tg=e}static set defaultZone(e){ng=e}static get defaultZone(){return rl(ng,kp.instance)}static get defaultLocale(){return ig}static set defaultLocale(e){ig=e}static get defaultNumberingSystem(){return sg}static set defaultNumberingSystem(e){sg=e}static get defaultOutputCalendar(){return lg}static set defaultOutputCalendar(e){lg=e}static get throwOnInvalid(){return rg}static set throwOnInvalid(e){rg=e}static resetCaches(){Kt.resetCache(),zs.resetCache()}}let og={};function UP(n,e={}){const t=JSON.stringify([n,e]);let i=og[t];return i||(i=new Intl.ListFormat(n,e),og[t]=i),i}let zd={};function Bd(n,e={}){const t=JSON.stringify([n,e]);let i=zd[t];return i||(i=new Intl.DateTimeFormat(n,e),zd[t]=i),i}let Yd={};function WP(n,e={}){const t=JSON.stringify([n,e]);let i=Yd[t];return i||(i=new Intl.NumberFormat(n,e),Yd[t]=i),i}let Hd={};function zP(n,e={}){const{base:t,...i}=e,s=JSON.stringify([n,i]);let l=Hd[s];return l||(l=new Intl.RelativeTimeFormat(n,e),Hd[s]=l),l}let Do=null;function BP(){return Do||(Do=new Intl.DateTimeFormat().resolvedOptions().locale,Do)}function YP(n){const e=n.indexOf("-u-");if(e===-1)return[n];{let t;const i=n.substring(0,e);try{t=Bd(n).resolvedOptions()}catch{t=Bd(i).resolvedOptions()}const{numberingSystem:s,calendar:l}=t;return[i,s,l]}}function HP(n,e,t){return(t||e)&&(n+="-u",t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function GP(n){const e=[];for(let t=1;t<=12;t++){const i=Ge.utc(2016,t,1);e.push(n(i))}return e}function KP(n){const e=[];for(let t=1;t<=7;t++){const i=Ge.utc(2016,11,13+t);e.push(n(i))}return e}function Ha(n,e,t,i,s){const l=n.listingMode(t);return l==="error"?null:l==="en"?i(e):s(e)}function JP(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class eM{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:s,floor:l,...r}=i;if(!t||Object.keys(r).length>0){const o={useGrouping:!1,...i};i.padTo>0&&(o.minimumIntegerDigits=i.padTo),this.inf=WP(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):yp(e,3);return mn(t,this.padTo)}}}class tM{constructor(e,t,i){this.opts=i;let s;if(e.zone.isUniversal){const r=-1*(e.offset/60),o=r>=0?`Etc/GMT+${r}`:`Etc/GMT${r}`;e.offset!==0&&zs.create(o).valid?(s=o,this.dt=e):(s="UTC",i.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Ge.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,s=e.zone.name);const l={...this.opts};s&&(l.timeZone=s),this.dtf=Bd(t,l)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class nM{constructor(e,t,i){this.opts={style:"long",...i},!t&&m2()&&(this.rtf=zP(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):xP(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class Kt{static fromOpts(e){return Kt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,i,s=!1){const l=e||kn.defaultLocale,r=l||(s?"en-US":BP()),o=t||kn.defaultNumberingSystem,a=i||kn.defaultOutputCalendar;return new Kt(r,o,a,l)}static resetCache(){Do=null,zd={},Yd={},Hd={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:i}={}){return Kt.create(e,t,i)}constructor(e,t,i,s){const[l,r,o]=YP(e);this.locale=l,this.numberingSystem=t||r||null,this.outputCalendar=i||o||null,this.intl=HP(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=JP(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Kt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1,i=!0){return Ha(this,e,i,y2,()=>{const s=t?{month:e,day:"numeric"}:{month:e},l=t?"format":"standalone";return this.monthsCache[l][e]||(this.monthsCache[l][e]=GP(r=>this.extract(r,s,"month"))),this.monthsCache[l][e]})}weekdays(e,t=!1,i=!0){return Ha(this,e,i,w2,()=>{const s=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},l=t?"format":"standalone";return this.weekdaysCache[l][e]||(this.weekdaysCache[l][e]=KP(r=>this.extract(r,s,"weekday"))),this.weekdaysCache[l][e]})}meridiems(e=!0){return Ha(this,void 0,e,()=>S2,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ge.utc(2016,11,13,9),Ge.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(e,t=!0){return Ha(this,e,t,$2,()=>{const i={era:e};return this.eraCache[e]||(this.eraCache[e]=[Ge.utc(-40,1,1),Ge.utc(2017,1,1)].map(s=>this.extract(s,i,"era"))),this.eraCache[e]})}extract(e,t,i){const s=this.dtFormatter(e,t),l=s.formatToParts(),r=l.find(o=>o.type.toLowerCase()===i);return r?r.value:null}numberFormatter(e={}){return new eM(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new tM(e,this.intl,t)}relFormatter(e={}){return new nM(this.intl,this.isEnglish(),e)}listFormatter(e={}){return UP(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function io(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp(`^${e}$`)}function so(...n){return e=>n.reduce(([t,i,s],l)=>{const[r,o,a]=l(e,s);return[{...t,...r},o||i,a]},[{},null,1]).slice(0,2)}function lo(n,...e){if(n==null)return[null,null];for(const[t,i]of e){const s=t.exec(n);if(s)return i(s)}return[null,null]}function C2(...n){return(e,t)=>{const i={};let s;for(s=0;s<n.length;s++)i[n[s]]=il(e[t+s]);return[i,null,t+s]}}const T2=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,iM=`(?:${T2.source}?(?:\\[(${_2.source})\\])?)?`,wp=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,P2=RegExp(`${wp.source}${iM}`),Sp=RegExp(`(?:T${P2.source})?`),sM=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,lM=/(\d{4})-?W(\d\d)(?:-?(\d))?/,rM=/(\d{4})-?(\d{3})/,oM=C2("weekYear","weekNumber","weekDay"),aM=C2("year","ordinal"),fM=/(\d{4})-(\d\d)-(\d\d)/,M2=RegExp(`${wp.source} ?(?:${T2.source}|(${_2.source}))?`),uM=RegExp(`(?: ${M2.source})?`);function Mr(n,e,t){const i=n[e];return dt(i)?t:il(i)}function cM(n,e){return[{year:Mr(n,e),month:Mr(n,e+1,1),day:Mr(n,e+2,1)},null,e+3]}function ro(n,e){return[{hours:Mr(n,e,0),minutes:Mr(n,e+1,0),seconds:Mr(n,e+2,0),milliseconds:Op(n[e+3])},null,e+4]}function Pa(n,e){const t=!n[e]&&!n[e+1],i=Ju(n[e+1],n[e+2]),s=t?null:Jn.instance(i);return[{},s,e+3]}function Ma(n,e){const t=n[e]?zs.create(n[e]):null;return[{},t,e+1]}const dM=RegExp(`^T?${wp.source}$`),hM=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function pM(n){const[e,t,i,s,l,r,o,a,f]=n,u=e[0]==="-",d=a&&a[0]==="-",h=(p,g=!1)=>p!==void 0&&(g||p&&u)?-p:p;return[{years:h(Ql(t)),months:h(Ql(i)),weeks:h(Ql(s)),days:h(Ql(l)),hours:h(Ql(r)),minutes:h(Ql(o)),seconds:h(Ql(a),a==="-0"),milliseconds:h(Op(f),d)}]}const mM={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function $p(n,e,t,i,s,l,r){const o={year:e.length===2?Wd(il(e)):il(e),month:O2.indexOf(t)+1,day:il(i),hour:il(s),minute:il(l)};return r&&(o.second=il(r)),n&&(o.weekday=n.length>3?v2.indexOf(n)+1:k2.indexOf(n)+1),o}const gM=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function bM(n){const[,e,t,i,s,l,r,o,a,f,u,d]=n,h=$p(e,s,i,t,l,r,o);let p;return a?p=mM[a]:f?p=0:p=Ju(u,d),[h,new Jn(p)]}function _M(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const OM=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,yM=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,vM=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ag(n){const[,e,t,i,s,l,r,o]=n;return[$p(e,s,i,t,l,r,o),Jn.utcInstance]}function kM(n){const[,e,t,i,s,l,r,o]=n;return[$p(e,o,t,i,s,l,r),Jn.utcInstance]}const wM=io(sM,Sp),SM=io(lM,Sp),$M=io(rM,Sp),CM=io(P2),A2=so(cM,ro,Pa,Ma),TM=so(oM,ro,Pa,Ma),PM=so(aM,ro,Pa,Ma),MM=so(ro,Pa,Ma);function AM(n){return lo(n,[wM,A2],[SM,TM],[$M,PM],[CM,MM])}function QM(n){return lo(_M(n),[gM,bM])}function DM(n){return lo(n,[OM,ag],[yM,ag],[vM,kM])}function EM(n){return lo(n,[hM,pM])}const IM=so(ro);function RM(n){return lo(n,[dM,IM])}const LM=io(fM,uM),NM=io(M2),xM=so(ro,Pa,Ma);function ZM(n){return lo(n,[LM,A2],[NM,xM])}const FM="Invalid Duration",Q2={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},XM={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Q2},Qi=146097/400,gr=146097/4800,qM={years:{quarters:4,months:12,weeks:Qi/7,days:Qi,hours:Qi*24,minutes:Qi*24*60,seconds:Qi*24*60*60,milliseconds:Qi*24*60*60*1e3},quarters:{months:3,weeks:Qi/28,days:Qi/4,hours:Qi*24/4,minutes:Qi*24*60/4,seconds:Qi*24*60*60/4,milliseconds:Qi*24*60*60*1e3/4},months:{weeks:gr/7,days:gr,hours:gr*24,minutes:gr*24*60,seconds:gr*24*60*60,milliseconds:gr*24*60*60*1e3},...Q2},xl=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],VM=xl.slice(0).reverse();function Dl(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new bt(i)}function jM(n){return n<0?Math.floor(n):Math.ceil(n)}function D2(n,e,t,i,s){const l=n[s][t],r=e[t]/l,o=Math.sign(r)===Math.sign(i[s]),a=!o&&i[s]!==0&&Math.abs(r)<=1?jM(r):Math.trunc(r);i[s]+=a,e[t]-=a*l}function UM(n,e){VM.reduce((t,i)=>dt(e[i])?t:(t&&D2(n,e,t,e,i),i),null)}class bt{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||Kt.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?qM:XM,this.isLuxonDuration=!0}static fromMillis(e,t){return bt.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Ni(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new bt({values:su(e,bt.normalizeUnit),loc:Kt.fromObject(t),conversionAccuracy:t.conversionAccuracy})}static fromDurationLike(e){if(Yl(e))return bt.fromMillis(e);if(bt.isDuration(e))return e;if(typeof e=="object")return bt.fromObject(e);throw new Ni(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=EM(e);return i?bt.fromObject(i,t):bt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=RM(e);return i?bt.fromObject(i,t):bt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Ni("need to specify a reason the Duration is invalid");const i=e instanceof ts?e:new ts(e,t);if(kn.throwOnInvalid)throw new yP(i);return new bt({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Yw(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?oi.create(this.loc,i).formatDurationFromString(this,e):FM}toHuman(e={}){const t=xl.map(i=>{const s=this.values[i];return dt(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(s)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=yp(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const i=this.shiftTo("hours","minutes","seconds","milliseconds");let s=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||i.seconds!==0||i.milliseconds!==0)&&(s+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||i.milliseconds!==0)&&(s+=".SSS"));let l=i.toFormat(s);return e.includePrefix&&(l="T"+l),l}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=bt.fromDurationLike(e),i={};for(const s of xl)(Xr(t.values,s)||Xr(this.values,s))&&(i[s]=t.get(s)+this.get(s));return Dl(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=bt.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=b2(e(this.values[i],i));return Dl(this,{values:t},!0)}get(e){return this[bt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...su(e,bt.normalizeUnit)};return Dl(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i}={}){const s=this.loc.clone({locale:e,numberingSystem:t}),l={loc:s};return i&&(l.conversionAccuracy=i),Dl(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return UM(this.matrix,e),Dl(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(r=>bt.normalizeUnit(r));const t={},i={},s=this.toObject();let l;for(const r of xl)if(e.indexOf(r)>=0){l=r;let o=0;for(const f in i)o+=this.matrix[f][r]*i[f],i[f]=0;Yl(s[r])&&(o+=s[r]);const a=Math.trunc(o);t[r]=a,i[r]=(o*1e3-a*1e3)/1e3;for(const f in s)xl.indexOf(f)>xl.indexOf(r)&&D2(this.matrix,s,f,t,r)}else Yl(s[r])&&(i[r]=s[r]);for(const r in i)i[r]!==0&&(t[l]+=r===l?i[r]:i[r]/this.matrix[l][r]);return Dl(this,{values:t},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Dl(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,s){return i===void 0||i===0?s===void 0||s===0:i===s}for(const i of xl)if(!t(this.values[i],e.values[i]))return!1;return!0}}const po="Invalid Interval";function WM(n,e){return!n||!n.isValid?sn.invalid("missing or invalid start"):!e||!e.isValid?sn.invalid("missing or invalid end"):e<n?sn.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class sn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Ni("need to specify a reason the Interval is invalid");const i=e instanceof ts?e:new ts(e,t);if(kn.throwOnInvalid)throw new OP(i);return new sn({invalid:i})}static fromDateTimes(e,t){const i=bo(e),s=bo(t),l=WM(i,s);return l??new sn({start:i,end:s})}static after(e,t){const i=bt.fromDurationLike(t),s=bo(e);return sn.fromDateTimes(s,s.plus(i))}static before(e,t){const i=bt.fromDurationLike(t),s=bo(e);return sn.fromDateTimes(s.minus(i),s)}static fromISO(e,t){const[i,s]=(e||"").split("/",2);if(i&&s){let l,r;try{l=Ge.fromISO(i,t),r=l.isValid}catch{r=!1}let o,a;try{o=Ge.fromISO(s,t),a=o.isValid}catch{a=!1}if(r&&a)return sn.fromDateTimes(l,o);if(r){const f=bt.fromISO(s,t);if(f.isValid)return sn.after(l,f)}else if(a){const f=bt.fromISO(i,t);if(f.isValid)return sn.before(o,f)}}return sn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),i=this.end.startOf(e);return Math.floor(i.diff(t,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?sn.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(bo).filter(r=>this.contains(r)).sort(),i=[];let{s}=this,l=0;for(;s<this.e;){const r=t[l]||this.e,o=+r>+this.e?this.e:r;i.push(sn.fromDateTimes(s,o)),s=o,l+=1}return i}splitBy(e){const t=bt.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,s=1,l;const r=[];for(;i<this.e;){const o=this.start.plus(t.mapUnits(a=>a*s));l=+o>+this.e?this.e:o,r.push(sn.fromDateTimes(i,l)),i=l,s+=1}return r}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:sn.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return sn.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((s,l)=>s.s-l.s).reduce(([s,l],r)=>l?l.overlaps(r)||l.abutsStart(r)?[s,l.union(r)]:[s.concat([l]),r]:[s,r],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const s=[],l=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),r=Array.prototype.concat(...l),o=r.sort((a,f)=>a.time-f.time);for(const a of o)i+=a.type==="s"?1:-1,i===1?t=a.time:(t&&+t!=+a.time&&s.push(sn.fromDateTimes(t,a.time)),t=null);return sn.merge(s)}difference(...e){return sn.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:po}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:po}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:po}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:po}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:po}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):bt.invalid(this.invalidReason)}mapEndpoints(e){return sn.fromDateTimes(e(this.s),e(this.e))}}class Ga{static hasDST(e=kn.defaultZone){const t=Ge.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return zs.isValidZone(e)}static normalizeZone(e){return rl(e,kn.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:s=null,outputCalendar:l="gregory"}={}){return(s||Kt.create(t,i,l)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:s=null,outputCalendar:l="gregory"}={}){return(s||Kt.create(t,i,l)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:s=null}={}){return(s||Kt.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:s=null}={}){return(s||Kt.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Kt.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Kt.create(t,null,"gregory").eras(e)}static features(){return{relative:m2()}}}function fg(n,e){const t=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor(bt.fromMillis(i).as("days"))}function zM(n,e,t){const i=[["years",(o,a)=>a.year-o.year],["quarters",(o,a)=>a.quarter-o.quarter],["months",(o,a)=>a.month-o.month+(a.year-o.year)*12],["weeks",(o,a)=>{const f=fg(o,a);return(f-f%7)/7}],["days",fg]],s={};let l,r;for(const[o,a]of i)if(t.indexOf(o)>=0){l=o;let f=a(n,e);r=n.plus({[o]:f}),r>e?(n=n.plus({[o]:f-1}),f-=1):n=r,s[o]=f}return[n,s,r,l]}function BM(n,e,t,i){let[s,l,r,o]=zM(n,e,t);const a=e-s,f=t.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);f.length===0&&(r<e&&(r=s.plus({[o]:1})),r!==s&&(l[o]=(l[o]||0)+a/(r-s)));const u=bt.fromObject(l,i);return f.length>0?bt.fromMillis(a,i).shiftTo(...f).plus(u):u}const Cp={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},ug={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},YM=Cp.hanidec.replace(/[\[|\]]/g,"").split("");function HM(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(n[t].search(Cp.hanidec)!==-1)e+=YM.indexOf(n[t]);else for(const s in ug){const[l,r]=ug[s];i>=l&&i<=r&&(e+=i-l)}}return parseInt(e,10)}else return e}function Gi({numberingSystem:n},e=""){return new RegExp(`${Cp[n||"latn"]}${e}`)}const GM="missing Intl.DateTimeFormat.formatToParts support";function yt(n,e=t=>t){return{regex:n,deser:([t])=>e(HM(t))}}const KM=String.fromCharCode(160),E2=`[ ${KM}]`,I2=new RegExp(E2,"g");function JM(n){return n.replace(/\./g,"\\.?").replace(I2,E2)}function cg(n){return n.replace(/\./g,"").replace(I2," ").toLowerCase()}function Ki(n,e){return n===null?null:{regex:RegExp(n.map(JM).join("|")),deser:([t])=>n.findIndex(i=>cg(t)===cg(i))+e}}function dg(n,e){return{regex:n,deser:([,t,i])=>Ju(t,i),groups:e}}function Ec(n){return{regex:n,deser:([e])=>e}}function e5(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function t5(n,e){const t=Gi(e),i=Gi(e,"{2}"),s=Gi(e,"{3}"),l=Gi(e,"{4}"),r=Gi(e,"{6}"),o=Gi(e,"{1,2}"),a=Gi(e,"{1,3}"),f=Gi(e,"{1,6}"),u=Gi(e,"{1,9}"),d=Gi(e,"{2,4}"),h=Gi(e,"{4,6}"),p=_=>({regex:RegExp(e5(_.val)),deser:([y])=>y,literal:!0}),b=(_=>{if(n.literal)return p(_);switch(_.val){case"G":return Ki(e.eras("short",!1),0);case"GG":return Ki(e.eras("long",!1),0);case"y":return yt(f);case"yy":return yt(d,Wd);case"yyyy":return yt(l);case"yyyyy":return yt(h);case"yyyyyy":return yt(r);case"M":return yt(o);case"MM":return yt(i);case"MMM":return Ki(e.months("short",!0,!1),1);case"MMMM":return Ki(e.months("long",!0,!1),1);case"L":return yt(o);case"LL":return yt(i);case"LLL":return Ki(e.months("short",!1,!1),1);case"LLLL":return Ki(e.months("long",!1,!1),1);case"d":return yt(o);case"dd":return yt(i);case"o":return yt(a);case"ooo":return yt(s);case"HH":return yt(i);case"H":return yt(o);case"hh":return yt(i);case"h":return yt(o);case"mm":return yt(i);case"m":return yt(o);case"q":return yt(o);case"qq":return yt(i);case"s":return yt(o);case"ss":return yt(i);case"S":return yt(a);case"SSS":return yt(s);case"u":return Ec(u);case"uu":return Ec(o);case"uuu":return yt(t);case"a":return Ki(e.meridiems(),0);case"kkkk":return yt(l);case"kk":return yt(d,Wd);case"W":return yt(o);case"WW":return yt(i);case"E":case"c":return yt(t);case"EEE":return Ki(e.weekdays("short",!1,!1),1);case"EEEE":return Ki(e.weekdays("long",!1,!1),1);case"ccc":return Ki(e.weekdays("short",!0,!1),1);case"cccc":return Ki(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return dg(new RegExp(`([+-]${o.source})(?::(${i.source}))?`),2);case"ZZZ":return dg(new RegExp(`([+-]${o.source})(${i.source})?`),2);case"z":return Ec(/[a-z_+-/]{1,256}?/i);default:return p(_)}})(n)||{invalidReason:GM};return b.token=n,b}const n5={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function i5(n,e,t){const{type:i,value:s}=n;if(i==="literal")return{literal:!0,val:s};const l=t[i];let r=n5[i];if(typeof r=="object"&&(r=r[l]),r)return{literal:!1,val:r}}function s5(n){return[`^${n.map(t=>t.regex).reduce((t,i)=>`${t}(${i.source})`,"")}$`,n]}function l5(n,e,t){const i=n.match(e);if(i){const s={};let l=1;for(const r in t)if(Xr(t,r)){const o=t[r],a=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(i.slice(l,l+a))),l+=a}return[i,s]}else return[i,{}]}function r5(n){const e=l=>{switch(l){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return dt(n.z)||(t=zs.create(n.z)),dt(n.Z)||(t||(t=new Jn(n.Z)),i=n.Z),dt(n.q)||(n.M=(n.q-1)*3+1),dt(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),dt(n.u)||(n.S=Op(n.u)),[Object.keys(n).reduce((l,r)=>{const o=e(r);return o&&(l[o]=n[r]),l},{}),t,i]}let Ic=null;function o5(){return Ic||(Ic=Ge.fromMillis(1555555555555)),Ic}function a5(n,e){if(n.literal)return n;const t=oi.macroTokenToFormatOpts(n.val);if(!t)return n;const l=oi.create(e,t).formatDateTimeParts(o5()).map(r=>i5(r,e,t));return l.includes(void 0)?n:l}function f5(n,e){return Array.prototype.concat(...n.map(t=>a5(t,e)))}function R2(n,e,t){const i=f5(oi.parseFormat(t),n),s=i.map(r=>t5(r,n)),l=s.find(r=>r.invalidReason);if(l)return{input:e,tokens:i,invalidReason:l.invalidReason};{const[r,o]=s5(s),a=RegExp(r,"i"),[f,u]=l5(e,a,o),[d,h,p]=u?r5(u):[null,null,void 0];if(Xr(u,"a")&&Xr(u,"H"))throw new Qo("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:a,rawMatches:f,matches:u,result:d,zone:h,specificOffset:p}}}function u5(n,e,t){const{result:i,zone:s,specificOffset:l,invalidReason:r}=R2(n,e,t);return[i,s,l,r]}const L2=[0,31,59,90,120,151,181,212,243,273,304,334],N2=[0,31,60,91,121,152,182,213,244,274,305,335];function Fi(n,e){return new ts("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function x2(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const s=i.getUTCDay();return s===0?7:s}function Z2(n,e,t){return t+(Ca(n)?N2:L2)[e-1]}function F2(n,e){const t=Ca(n)?N2:L2,i=t.findIndex(l=>l<e),s=e-t[i];return{month:i+1,day:s}}function Gd(n){const{year:e,month:t,day:i}=n,s=Z2(e,t,i),l=x2(e,t,i);let r=Math.floor((s-l+10)/7),o;return r<1?(o=e-1,r=iu(o)):r>iu(e)?(o=e+1,r=1):o=e,{weekYear:o,weekNumber:r,weekday:l,...ec(n)}}function hg(n){const{weekYear:e,weekNumber:t,weekday:i}=n,s=x2(e,1,4),l=Fo(e);let r=t*7+i-s-3,o;r<1?(o=e-1,r+=Fo(o)):r>l?(o=e+1,r-=Fo(e)):o=e;const{month:a,day:f}=F2(o,r);return{year:o,month:a,day:f,...ec(n)}}function Rc(n){const{year:e,month:t,day:i}=n,s=Z2(e,t,i);return{year:e,ordinal:s,...ec(n)}}function pg(n){const{year:e,ordinal:t}=n,{month:i,day:s}=F2(e,t);return{year:e,month:i,day:s,...ec(n)}}function c5(n){const e=Ku(n.weekYear),t=js(n.weekNumber,1,iu(n.weekYear)),i=js(n.weekday,1,7);return e?t?i?!1:Fi("weekday",n.weekday):Fi("week",n.week):Fi("weekYear",n.weekYear)}function d5(n){const e=Ku(n.year),t=js(n.ordinal,1,Fo(n.year));return e?t?!1:Fi("ordinal",n.ordinal):Fi("year",n.year)}function X2(n){const e=Ku(n.year),t=js(n.month,1,12),i=js(n.day,1,nu(n.year,n.month));return e?t?i?!1:Fi("day",n.day):Fi("month",n.month):Fi("year",n.year)}function q2(n){const{hour:e,minute:t,second:i,millisecond:s}=n,l=js(e,0,23)||e===24&&t===0&&i===0&&s===0,r=js(t,0,59),o=js(i,0,59),a=js(s,0,999);return l?r?o?a?!1:Fi("millisecond",s):Fi("second",i):Fi("minute",t):Fi("hour",e)}const Lc="Invalid DateTime",mg=864e13;function Ka(n){return new ts("unsupported zone",`the zone "${n.name}" is not supported`)}function Nc(n){return n.weekData===null&&(n.weekData=Gd(n.c)),n.weekData}function mo(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Ge({...t,...e,old:t})}function V2(n,e,t){let i=n-e*60*1e3;const s=t.offset(i);if(e===s)return[i,e];i-=(s-e)*60*1e3;const l=t.offset(i);return s===l?[i,s]:[n-Math.min(s,l)*60*1e3,Math.max(s,l)]}function gg(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Zf(n,e,t){return V2(vp(n),e,t)}function bg(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),s=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,l={...n.c,year:i,month:s,day:Math.min(n.c.day,nu(i,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},r=bt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=vp(l);let[a,f]=V2(o,t,n.zone);return r!==0&&(a+=r,f=n.zone.offset(a)),{ts:a,o:f}}function go(n,e,t,i,s,l){const{setZone:r,zone:o}=t;if(n&&Object.keys(n).length!==0){const a=e||o,f=Ge.fromObject(n,{...t,zone:a,specificOffset:l});return r?f:f.setZone(o)}else return Ge.invalid(new ts("unparsable",`the input "${s}" can't be parsed as ${i}`))}function Ja(n,e,t=!0){return n.isValid?oi.create(Kt.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function xc(n,e){const t=n.c.year>9999||n.c.year<0;let i="";return t&&n.c.year>=0&&(i+="+"),i+=mn(n.c.year,t?6:4),e?(i+="-",i+=mn(n.c.month),i+="-",i+=mn(n.c.day)):(i+=mn(n.c.month),i+=mn(n.c.day)),i}function _g(n,e,t,i,s,l){let r=mn(n.c.hour);return e?(r+=":",r+=mn(n.c.minute),(n.c.second!==0||!t)&&(r+=":")):r+=mn(n.c.minute),(n.c.second!==0||!t)&&(r+=mn(n.c.second),(n.c.millisecond!==0||!i)&&(r+=".",r+=mn(n.c.millisecond,3))),s&&(n.isOffsetFixed&&n.offset===0&&!l?r+="Z":n.o<0?(r+="-",r+=mn(Math.trunc(-n.o/60)),r+=":",r+=mn(Math.trunc(-n.o%60))):(r+="+",r+=mn(Math.trunc(n.o/60)),r+=":",r+=mn(Math.trunc(n.o%60)))),l&&(r+="["+n.zone.ianaName+"]"),r}const j2={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},h5={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},p5={ordinal:1,hour:0,minute:0,second:0,millisecond:0},U2=["year","month","day","hour","minute","second","millisecond"],m5=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],g5=["year","ordinal","hour","minute","second","millisecond"];function Og(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new Yw(n);return e}function yg(n,e){const t=rl(e.zone,kn.defaultZone),i=Kt.fromObject(e),s=kn.now();let l,r;if(dt(n.year))l=s;else{for(const f of U2)dt(n[f])&&(n[f]=j2[f]);const o=X2(n)||q2(n);if(o)return Ge.invalid(o);const a=t.offset(s);[l,r]=Zf(n,a,t)}return new Ge({ts:l,zone:t,loc:i,o:r})}function vg(n,e,t){const i=dt(t.round)?!0:t.round,s=(r,o)=>(r=yp(r,i||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(r,o)),l=r=>t.calendary?e.hasSame(n,r)?0:e.startOf(r).diff(n.startOf(r),r).get(r):e.diff(n,r).get(r);if(t.unit)return s(l(t.unit),t.unit);for(const r of t.units){const o=l(r);if(Math.abs(o)>=1)return s(o,r)}return s(n>e?-0:0,t.units[t.units.length-1])}function kg(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class Ge{constructor(e){const t=e.zone||kn.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new ts("invalid input"):null)||(t.isValid?null:Ka(t));this.ts=dt(e.ts)?kn.now():e.ts;let s=null,l=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[s,l]=[e.old.c,e.old.o];else{const o=t.offset(this.ts);s=gg(this.ts,o),i=Number.isNaN(s.year)?new ts("invalid input"):null,s=i?null:s,l=i?null:o}this._zone=t,this.loc=e.loc||Kt.create(),this.invalid=i,this.weekData=null,this.c=s,this.o=l,this.isLuxonDateTime=!0}static now(){return new Ge({})}static local(){const[e,t]=kg(arguments),[i,s,l,r,o,a,f]=t;return yg({year:i,month:s,day:l,hour:r,minute:o,second:a,millisecond:f},e)}static utc(){const[e,t]=kg(arguments),[i,s,l,r,o,a,f]=t;return e.zone=Jn.utcInstance,yg({year:i,month:s,day:l,hour:r,minute:o,second:a,millisecond:f},e)}static fromJSDate(e,t={}){const i=SP(e)?e.valueOf():NaN;if(Number.isNaN(i))return Ge.invalid("invalid input");const s=rl(t.zone,kn.defaultZone);return s.isValid?new Ge({ts:i,zone:s,loc:Kt.fromObject(t)}):Ge.invalid(Ka(s))}static fromMillis(e,t={}){if(Yl(e))return e<-mg||e>mg?Ge.invalid("Timestamp out of range"):new Ge({ts:e,zone:rl(t.zone,kn.defaultZone),loc:Kt.fromObject(t)});throw new Ni(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Yl(e))return new Ge({ts:e*1e3,zone:rl(t.zone,kn.defaultZone),loc:Kt.fromObject(t)});throw new Ni("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=rl(t.zone,kn.defaultZone);if(!i.isValid)return Ge.invalid(Ka(i));const s=kn.now(),l=dt(t.specificOffset)?i.offset(s):t.specificOffset,r=su(e,Og),o=!dt(r.ordinal),a=!dt(r.year),f=!dt(r.month)||!dt(r.day),u=a||f,d=r.weekYear||r.weekNumber,h=Kt.fromObject(t);if((u||o)&&d)throw new Qo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&o)throw new Qo("Can't mix ordinal dates with month/day");const p=d||r.weekday&&!u;let g,b,_=gg(s,l);p?(g=m5,b=h5,_=Gd(_)):o?(g=g5,b=p5,_=Rc(_)):(g=U2,b=j2);let y=!1;for(const Q of g){const E=r[Q];dt(E)?y?r[Q]=b[Q]:r[Q]=_[Q]:y=!0}const k=p?c5(r):o?d5(r):X2(r),C=k||q2(r);if(C)return Ge.invalid(C);const $=p?hg(r):o?pg(r):r,[T,P]=Zf($,l,i),M=new Ge({ts:T,zone:i,o:P,loc:h});return r.weekday&&u&&e.weekday!==M.weekday?Ge.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${M.toISO()}`):M}static fromISO(e,t={}){const[i,s]=AM(e);return go(i,s,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,s]=QM(e);return go(i,s,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,s]=DM(e);return go(i,s,t,"HTTP",t)}static fromFormat(e,t,i={}){if(dt(e)||dt(t))throw new Ni("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:l=null}=i,r=Kt.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0}),[o,a,f,u]=u5(r,e,t);return u?Ge.invalid(u):go(o,a,i,`format ${t}`,e,f)}static fromString(e,t,i={}){return Ge.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,s]=ZM(e);return go(i,s,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Ni("need to specify a reason the DateTime is invalid");const i=e instanceof ts?e:new ts(e,t);if(kn.throwOnInvalid)throw new _P(i);return new Ge({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Nc(this).weekYear:NaN}get weekNumber(){return this.isValid?Nc(this).weekNumber:NaN}get weekday(){return this.isValid?Nc(this).weekday:NaN}get ordinal(){return this.isValid?Rc(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ga.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ga.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ga.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ga.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Ca(this.year)}get daysInMonth(){return nu(this.year,this.month)}get daysInYear(){return this.isValid?Fo(this.year):NaN}get weeksInWeekYear(){return this.isValid?iu(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:s}=oi.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:s}}toUTC(e=0,t={}){return this.setZone(Jn.instance(e),t)}toLocal(){return this.setZone(kn.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=rl(e,kn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(t||i){const l=e.offset(this.ts),r=this.toObject();[s]=Zf(r,l,e)}return mo(this,{ts:s,zone:e})}else return Ge.invalid(Ka(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const s=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return mo(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=su(e,Og),i=!dt(t.weekYear)||!dt(t.weekNumber)||!dt(t.weekday),s=!dt(t.ordinal),l=!dt(t.year),r=!dt(t.month)||!dt(t.day),o=l||r,a=t.weekYear||t.weekNumber;if((o||s)&&a)throw new Qo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(r&&s)throw new Qo("Can't mix ordinal dates with month/day");let f;i?f=hg({...Gd(this.c),...t}):dt(t.ordinal)?(f={...this.toObject(),...t},dt(t.day)&&(f.day=Math.min(nu(f.year,f.month),f.day))):f=pg({...Rc(this.c),...t});const[u,d]=Zf(f,this.o,this.zone);return mo(this,{ts:u,o:d})}plus(e){if(!this.isValid)return this;const t=bt.fromDurationLike(e);return mo(this,bg(this,t))}minus(e){if(!this.isValid)return this;const t=bt.fromDurationLike(e).negate();return mo(this,bg(this,t))}startOf(e){if(!this.isValid)return this;const t={},i=bt.normalizeUnit(e);switch(i){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(i==="weeks"&&(t.weekday=1),i==="quarters"){const s=Math.ceil(this.month/3);t.month=(s-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?oi.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Lc}toLocaleString(e=Ud,t={}){return this.isValid?oi.create(this.loc.clone(t),e).formatDateTime(this):Lc}toLocaleParts(e={}){return this.isValid?oi.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:s=!0,extendedZone:l=!1}={}){if(!this.isValid)return null;const r=e==="extended";let o=xc(this,r);return o+="T",o+=_g(this,r,t,i,s,l),o}toISODate({format:e="extended"}={}){return this.isValid?xc(this,e==="extended"):null}toISOWeekDate(){return Ja(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:s=!1,extendedZone:l=!1,format:r="extended"}={}){return this.isValid?(s?"T":"")+_g(this,r==="extended",t,e,i,l):null}toRFC2822(){return Ja(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ja(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?xc(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let s="HH:mm:ss.SSS";return(t||e)&&(i&&(s+=" "),t?s+="z":e&&(s+="ZZ")),Ja(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Lc}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return bt.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...i},l=$P(t).map(bt.normalizeUnit),r=e.valueOf()>this.valueOf(),o=r?this:e,a=r?e:this,f=BM(o,a,l,s);return r?f.negate():f}diffNow(e="milliseconds",t={}){return this.diff(Ge.now(),e,t)}until(e){return this.isValid?sn.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t)<=i&&i<=s.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||Ge.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],l=e.unit;return Array.isArray(e.unit)&&(s=e.unit,l=void 0),vg(t,this.plus(i),{...e,numeric:"always",units:s,unit:l})}toRelativeCalendar(e={}){return this.isValid?vg(e.base||Ge.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Ge.isDateTime))throw new Ni("min requires all arguments be DateTimes");return Jm(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(Ge.isDateTime))throw new Ni("max requires all arguments be DateTimes");return Jm(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:s=null,numberingSystem:l=null}=i,r=Kt.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0});return R2(r,e,t)}static fromStringExplain(e,t,i={}){return Ge.fromFormatExplain(e,t,i)}static get DATE_SHORT(){return Ud}static get DATE_MED(){return Hw}static get DATE_MED_WITH_WEEKDAY(){return vP}static get DATE_FULL(){return Gw}static get DATE_HUGE(){return Kw}static get TIME_SIMPLE(){return Jw}static get TIME_WITH_SECONDS(){return e2}static get TIME_WITH_SHORT_OFFSET(){return t2}static get TIME_WITH_LONG_OFFSET(){return n2}static get TIME_24_SIMPLE(){return i2}static get TIME_24_WITH_SECONDS(){return s2}static get TIME_24_WITH_SHORT_OFFSET(){return l2}static get TIME_24_WITH_LONG_OFFSET(){return r2}static get DATETIME_SHORT(){return o2}static get DATETIME_SHORT_WITH_SECONDS(){return a2}static get DATETIME_MED(){return f2}static get DATETIME_MED_WITH_SECONDS(){return u2}static get DATETIME_MED_WITH_WEEKDAY(){return kP}static get DATETIME_FULL(){return c2}static get DATETIME_FULL_WITH_SECONDS(){return d2}static get DATETIME_HUGE(){return h2}static get DATETIME_HUGE_WITH_SECONDS(){return p2}}function bo(n){if(Ge.isDateTime(n))return n;if(n&&n.valueOf&&Yl(n.valueOf()))return Ge.fromJSDate(n);if(n&&typeof n=="object")return Ge.fromObject(n);throw new Ni(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const b5=[".jpg",".jpeg",".png",".svg",".gif",".jfif",".webp",".avif"],_5=[".mp4",".avi",".mov",".3gp",".wmv"],O5=[".aa",".aac",".m4v",".mp3",".ogg",".oga",".mogg",".amr"],y5=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".odp",".odt",".ods",".txt"];class j{static isObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}static clone(e){return typeof structuredClone<"u"?structuredClone(e):JSON.parse(JSON.stringify(e))}static isEmpty(e){return e===""||e===null||e==="00000000-0000-0000-0000-000000000000"||e==="0001-01-01 00:00:00.000Z"||e==="0001-01-01"||typeof e>"u"||Array.isArray(e)&&e.length===0||j.isObject(e)&&Object.keys(e).length===0}static isInput(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="select"||t==="textarea"||e.isContentEditable}static isFocusable(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return j.isInput(e)||t==="button"||t==="a"||t==="details"||e.tabIndex>=0}static hasNonEmptyProps(e){for(let t in e)if(!j.isEmpty(e[t]))return!0;return!1}static toArray(e,t=!1){return Array.isArray(e)?e.slice():(t||!j.isEmpty(e))&&typeof e<"u"?[e]:[]}static inArray(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t)return!0;return!1}static removeByValue(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t){e.splice(i,1);break}}static pushUnique(e,t){j.inArray(e,t)||e.push(t)}static findByKey(e,t,i){e=Array.isArray(e)?e:[];for(let s in e)if(e[s][t]==i)return e[s];return null}static groupByKey(e,t){e=Array.isArray(e)?e:[];const i={};for(let s in e)i[e[s][t]]=i[e[s][t]]||[],i[e[s][t]].push(e[s]);return i}static removeByKey(e,t,i){for(let s in e)if(e[s][t]==i){e.splice(s,1);break}}static pushOrReplaceByKey(e,t,i="id"){for(let s=e.length-1;s>=0;s--)if(e[s][i]==t[i]){e[s]=t;return}e.push(t)}static filterDuplicatesByKey(e,t="id"){e=Array.isArray(e)?e:[];const i={};for(const s of e)i[s[t]]=s;return Object.values(i)}static filterRedactedProps(e,t="******"){const i=JSON.parse(JSON.stringify(e||{}));for(let s in i)typeof i[s]=="object"&&i[s]!==null?i[s]=j.filterRedactedProps(i[s],t):i[s]===t&&delete i[s];return i}static getNestedVal(e,t,i=null,s="."){let l=e||{},r=(t||"").split(s);for(const o of r){if(!j.isObject(l)&&!Array.isArray(l)||typeof l[o]>"u")return i;l=l[o]}return l}static setByPath(e,t,i,s="."){if(e===null||typeof e!="object"){console.warn("setByPath: data not an object or array.");return}let l=e,r=t.split(s),o=r.pop();for(const a of r)(!j.isObject(l)&&!Array.isArray(l)||!j.isObject(l[a])&&!Array.isArray(l[a]))&&(l[a]={}),l=l[a];l[o]=i}static deleteByPath(e,t,i="."){let s=e||{},l=(t||"").split(i),r=l.pop();for(const o of l)(!j.isObject(s)&&!Array.isArray(s)||!j.isObject(s[o])&&!Array.isArray(s[o]))&&(s[o]={}),s=s[o];Array.isArray(s)?s.splice(r,1):j.isObject(s)&&delete s[r],l.length>0&&(Array.isArray(s)&&!s.length||j.isObject(s)&&!Object.keys(s).length)&&(Array.isArray(e)&&e.length>0||j.isObject(e)&&Object.keys(e).length>0)&&j.deleteByPath(e,l.join(i),i)}static randomString(e){e=e||10;let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let s=0;s<e;s++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}static sentenize(e,t=!0){if(typeof e!="string")return"";if(e=e.trim().split("_").join(" "),e==="")return e;if(e=e[0].toUpperCase()+e.substring(1),t){let i=e[e.length-1];i!=="."&&i!=="?"&&i!=="!"&&(e+=".")}return e}static trimQuotedValue(e){return typeof e=="string"&&(e[0]=='"'||e[0]=="'"||e[0]=="`")&&e[0]==e[e.length-1]?e.slice(1,-1):e}static plainText(e){return e?(new DOMParser().parseFromString(e,"text/html").body.innerText||"").trim():""}static truncate(e,t=150,i=!0){return e=e||"",e.length<=t?e:e.substring(0,t)+(i?"...":"")}static truncateObject(e){const t={};for(let i in e){let s=e[i];typeof s=="string"&&(s=j.truncate(s,150,!0)),t[i]=s}return t}static slugify(e,t="_",i=[".","=","-"]){if(e==="")return"";const s={a:/||||/gi,b://gi,c:/|/gi,d://gi,e:/|||||/gi,f://gi,g://gi,h://gi,i:/||||/gi,j://gi,k://gi,l://gi,m://gi,n:/|/gi,o:/||||/gi,p://gi,q://gi,r://gi,s://gi,t://gi,u:/||||/gi,v://gi,w://gi,x://gi,y://gi,z://gi,ae:/|/gi,oe://gi,ue://gi,Ae://gi,Ue://gi,Oe://gi,ss://gi,and:/&/gi};for(let l in s)e=e.replace(s[l],l);return e.replace(new RegExp("["+i.join("")+"]","g")," ").replace(/[^\w\ ]/gi,"").replace(/\s+/g,t)}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static splitNonEmpty(e,t=","){const i=(e||"").split(t),s=[];for(let l of i)l=l.trim(),j.isEmpty(l)||s.push(l);return s}static joinNonEmpty(e,t=", "){const i=[];for(let s of e)s=typeof s=="string"?s.trim():"",j.isEmpty(s)||i.push(s);return i.join(t)}static getInitials(e){if(e=(e||"").split("@")[0].trim(),e.length<=2)return e.toUpperCase();const t=e.split(/[\.\_\-\ ]/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e[0].toUpperCase()}static formattedFileSize(e){const t=e?Math.floor(Math.log(e)/Math.log(1024)):0;return(e/Math.pow(1024,t)).toFixed(2)*1+" "+["B","KB","MB","GB","TB"][t]}static getDateTime(e){if(typeof e=="string"){const t={19:"yyyy-MM-dd HH:mm:ss",23:"yyyy-MM-dd HH:mm:ss.SSS",20:"yyyy-MM-dd HH:mm:ss'Z'",24:"yyyy-MM-dd HH:mm:ss.SSS'Z'"},i=t[e.length]||t[19];return Ge.fromFormat(e,i,{zone:"UTC"})}return Ge.fromJSDate(e)}static formatToUTCDate(e,t="yyyy-MM-dd HH:mm:ss"){return j.getDateTime(e).toUTC().toFormat(t)}static formatToLocalDate(e,t="yyyy-MM-dd HH:mm:ss"){return j.getDateTime(e).toLocal().toFormat(t)}static async copyToClipboard(e){var t;if(e=""+e,!(!e.length||!((t=window==null?void 0:window.navigator)!=null&&t.clipboard)))return window.navigator.clipboard.writeText(e).catch(i=>{console.warn("Failed to copy.",i)})}static download(e,t){const i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("download",t),i.click(),i.remove()}static downloadJson(e,t){const i="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2));t=t.endsWith(".json")?t:t+".json",j.download(i,t)}static getJWTPayload(e){const t=(e||"").split(".")[1]||"";if(t==="")return{};try{const i=decodeURIComponent(atob(t));return JSON.parse(i)||{}}catch(i){console.warn("Failed to parse JWT payload data.",i)}return{}}static hasImageExtension(e){return!!b5.find(t=>e.toLowerCase().endsWith(t))}static hasVideoExtension(e){return!!_5.find(t=>e.toLowerCase().endsWith(t))}static hasAudioExtension(e){return!!O5.find(t=>e.toLowerCase().endsWith(t))}static hasDocumentExtension(e){return!!y5.find(t=>e.toLowerCase().endsWith(t))}static getFileType(e){return j.hasImageExtension(e)?"image":j.hasDocumentExtension(e)?"document":j.hasVideoExtension(e)?"video":j.hasAudioExtension(e)?"audio":"file"}static generateThumb(e,t=100,i=100){return new Promise(s=>{let l=new FileReader;l.onload=function(r){let o=new Image;o.onload=function(){let a=document.createElement("canvas"),f=a.getContext("2d"),u=o.width,d=o.height;return a.width=t,a.height=i,f.drawImage(o,u>d?(u-d)/2:0,0,u>d?d:u,u>d?d:u,0,0,t,i),s(a.toDataURL(e.type))},o.src=r.target.result},l.readAsDataURL(e)})}static addValueToFormData(e,t,i){if(!(typeof i>"u"))if(j.isEmpty(i))e.append(t,"");else if(Array.isArray(i))for(const s of i)j.addValueToFormData(e,t,s);else i instanceof File?e.append(t,i):i instanceof Date?e.append(t,i.toISOString()):j.isObject(i)?e.append(t,JSON.stringify(i)):e.append(t,""+i)}static dummyCollectionRecord(e){var r,o,a,f,u,d,h;const t=(e==null?void 0:e.schema)||[],i={id:"RECORD_ID",collectionId:e==null?void 0:e.id,collectionName:e==null?void 0:e.name};e!=null&&e.isAuth&&(i.username="username123",i.verified=!1,i.emailVisibility=!0,i.email="test@example.com"),(!(e!=null&&e.$isView)||j.extractColumnsFromQuery((r=e==null?void 0:e.options)==null?void 0:r.query).includes("created"))&&(i.created="2022-01-01 01:00:00.123Z"),(!(e!=null&&e.$isView)||j.extractColumnsFromQuery((o=e==null?void 0:e.options)==null?void 0:o.query).includes("updated"))&&(i.updated="2022-01-01 23:59:59.456Z");for(const p of t){let g=null;p.type==="number"?g=123:p.type==="date"?g="2022-01-01 10:00:00.123Z":p.type==="bool"?g=!0:p.type==="email"?g="test@example.com":p.type==="url"?g="https://example.com":p.type==="json"?g="JSON":p.type==="file"?(g="filename.jpg",((a=p.options)==null?void 0:a.maxSelect)!==1&&(g=[g])):p.type==="select"?(g=(u=(f=p.options)==null?void 0:f.values)==null?void 0:u[0],((d=p.options)==null?void 0:d.maxSelect)!==1&&(g=[g])):p.type==="relation"?(g="RELATION_RECORD_ID",((h=p.options)==null?void 0:h.maxSelect)!==1&&(g=[g])):g="test",i[p.name]=g}return i}static dummyCollectionSchemaData(e){var s,l,r,o;const t=(e==null?void 0:e.schema)||[],i={};for(const a of t){let f=null;if(a.type==="number")f=123;else if(a.type==="date")f="2022-01-01 10:00:00.123Z";else if(a.type==="bool")f=!0;else if(a.type==="email")f="test@example.com";else if(a.type==="url")f="https://example.com";else if(a.type==="json")f="JSON";else{if(a.type==="file")continue;a.type==="select"?(f=(l=(s=a.options)==null?void 0:s.values)==null?void 0:l[0],((r=a.options)==null?void 0:r.maxSelect)!==1&&(f=[f])):a.type==="relation"?(f="RELATION_RECORD_ID",((o=a.options)==null?void 0:o.maxSelect)!==1&&(f=[f])):f="test"}i[a.name]=f}return i}static getCollectionTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"auth":return"ri-group-line";case"view":return"ri-table-line";default:return"ri-folder-2-line"}}static getFieldTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"primary":return"ri-key-line";case"text":return"ri-text";case"number":return"ri-hashtag";case"date":return"ri-calendar-line";case"bool":return"ri-toggle-line";case"email":return"ri-mail-line";case"url":return"ri-link";case"editor":return"ri-edit-2-line";case"select":return"ri-list-check";case"json":return"ri-braces-line";case"file":return"ri-image-line";case"relation":return"ri-mind-map";case"user":return"ri-user-line";default:return"ri-star-s-line"}}static getFieldValueType(e){var t;switch(e==null?void 0:e.type){case"bool":return"Boolean";case"number":return"Number";case"file":return"File";case"select":case"relation":return((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)===1?"String":"Array<String>";default:return"String"}}static zeroDefaultStr(e){var t;return(e==null?void 0:e.type)==="number"?"0":(e==null?void 0:e.type)==="bool"?"false":(e==null?void 0:e.type)==="json"?'null, "", [], {}':["select","relation","file"].includes(e==null?void 0:e.type)&&((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)!=1?"[]":'""'}static getApiExampleUrl(e){return(window.location.href.substring(0,window.location.href.indexOf("/_"))||e||"/").replace("//localhost","//127.0.0.1")}static hasCollectionChanges(e,t,i=!1){if(e=e||{},t=t||{},e.id!=t.id)return!0;for(let f in e)if(f!=="schema"&&JSON.stringify(e[f])!==JSON.stringify(t[f]))return!0;const s=Array.isArray(e.schema)?e.schema:[],l=Array.isArray(t.schema)?t.schema:[],r=s.filter(f=>(f==null?void 0:f.id)&&!j.findByKey(l,"id",f.id)),o=l.filter(f=>(f==null?void 0:f.id)&&!j.findByKey(s,"id",f.id)),a=l.filter(f=>{const u=j.isObject(f)&&j.findByKey(s,"id",f.id);if(!u)return!1;for(let d in u)if(JSON.stringify(f[d])!=JSON.stringify(u[d]))return!0;return!1});return!!(o.length||a.length||i&&r.length)}static sortCollections(e=[]){const t=[],i=[],s=[];for(const l of e)l.type==="auth"?t.push(l):l.type==="base"?i.push(l):s.push(l);return[].concat(t,i,s)}static yieldToMain(){return new Promise(e=>{setTimeout(e,0)})}static defaultFlatpickrOptions(){return{dateFormat:"Y-m-d H:i:S",disableMobile:!0,allowInput:!0,enableTime:!0,time_24hr:!0,locale:{firstDayOfWeek:1}}}static defaultEditorOptions(){return{branding:!1,promotion:!1,menubar:!1,min_height:270,height:270,max_height:700,autoresize_bottom_margin:30,skin:"pocketbase",content_style:"body { font-size: 14px }",plugins:["autoresize","autolink","lists","link","image","searchreplace","fullscreen","media","table","code","codesample","directionality"],toolbar:"styles | alignleft aligncenter alignright | bold italic forecolor backcolor | bullist numlist | link image table codesample direction | code fullscreen",file_picker_types:"image",file_picker_callback:(e,t,i)=>{const s=document.createElement("input");s.setAttribute("type","file"),s.setAttribute("accept","image/*"),s.addEventListener("change",l=>{const r=l.target.files[0],o=new FileReader;o.addEventListener("load",()=>{if(!tinymce)return;const a="blobid"+new Date().getTime(),f=tinymce.activeEditor.editorUpload.blobCache,u=o.result.split(",")[1],d=f.create(a,r,u);f.add(d),e(d.blobUri(),{title:r.name})}),o.readAsDataURL(r)}),s.click()},setup:e=>{e.on("keydown",i=>{(i.ctrlKey||i.metaKey)&&i.code=="KeyS"&&e.formElement&&(i.preventDefault(),i.stopPropagation(),e.formElement.dispatchEvent(new KeyboardEvent("keydown",i)))});const t="tinymce_last_direction";e.on("init",()=>{var s;const i=(s=window==null?void 0:window.localStorage)==null?void 0:s.getItem(t);!e.isDirty()&&e.getContent()==""&&i=="rtl"&&e.execCommand("mceDirectionRTL")}),e.ui.registry.addMenuButton("direction",{icon:"visualchars",fetch:i=>{i([{type:"menuitem",text:"LTR content",icon:"ltr",onAction:()=>{var l;(l=window==null?void 0:window.localStorage)==null||l.setItem(t,"ltr"),tinymce.activeEditor.execCommand("mceDirectionLTR")}},{type:"menuitem",text:"RTL content",icon:"rtl",onAction:()=>{var l;(l=window==null?void 0:window.localStorage)==null||l.setItem(t,"rtl"),tinymce.activeEditor.execCommand("mceDirectionRTL")}}])}})}}}static displayValue(e,t,i="N/A"){e=e||{},t=t||[];let s=[];for(const r of t){let o=e[r];typeof o>"u"||(o=j.stringifyValue(o,i),s.push(o))}if(s.length>0)return s.join(", ");const l=["title","name","slug","email","username","label","heading","message","key","id"];for(const r of l){let o=j.stringifyValue(e[r],"");if(o)return o}return i}static stringifyValue(e,t="N/A"){if(j.isEmpty(e))return t;if(typeof e=="boolean")return e?"True":"False";if(typeof e=="string")return e=e.indexOf("<")>=0?j.plainText(e):e,j.truncate(e)||t;if(Array.isArray(e))return e.join(",");if(typeof e=="object")try{return j.truncate(JSON.stringify(e))||t}catch{return t}return""+e}static extractColumnsFromQuery(e){var r;const t="__GROUP__";e=(e||"").replace(/\([\s\S]+?\)/gm,t).replace(/[\t\r\n]|(?:\s\s)+/g," ");const i=e.match(/select\s+([\s\S]+)\s+from/),s=((r=i==null?void 0:i[1])==null?void 0:r.split(","))||[],l=[];for(let o of s){const a=o.trim().split(" ").pop();a!=""&&a!=t&&l.push(a.replace(/[\'\"\`\[\]\s]/g,""))}return l}static getAllCollectionIdentifiers(e,t=""){if(!e)return[];let i=[t+"id"];if(e.$isView)for(let l of j.extractColumnsFromQuery(e.options.query))j.pushUnique(i,t+l);else e.$isAuth?(i.push(t+"username"),i.push(t+"email"),i.push(t+"emailVisibility"),i.push(t+"verified"),i.push(t+"created"),i.push(t+"updated")):(i.push(t+"created"),i.push(t+"updated"));const s=e.schema||[];for(const l of s)j.pushUnique(i,t+l.name);return i}static parseIndex(e){var a,f,u,d,h;const t={unique:!1,optional:!1,schemaName:"",indexName:"",tableName:"",columns:[],where:""},s=/create\s+(unique\s+)?\s*index\s*(if\s+not\s+exists\s+)?(\S*)\s+on\s+(\S*)\s+\(([\s\S]*)\)(?:\s*where\s+([\s\S]*))?/gmi.exec((e||"").trim());if((s==null?void 0:s.length)!=7)return t;const l=/^[\"\'\`\[\{}]|[\"\'\`\]\}]$/gm;t.unique=((a=s[1])==null?void 0:a.trim().toLowerCase())==="unique",t.optional=!j.isEmpty((f=s[2])==null?void 0:f.trim());const r=(s[3]||"").split(".");r.length==2?(t.schemaName=r[0].replace(l,""),t.indexName=r[1].replace(l,"")):(t.schemaName="",t.indexName=r[0].replace(l,"")),t.tableName=(s[4]||"").replace(l,"");const o=(s[5]||"").replace(/,(?=[^\(]*\))/gmi,"{PB_TEMP}").split(",");for(let p of o){p=p.trim().replaceAll("{PB_TEMP}",",");const b=/^([\s\S]+?)(?:\s+collate\s+([\w]+))?(?:\s+(asc|desc))?$/gmi.exec(p);if((b==null?void 0:b.length)!=4)continue;const _=(d=(u=b[1])==null?void 0:u.trim())==null?void 0:d.replace(l,"");_&&t.columns.push({name:_,collate:b[2]||"",sort:((h=b[3])==null?void 0:h.toUpperCase())||""})}return t.where=s[6]||"",t}static buildIndex(e){let t="CREATE ";e.unique&&(t+="UNIQUE "),t+="INDEX ",e.optional&&(t+="IF NOT EXISTS "),e.schemaName&&(t+=`\`${e.schemaName}\`.`),t+=`\`${e.indexName||"idx_"+j.randomString(7)}\` `,t+=`ON \`${e.tableName}\` (`;const i=e.columns.filter(s=>!!(s!=null&&s.name));return i.length>1&&(t+=`
  `),t+=i.map(s=>{let l="";return s.name.includes("(")||s.name.includes(" ")?l+=s.name:l+="`"+s.name+"`",s.collate&&(l+=" COLLATE "+s.collate),s.sort&&(l+=" "+c.sort.toUpperCase()),l}).join(`,
  `),i.length>1&&(t+=`
`),t+=")",e.where&&(t+=` WHERE ${e.where}`),t}static replaceIndexTableName(e,t){const i=j.parseIndex(e);return i.tableName=t,j.buildIndex(i)}static replaceIndexColumn(e,t,i){if(t===i)return e;const s=j.parseIndex(e);let l=!1;for(let r of s.columns)r.name===t&&(r.name=i,l=!0);return l?j.buildIndex(s):e}static normalizeSearchFilter(e,t){if(e=(e||"").trim(),!e||!t.length)return e;const i=["=","!=","~","!~",">",">=","<","<="];for(const s of i)if(e.includes(s))return e;return e=isNaN(e)&&e!="true"&&e!="false"?`"${e.replace(/^[\"\'\`]|[\"\'\`]$/gm,"")}"`:e,t.map(s=>`${s}~${e}`).join("||")}}const tc=Mi([]);function lu(n,e=4e3){return nc(n,"info",e)}function Jt(n,e=3e3){return nc(n,"success",e)}function Cs(n,e=4500){return nc(n,"error",e)}function v5(n,e=4500){return nc(n,"warning",e)}function nc(n,e,t){t=t||4e3;const i={message:n,type:e,duration:t,timeout:setTimeout(()=>{W2(i)},t)};tc.update(s=>(Pp(s,i.message),j.pushOrReplaceByKey(s,i,"message"),s))}function W2(n){tc.update(e=>(Pp(e,n),e))}function Tp(){tc.update(n=>{for(let e of n)Pp(n,e);return[]})}function Pp(n,e){let t;typeof e=="string"?t=j.findByKey(n,"message",e):t=e,t&&(clearTimeout(t.timeout),j.removeByKey(n,"message",t.message))}const Gs=Mi({});function Mn(n){Gs.set(n||{})}function Ts(n){Gs.update(e=>(j.deleteByPath(e,n),e))}const Aa=Mi({});function Kd(n){Aa.set(n||{})}const As=Mi([]),Ps=Mi({}),ru=Mi(!1),z2=Mi({});function k5(n){As.update(e=>{const t=j.findByKey(e,"id",n);return t?Ps.set(t):e.length&&Ps.set(e[0]),e})}function w5(n){Ps.update(e=>j.isEmpty(e==null?void 0:e.id)||e.id===n.id?n:e),As.update(e=>(j.pushOrReplaceByKey(e,n,"id"),Mp(),j.sortCollections(e)))}function S5(n){As.update(e=>(j.removeByKey(e,"id",n.id),Ps.update(t=>t.id===n.id?e[0]:t),Mp(),e))}async function $5(n=null){ru.set(!0);try{let e=await de.collections.getFullList(200,{sort:"+name"});e=j.sortCollections(e),As.set(e);const t=n&&j.findByKey(e,"id",n);t?Ps.set(t):e.length&&Ps.set(e[0]),Mp()}catch(e){de.error(e)}ru.set(!1)}function Mp(){z2.update(n=>(As.update(e=>{var t;for(let i of e)n[i.id]=!!((t=i.schema)!=null&&t.find(s=>{var l;return s.type=="file"&&((l=s.options)==null?void 0:l.protected)}));return e}),n))}const Zc="pb_admin_file_token";no.prototype.logout=function(n=!0){this.authStore.clear(),n&&$l("/login")};no.prototype.error=function(n,e=!0,t=""){if(!n||!(n instanceof Error)||n.isAbort)return;const i=(n==null?void 0:n.status)<<0||400,s=(n==null?void 0:n.data)||{};if(e&&i!==404){let l=s.message||n.message||t;l&&Cs(l)}if(j.isEmpty(s.data)||Mn(s.data),i===401)return this.cancelAllRequests(),this.logout();if(i===403)return this.cancelAllRequests(),$l("/")};no.prototype.getAdminFileToken=async function(n=""){let e=!0;if(n){const i=E3(z2);e=typeof i[n]<"u"?i[n]:!0}if(!e)return"";let t=localStorage.getItem(Zc)||"";return(!t||Ww(t,10))&&(t&&localStorage.removeItem(Zc),this._adminFileTokenRequest||(this._adminFileTokenRequest=this.files.getToken()),t=await this._adminFileTokenRequest,localStorage.setItem(Zc,t),this._adminFileTokenRequest=null),t};no.prototype.migrate=function(n){return fetch(`../api/glam/migrate/${n}`,{method:"POST"})};no.prototype.migrateItems=async function(n,e,t){let i=await de.collection(e).getFullList({filter:`${n.map(s=>'id="'+s+'"').join(" || ")}`});return await fetch("../api/glam/migrateItems",{method:"POST",body:JSON.stringify({collectionName:e,destination:t,items:i}),headers:{"Content-Type":"application/json"}})};class C5 extends zw{save(e,t){super.save(e,t),t instanceof tr&&Kd(t)}clear(){super.clear(),Kd(null)}}const de=new no("../",new C5("pb_admin_auth"));de.authStore.model instanceof tr&&Kd(de.authStore.model);function T5(n){let e,t,i,s,l,r,o,a,f,u,d,h;const p=n[3].default,g=xt(p,n,n[2],null);return{c(){e=v("div"),t=v("main"),g&&g.c(),i=A(),s=v("footer"),l=v("a"),l.innerHTML=`<i class="ri-book-open-line txt-sm"></i> 
            <span class="txt">Docs</span>`,r=A(),o=v("span"),o.textContent="|",a=A(),f=v("a"),u=v("span"),u.textContent="PocketBase v0.16.5",m(t,"class","page-content"),m(l,"href","https://pocketbase.io/docs/"),m(l,"target","_blank"),m(l,"rel","noopener noreferrer"),m(o,"class","delimiter"),m(u,"class","txt"),m(f,"href","https://github.com/pocketbase/pocketbase/releases"),m(f,"target","_blank"),m(f,"rel","noopener noreferrer"),m(f,"title","Releases"),m(s,"class","page-footer"),m(e,"class",d="page-wrapper "+n[1]),J(e,"center-content",n[0])},m(b,_){S(b,e,_),O(e,t),g&&g.m(t,null),O(e,i),O(e,s),O(s,l),O(s,r),O(s,o),O(s,a),O(s,f),O(f,u),h=!0},p(b,[_]){g&&g.p&&(!h||_&4)&&Ft(g,p,b,b[2],h?Zt(p,b[2],_,null):Xt(b[2]),null),(!h||_&2&&d!==(d="page-wrapper "+b[1]))&&m(e,"class",d),(!h||_&3)&&J(e,"center-content",b[0])},i(b){h||(D(g,b),h=!0)},o(b){I(g,b),h=!1},d(b){b&&w(e),g&&g.d(b)}}}function P5(n,e,t){let{$$slots:i={},$$scope:s}=e,{center:l=!1}=e,{class:r=""}=e;return n.$$set=o=>{"center"in o&&t(0,l=o.center),"class"in o&&t(1,r=o.class),"$$scope"in o&&t(2,s=o.$$scope)},[l,r,s,i]}class hi extends ke{constructor(e){super(),ve(this,e,P5,T5,be,{center:0,class:1})}}function wg(n){let e,t,i;return{c(){e=v("div"),e.innerHTML=`<figure class="logo"><img src="./images/glam.png" alt="PocketBase logo" width="40" height="40"/> 
                    <span class="txt">Pocket<strong>Base</strong></span></figure>`,t=A(),i=v("div"),m(e,"class","block txt-center m-b-lg"),m(i,"class","clearfix")},m(s,l){S(s,e,l),S(s,t,l),S(s,i,l)},d(s){s&&w(e),s&&w(t),s&&w(i)}}}function M5(n){let e,t,i,s=!n[0]&&wg();const l=n[1].default,r=xt(l,n,n[2],null);return{c(){e=v("div"),s&&s.c(),t=A(),r&&r.c(),m(e,"class","wrapper wrapper-sm m-b-xl panel-wrapper svelte-lxxzfu")},m(o,a){S(o,e,a),s&&s.m(e,null),O(e,t),r&&r.m(e,null),i=!0},p(o,a){o[0]?s&&(s.d(1),s=null):s||(s=wg(),s.c(),s.m(e,t)),r&&r.p&&(!i||a&4)&&Ft(r,l,o,o[2],i?Zt(l,o[2],a,null):Xt(o[2]),null)},i(o){i||(D(r,o),i=!0)},o(o){I(r,o),i=!1},d(o){o&&w(e),s&&s.d(),r&&r.d(o)}}}function A5(n){let e,t;return e=new hi({props:{class:"full-page",center:!0,$$slots:{default:[M5]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&5&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function Q5(n,e,t){let{$$slots:i={},$$scope:s}=e,{nobranding:l=!1}=e;return n.$$set=r=>{"nobranding"in r&&t(0,l=r.nobranding),"$$scope"in r&&t(2,s=r.$$scope)},[l,i,s]}class B2 extends ke{constructor(e){super(),ve(this,e,Q5,A5,be,{nobranding:0})}}function ic(n){const e=n-1;return e*e*e+1}function Jd(n,{delay:e=0,duration:t=400,easing:i=ka}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:l=>`opacity: ${l*s}`}}function Ms(n,{delay:e=0,duration:t=400,easing:i=ic,x:s=0,y:l=0,opacity:r=0}={}){const o=getComputedStyle(n),a=+o.opacity,f=o.transform==="none"?"":o.transform,u=a*(1-r),[d,h]=Vm(s),[p,g]=Vm(l);return{delay:e,duration:t,easing:i,css:(b,_)=>`
			transform: ${f} translate(${(1-b)*d}${h}, ${(1-b)*p}${g});
			opacity: ${a-u*_}`}}function gt(n,{delay:e=0,duration:t=400,easing:i=ic,axis:s="y"}={}){const l=getComputedStyle(n),r=+l.opacity,o=s==="y"?"height":"width",a=parseFloat(l[o]),f=s==="y"?["top","bottom"]:["left","right"],u=f.map(y=>`${y[0].toUpperCase()}${y.slice(1)}`),d=parseFloat(l[`padding${u[0]}`]),h=parseFloat(l[`padding${u[1]}`]),p=parseFloat(l[`margin${u[0]}`]),g=parseFloat(l[`margin${u[1]}`]),b=parseFloat(l[`border${u[0]}Width`]),_=parseFloat(l[`border${u[1]}Width`]);return{delay:e,duration:t,easing:i,css:y=>`overflow: hidden;opacity: ${Math.min(y*20,1)*r};${o}: ${y*a}px;padding-${f[0]}: ${y*d}px;padding-${f[1]}: ${y*h}px;margin-${f[0]}: ${y*p}px;margin-${f[1]}: ${y*g}px;border-${f[0]}-width: ${y*b}px;border-${f[1]}-width: ${y*_}px;`}}function _n(n,{delay:e=0,duration:t=400,easing:i=ic,start:s=0,opacity:l=0}={}){const r=getComputedStyle(n),o=+r.opacity,a=r.transform==="none"?"":r.transform,f=1-s,u=o*(1-l);return{delay:e,duration:t,easing:i,css:(d,h)=>`
			transform: ${a} scale(${1-f*h});
			opacity: ${o-u*h}
		`}}let eh,El;const th="app-tooltip";function Sg(n){return typeof n=="string"?{text:n,position:"bottom",hideOnClick:null}:n||{}}function hl(){return El=El||document.querySelector("."+th),El||(El=document.createElement("div"),El.classList.add(th),document.body.appendChild(El)),El}function Y2(n,e){let t=hl();if(!t.classList.contains("active")||!(e!=null&&e.text)){nh();return}t.textContent=e.text,t.className=th+" active",e.class&&t.classList.add(e.class),e.position&&t.classList.add(e.position),t.style.top="0px",t.style.left="0px";let i=t.offsetHeight,s=t.offsetWidth,l=n.getBoundingClientRect(),r=0,o=0,a=5;e.position=="left"?(r=l.top+l.height/2-i/2,o=l.left-s-a):e.position=="right"?(r=l.top+l.height/2-i/2,o=l.right+a):e.position=="top"?(r=l.top-i-a,o=l.left+l.width/2-s/2):e.position=="top-left"?(r=l.top-i-a,o=l.left):e.position=="top-right"?(r=l.top-i-a,o=l.right-s):e.position=="bottom-left"?(r=l.top+l.height+a,o=l.left):e.position=="bottom-right"?(r=l.top+l.height+a,o=l.right-s):(r=l.top+l.height+a,o=l.left+l.width/2-s/2),o+s>document.documentElement.clientWidth&&(o=document.documentElement.clientWidth-s),o=o>=0?o:0,r+i>document.documentElement.clientHeight&&(r=document.documentElement.clientHeight-i),r=r>=0?r:0,t.style.top=r+"px",t.style.left=o+"px"}function nh(){clearTimeout(eh),hl().classList.remove("active"),hl().activeNode=void 0}function D5(n,e){hl().activeNode=n,clearTimeout(eh),eh=setTimeout(()=>{hl().classList.add("active"),Y2(n,e)},isNaN(e.delay)?0:e.delay)}function Ye(n,e){let t=Sg(e);function i(){D5(n,t)}function s(){nh()}return n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",s),n.addEventListener("blur",s),(t.hideOnClick===!0||t.hideOnClick===null&&j.isFocusable(n))&&n.addEventListener("click",s),hl(),{update(l){var r,o;t=Sg(l),(o=(r=hl())==null?void 0:r.activeNode)!=null&&o.contains(n)&&Y2(n,t)},destroy(){var l,r;(r=(l=hl())==null?void 0:l.activeNode)!=null&&r.contains(n)&&nh(),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",s),n.removeEventListener("blur",s),n.removeEventListener("click",s)}}}function $g(n,e,t){const i=n.slice();return i[12]=e[t],i}const E5=n=>({}),Cg=n=>({uniqueId:n[4]});function I5(n){let e,t,i=n[3],s=[];for(let r=0;r<i.length;r+=1)s[r]=Tg($g(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Se()},m(r,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,o);S(r,e,o),t=!0},p(r,o){if(o&8){i=r[3];let a;for(a=0;a<i.length;a+=1){const f=$g(r,i,a);s[a]?(s[a].p(f,o),D(s[a],1)):(s[a]=Tg(f),s[a].c(),D(s[a],1),s[a].m(e.parentNode,e))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)D(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){At(s,r),r&&w(e)}}}function R5(n){let e,t,i,s,l,r,o;return{c(){e=v("div"),t=v("i"),m(t,"class","ri-error-warning-fill txt-danger"),m(e,"class","form-field-addon")},m(a,f){S(a,e,f),O(e,t),l=!0,r||(o=Ae(i=Ye.call(null,t,{position:"left",text:n[3].map(ou).join(`
`)})),r=!0)},p(a,f){i&&fn(i.update)&&f&8&&i.update.call(null,{position:"left",text:a[3].map(ou).join(`
`)})},i(a){l||(a&&at(()=>{l&&(s||(s=Ue(t,_n,{duration:150,start:.7},!0)),s.run(1))}),l=!0)},o(a){a&&(s||(s=Ue(t,_n,{duration:150,start:.7},!1)),s.run(0)),l=!1},d(a){a&&w(e),a&&s&&s.end(),r=!1,o()}}}function Tg(n){let e,t,i=ou(n[12])+"",s,l,r,o;return{c(){e=v("div"),t=v("pre"),s=W(i),l=A(),m(e,"class","help-block help-block-error")},m(a,f){S(a,e,f),O(e,t),O(t,s),O(e,l),o=!0},p(a,f){(!o||f&8)&&i!==(i=ou(a[12])+"")&&re(s,i)},i(a){o||(a&&at(()=>{o&&(r||(r=Ue(e,gt,{duration:150},!0)),r.run(1))}),o=!0)},o(a){a&&(r||(r=Ue(e,gt,{duration:150},!1)),r.run(0)),o=!1},d(a){a&&w(e),a&&r&&r.end()}}}function L5(n){let e,t,i,s,l,r,o;const a=n[9].default,f=xt(a,n,n[8],Cg),u=[R5,I5],d=[];function h(p,g){return p[0]&&p[3].length?0:1}return i=h(n),s=d[i]=u[i](n),{c(){e=v("div"),f&&f.c(),t=A(),s.c(),m(e,"class",n[1]),J(e,"error",n[3].length)},m(p,g){S(p,e,g),f&&f.m(e,null),O(e,t),d[i].m(e,null),n[11](e),l=!0,r||(o=H(e,"click",n[10]),r=!0)},p(p,[g]){f&&f.p&&(!l||g&256)&&Ft(f,a,p,p[8],l?Zt(a,p[8],g,E5):Xt(p[8]),Cg);let b=i;i=h(p),i===b?d[i].p(p,g):(ue(),I(d[b],1,1,()=>{d[b]=null}),ce(),s=d[i],s?s.p(p,g):(s=d[i]=u[i](p),s.c()),D(s,1),s.m(e,null)),(!l||g&2)&&m(e,"class",p[1]),(!l||g&10)&&J(e,"error",p[3].length)},i(p){l||(D(f,p),D(s),l=!0)},o(p){I(f,p),I(s),l=!1},d(p){p&&w(e),f&&f.d(p),d[i].d(),n[11](null),r=!1,o()}}}const Pg="Invalid value";function ou(n){return typeof n=="object"?(n==null?void 0:n.message)||(n==null?void 0:n.code)||Pg:n||Pg}function N5(n,e,t){let i;et(n,Gs,b=>t(7,i=b));let{$$slots:s={},$$scope:l}=e;const r="field_"+j.randomString(7);let{name:o=""}=e,{inlineError:a=!1}=e,{class:f=void 0}=e,u,d=[];function h(){Ts(o)}vn(()=>(u.addEventListener("input",h),u.addEventListener("change",h),()=>{u.removeEventListener("input",h),u.removeEventListener("change",h)}));function p(b){Fe.call(this,n,b)}function g(b){ne[b?"unshift":"push"](()=>{u=b,t(2,u)})}return n.$$set=b=>{"name"in b&&t(5,o=b.name),"inlineError"in b&&t(0,a=b.inlineError),"class"in b&&t(1,f=b.class),"$$scope"in b&&t(8,l=b.$$scope)},n.$$.update=()=>{n.$$.dirty&160&&t(3,d=j.toArray(j.getNestedVal(i,o)))},[a,f,u,d,r,o,h,i,l,s,p,g]}class me extends ke{constructor(e){super(),ve(this,e,N5,L5,be,{name:5,inlineError:0,class:1,changed:6})}get changed(){return this.$$.ctx[6]}}function x5(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Email"),s=A(),l=v("input"),m(e,"for",i=n[9]),m(l,"type","email"),m(l,"autocomplete","off"),m(l,"id",r=n[9]),l.required=!0,l.autofocus=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0]),l.focus(),o||(a=H(l,"input",n[5]),o=!0)},p(f,u){u&512&&i!==(i=f[9])&&m(e,"for",i),u&512&&r!==(r=f[9])&&m(l,"id",r),u&1&&l.value!==f[0]&&fe(l,f[0])},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function Z5(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("label"),t=W("Password"),s=A(),l=v("input"),o=A(),a=v("div"),a.textContent="Minimum 10 characters.",m(e,"for",i=n[9]),m(l,"type","password"),m(l,"autocomplete","new-password"),m(l,"minlength","10"),m(l,"id",r=n[9]),l.required=!0,m(a,"class","help-block")},m(d,h){S(d,e,h),O(e,t),S(d,s,h),S(d,l,h),fe(l,n[1]),S(d,o,h),S(d,a,h),f||(u=H(l,"input",n[6]),f=!0)},p(d,h){h&512&&i!==(i=d[9])&&m(e,"for",i),h&512&&r!==(r=d[9])&&m(l,"id",r),h&2&&l.value!==d[1]&&fe(l,d[1])},d(d){d&&w(e),d&&w(s),d&&w(l),d&&w(o),d&&w(a),f=!1,u()}}}function F5(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Password confirm"),s=A(),l=v("input"),m(e,"for",i=n[9]),m(l,"type","password"),m(l,"minlength","10"),m(l,"id",r=n[9]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[2]),o||(a=H(l,"input",n[7]),o=!0)},p(f,u){u&512&&i!==(i=f[9])&&m(e,"for",i),u&512&&r!==(r=f[9])&&m(l,"id",r),u&4&&l.value!==f[2]&&fe(l,f[2])},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function X5(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;return s=new me({props:{class:"form-field required",name:"email",$$slots:{default:[x5,({uniqueId:g})=>({9:g}),({uniqueId:g})=>g?512:0]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field required",name:"password",$$slots:{default:[Z5,({uniqueId:g})=>({9:g}),({uniqueId:g})=>g?512:0]},$$scope:{ctx:n}}}),a=new me({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[F5,({uniqueId:g})=>({9:g}),({uniqueId:g})=>g?512:0]},$$scope:{ctx:n}}}),{c(){e=v("form"),t=v("div"),t.innerHTML="<h4>Create your first admin account in order to continue</h4>",i=A(),V(s.$$.fragment),l=A(),V(r.$$.fragment),o=A(),V(a.$$.fragment),f=A(),u=v("button"),u.innerHTML=`<span class="txt">Create and login</span> 
        <i class="ri-arrow-right-line"></i>`,m(t,"class","content txt-center m-b-base"),m(u,"type","submit"),m(u,"class","btn btn-lg btn-block btn-next"),J(u,"btn-disabled",n[3]),J(u,"btn-loading",n[3]),m(e,"class","block"),m(e,"autocomplete","off")},m(g,b){S(g,e,b),O(e,t),O(e,i),X(s,e,null),O(e,l),X(r,e,null),O(e,o),X(a,e,null),O(e,f),O(e,u),d=!0,h||(p=H(e,"submit",ut(n[4])),h=!0)},p(g,[b]){const _={};b&1537&&(_.$$scope={dirty:b,ctx:g}),s.$set(_);const y={};b&1538&&(y.$$scope={dirty:b,ctx:g}),r.$set(y);const k={};b&1540&&(k.$$scope={dirty:b,ctx:g}),a.$set(k),(!d||b&8)&&J(u,"btn-disabled",g[3]),(!d||b&8)&&J(u,"btn-loading",g[3])},i(g){d||(D(s.$$.fragment,g),D(r.$$.fragment,g),D(a.$$.fragment,g),d=!0)},o(g){I(s.$$.fragment,g),I(r.$$.fragment,g),I(a.$$.fragment,g),d=!1},d(g){g&&w(e),q(s),q(r),q(a),h=!1,p()}}}function q5(n,e,t){const i=Lt();let s="",l="",r="",o=!1;async function a(){if(!o){t(3,o=!0);try{await de.admins.create({email:s,password:l,passwordConfirm:r}),await de.admins.authWithPassword(s,l),i("submit")}catch(h){de.error(h)}t(3,o=!1)}}function f(){s=this.value,t(0,s)}function u(){l=this.value,t(1,l)}function d(){r=this.value,t(2,r)}return[s,l,r,o,a,f,u,d]}class V5 extends ke{constructor(e){super(),ve(this,e,q5,X5,be,{})}}function Mg(n){let e,t;return e=new B2({props:{$$slots:{default:[j5]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&9&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function j5(n){let e,t;return e=new V5({}),e.$on("submit",n[1]),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p:ee,i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function U5(n){let e,t,i=n[0]&&Mg(n);return{c(){i&&i.c(),e=Se()},m(s,l){i&&i.m(s,l),S(s,e,l),t=!0},p(s,[l]){s[0]?i?(i.p(s,l),l&1&&D(i,1)):(i=Mg(s),i.c(),D(i,1),i.m(e.parentNode,e)):i&&(ue(),I(i,1,1,()=>{i=null}),ce())},i(s){t||(D(i),t=!0)},o(s){I(i),t=!1},d(s){i&&i.d(s),s&&w(e)}}}function W5(n,e,t){let i=!1;s();function s(){if(t(0,i=!1),new URLSearchParams(window.location.search).has("installer")){de.logout(!1),t(0,i=!0);return}de.authStore.isValid?$l("/collections"):de.logout()}return[i,async()=>{t(0,i=!1),await Bn(),window.location.search=""}]}class z5 extends ke{constructor(e){super(),ve(this,e,W5,U5,be,{})}}const zt=Mi(""),au=Mi(""),qr=Mi(!1);function B5(n){let e,t,i,s;return{c(){e=v("input"),m(e,"type","text"),m(e,"id",n[8]),m(e,"placeholder",t=n[0]||n[1])},m(l,r){S(l,e,r),n[13](e),fe(e,n[7]),i||(s=H(e,"input",n[14]),i=!0)},p(l,r){r&3&&t!==(t=l[0]||l[1])&&m(e,"placeholder",t),r&128&&e.value!==l[7]&&fe(e,l[7])},i:ee,o:ee,d(l){l&&w(e),n[13](null),i=!1,s()}}}function Y5(n){let e,t,i,s;function l(a){n[12](a)}var r=n[4];function o(a){let f={id:a[8],singleLine:!0,disableRequestKeys:!0,disableIndirectCollectionsKeys:!0,extraAutocompleteKeys:a[3],baseCollection:a[2],placeholder:a[0]||a[1]};return a[7]!==void 0&&(f.value=a[7]),{props:f}}return r&&(e=on(r,o(n)),ne.push(()=>pe(e,"value",l)),e.$on("submit",n[10])),{c(){e&&V(e.$$.fragment),i=Se()},m(a,f){e&&X(e,a,f),S(a,i,f),s=!0},p(a,f){const u={};if(f&8&&(u.extraAutocompleteKeys=a[3]),f&4&&(u.baseCollection=a[2]),f&3&&(u.placeholder=a[0]||a[1]),!t&&f&128&&(t=!0,u.value=a[7],ye(()=>t=!1)),f&16&&r!==(r=a[4])){if(e){ue();const d=e;I(d.$$.fragment,1,0,()=>{q(d,1)}),ce()}r?(e=on(r,o(a)),ne.push(()=>pe(e,"value",l)),e.$on("submit",a[10]),V(e.$$.fragment),D(e.$$.fragment,1),X(e,i.parentNode,i)):e=null}else r&&e.$set(u)},i(a){s||(e&&D(e.$$.fragment,a),s=!0)},o(a){e&&I(e.$$.fragment,a),s=!1},d(a){a&&w(i),e&&q(e,a)}}}function Ag(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<span class="txt">Search</span>',m(e,"type","submit"),m(e,"class","btn btn-expanded btn-sm btn-warning")},m(s,l){S(s,e,l),i=!0},i(s){i||(s&&at(()=>{i&&(t||(t=Ue(e,Ms,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Ue(e,Ms,{duration:150,x:5},!1)),t.run(0)),i=!1},d(s){s&&w(e),s&&t&&t.end()}}}function Qg(n){let e,t,i,s,l;return{c(){e=v("button"),e.innerHTML='<span class="txt">Clear</span>',m(e,"type","button"),m(e,"class","btn btn-transparent btn-sm btn-hint p-l-xs p-r-xs m-l-10")},m(r,o){S(r,e,o),i=!0,s||(l=H(e,"click",n[15]),s=!0)},p:ee,i(r){i||(r&&at(()=>{i&&(t||(t=Ue(e,Ms,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=Ue(e,Ms,{duration:150,x:5},!1)),t.run(0)),i=!1},d(r){r&&w(e),r&&t&&t.end(),s=!1,l()}}}function H5(n){let e,t,i,s,l,r,o,a,f,u,d;const h=[Y5,B5],p=[];function g(y,k){return y[4]&&!y[5]?0:1}l=g(n),r=p[l]=h[l](n);let b=(n[0].length||n[7].length)&&n[7]!=n[0]&&Ag(),_=(n[0].length||n[7].length)&&Qg(n);return{c(){e=v("form"),t=v("label"),i=v("i"),s=A(),r.c(),o=A(),b&&b.c(),a=A(),_&&_.c(),m(i,"class","ri-search-line"),m(t,"for",n[8]),m(t,"class","m-l-10 txt-xl"),m(e,"class","searchbar")},m(y,k){S(y,e,k),O(e,t),O(t,i),O(e,s),p[l].m(e,null),O(e,o),b&&b.m(e,null),O(e,a),_&&_.m(e,null),f=!0,u||(d=[H(e,"click",Pi(n[11])),H(e,"submit",ut(n[10]))],u=!0)},p(y,[k]){let C=l;l=g(y),l===C?p[l].p(y,k):(ue(),I(p[C],1,1,()=>{p[C]=null}),ce(),r=p[l],r?r.p(y,k):(r=p[l]=h[l](y),r.c()),D(r,1),r.m(e,o)),(y[0].length||y[7].length)&&y[7]!=y[0]?b?k&129&&D(b,1):(b=Ag(),b.c(),D(b,1),b.m(e,a)):b&&(ue(),I(b,1,1,()=>{b=null}),ce()),y[0].length||y[7].length?_?(_.p(y,k),k&129&&D(_,1)):(_=Qg(y),_.c(),D(_,1),_.m(e,null)):_&&(ue(),I(_,1,1,()=>{_=null}),ce())},i(y){f||(D(r),D(b),D(_),f=!0)},o(y){I(r),I(b),I(_),f=!1},d(y){y&&w(e),p[l].d(),b&&b.d(),_&&_.d(),u=!1,Qe(d)}}}function G5(n,e,t){const i=Lt(),s="search_"+j.randomString(7);let{value:l=""}=e,{placeholder:r='Search term or filter like created > "2022-01-01"...'}=e,{autocompleteCollection:o=new ci}=e,{extraAutocompleteKeys:a=[]}=e,f,u=!1,d,h="";function p(T=!0){t(7,h=""),T&&(d==null||d.focus()),i("clear")}function g(){t(0,l=h),i("submit",l)}async function b(){f||u||(t(5,u=!0),t(4,f=(await _t(()=>import("./FilterAutocompleteInput-21c03872.js"),[],import.meta.url)).default),t(5,u=!1))}vn(()=>{b()});function _(T){Fe.call(this,n,T)}function y(T){h=T,t(7,h),t(0,l)}function k(T){ne[T?"unshift":"push"](()=>{d=T,t(6,d)})}function C(){h=this.value,t(7,h),t(0,l)}const $=()=>{p(!1),g()};return n.$$set=T=>{"value"in T&&t(0,l=T.value),"placeholder"in T&&t(1,r=T.placeholder),"autocompleteCollection"in T&&t(2,o=T.autocompleteCollection),"extraAutocompleteKeys"in T&&t(3,a=T.extraAutocompleteKeys)},n.$$.update=()=>{n.$$.dirty&1&&typeof l=="string"&&t(7,h=l)},[l,r,o,a,f,u,d,h,s,p,g,_,y,k,C,$]}class sc extends ke{constructor(e){super(),ve(this,e,G5,H5,be,{value:0,placeholder:1,autocompleteCollection:2,extraAutocompleteKeys:3})}}function K5(n){let e,t,i,s,l,r;return{c(){e=v("button"),t=v("i"),m(t,"class","ri-refresh-line svelte-1bvelc2"),m(e,"type","button"),m(e,"aria-label","Refresh"),m(e,"class",i="btn btn-transparent btn-circle "+n[1]+" svelte-1bvelc2"),J(e,"refreshing",n[2])},m(o,a){S(o,e,a),O(e,t),l||(r=[Ae(s=Ye.call(null,e,n[0])),H(e,"click",n[3])],l=!0)},p(o,[a]){a&2&&i!==(i="btn btn-transparent btn-circle "+o[1]+" svelte-1bvelc2")&&m(e,"class",i),s&&fn(s.update)&&a&1&&s.update.call(null,o[0]),a&6&&J(e,"refreshing",o[2])},i:ee,o:ee,d(o){o&&w(e),l=!1,Qe(r)}}}function J5(n,e,t){const i=Lt();let{tooltip:s={text:"Refresh",position:"right"}}=e,{class:l=""}=e,r=null;function o(){i("refresh");const a=s;t(0,s=null),clearTimeout(r),t(2,r=setTimeout(()=>{t(2,r=null),t(0,s=a)},150))}return vn(()=>()=>clearTimeout(r)),n.$$set=a=>{"tooltip"in a&&t(0,s=a.tooltip),"class"in a&&t(1,l=a.class)},[s,l,r,o]}class lc extends ke{constructor(e){super(),ve(this,e,J5,K5,be,{tooltip:0,class:1})}}function eA(n){let e,t,i,s,l;const r=n[6].default,o=xt(r,n,n[5],null);return{c(){e=v("th"),o&&o.c(),m(e,"tabindex","0"),m(e,"title",n[2]),m(e,"class",t="col-sort "+n[1]),J(e,"col-sort-disabled",n[3]),J(e,"sort-active",n[0]==="-"+n[2]||n[0]==="+"+n[2]),J(e,"sort-desc",n[0]==="-"+n[2]),J(e,"sort-asc",n[0]==="+"+n[2])},m(a,f){S(a,e,f),o&&o.m(e,null),i=!0,s||(l=[H(e,"click",n[7]),H(e,"keydown",n[8])],s=!0)},p(a,[f]){o&&o.p&&(!i||f&32)&&Ft(o,r,a,a[5],i?Zt(r,a[5],f,null):Xt(a[5]),null),(!i||f&4)&&m(e,"title",a[2]),(!i||f&2&&t!==(t="col-sort "+a[1]))&&m(e,"class",t),(!i||f&10)&&J(e,"col-sort-disabled",a[3]),(!i||f&7)&&J(e,"sort-active",a[0]==="-"+a[2]||a[0]==="+"+a[2]),(!i||f&7)&&J(e,"sort-desc",a[0]==="-"+a[2]),(!i||f&7)&&J(e,"sort-asc",a[0]==="+"+a[2])},i(a){i||(D(o,a),i=!0)},o(a){I(o,a),i=!1},d(a){a&&w(e),o&&o.d(a),s=!1,Qe(l)}}}function tA(n,e,t){let{$$slots:i={},$$scope:s}=e,{class:l=""}=e,{name:r}=e,{sort:o=""}=e,{disable:a=!1}=e;function f(){a||("-"+r===o?t(0,o="+"+r):t(0,o="-"+r))}const u=()=>f(),d=h=>{(h.code==="Enter"||h.code==="Space")&&(h.preventDefault(),f())};return n.$$set=h=>{"class"in h&&t(1,l=h.class),"name"in h&&t(2,r=h.name),"sort"in h&&t(0,o=h.sort),"disable"in h&&t(3,a=h.disable),"$$scope"in h&&t(5,s=h.$$scope)},[o,l,r,a,f,s,i,u,d]}class Un extends ke{constructor(e){super(),ve(this,e,tA,eA,be,{class:1,name:2,sort:0,disable:3})}}function nA(n){let e;return{c(){e=v("span"),e.textContent="N/A",m(e,"class","txt txt-hint")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function iA(n){let e,t,i,s,l,r,o;return{c(){e=v("div"),t=v("div"),i=W(n[2]),s=A(),l=v("div"),r=W(n[1]),o=W(" UTC"),m(t,"class","date"),m(l,"class","time svelte-zdiknu"),m(e,"class","datetime svelte-zdiknu")},m(a,f){S(a,e,f),O(e,t),O(t,i),O(e,s),O(e,l),O(l,r),O(l,o)},p(a,f){f&4&&re(i,a[2]),f&2&&re(r,a[1])},d(a){a&&w(e)}}}function sA(n){let e;function t(l,r){return l[0]?iA:nA}let i=t(n),s=i(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,[r]){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},i:ee,o:ee,d(l){s.d(l),l&&w(e)}}}function lA(n,e,t){let i,s,{date:l=""}=e;return n.$$set=r=>{"date"in r&&t(0,l=r.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=l?l.substring(0,10):null),n.$$.dirty&1&&t(1,s=l?l.substring(10,19):null)},[l,s,i]}class Bs extends ke{constructor(e){super(),ve(this,e,lA,sA,be,{date:0})}}const rA=n=>({}),Dg=n=>({}),oA=n=>({}),Eg=n=>({});function aA(n){let e,t,i,s,l,r,o,a;const f=n[5].before,u=xt(f,n,n[4],Eg),d=n[5].default,h=xt(d,n,n[4],null),p=n[5].after,g=xt(p,n,n[4],Dg);return{c(){e=v("div"),u&&u.c(),t=A(),i=v("div"),h&&h.c(),l=A(),g&&g.c(),m(i,"class",s="horizontal-scroller "+n[0]+" "+n[3]+" svelte-wc2j9h"),m(e,"class","horizontal-scroller-wrapper svelte-wc2j9h")},m(b,_){S(b,e,_),u&&u.m(e,null),O(e,t),O(e,i),h&&h.m(i,null),n[6](i),O(e,l),g&&g.m(e,null),r=!0,o||(a=[H(window,"resize",n[1]),H(i,"scroll",n[1])],o=!0)},p(b,[_]){u&&u.p&&(!r||_&16)&&Ft(u,f,b,b[4],r?Zt(f,b[4],_,oA):Xt(b[4]),Eg),h&&h.p&&(!r||_&16)&&Ft(h,d,b,b[4],r?Zt(d,b[4],_,null):Xt(b[4]),null),(!r||_&9&&s!==(s="horizontal-scroller "+b[0]+" "+b[3]+" svelte-wc2j9h"))&&m(i,"class",s),g&&g.p&&(!r||_&16)&&Ft(g,p,b,b[4],r?Zt(p,b[4],_,rA):Xt(b[4]),Dg)},i(b){r||(D(u,b),D(h,b),D(g,b),r=!0)},o(b){I(u,b),I(h,b),I(g,b),r=!1},d(b){b&&w(e),u&&u.d(b),h&&h.d(b),n[6](null),g&&g.d(b),o=!1,Qe(a)}}}function fA(n,e,t){let{$$slots:i={},$$scope:s}=e,{class:l=""}=e,r=null,o="",a=null,f;function u(){r&&(clearTimeout(a),a=setTimeout(()=>{const h=r.offsetWidth,p=r.scrollWidth;p-h?(t(3,o="scrollable"),r.scrollLeft===0?t(3,o+=" scroll-start"):r.scrollLeft+h==p&&t(3,o+=" scroll-end")):t(3,o="")},100))}vn(()=>(u(),f=new MutationObserver(()=>{u()}),f.observe(r,{attributeFilter:["width"],childList:!0,subtree:!0}),()=>{f==null||f.disconnect(),clearTimeout(a)}));function d(h){ne[h?"unshift":"push"](()=>{r=h,t(2,r)})}return n.$$set=h=>{"class"in h&&t(0,l=h.class),"$$scope"in h&&t(4,s=h.$$scope)},[l,u,r,o,s,i,d]}class Ap extends ke{constructor(e){super(),ve(this,e,fA,aA,be,{class:0,refresh:1})}get refresh(){return this.$$.ctx[1]}}function Ig(n,e,t){const i=n.slice();return i[23]=e[t],i}function uA(n){let e;return{c(){e=v("div"),e.innerHTML=`<i class="ri-global-line"></i> 
                        <span class="txt">Method</span>`,m(e,"class","col-header-content")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function cA(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="URL",m(t,"class",j.getFieldTypeIcon("url")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function dA(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="Referer",m(t,"class",j.getFieldTypeIcon("url")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function hA(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="User IP",m(t,"class",j.getFieldTypeIcon("number")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function pA(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="Status",m(t,"class",j.getFieldTypeIcon("number")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function mA(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="Created",m(t,"class",j.getFieldTypeIcon("date")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function Rg(n){let e;function t(l,r){return l[6]?bA:gA}let i=t(n),s=i(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&w(e)}}}function gA(n){var o;let e,t,i,s,l,r=((o=n[0])==null?void 0:o.length)&&Lg(n);return{c(){e=v("tr"),t=v("td"),i=v("h6"),i.textContent="No logs found.",s=A(),r&&r.c(),l=A(),m(t,"colspan","99"),m(t,"class","txt-center txt-hint p-xs")},m(a,f){S(a,e,f),O(e,t),O(t,i),O(t,s),r&&r.m(t,null),O(e,l)},p(a,f){var u;(u=a[0])!=null&&u.length?r?r.p(a,f):(r=Lg(a),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(a){a&&w(e),r&&r.d()}}}function bA(n){let e;return{c(){e=v("tr"),e.innerHTML=`<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> 
                    `},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function Lg(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<span class="txt">Clear filters</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-expanded m-t-sm")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[19]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function Ng(n){let e;return{c(){e=v("i"),m(e,"class","ri-error-warning-line txt-danger m-l-5 m-r-5"),m(e,"title","Error")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function xg(n,e){var Pe,lt,Qt;let t,i,s,l=((Pe=e[23].method)==null?void 0:Pe.toUpperCase())+"",r,o,a,f,u,d=e[23].url+"",h,p,g,b,_,y,k=(e[23].referer||"N/A")+"",C,$,T,P,M,Q=(e[23].userIp||"N/A")+"",E,R,L,N,x,Z=e[23].status+"",F,U,G,z,B,le,te,se,Oe,$e,Ze=(((lt=e[23].meta)==null?void 0:lt.errorMessage)||((Qt=e[23].meta)==null?void 0:Qt.errorData))&&Ng();z=new Bs({props:{date:e[23].created}});function He(){return e[17](e[23])}function Ce(...rt){return e[18](e[23],...rt)}return{key:n,first:null,c(){t=v("tr"),i=v("td"),s=v("span"),r=W(l),a=A(),f=v("td"),u=v("span"),h=W(d),g=A(),Ze&&Ze.c(),b=A(),_=v("td"),y=v("span"),C=W(k),T=A(),P=v("td"),M=v("span"),E=W(Q),L=A(),N=v("td"),x=v("span"),F=W(Z),U=A(),G=v("td"),V(z.$$.fragment),B=A(),le=v("td"),le.innerHTML='<i class="ri-arrow-right-line"></i>',te=A(),m(s,"class",o="label txt-uppercase "+e[9][e[23].method.toLowerCase()]),m(i,"class","col-type-text col-field-method min-width"),m(u,"class","txt txt-ellipsis"),m(u,"title",p=e[23].url),m(f,"class","col-type-text col-field-url"),m(y,"class","txt txt-ellipsis"),m(y,"title",$=e[23].referer),J(y,"txt-hint",!e[23].referer),m(_,"class","col-type-text col-field-referer"),m(M,"class","txt txt-ellipsis"),m(M,"title",R=e[23].userIp),J(M,"txt-hint",!e[23].userIp),m(P,"class","col-type-number col-field-userIp"),m(x,"class","label"),J(x,"label-danger",e[23].status>=400),m(N,"class","col-type-number col-field-status"),m(G,"class","col-type-date col-field-created"),m(le,"class","col-type-action min-width"),m(t,"tabindex","0"),m(t,"class","row-handle"),this.first=t},m(rt,Je){S(rt,t,Je),O(t,i),O(i,s),O(s,r),O(t,a),O(t,f),O(f,u),O(u,h),O(f,g),Ze&&Ze.m(f,null),O(t,b),O(t,_),O(_,y),O(y,C),O(t,T),O(t,P),O(P,M),O(M,E),O(t,L),O(t,N),O(N,x),O(x,F),O(t,U),O(t,G),X(z,G,null),O(t,B),O(t,le),O(t,te),se=!0,Oe||($e=[H(t,"click",He),H(t,"keydown",Ce)],Oe=!0)},p(rt,Je){var ge,_e,tt;e=rt,(!se||Je&8)&&l!==(l=((ge=e[23].method)==null?void 0:ge.toUpperCase())+"")&&re(r,l),(!se||Je&8&&o!==(o="label txt-uppercase "+e[9][e[23].method.toLowerCase()]))&&m(s,"class",o),(!se||Je&8)&&d!==(d=e[23].url+"")&&re(h,d),(!se||Je&8&&p!==(p=e[23].url))&&m(u,"title",p),(_e=e[23].meta)!=null&&_e.errorMessage||(tt=e[23].meta)!=null&&tt.errorData?Ze||(Ze=Ng(),Ze.c(),Ze.m(f,null)):Ze&&(Ze.d(1),Ze=null),(!se||Je&8)&&k!==(k=(e[23].referer||"N/A")+"")&&re(C,k),(!se||Je&8&&$!==($=e[23].referer))&&m(y,"title",$),(!se||Je&8)&&J(y,"txt-hint",!e[23].referer),(!se||Je&8)&&Q!==(Q=(e[23].userIp||"N/A")+"")&&re(E,Q),(!se||Je&8&&R!==(R=e[23].userIp))&&m(M,"title",R),(!se||Je&8)&&J(M,"txt-hint",!e[23].userIp),(!se||Je&8)&&Z!==(Z=e[23].status+"")&&re(F,Z),(!se||Je&8)&&J(x,"label-danger",e[23].status>=400);const Tt={};Je&8&&(Tt.date=e[23].created),z.$set(Tt)},i(rt){se||(D(z.$$.fragment,rt),se=!0)},o(rt){I(z.$$.fragment,rt),se=!1},d(rt){rt&&w(t),Ze&&Ze.d(),q(z),Oe=!1,Qe($e)}}}function _A(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P,M,Q,E=[],R=new Map,L;function N(Ce){n[11](Ce)}let x={disable:!0,class:"col-field-method",name:"method",$$slots:{default:[uA]},$$scope:{ctx:n}};n[1]!==void 0&&(x.sort=n[1]),s=new Un({props:x}),ne.push(()=>pe(s,"sort",N));function Z(Ce){n[12](Ce)}let F={disable:!0,class:"col-type-text col-field-url",name:"url",$$slots:{default:[cA]},$$scope:{ctx:n}};n[1]!==void 0&&(F.sort=n[1]),o=new Un({props:F}),ne.push(()=>pe(o,"sort",Z));function U(Ce){n[13](Ce)}let G={disable:!0,class:"col-type-text col-field-referer",name:"referer",$$slots:{default:[dA]},$$scope:{ctx:n}};n[1]!==void 0&&(G.sort=n[1]),u=new Un({props:G}),ne.push(()=>pe(u,"sort",U));function z(Ce){n[14](Ce)}let B={disable:!0,class:"col-type-number col-field-userIp",name:"userIp",$$slots:{default:[hA]},$$scope:{ctx:n}};n[1]!==void 0&&(B.sort=n[1]),p=new Un({props:B}),ne.push(()=>pe(p,"sort",z));function le(Ce){n[15](Ce)}let te={disable:!0,class:"col-type-number col-field-status",name:"status",$$slots:{default:[pA]},$$scope:{ctx:n}};n[1]!==void 0&&(te.sort=n[1]),_=new Un({props:te}),ne.push(()=>pe(_,"sort",le));function se(Ce){n[16](Ce)}let Oe={disable:!0,class:"col-type-date col-field-created",name:"created",$$slots:{default:[mA]},$$scope:{ctx:n}};n[1]!==void 0&&(Oe.sort=n[1]),C=new Un({props:Oe}),ne.push(()=>pe(C,"sort",se));let $e=n[3];const Ze=Ce=>Ce[23].id;for(let Ce=0;Ce<$e.length;Ce+=1){let Pe=Ig(n,$e,Ce),lt=Ze(Pe);R.set(lt,E[Ce]=xg(lt,Pe))}let He=null;return $e.length||(He=Rg(n)),{c(){e=v("table"),t=v("thead"),i=v("tr"),V(s.$$.fragment),r=A(),V(o.$$.fragment),f=A(),V(u.$$.fragment),h=A(),V(p.$$.fragment),b=A(),V(_.$$.fragment),k=A(),V(C.$$.fragment),T=A(),P=v("th"),M=A(),Q=v("tbody");for(let Ce=0;Ce<E.length;Ce+=1)E[Ce].c();He&&He.c(),m(P,"class","col-type-action min-width"),m(e,"class","table"),J(e,"table-loading",n[6])},m(Ce,Pe){S(Ce,e,Pe),O(e,t),O(t,i),X(s,i,null),O(i,r),X(o,i,null),O(i,f),X(u,i,null),O(i,h),X(p,i,null),O(i,b),X(_,i,null),O(i,k),X(C,i,null),O(i,T),O(i,P),O(e,M),O(e,Q);for(let lt=0;lt<E.length;lt+=1)E[lt]&&E[lt].m(Q,null);He&&He.m(Q,null),L=!0},p(Ce,Pe){const lt={};Pe&67108864&&(lt.$$scope={dirty:Pe,ctx:Ce}),!l&&Pe&2&&(l=!0,lt.sort=Ce[1],ye(()=>l=!1)),s.$set(lt);const Qt={};Pe&67108864&&(Qt.$$scope={dirty:Pe,ctx:Ce}),!a&&Pe&2&&(a=!0,Qt.sort=Ce[1],ye(()=>a=!1)),o.$set(Qt);const rt={};Pe&67108864&&(rt.$$scope={dirty:Pe,ctx:Ce}),!d&&Pe&2&&(d=!0,rt.sort=Ce[1],ye(()=>d=!1)),u.$set(rt);const Je={};Pe&67108864&&(Je.$$scope={dirty:Pe,ctx:Ce}),!g&&Pe&2&&(g=!0,Je.sort=Ce[1],ye(()=>g=!1)),p.$set(Je);const Tt={};Pe&67108864&&(Tt.$$scope={dirty:Pe,ctx:Ce}),!y&&Pe&2&&(y=!0,Tt.sort=Ce[1],ye(()=>y=!1)),_.$set(Tt);const ge={};Pe&67108864&&(ge.$$scope={dirty:Pe,ctx:Ce}),!$&&Pe&2&&($=!0,ge.sort=Ce[1],ye(()=>$=!1)),C.$set(ge),Pe&841&&($e=Ce[3],ue(),E=It(E,Pe,Ze,1,Ce,$e,R,Q,hn,xg,null,Ig),ce(),!$e.length&&He?He.p(Ce,Pe):$e.length?He&&(He.d(1),He=null):(He=Rg(Ce),He.c(),He.m(Q,null))),(!L||Pe&64)&&J(e,"table-loading",Ce[6])},i(Ce){if(!L){D(s.$$.fragment,Ce),D(o.$$.fragment,Ce),D(u.$$.fragment,Ce),D(p.$$.fragment,Ce),D(_.$$.fragment,Ce),D(C.$$.fragment,Ce);for(let Pe=0;Pe<$e.length;Pe+=1)D(E[Pe]);L=!0}},o(Ce){I(s.$$.fragment,Ce),I(o.$$.fragment,Ce),I(u.$$.fragment,Ce),I(p.$$.fragment,Ce),I(_.$$.fragment,Ce),I(C.$$.fragment,Ce);for(let Pe=0;Pe<E.length;Pe+=1)I(E[Pe]);L=!1},d(Ce){Ce&&w(e),q(s),q(o),q(u),q(p),q(_),q(C);for(let Pe=0;Pe<E.length;Pe+=1)E[Pe].d();He&&He.d()}}}function Zg(n){let e,t,i=n[3].length+"",s,l,r;return{c(){e=v("small"),t=W("Showing "),s=W(i),l=W(" of "),r=W(n[4]),m(e,"class","block txt-hint txt-right m-t-sm")},m(o,a){S(o,e,a),O(e,t),O(e,s),O(e,l),O(e,r)},p(o,a){a&8&&i!==(i=o[3].length+"")&&re(s,i),a&16&&re(r,o[4])},d(o){o&&w(e)}}}function Fg(n){let e,t,i,s,l=n[4]-n[3].length+"",r,o,a,f;return{c(){e=v("div"),t=v("button"),i=v("span"),s=W("Load more ("),r=W(l),o=W(")"),m(i,"class","txt"),m(t,"type","button"),m(t,"class","btn btn-lg btn-secondary btn-expanded"),J(t,"btn-loading",n[6]),J(t,"btn-disabled",n[6]),m(e,"class","block txt-center m-t-xs")},m(u,d){S(u,e,d),O(e,t),O(t,i),O(i,s),O(i,r),O(i,o),a||(f=H(t,"click",n[20]),a=!0)},p(u,d){d&24&&l!==(l=u[4]-u[3].length+"")&&re(r,l),d&64&&J(t,"btn-loading",u[6]),d&64&&J(t,"btn-disabled",u[6])},d(u){u&&w(e),a=!1,f()}}}function OA(n){let e,t,i,s,l;e=new Ap({props:{class:"table-wrapper",$$slots:{default:[_A]},$$scope:{ctx:n}}});let r=n[3].length&&Zg(n),o=n[3].length&&n[7]&&Fg(n);return{c(){V(e.$$.fragment),t=A(),r&&r.c(),i=A(),o&&o.c(),s=Se()},m(a,f){X(e,a,f),S(a,t,f),r&&r.m(a,f),S(a,i,f),o&&o.m(a,f),S(a,s,f),l=!0},p(a,[f]){const u={};f&67108939&&(u.$$scope={dirty:f,ctx:a}),e.$set(u),a[3].length?r?r.p(a,f):(r=Zg(a),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null),a[3].length&&a[7]?o?o.p(a,f):(o=Fg(a),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(a){l||(D(e.$$.fragment,a),l=!0)},o(a){I(e.$$.fragment,a),l=!1},d(a){q(e,a),a&&w(t),r&&r.d(a),a&&w(i),o&&o.d(a),a&&w(s)}}}function yA(n,e,t){let i;const s=Lt(),l={get:"label-info",post:"label-success",patch:"label-warning",delete:"label-danger"};let{filter:r=""}=e,{presets:o=""}=e,{sort:a="-rowid"}=e,f=[],u=1,d=0,h=!1,p=0;async function g(R=1,L=!0){return t(6,h=!0),de.logs.getRequestsList(R,30,{sort:a,filter:[o,r].filter(Boolean).join("&&")}).then(async N=>{if(R<=1&&b(),t(6,h=!1),t(5,u=N.page),t(4,d=N.totalItems),s("load",f.concat(N.items)),L){const x=++p;for(;N.items.length&&p==x;)t(3,f=f.concat(N.items.splice(0,10))),await j.yieldToMain()}else t(3,f=f.concat(N.items))}).catch(N=>{N!=null&&N.isAbort||(t(6,h=!1),console.warn(N),b(),de.error(N,!1))})}function b(){t(3,f=[]),t(5,u=1),t(4,d=0)}function _(R){a=R,t(1,a)}function y(R){a=R,t(1,a)}function k(R){a=R,t(1,a)}function C(R){a=R,t(1,a)}function $(R){a=R,t(1,a)}function T(R){a=R,t(1,a)}const P=R=>s("select",R),M=(R,L)=>{L.code==="Enter"&&(L.preventDefault(),s("select",R))},Q=()=>t(0,r=""),E=()=>g(u+1);return n.$$set=R=>{"filter"in R&&t(0,r=R.filter),"presets"in R&&t(10,o=R.presets),"sort"in R&&t(1,a=R.sort)},n.$$.update=()=>{n.$$.dirty&1027&&(typeof a<"u"||typeof r<"u"||typeof o<"u")&&(b(),g(1)),n.$$.dirty&24&&t(7,i=d>f.length)},[r,a,g,f,d,u,h,i,s,l,o,_,y,k,C,$,T,P,M,Q,E]}class vA extends ke{constructor(e){super(),ve(this,e,yA,OA,be,{filter:0,presets:10,sort:1,load:2})}get load(){return this.$$.ctx[2]}}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function Ns(){}const kA=function(){let n=0;return function(){return n++}}();function St(n){return n===null||typeof n>"u"}function Ut(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ct(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}const dn=n=>(typeof n=="number"||n instanceof Number)&&isFinite(+n);function Ei(n,e){return dn(n)?n:e}function pt(n,e){return typeof n>"u"?e:n}const wA=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:n/e,H2=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function ln(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Pt(n,e,t,i){let s,l,r;if(Ut(n))if(l=n.length,i)for(s=l-1;s>=0;s--)e.call(t,n[s],s);else for(s=0;s<l;s++)e.call(t,n[s],s);else if(ct(n))for(r=Object.keys(n),l=r.length,s=0;s<l;s++)e.call(t,n[r[s]],r[s])}function fu(n,e){let t,i,s,l;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],l=e[t],s.datasetIndex!==l.datasetIndex||s.index!==l.index)return!1;return!0}function uu(n){if(Ut(n))return n.map(uu);if(ct(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=uu(n[t[s]]);return e}return n}function G2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function SA(n,e,t,i){if(!G2(n))return;const s=e[n],l=t[n];ct(s)&&ct(l)?ea(s,l,i):e[n]=uu(l)}function ea(n,e,t){const i=Ut(e)?e:[e],s=i.length;if(!ct(n))return n;t=t||{};const l=t.merger||SA;for(let r=0;r<s;++r){if(e=i[r],!ct(e))continue;const o=Object.keys(e);for(let a=0,f=o.length;a<f;++a)l(o[a],n,e,t)}return n}function qo(n,e){return ea(n,e,{merger:$A})}function $A(n,e,t){if(!G2(n))return;const i=e[n],s=t[n];ct(i)&&ct(s)?qo(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=uu(s))}const Xg={"":n=>n,x:n=>n.x,y:n=>n.y};function bl(n,e){return(Xg[e]||(Xg[e]=CA(e)))(n)}function CA(n){const e=TA(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function TA(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Qp(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Wi=n=>typeof n<"u",_l=n=>typeof n=="function",qg=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function PA(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const an=Math.PI,Et=2*an,MA=Et+an,cu=Number.POSITIVE_INFINITY,AA=an/180,rn=an/2,_o=an/4,Vg=an*2/3,xi=Math.log10,ks=Math.sign;function jg(n){const e=Math.round(n);n=Vo(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(xi(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function QA(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,l)=>s-l).pop(),e}function Vr(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Vo(n,e,t){return Math.abs(n-e)<t}function DA(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function K2(n,e,t){let i,s,l;for(i=0,s=n.length;i<s;i++)l=n[i][t],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function ns(n){return n*(an/180)}function Dp(n){return n*(180/an)}function Ug(n){if(!dn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function J2(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let l=Math.atan2(i,t);return l<-.5*an&&(l+=Et),{angle:l,distance:s}}function ih(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function EA(n,e){return(n-e+MA)%Et-an}function ki(n){return(n%Et+Et)%Et}function ta(n,e,t,i){const s=ki(n),l=ki(e),r=ki(t),o=ki(l-s),a=ki(r-s),f=ki(s-l),u=ki(s-r);return s===l||s===r||i&&l===r||o>a&&f<u}function zn(n,e,t){return Math.max(e,Math.min(t,n))}function IA(n){return zn(n,-32768,32767)}function na(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Ep(n,e,t){t=t||(r=>n[r]<e);let i=n.length-1,s=0,l;for(;i-s>1;)l=s+i>>1,t(l)?s=l:i=l;return{lo:s,hi:i}}const jl=(n,e,t,i)=>Ep(n,t,i?s=>n[s][e]<=t:s=>n[s][e]<t),RA=(n,e,t)=>Ep(n,t,i=>n[i][e]>=t);function LA(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const eS=["push","pop","shift","splice","unshift"];function NA(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),eS.forEach(t=>{const i="_onData"+Qp(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...l){const r=s.apply(this,l);return n._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...l)}),r}})})}function Wg(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(eS.forEach(l=>{delete n[l]}),delete n._chartjs)}function tS(n){const e=new Set;let t,i;for(t=0,i=n.length;t<i;++t)e.add(n[t]);return e.size===i?n:Array.from(e)}const nS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function iS(n,e,t){const i=t||(r=>Array.prototype.slice.call(r));let s=!1,l=[];return function(...r){l=i(r),s||(s=!0,nS.call(window,()=>{s=!1,n.apply(e,l)}))}}function xA(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const ZA=n=>n==="start"?"left":n==="end"?"right":"center",zg=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2;function sS(n,e,t){const i=e.length;let s=0,l=i;if(n._sorted){const{iScale:r,_parsed:o}=n,a=r.axis,{min:f,max:u,minDefined:d,maxDefined:h}=r.getUserBounds();d&&(s=zn(Math.min(jl(o,r.axis,f).lo,t?i:jl(e,a,r.getPixelForValue(f)).lo),0,i-1)),h?l=zn(Math.max(jl(o,r.axis,u,!0).hi+1,t?0:jl(e,a,r.getPixelForValue(u),!0).hi+1),s,i)-s:l=i-s}return{start:s,count:l}}function lS(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const l=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),l}const ef=n=>n===0||n===1,Bg=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Et/t)),Yg=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Et/t)+1,jo={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*rn)+1,easeOutSine:n=>Math.sin(n*rn),easeInOutSine:n=>-.5*(Math.cos(an*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ef(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ef(n)?n:Bg(n,.075,.3),easeOutElastic:n=>ef(n)?n:Yg(n,.075,.3),easeInOutElastic(n){return ef(n)?n:n<.5?.5*Bg(n*2,.1125,.45):.5+.5*Yg(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-jo.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?jo.easeInBounce(n*2)*.5:jo.easeOutBounce(n*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Qa(n){return n+.5|0}const al=(n,e,t)=>Math.max(Math.min(n,t),e);function Eo(n){return al(Qa(n*2.55),0,255)}function pl(n){return al(Qa(n*255),0,255)}function Fs(n){return al(Qa(n/2.55)/100,0,1)}function Hg(n){return al(Qa(n*100),0,100)}const Di={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},sh=[..."0123456789ABCDEF"],FA=n=>sh[n&15],XA=n=>sh[(n&240)>>4]+sh[n&15],tf=n=>(n&240)>>4===(n&15),qA=n=>tf(n.r)&&tf(n.g)&&tf(n.b)&&tf(n.a);function VA(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Di[n[1]]*17,g:255&Di[n[2]]*17,b:255&Di[n[3]]*17,a:e===5?Di[n[4]]*17:255}:(e===7||e===9)&&(t={r:Di[n[1]]<<4|Di[n[2]],g:Di[n[3]]<<4|Di[n[4]],b:Di[n[5]]<<4|Di[n[6]],a:e===9?Di[n[7]]<<4|Di[n[8]]:255})),t}const jA=(n,e)=>n<255?e(n):"";function UA(n){var e=qA(n)?FA:XA;return n?"#"+e(n.r)+e(n.g)+e(n.b)+jA(n.a,e):void 0}const WA=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rS(n,e,t){const i=e*Math.min(t,1-t),s=(l,r=(l+n/30)%12)=>t-i*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function zA(n,e,t){const i=(s,l=(s+n/60)%6)=>t-t*e*Math.max(Math.min(l,4-l,1),0);return[i(5),i(3),i(1)]}function BA(n,e,t){const i=rS(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function YA(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function Ip(n){const t=n.r/255,i=n.g/255,s=n.b/255,l=Math.max(t,i,s),r=Math.min(t,i,s),o=(l+r)/2;let a,f,u;return l!==r&&(u=l-r,f=o>.5?u/(2-l-r):u/(l+r),a=YA(t,i,s,u,l),a=a*60+.5),[a|0,f||0,o]}function Rp(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(pl)}function Lp(n,e,t){return Rp(rS,n,e,t)}function HA(n,e,t){return Rp(BA,n,e,t)}function GA(n,e,t){return Rp(zA,n,e,t)}function oS(n){return(n%360+360)%360}function KA(n){const e=WA.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Eo(+e[5]):pl(+e[5]));const s=oS(+e[2]),l=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?i=HA(s,l,r):e[1]==="hsv"?i=GA(s,l,r):i=Lp(s,l,r),{r:i[0],g:i[1],b:i[2],a:t}}function JA(n,e){var t=Ip(n);t[0]=oS(t[0]+e),t=Lp(t),n.r=t[0],n.g=t[1],n.b=t[2]}function e4(n){if(!n)return;const e=Ip(n),t=e[0],i=Hg(e[1]),s=Hg(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${Fs(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const Gg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Kg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function t4(){const n={},e=Object.keys(Kg),t=Object.keys(Gg);let i,s,l,r,o;for(i=0;i<e.length;i++){for(r=o=e[i],s=0;s<t.length;s++)l=t[s],o=o.replace(l,Gg[l]);l=parseInt(Kg[r],16),n[o]=[l>>16&255,l>>8&255,l&255]}return n}let nf;function n4(n){nf||(nf=t4(),nf.transparent=[0,0,0,0]);const e=nf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const i4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function s4(n){const e=i4.exec(n);let t=255,i,s,l;if(e){if(e[7]!==i){const r=+e[7];t=e[8]?Eo(r):al(r*255,0,255)}return i=+e[1],s=+e[3],l=+e[5],i=255&(e[2]?Eo(i):al(i,0,255)),s=255&(e[4]?Eo(s):al(s,0,255)),l=255&(e[6]?Eo(l):al(l,0,255)),{r:i,g:s,b:l,a:t}}}function l4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Fs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Fc=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,br=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function r4(n,e,t){const i=br(Fs(n.r)),s=br(Fs(n.g)),l=br(Fs(n.b));return{r:pl(Fc(i+t*(br(Fs(e.r))-i))),g:pl(Fc(s+t*(br(Fs(e.g))-s))),b:pl(Fc(l+t*(br(Fs(e.b))-l))),a:n.a+t*(e.a-n.a)}}function sf(n,e,t){if(n){let i=Ip(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Lp(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function aS(n,e){return n&&Object.assign(e||{},n)}function Jg(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=pl(n[3]))):(e=aS(n,{r:0,g:0,b:0,a:1}),e.a=pl(e.a)),e}function o4(n){return n.charAt(0)==="r"?s4(n):KA(n)}class du{constructor(e){if(e instanceof du)return e;const t=typeof e;let i;t==="object"?i=Jg(e):t==="string"&&(i=VA(e)||n4(e)||o4(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=aS(this._rgb);return e&&(e.a=Fs(e.a)),e}set rgb(e){this._rgb=Jg(e)}rgbString(){return this._valid?l4(this._rgb):void 0}hexString(){return this._valid?UA(this._rgb):void 0}hslString(){return this._valid?e4(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let l;const r=t===l?.5:t,o=2*r-1,a=i.a-s.a,f=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;l=1-f,i.r=255&f*i.r+l*s.r+.5,i.g=255&f*i.g+l*s.g+.5,i.b=255&f*i.b+l*s.b+.5,i.a=r*i.a+(1-r)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=r4(this._rgb,e._rgb,t)),this}clone(){return new du(this.rgb)}alpha(e){return this._rgb.a=pl(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Qa(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return sf(this._rgb,2,e),this}darken(e){return sf(this._rgb,2,-e),this}saturate(e){return sf(this._rgb,1,e),this}desaturate(e){return sf(this._rgb,1,-e),this}rotate(e){return JA(this._rgb,e),this}}function fS(n){return new du(n)}function uS(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function e0(n){return uS(n)?n:fS(n)}function Xc(n){return uS(n)?n:fS(n).saturate(.5).darken(.1).hexString()}const nr=Object.create(null),lh=Object.create(null);function Uo(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const l=t[i];n=n[l]||(n[l]=Object.create(null))}return n}function qc(n,e,t){return typeof e=="string"?ea(Uo(n,e),t):ea(Uo(n,""),e)}class a4{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,i)=>Xc(i.backgroundColor),this.hoverBorderColor=(t,i)=>Xc(i.borderColor),this.hoverColor=(t,i)=>Xc(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return qc(this,e,t)}get(e){return Uo(this,e)}describe(e,t){return qc(lh,e,t)}override(e,t){return qc(nr,e,t)}route(e,t,i,s){const l=Uo(this,e),r=Uo(this,i),o="_"+t;Object.defineProperties(l,{[o]:{value:l[t],writable:!0},[t]:{enumerable:!0,get(){const a=this[o],f=r[s];return ct(a)?Object.assign({},f,a):pt(a,f)},set(a){this[o]=a}}})}}var mt=new a4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function f4(n){return!n||St(n.size)||St(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function hu(n,e,t,i,s){let l=e[s];return l||(l=e[s]=n.measureText(s).width,t.push(s)),l>i&&(i=l),i}function u4(n,e,t,i){i=i||{};let s=i.data=i.data||{},l=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},l=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let r=0;const o=t.length;let a,f,u,d,h;for(a=0;a<o;a++)if(d=t[a],d!=null&&Ut(d)!==!0)r=hu(n,s,l,r,d);else if(Ut(d))for(f=0,u=d.length;f<u;f++)h=d[f],h!=null&&!Ut(h)&&(r=hu(n,s,l,r,h));n.restore();const p=l.length/2;if(p>t.length){for(a=0;a<p;a++)delete s[l[a]];l.splice(0,p)}return r}function Il(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function t0(n,e){e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function rh(n,e,t,i){c4(n,e,t,i,null)}function c4(n,e,t,i,s){let l,r,o,a,f,u;const d=e.pointStyle,h=e.rotation,p=e.radius;let g=(h||0)*AA;if(d&&typeof d=="object"&&(l=d.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(g),n.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),n.restore();return}if(!(isNaN(p)||p<=0)){switch(n.beginPath(),d){default:s?n.ellipse(t,i,s/2,p,0,0,Et):n.arc(t,i,p,0,Et),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(g)*p,i-Math.cos(g)*p),g+=Vg,n.lineTo(t+Math.sin(g)*p,i-Math.cos(g)*p),g+=Vg,n.lineTo(t+Math.sin(g)*p,i-Math.cos(g)*p),n.closePath();break;case"rectRounded":f=p*.516,a=p-f,r=Math.cos(g+_o)*a,o=Math.sin(g+_o)*a,n.arc(t-r,i-o,f,g-an,g-rn),n.arc(t+o,i-r,f,g-rn,g),n.arc(t+r,i+o,f,g,g+rn),n.arc(t-o,i+r,f,g+rn,g+an),n.closePath();break;case"rect":if(!h){a=Math.SQRT1_2*p,u=s?s/2:a,n.rect(t-u,i-a,2*u,2*a);break}g+=_o;case"rectRot":r=Math.cos(g)*p,o=Math.sin(g)*p,n.moveTo(t-r,i-o),n.lineTo(t+o,i-r),n.lineTo(t+r,i+o),n.lineTo(t-o,i+r),n.closePath();break;case"crossRot":g+=_o;case"cross":r=Math.cos(g)*p,o=Math.sin(g)*p,n.moveTo(t-r,i-o),n.lineTo(t+r,i+o),n.moveTo(t+o,i-r),n.lineTo(t-o,i+r);break;case"star":r=Math.cos(g)*p,o=Math.sin(g)*p,n.moveTo(t-r,i-o),n.lineTo(t+r,i+o),n.moveTo(t+o,i-r),n.lineTo(t-o,i+r),g+=_o,r=Math.cos(g)*p,o=Math.sin(g)*p,n.moveTo(t-r,i-o),n.lineTo(t+r,i+o),n.moveTo(t+o,i-r),n.lineTo(t-o,i+r);break;case"line":r=s?s/2:Math.cos(g)*p,o=Math.sin(g)*p,n.moveTo(t-r,i-o),n.lineTo(t+r,i+o);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(g)*p,i+Math.sin(g)*p);break}n.fill(),e.borderWidth>0&&n.stroke()}}function ia(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Np(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function xp(n){n.restore()}function d4(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const l=(e.x+t.x)/2;n.lineTo(l,e.y),n.lineTo(l,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function h4(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function pu(n,e,t,i,s,l={}){const r=Ut(e)?e:[e],o=l.strokeWidth>0&&l.strokeColor!=="";let a,f;for(n.save(),n.font=s.string,p4(n,l),a=0;a<r.length;++a)f=r[a],o&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),St(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(f,t,i,l.maxWidth)),n.fillText(f,t,i,l.maxWidth),m4(n,t,i,f,l),i+=s.lineHeight;n.restore()}function p4(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),St(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function m4(n,e,t,i,s){if(s.strikethrough||s.underline){const l=n.measureText(i),r=e-l.actualBoundingBoxLeft,o=e+l.actualBoundingBoxRight,a=t-l.actualBoundingBoxAscent,f=t+l.actualBoundingBoxDescent,u=s.strikethrough?(a+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(r,u),n.lineTo(o,u),n.stroke()}}function mu(n,e){const{x:t,y:i,w:s,h:l,radius:r}=e;n.arc(t+r.topLeft,i+r.topLeft,r.topLeft,-rn,an,!0),n.lineTo(t,i+l-r.bottomLeft),n.arc(t+r.bottomLeft,i+l-r.bottomLeft,r.bottomLeft,an,rn,!0),n.lineTo(t+s-r.bottomRight,i+l),n.arc(t+s-r.bottomRight,i+l-r.bottomRight,r.bottomRight,rn,0,!0),n.lineTo(t+s,i+r.topRight),n.arc(t+s-r.topRight,i+r.topRight,r.topRight,0,-rn,!0),n.lineTo(t+r.topLeft,i)}const g4=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),b4=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function _4(n,e){const t=(""+n).match(g4);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const O4=n=>+n||0;function Zp(n,e){const t={},i=ct(e),s=i?Object.keys(e):e,l=ct(n)?i?r=>pt(n[r],n[e[r]]):r=>n[r]:()=>n;for(const r of s)t[r]=O4(l(r));return t}function cS(n){return Zp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ar(n){return Zp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function zi(n){const e=cS(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function $i(n,e){n=n||{},e=e||mt.font;let t=pt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=pt(n.style,e.style);i&&!(""+i).match(b4)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const s={family:pt(n.family,e.family),lineHeight:_4(pt(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:pt(n.weight,e.weight),string:""};return s.string=f4(s),s}function lf(n,e,t,i){let s=!0,l,r,o;for(l=0,r=n.length;l<r;++l)if(o=n[l],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),s=!1),t!==void 0&&Ut(o)&&(o=o[t%o.length],s=!1),o!==void 0))return i&&!s&&(i.cacheable=!1),o}function y4(n,e,t){const{min:i,max:s}=n,l=H2(e,(s-i)/2),r=(o,a)=>t&&o===0?0:o+a;return{min:r(i,-Math.abs(l)),max:r(s,l)}}function Cl(n,e){return Object.assign(Object.create(n),e)}function Fp(n,e=[""],t=n,i,s=()=>n[0]){Wi(i)||(i=mS("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:i,_getTarget:s,override:r=>Fp([r,...n],e,t,i)};return new Proxy(l,{deleteProperty(r,o){return delete r[o],delete r._keys,delete n[0][o],!0},get(r,o){return hS(r,o,()=>P4(o,e,n,r))},getOwnPropertyDescriptor(r,o){return Reflect.getOwnPropertyDescriptor(r._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(r,o){return i0(r).includes(o)},ownKeys(r){return i0(r)},set(r,o,a){const f=r._storage||(r._storage=s());return r[o]=f[o]=a,delete r._keys,!0}})}function jr(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:dS(n,i),setContext:l=>jr(n,l,t,i),override:l=>jr(n.override(l),e,t,i)};return new Proxy(s,{deleteProperty(l,r){return delete l[r],delete n[r],!0},get(l,r,o){return hS(l,r,()=>k4(l,r,o))},getOwnPropertyDescriptor(l,r){return l._descriptors.allKeys?Reflect.has(n,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,r)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,r){return Reflect.has(n,r)},ownKeys(){return Reflect.ownKeys(n)},set(l,r,o){return n[r]=o,delete l[r],!0}})}function dS(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:_l(t)?t:()=>t,isIndexable:_l(i)?i:()=>i}}const v4=(n,e)=>n?n+Qp(e):e,Xp=(n,e)=>ct(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function hS(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const i=t();return n[e]=i,i}function k4(n,e,t){const{_proxy:i,_context:s,_subProxy:l,_descriptors:r}=n;let o=i[e];return _l(o)&&r.isScriptable(e)&&(o=w4(e,o,n,t)),Ut(o)&&o.length&&(o=S4(e,o,n,r.isIndexable)),Xp(e,o)&&(o=jr(o,s,l&&l[e],r)),o}function w4(n,e,t,i){const{_proxy:s,_context:l,_subProxy:r,_stack:o}=t;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);return o.add(n),e=e(l,r||i),o.delete(n),Xp(n,e)&&(e=qp(s._scopes,s,n,e)),e}function S4(n,e,t,i){const{_proxy:s,_context:l,_subProxy:r,_descriptors:o}=t;if(Wi(l.index)&&i(n))e=e[l.index%e.length];else if(ct(e[0])){const a=e,f=s._scopes.filter(u=>u!==a);e=[];for(const u of a){const d=qp(f,s,n,u);e.push(jr(d,l,r&&r[n],o))}}return e}function pS(n,e,t){return _l(n)?n(e,t):n}const $4=(n,e)=>n===!0?e:typeof n=="string"?bl(e,n):void 0;function C4(n,e,t,i,s){for(const l of e){const r=$4(t,l);if(r){n.add(r);const o=pS(r._fallback,t,s);if(Wi(o)&&o!==t&&o!==i)return o}else if(r===!1&&Wi(i)&&t!==i)return null}return!1}function qp(n,e,t,i){const s=e._rootScopes,l=pS(e._fallback,t,i),r=[...n,...s],o=new Set;o.add(i);let a=n0(o,r,t,l||t,i);return a===null||Wi(l)&&l!==t&&(a=n0(o,r,l,a,i),a===null)?!1:Fp(Array.from(o),[""],s,l,()=>T4(e,t,i))}function n0(n,e,t,i,s){for(;t;)t=C4(n,e,t,i,s);return t}function T4(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return Ut(s)&&ct(t)?t:s}function P4(n,e,t,i){let s;for(const l of e)if(s=mS(v4(l,n),t),Wi(s))return Xp(n,s)?qp(t,i,n,s):s}function mS(n,e){for(const t of e){if(!t)continue;const i=t[n];if(Wi(i))return i}}function i0(n){let e=n._keys;return e||(e=n._keys=M4(n._scopes)),e}function M4(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function gS(n,e,t,i){const{iScale:s}=n,{key:l="r"}=this._parsing,r=new Array(i);let o,a,f,u;for(o=0,a=i;o<a;++o)f=o+t,u=e[f],r[o]={r:s.parse(bl(u,l),f)};return r}const A4=Number.EPSILON||1e-14,Ur=(n,e)=>e<n.length&&!n[e].skip&&n[e],bS=n=>n==="x"?"y":"x";function Q4(n,e,t,i){const s=n.skip?e:n,l=e,r=t.skip?e:t,o=ih(l,s),a=ih(r,l);let f=o/(o+a),u=a/(o+a);f=isNaN(f)?0:f,u=isNaN(u)?0:u;const d=i*f,h=i*u;return{previous:{x:l.x-d*(r.x-s.x),y:l.y-d*(r.y-s.y)},next:{x:l.x+h*(r.x-s.x),y:l.y+h*(r.y-s.y)}}}function D4(n,e,t){const i=n.length;let s,l,r,o,a,f=Ur(n,0);for(let u=0;u<i-1;++u)if(a=f,f=Ur(n,u+1),!(!a||!f)){if(Vo(e[u],0,A4)){t[u]=t[u+1]=0;continue}s=t[u]/e[u],l=t[u+1]/e[u],o=Math.pow(s,2)+Math.pow(l,2),!(o<=9)&&(r=3/Math.sqrt(o),t[u]=s*r*e[u],t[u+1]=l*r*e[u])}}function E4(n,e,t="x"){const i=bS(t),s=n.length;let l,r,o,a=Ur(n,0);for(let f=0;f<s;++f){if(r=o,o=a,a=Ur(n,f+1),!o)continue;const u=o[t],d=o[i];r&&(l=(u-r[t])/3,o[`cp1${t}`]=u-l,o[`cp1${i}`]=d-l*e[f]),a&&(l=(a[t]-u)/3,o[`cp2${t}`]=u+l,o[`cp2${i}`]=d+l*e[f])}}function I4(n,e="x"){const t=bS(e),i=n.length,s=Array(i).fill(0),l=Array(i);let r,o,a,f=Ur(n,0);for(r=0;r<i;++r)if(o=a,a=f,f=Ur(n,r+1),!!a){if(f){const u=f[e]-a[e];s[r]=u!==0?(f[t]-a[t])/u:0}l[r]=o?f?ks(s[r-1])!==ks(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}D4(n,s,l),E4(n,l,e)}function rf(n,e,t){return Math.max(Math.min(n,t),e)}function R4(n,e){let t,i,s,l,r,o=ia(n[0],e);for(t=0,i=n.length;t<i;++t)r=l,l=o,o=t<i-1&&ia(n[t+1],e),l&&(s=n[t],r&&(s.cp1x=rf(s.cp1x,e.left,e.right),s.cp1y=rf(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=rf(s.cp2x,e.left,e.right),s.cp2y=rf(s.cp2y,e.top,e.bottom)))}function L4(n,e,t,i,s){let l,r,o,a;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")I4(n,s);else{let f=i?n[n.length-1]:n[0];for(l=0,r=n.length;l<r;++l)o=n[l],a=Q4(f,o,n[Math.min(l+1,r-(i?0:1))%r],e.tension),o.cp1x=a.previous.x,o.cp1y=a.previous.y,o.cp2x=a.next.x,o.cp2y=a.next.y,f=o}e.capBezierPoints&&R4(n,t)}function _S(){return typeof window<"u"&&typeof document<"u"}function Vp(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function gu(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const rc=n=>window.getComputedStyle(n,null);function N4(n,e){return rc(n).getPropertyValue(e)}const x4=["top","right","bottom","left"];function Hl(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const l=x4[s];i[l]=parseFloat(n[e+"-"+l+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Z4=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function F4(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:l}=i;let r=!1,o,a;if(Z4(s,l,n.target))o=s,a=l;else{const f=e.getBoundingClientRect();o=i.clientX-f.left,a=i.clientY-f.top,r=!0}return{x:o,y:a,box:r}}function Zl(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=rc(t),l=s.boxSizing==="border-box",r=Hl(s,"padding"),o=Hl(s,"border","width"),{x:a,y:f,box:u}=F4(n,t),d=r.left+(u&&o.left),h=r.top+(u&&o.top);let{width:p,height:g}=e;return l&&(p-=r.width+o.width,g-=r.height+o.height),{x:Math.round((a-d)/p*t.width/i),y:Math.round((f-h)/g*t.height/i)}}function X4(n,e,t){let i,s;if(e===void 0||t===void 0){const l=Vp(n);if(!l)e=n.clientWidth,t=n.clientHeight;else{const r=l.getBoundingClientRect(),o=rc(l),a=Hl(o,"border","width"),f=Hl(o,"padding");e=r.width-f.width-a.width,t=r.height-f.height-a.height,i=gu(o.maxWidth,l,"clientWidth"),s=gu(o.maxHeight,l,"clientHeight")}}return{width:e,height:t,maxWidth:i||cu,maxHeight:s||cu}}const Vc=n=>Math.round(n*10)/10;function q4(n,e,t,i){const s=rc(n),l=Hl(s,"margin"),r=gu(s.maxWidth,n,"clientWidth")||cu,o=gu(s.maxHeight,n,"clientHeight")||cu,a=X4(n,e,t);let{width:f,height:u}=a;if(s.boxSizing==="content-box"){const d=Hl(s,"border","width"),h=Hl(s,"padding");f-=h.width+d.width,u-=h.height+d.height}return f=Math.max(0,f-l.width),u=Math.max(0,i?Math.floor(f/i):u-l.height),f=Vc(Math.min(f,r,a.maxWidth)),u=Vc(Math.min(u,o,a.maxHeight)),f&&!u&&(u=Vc(f/2)),{width:f,height:u}}function s0(n,e,t){const i=e||1,s=Math.floor(n.height*i),l=Math.floor(n.width*i);n.height=s/i,n.width=l/i;const r=n.canvas;return r.style&&(t||!r.style.height&&!r.style.width)&&(r.style.height=`${n.height}px`,r.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||r.height!==s||r.width!==l?(n.currentDevicePixelRatio=i,r.height=s,r.width=l,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const V4=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function l0(n,e){const t=N4(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Fl(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function j4(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function U4(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},l={x:e.cp1x,y:e.cp1y},r=Fl(n,s,t),o=Fl(s,l,t),a=Fl(l,e,t),f=Fl(r,o,t),u=Fl(o,a,t);return Fl(f,u,t)}const r0=new Map;function W4(n,e){e=e||{};const t=n+JSON.stringify(e);let i=r0.get(t);return i||(i=new Intl.NumberFormat(n,e),r0.set(t,i)),i}function Da(n,e,t){return W4(e,t).format(n)}const z4=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},B4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function jc(n,e,t){return n?z4(e,t):B4()}function Y4(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function H4(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function OS(n){return n==="angle"?{between:ta,compare:EA,normalize:ki}:{between:na,compare:(e,t)=>e-t,normalize:e=>e}}function o0({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function G4(n,e,t){const{property:i,start:s,end:l}=t,{between:r,normalize:o}=OS(i),a=e.length;let{start:f,end:u,loop:d}=n,h,p;if(d){for(f+=a,u+=a,h=0,p=a;h<p&&r(o(e[f%a][i]),s,l);++h)f--,u--;f%=a,u%=a}return u<f&&(u+=a),{start:f,end:u,loop:d,style:n.style}}function yS(n,e,t){if(!t)return[n];const{property:i,start:s,end:l}=t,r=e.length,{compare:o,between:a,normalize:f}=OS(i),{start:u,end:d,loop:h,style:p}=G4(n,e,t),g=[];let b=!1,_=null,y,k,C;const $=()=>a(s,C,y)&&o(s,C)!==0,T=()=>o(l,y)===0||a(l,C,y),P=()=>b||$(),M=()=>!b||T();for(let Q=u,E=u;Q<=d;++Q)k=e[Q%r],!k.skip&&(y=f(k[i]),y!==C&&(b=a(y,s,l),_===null&&P()&&(_=o(y,s)===0?Q:E),_!==null&&M()&&(g.push(o0({start:_,end:Q,loop:h,count:r,style:p})),_=null),E=Q,C=y));return _!==null&&g.push(o0({start:_,end:d,loop:h,count:r,style:p})),g}function vS(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const l=yS(i[s],n.points,e);l.length&&t.push(...l)}return t}function K4(n,e,t,i){let s=0,l=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(l+=s);l>s&&n[l%e].skip;)l--;return l%=e,{start:s,end:l}}function J4(n,e,t,i){const s=n.length,l=[];let r=e,o=n[e],a;for(a=e+1;a<=t;++a){const f=n[a%s];f.skip||f.stop?o.skip||(i=!1,l.push({start:e%s,end:(a-1)%s,loop:i}),e=r=f.stop?a:null):(r=a,o.skip&&(e=a)),o=f}return r!==null&&l.push({start:e%s,end:r%s,loop:i}),l}function eQ(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const l=!!n._loop,{start:r,end:o}=K4(t,s,l,i);if(i===!0)return a0(n,[{start:r,end:o,loop:l}],t,e);const a=o<r?o+s:o,f=!!n._fullLoop&&r===0&&o===s-1;return a0(n,J4(t,r,a,f),t,e)}function a0(n,e,t,i){return!i||!i.setContext||!t?e:tQ(n,e,t,i)}function tQ(n,e,t,i){const s=n._chart.getContext(),l=f0(n.options),{_datasetIndex:r,options:{spanGaps:o}}=n,a=t.length,f=[];let u=l,d=e[0].start,h=d;function p(g,b,_,y){const k=o?-1:1;if(g!==b){for(g+=a;t[g%a].skip;)g-=k;for(;t[b%a].skip;)b+=k;g%a!==b%a&&(f.push({start:g%a,end:b%a,loop:_,style:y}),u=y,d=b%a)}}for(const g of e){d=o?d:g.start;let b=t[d%a],_;for(h=d+1;h<=g.end;h++){const y=t[h%a];_=f0(i.setContext(Cl(s,{type:"segment",p0:b,p1:y,p0DataIndex:(h-1)%a,p1DataIndex:h%a,datasetIndex:r}))),nQ(_,u)&&p(d,h-1,g.loop,u),b=y,u=_}d<h-1&&p(d,h-1,g.loop,u)}return f}function f0(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function nQ(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class iQ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const l=t.listeners[s],r=t.duration;l.forEach(o=>o({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=nS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const l=i.items;let r=l.length-1,o=!1,a;for(;r>=0;--r)a=l[r],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(e),o=!0):(l[r]=l[l.length-1],l.pop());o&&(s.draw(),this._notify(s,i,e,"progress")),l.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=l.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xs=new iQ;const u0="transparent",sQ={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=e0(n||u0),s=i.valid&&e0(e||u0);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class lQ{constructor(e,t,i,s){const l=t[i];s=lf([e.to,s,l,e.from]);const r=lf([e.from,l,s]);this._active=!0,this._fn=e.fn||sQ[e.type||typeof r],this._easing=jo[e.easing]||jo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],l=i-this._start,r=this._duration-l;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=lf([e.to,t,s,e.from]),this._from=lf([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,l=this._from,r=this._loop,o=this._to;let a;if(this._active=l!==o&&(r||t<i),!this._active){this._target[s]=o,this._notify(!0);return}if(t<0){this._target[s]=l;return}a=t/i%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[s]=this._fn(l,o,a)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}const rQ=["x","y","borderWidth","radius","tension"],oQ=["color","borderColor","backgroundColor"];mt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const aQ=Object.keys(mt.animation);mt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"});mt.set("animations",{colors:{type:"color",properties:oQ},numbers:{type:"number",properties:rQ}});mt.describe("animations",{_fallback:"animation"});mt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}});class kS{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ct(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!ct(s))return;const l={};for(const r of aQ)l[r]=s[r];(Ut(s.properties)&&s.properties||[i]).forEach(r=>{(r===i||!t.has(r))&&t.set(r,l)})})}_animateOptions(e,t){const i=t.options,s=uQ(e,i);if(!s)return[];const l=this._createAnimations(s,i);return i.$shared&&fQ(e.options.$animations,i).then(()=>{e.options=i},()=>{}),l}_createAnimations(e,t){const i=this._properties,s=[],l=e.$animations||(e.$animations={}),r=Object.keys(t),o=Date.now();let a;for(a=r.length-1;a>=0;--a){const f=r[a];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(e,t));continue}const u=t[f];let d=l[f];const h=i.get(f);if(d)if(h&&d.active()){d.update(h,u,o);continue}else d.cancel();if(!h||!h.duration){e[f]=u;continue}l[f]=d=new lQ(h,e,f,u),s.push(d)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return xs.add(this._chart,i),!0}}function fQ(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const l=n[i[s]];l&&l.active()&&t.push(l.wait())}return Promise.all(t)}function uQ(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function c0(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,l=t.max===void 0?e:0;return{start:i?l:s,end:i?s:l}}function cQ(n,e,t){if(t===!1)return!1;const i=c0(n,t),s=c0(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function dQ(n){let e,t,i,s;return ct(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function wS(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,l;for(s=0,l=i.length;s<l;++s)t.push(i[s].index);return t}function d0(n,e,t,i={}){const s=n.keys,l=i.mode==="single";let r,o,a,f;if(e!==null){for(r=0,o=s.length;r<o;++r){if(a=+s[r],a===t){if(i.all)continue;break}f=n.values[a],dn(f)&&(l||e===0||ks(e)===ks(f))&&(e+=f)}return e}}function hQ(n){const e=Object.keys(n),t=new Array(e.length);let i,s,l;for(i=0,s=e.length;i<s;++i)l=e[i],t[i]={x:l,y:n[l]};return t}function h0(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function pQ(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function mQ(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function gQ(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function p0(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const l=n[s.index];if(t&&l>0||!t&&l<0)return s.index}return null}function m0(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:l,vScale:r,index:o}=i,a=l.axis,f=r.axis,u=pQ(l,r,i),d=e.length;let h;for(let p=0;p<d;++p){const g=e[p],{[a]:b,[f]:_}=g,y=g._stacks||(g._stacks={});h=y[f]=gQ(s,u,b),h[o]=_,h._top=p0(h,r,!0,i.type),h._bottom=p0(h,r,!1,i.type)}}function Uc(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function bQ(n,e){return Cl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function _Q(n,e,t){return Cl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Oo(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const l=s._stacks;if(!l||l[i]===void 0||l[i][t]===void 0)return;delete l[i][t]}}}const Wc=n=>n==="reset"||n==="none",g0=(n,e)=>e?n:Object.assign({},n),OQ=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:wS(t,!0),values:null};class ss{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=h0(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Oo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(d,h,p,g)=>d==="x"?h:d==="r"?g:p,l=t.xAxisID=pt(i.xAxisID,Uc(e,"x")),r=t.yAxisID=pt(i.yAxisID,Uc(e,"y")),o=t.rAxisID=pt(i.rAxisID,Uc(e,"r")),a=t.indexAxis,f=t.iAxisID=s(a,l,r,o),u=t.vAxisID=s(a,r,l,o);t.xScale=this.getScaleForId(l),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Wg(this._data,this),e._stacked&&Oo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(ct(t))this._data=hQ(t);else if(i!==t){if(i){Wg(i,this);const s=this._cachedMeta;Oo(s),s._parsed=[]}t&&Object.isExtensible(t)&&NA(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const l=t._stacked;t._stacked=h0(t.vScale,t),t.stack!==i.stack&&(s=!0,Oo(t),t.stack=i.stack),this._resyncElements(e),(s||l!==t._stacked)&&m0(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:l,_stacked:r}=i,o=l.axis;let a=e===0&&t===s.length?!0:i._sorted,f=e>0&&i._parsed[e-1],u,d,h;if(this._parsing===!1)i._parsed=s,i._sorted=!0,h=s;else{Ut(s[e])?h=this.parseArrayData(i,s,e,t):ct(s[e])?h=this.parseObjectData(i,s,e,t):h=this.parsePrimitiveData(i,s,e,t);const p=()=>d[o]===null||f&&d[o]<f[o];for(u=0;u<t;++u)i._parsed[u+e]=d=h[u],a&&(p()&&(a=!1),f=d);i._sorted=a}r&&m0(this,h)}parsePrimitiveData(e,t,i,s){const{iScale:l,vScale:r}=e,o=l.axis,a=r.axis,f=l.getLabels(),u=l===r,d=new Array(s);let h,p,g;for(h=0,p=s;h<p;++h)g=h+i,d[h]={[o]:u||l.parse(f[g],g),[a]:r.parse(t[g],g)};return d}parseArrayData(e,t,i,s){const{xScale:l,yScale:r}=e,o=new Array(s);let a,f,u,d;for(a=0,f=s;a<f;++a)u=a+i,d=t[u],o[a]={x:l.parse(d[0],u),y:r.parse(d[1],u)};return o}parseObjectData(e,t,i,s){const{xScale:l,yScale:r}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,f=new Array(s);let u,d,h,p;for(u=0,d=s;u<d;++u)h=u+i,p=t[h],f[u]={x:l.parse(bl(p,o),h),y:r.parse(bl(p,a),h)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,l=this._cachedMeta,r=t[e.axis],o={keys:wS(s,!0),values:t._stacks[e.axis]};return d0(o,r,l.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const l=i[t.axis];let r=l===null?NaN:l;const o=s&&i._stacks[t.axis];s&&o&&(s.values=o,r=d0(s,l,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,l=i._sorted&&e===i.iScale,r=s.length,o=this._getOtherScale(e),a=OQ(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=mQ(o);let h,p;function g(){p=s[h];const b=p[o.axis];return!dn(p[e.axis])||u>b||d<b}for(h=0;h<r&&!(!g()&&(this.updateRangeFromParsed(f,e,p,a),l));++h);if(l){for(h=r-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(f,e,p,a);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,l,r;for(s=0,l=t.length;s<l;++s)r=t[s][e.axis],dn(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,l=this.getParsed(e);return{label:i?""+i.getLabelForValue(l[i.axis]):"",value:s?""+s.getLabelForValue(l[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=dQ(pt(this.options.clip,cQ(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],l=t.chartArea,r=[],o=this._drawStart||0,a=this._drawCount||s.length-o,f=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,l,o,a),u=o;u<o+a;++u){const d=s[u];d.hidden||(d.active&&f?r.push(d):d.draw(e,l))}for(u=0;u<r.length;++u)r[u].draw(e,l)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];l=r.$context||(r.$context=_Q(this.getContext(),e,r)),l.parsed=this.getParsed(e),l.raw=s.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=bQ(this.chart.getContext(),this.index)),l.dataset=s,l.index=l.datasetIndex=this.index;return l.active=!!t,l.mode=i,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",l=this._cachedDataOpts,r=e+"-"+t,o=l[r],a=this.enableOptionSharing&&Wi(i);if(o)return g0(o,a);const f=this.chart.config,u=f.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],h=f.getOptionScopes(this.getDataset(),u),p=Object.keys(mt.elements[e]),g=()=>this.getContext(i,s),b=f.resolveNamedOptions(h,p,g,d);return b.$shared&&(b.$shared=a,l[r]=Object.freeze(g0(b,a))),b}_resolveAnimations(e,t,i){const s=this.chart,l=this._cachedDataOpts,r=`animation-${t}`,o=l[r];if(o)return o;let a;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,t),h=u.getOptionScopes(this.getDataset(),d);a=u.createResolver(h,this.getContext(e,i,t))}const f=new kS(s,a&&a.animations);return a&&a._cacheable&&(l[r]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Wc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,l=this.getSharedOptions(i),r=this.includeOptions(t,l)||l!==s;return this.updateSharedOptions(l,t,i),{sharedOptions:l,includeOptions:r}}updateElement(e,t,i,s){Wc(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!Wc(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const l=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(l)||l})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[o,a,f]of this._syncList)this[o](a,f);this._syncList=[];const s=i.length,l=t.length,r=Math.min(l,s);r&&this.parse(0,r),l>s?this._insertElements(s,l-s,e):l<s&&this._removeElements(l,s-l)}_insertElements(e,t,i=!0){const s=this._cachedMeta,l=s.data,r=e+t;let o;const a=f=>{for(f.length+=t,o=f.length-1;o>=r;o--)f[o]=f[o-t]};for(a(l),o=e;o<r;++o)l[o]=new this.dataElementType;this._parsing&&a(s._parsed),this.parse(e,t),i&&this.updateElements(l,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&Oo(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ss.defaults={};ss.prototype.datasetElementType=null;ss.prototype.dataElementType=null;function yQ(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,l=t.length;s<l;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=tS(i.sort((s,l)=>s-l))}return n._cache.$bar}function vQ(n){const e=n.iScale,t=yQ(e,n.type);let i=e._length,s,l,r,o;const a=()=>{r===32767||r===-32768||(Wi(o)&&(i=Math.min(i,Math.abs(r-o)||i)),o=r)};for(s=0,l=t.length;s<l;++s)r=e.getPixelForValue(t[s]),a();for(o=void 0,s=0,l=e.ticks.length;s<l;++s)r=e.getPixelForTick(s),a();return i}function kQ(n,e,t,i){const s=t.barThickness;let l,r;return St(s)?(l=e.min*t.categoryPercentage,r=t.barPercentage):(l=s*i,r=1),{chunk:l/i,ratio:r,start:e.pixels[n]-l/2}}function wQ(n,e,t,i){const s=e.pixels,l=s[n];let r=n>0?s[n-1]:null,o=n<s.length-1?s[n+1]:null;const a=t.categoryPercentage;r===null&&(r=l-(o===null?e.end-e.start:o-l)),o===null&&(o=l+l-r);const f=l-(l-Math.min(r,o))/2*a;return{chunk:Math.abs(o-r)/2*a/i,ratio:t.barPercentage,start:f}}function SQ(n,e,t,i){const s=t.parse(n[0],i),l=t.parse(n[1],i),r=Math.min(s,l),o=Math.max(s,l);let a=r,f=o;Math.abs(r)>Math.abs(o)&&(a=o,f=r),e[t.axis]=f,e._custom={barStart:a,barEnd:f,start:s,end:l,min:r,max:o}}function SS(n,e,t,i){return Ut(n)?SQ(n,e,t,i):e[t.axis]=t.parse(n,i),e}function b0(n,e,t,i){const s=n.iScale,l=n.vScale,r=s.getLabels(),o=s===l,a=[];let f,u,d,h;for(f=t,u=t+i;f<u;++f)h=e[f],d={},d[s.axis]=o||s.parse(r[f],f),a.push(SS(h,d,l,f));return a}function zc(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function $Q(n,e,t){return n!==0?ks(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function CQ(n){let e,t,i,s,l;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",l="start"):(s="start",l="end"),{start:t,end:i,reverse:e,top:s,bottom:l}}function TQ(n,e,t,i){let s=e.borderSkipped;const l={};if(!s){n.borderSkipped=l;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:o,reverse:a,top:f,bottom:u}=CQ(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=f:(t._bottom||0)===i?s=u:(l[_0(u,r,o,a)]=!0,s=f)),l[_0(s,r,o,a)]=!0,n.borderSkipped=l}function _0(n,e,t,i){return i?(n=PQ(n,e,t),n=O0(n,t,e)):n=O0(n,e,t),n}function PQ(n,e,t){return n===e?t:n===t?e:n}function O0(n,e,t){return n==="start"?e:n==="end"?t:n}function MQ(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class jp extends ss{parsePrimitiveData(e,t,i,s){return b0(e,t,i,s)}parseArrayData(e,t,i,s){return b0(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:l,vScale:r}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,f=l.axis==="x"?o:a,u=r.axis==="x"?o:a,d=[];let h,p,g,b;for(h=i,p=i+s;h<p;++h)b=t[h],g={},g[l.axis]=l.parse(bl(b,f),h),d.push(SS(bl(b,u),g,r,h));return d}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const l=i._custom;l&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,l=this.getParsed(e),r=l._custom,o=zc(r)?"["+r.start+", "+r.end+"]":""+s.getLabelForValue(l[s.axis]);return{label:""+i.getLabelForValue(l[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const l=s==="reset",{index:r,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),f=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(t,s);for(let p=t;p<t+i;p++){const g=this.getParsed(p),b=l||St(g[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(p),_=this._calculateBarIndexPixels(p,u),y=(g._stacks||{})[o.axis],k={horizontal:f,base:b.base,enableBorderRadius:!y||zc(g._custom)||r===y._top||r===y._bottom,x:f?b.head:_.center,y:f?_.center:b.head,height:f?_.size:Math.abs(b.size),width:f?Math.abs(b.size):_.size};h&&(k.options=d||this.resolveDataElementOptions(p,e[p].active?"active":s));const C=k.options||e[p].options;TQ(k,C,y,r),MQ(k,C,u.ratio),this.updateElement(e[p],p,k,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(a=>a.controller.options.grouped),l=i.options.stacked,r=[],o=a=>{const f=a.controller.getParsed(t),u=f&&f[a.vScale.axis];if(St(u)||isNaN(u))return!0};for(const a of s)if(!(t!==void 0&&o(a))&&((l===!1||r.indexOf(a.stack)===-1||l===void 0&&a.stack===void 0)&&r.push(a.stack),a.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const s=this._getStacks(e,i),l=t!==void 0?s.indexOf(t):-1;return l===-1?s.length-1:l}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let l,r;for(l=0,r=t.data.length;l<r;++l)s.push(i.getPixelForValue(this.getParsed(l)[i.axis],l));const o=e.barThickness;return{min:o||vQ(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i},options:{base:s,minBarLength:l}}=this,r=s||0,o=this.getParsed(e),a=o._custom,f=zc(a);let u=o[t.axis],d=0,h=i?this.applyStack(t,o,i):u,p,g;h!==u&&(d=h-u,h=u),f&&(u=a.barStart,h=a.barEnd-a.barStart,u!==0&&ks(u)!==ks(a.barEnd)&&(d=0),d+=u);const b=!St(s)&&!f?s:d;let _=t.getPixelForValue(b);if(this.chart.getDataVisibility(e)?p=t.getPixelForValue(d+h):p=_,g=p-_,Math.abs(g)<l){g=$Q(g,t,r)*l,u===r&&(_-=g/2);const y=t.getPixelForDecimal(0),k=t.getPixelForDecimal(1),C=Math.min(y,k),$=Math.max(y,k);_=Math.max(Math.min(_,$),C),p=_+g}if(_===t.getPixelForValue(r)){const y=ks(g)*t.getLineWidthForValue(r)/2;_+=y,g-=y}return{size:g,base:_,head:p,center:p+g/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,l=s.skipNull,r=pt(s.maxBarThickness,1/0);let o,a;if(t.grouped){const f=l?this._getStackCount(e):t.stackCount,u=s.barThickness==="flex"?wQ(e,t,s,f):kQ(e,t,s,f),d=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0);o=u.start+u.chunk*d+u.chunk/2,a=Math.min(r,u.chunk*u.ratio)}else o=i.getPixelForValue(this.getParsed(e)[i.axis],e),a=Math.min(r,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let l=0;for(;l<s;++l)this.getParsed(l)[t.axis]!==null&&i[l].draw(this._ctx)}}jp.id="bar";jp.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};jp.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Up extends ss{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,s){const l=super.parsePrimitiveData(e,t,i,s);for(let r=0;r<l.length;r++)l[r]._custom=this.resolveDataElementOptions(r+i).radius;return l}parseArrayData(e,t,i,s){const l=super.parseArrayData(e,t,i,s);for(let r=0;r<l.length;r++){const o=t[i+r];l[r]._custom=pt(o[2],this.resolveDataElementOptions(r+i).radius)}return l}parseObjectData(e,t,i,s){const l=super.parseObjectData(e,t,i,s);for(let r=0;r<l.length;r++){const o=t[i+r];l[r]._custom=pt(o&&o.r&&+o.r,this.resolveDataElementOptions(r+i).radius)}return l}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:i,yScale:s}=t,l=this.getParsed(e),r=i.getLabelForValue(l.x),o=s.getLabelForValue(l.y),a=l._custom;return{label:t.label,value:"("+r+", "+o+(a?", "+a:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,s){const l=s==="reset",{iScale:r,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:f}=this._getSharedOptions(t,s),u=r.axis,d=o.axis;for(let h=t;h<t+i;h++){const p=e[h],g=!l&&this.getParsed(h),b={},_=b[u]=l?r.getPixelForDecimal(.5):r.getPixelForValue(g[u]),y=b[d]=l?o.getBasePixel():o.getPixelForValue(g[d]);b.skip=isNaN(_)||isNaN(y),f&&(b.options=a||this.resolveDataElementOptions(h,p.active?"active":s),l&&(b.options.radius=0)),this.updateElement(p,h,b,s)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,t);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const l=s.radius;return t!=="active"&&(s.radius=0),s.radius+=pt(i&&i._custom,l),s}}Up.id="bubble";Up.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Up.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function AQ(n,e,t){let i=1,s=1,l=0,r=0;if(e<Et){const o=n,a=o+e,f=Math.cos(o),u=Math.sin(o),d=Math.cos(a),h=Math.sin(a),p=(C,$,T)=>ta(C,o,a,!0)?1:Math.max($,$*t,T,T*t),g=(C,$,T)=>ta(C,o,a,!0)?-1:Math.min($,$*t,T,T*t),b=p(0,f,d),_=p(rn,u,h),y=g(an,f,d),k=g(an+rn,u,h);i=(b-y)/2,s=(_-k)/2,l=-(b+y)/2,r=-(_+k)/2}return{ratioX:i,ratioY:s,offsetX:l,offsetY:r}}class Ea extends ss{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let l=a=>+i[a];if(ct(i[e])){const{key:a="value"}=this._parsing;l=f=>+bl(i[f],a)}let r,o;for(r=e,o=e+t;r<o;++r)s._parsed[r]=l(r)}}_getRotation(){return ns(this.options.rotation-90)}_getCircumference(){return ns(this.options.circumference)}_getRotationExtents(){let e=Et,t=-Et;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,l=s._getRotation(),r=s._getCircumference();e=Math.min(e,l),t=Math.max(t,l+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,l=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,o=Math.max((Math.min(i.width,i.height)-r)/2,0),a=Math.min(wA(this.options.cutout,o),1),f=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:g,offsetY:b}=AQ(d,u,a),_=(i.width-r)/h,y=(i.height-r)/p,k=Math.max(Math.min(_,y)/2,0),C=H2(this.options.radius,k),$=Math.max(C*a,0),T=(C-$)/this._getVisibleDatasetWeightTotal();this.offsetX=g*C,this.offsetY=b*C,s.total=this.calculateTotal(),this.outerRadius=C-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*f,0),this.updateElements(l,0,l.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,l=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*l/Et)}updateElements(e,t,i,s){const l=s==="reset",r=this.chart,o=r.chartArea,f=r.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=l&&f.animateScale,p=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:b,includeOptions:_}=this._getSharedOptions(t,s);let y=this._getRotation(),k;for(k=0;k<t;++k)y+=this._circumference(k,l);for(k=t;k<t+i;++k){const C=this._circumference(k,l),$=e[k],T={x:u+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+C,circumference:C,outerRadius:g,innerRadius:p};_&&(T.options=b||this.resolveDataElementOptions(k,$.active?"active":s)),y+=C,this.updateElement($,k,T,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const l=e._parsed[s];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(l))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Et*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],l=Da(t._parsed[e],i.options.locale);return{label:s[e]||"",value:l}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,l,r,o,a;if(!e){for(s=0,l=i.data.datasets.length;s<l;++s)if(i.isDatasetVisible(s)){r=i.getDatasetMeta(s),e=r.data,o=r.controller;break}}if(!e)return 0;for(s=0,l=e.length;s<l;++s)a=o.resolveDataElementOptions(s),a.borderAlign!=="inner"&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const l=this.resolveDataElementOptions(i);t=Math.max(t,l.offset||0,l.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(pt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ea.id="doughnut";Ea.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Ea.descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"};Ea.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const e=n.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=n.legend.options;return e.labels.map((i,s)=>{const r=n.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:t,hidden:!n.getDataVisibility(s),index:s}})}return[]}},onClick(n,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){let e=n.label;const t=": "+n.formattedValue;return Ut(e)?(e=e.slice(),e[0]+=t):e+=t,e}}}}};class oc extends ss{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:l}=t,r=this.chart._animationsDisabled;let{start:o,count:a}=sS(t,s,r);this._drawStart=o,this._drawCount=a,lS(t)&&(o=0,a=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!l._decimated,i.points=s;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:f},e),this.updateElements(s,o,a,e)}updateElements(e,t,i,s){const l=s==="reset",{iScale:r,vScale:o,_stacked:a,_dataset:f}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,s),h=r.axis,p=o.axis,{spanGaps:g,segment:b}=this.options,_=Vr(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||l||s==="none";let k=t>0&&this.getParsed(t-1);for(let C=t;C<t+i;++C){const $=e[C],T=this.getParsed(C),P=y?$:{},M=St(T[p]),Q=P[h]=r.getPixelForValue(T[h],C),E=P[p]=l||M?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,T,a):T[p],C);P.skip=isNaN(Q)||isNaN(E)||M,P.stop=C>0&&Math.abs(T[h]-k[h])>_,b&&(P.parsed=T,P.raw=f.data[C]),d&&(P.options=u||this.resolveDataElementOptions(C,$.active?"active":s)),y||this.updateElement($,C,P,s),k=T}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const l=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,l,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}oc.id="line";oc.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};oc.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Wp extends ss{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],l=Da(t._parsed[e].r,i.options.locale);return{label:s[e]||"",value:l}}parseObjectData(e,t,i,s){return gS.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const l=this.getParsed(s).r;!isNaN(l)&&this.chart.getDataVisibility(s)&&(l<t.min&&(t.min=l),l>t.max&&(t.max=l))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,s=Math.min(t.right-t.left,t.bottom-t.top),l=Math.max(s/2,0),r=Math.max(i.cutoutPercentage?l/100*i.cutoutPercentage:1,0),o=(l-r)/e.getVisibleDatasetCount();this.outerRadius=l-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,i,s){const l=s==="reset",r=this.chart,a=r.options.animation,f=this._cachedMeta.rScale,u=f.xCenter,d=f.yCenter,h=f.getIndexAngle(0)-.5*an;let p=h,g;const b=360/this.countVisibleElements();for(g=0;g<t;++g)p+=this._computeAngle(g,s,b);for(g=t;g<t+i;g++){const _=e[g];let y=p,k=p+this._computeAngle(g,s,b),C=r.getDataVisibility(g)?f.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=k,l&&(a.animateScale&&(C=0),a.animateRotate&&(y=k=h));const $={x:u,y:d,innerRadius:0,outerRadius:C,startAngle:y,endAngle:k,options:this.resolveDataElementOptions(g,_.active?"active":s)};this.updateElement(_,g,$,s)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?ns(this.resolveDataElementOptions(e,t).angle||i):0}}Wp.id="polarArea";Wp.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Wp.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const e=n.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=n.legend.options;return e.labels.map((i,s)=>{const r=n.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:t,hidden:!n.getDataVisibility(s),index:s}})}return[]}},onClick(n,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){return n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class $S extends Ea{}$S.id="pie";$S.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class zp extends ss{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,s){return gS.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta,i=t.dataset,s=t.data||[],l=t.iScale.getLabels();if(i.points=s,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const o={_loop:!0,_fullLoop:l.length===s.length,options:r};this.updateElement(i,void 0,o,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,i,s){const l=this._cachedMeta.rScale,r=s==="reset";for(let o=t;o<t+i;o++){const a=e[o],f=this.resolveDataElementOptions(o,a.active?"active":s),u=l.getPointPositionForValue(o,this.getParsed(o).r),d=r?l.xCenter:u.x,h=r?l.yCenter:u.y,p={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:f};this.updateElement(a,o,p,s)}}}zp.id="radar";zp.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};zp.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};let Ks=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Vr(this.x)&&Vr(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(l=>{s[l]=i[l]&&i[l].active()?i[l]._to:this[l]}),s}};Ks.defaults={};Ks.defaultRoutes=void 0;const CS={values(n){return Ut(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,l=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),l=QQ(n,t)}const r=xi(Math.abs(l)),o=Math.max(Math.min(-1*Math.floor(r),20),0),a={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(a,this.options.ticks.format),Da(n,i,a)},logarithmic(n,e,t){if(n===0)return"0";const i=n/Math.pow(10,Math.floor(xi(n)));return i===1||i===2||i===5?CS.numeric.call(this,n,e,t):""}};function QQ(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var ac={formatters:CS};mt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ac.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});mt.route("scale.ticks","color","","color");mt.route("scale.grid","color","","borderColor");mt.route("scale.grid","borderColor","","borderColor");mt.route("scale.title","color","","color");mt.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"});mt.describe("scales",{_fallback:"scale"});mt.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"});function DQ(n,e){const t=n.options.ticks,i=t.maxTicksLimit||EQ(n),s=t.major.enabled?RQ(e):[],l=s.length,r=s[0],o=s[l-1],a=[];if(l>i)return LQ(e,a,s,l/i),a;const f=IQ(s,e,i);if(l>0){let u,d;const h=l>1?Math.round((o-r)/(l-1)):null;for(of(e,a,f,St(h)?0:r-h,r),u=0,d=l-1;u<d;u++)of(e,a,f,s[u],s[u+1]);return of(e,a,f,o,St(h)?e.length:o+h),a}return of(e,a,f),a}function EQ(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function IQ(n,e,t){const i=NQ(n),s=e.length/t;if(!i)return Math.max(s,1);const l=QA(i);for(let r=0,o=l.length-1;r<o;r++){const a=l[r];if(a>s)return a}return Math.max(s,1)}function RQ(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function LQ(n,e,t,i){let s=0,l=t[0],r;for(i=Math.ceil(i),r=0;r<n.length;r++)r===l&&(e.push(n[r]),s++,l=t[s*i])}function of(n,e,t,i,s){const l=pt(i,0),r=Math.min(pt(s,n.length),n.length);let o=0,a,f,u;for(t=Math.ceil(t),s&&(a=s-i,t=a/Math.floor(a/t)),u=l;u<0;)o++,u=Math.round(l+o*t);for(f=Math.max(l,0);f<r;f++)f===u&&(e.push(n[f]),o++,u=Math.round(l+o*t))}function NQ(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const xQ=n=>n==="left"?"right":n==="right"?"left":n,y0=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t;function v0(n,e){const t=[],i=n.length/e,s=n.length;let l=0;for(;l<s;l+=i)t.push(n[Math.floor(l)]);return t}function ZQ(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),l=n._startPixel,r=n._endPixel,o=1e-6;let a=n.getPixelForTick(s),f;if(!(t&&(i===1?f=Math.max(a-l,r-a):e===0?f=(n.getPixelForTick(1)-a)/2:f=(a-n.getPixelForTick(s-1))/2,a+=s<e?f:-f,a<l-o||a>r+o)))return a}function FQ(n,e){Pt(n,t=>{const i=t.gc,s=i.length/2;let l;if(s>e){for(l=0;l<s;++l)delete t.data[i[l]];i.splice(0,s)}})}function yo(n){return n.drawTicks?n.tickLength:0}function k0(n,e){if(!n.display)return 0;const t=$i(n.font,e),i=zi(n.padding);return(Ut(n.text)?n.text.length:1)*t.lineHeight+i.height}function XQ(n,e){return Cl(n,{scale:e,type:"scale"})}function qQ(n,e,t){return Cl(n,{tick:t,index:e,type:"tick"})}function VQ(n,e,t){let i=ZA(n);return(t&&e!=="right"||!t&&e==="right")&&(i=xQ(i)),i}function jQ(n,e,t,i){const{top:s,left:l,bottom:r,right:o,chart:a}=n,{chartArea:f,scales:u}=a;let d=0,h,p,g;const b=r-s,_=o-l;if(n.isHorizontal()){if(p=zg(i,l,o),ct(t)){const y=Object.keys(t)[0],k=t[y];g=u[y].getPixelForValue(k)+b-e}else t==="center"?g=(f.bottom+f.top)/2+b-e:g=y0(n,t,e);h=o-l}else{if(ct(t)){const y=Object.keys(t)[0],k=t[y];p=u[y].getPixelForValue(k)-_+e}else t==="center"?p=(f.left+f.right)/2-_+e:p=y0(n,t,e);g=zg(i,r,s),d=t==="left"?-rn:rn}return{titleX:p,titleY:g,maxWidth:h,rotation:d}}class ur extends Ks{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=Ei(e,Number.POSITIVE_INFINITY),t=Ei(t,Number.NEGATIVE_INFINITY),i=Ei(i,Number.POSITIVE_INFINITY),s=Ei(s,Number.NEGATIVE_INFINITY),{min:Ei(e,i),max:Ei(t,s),minDefined:dn(e),maxDefined:dn(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:l}=this.getUserBounds(),r;if(s&&l)return{min:t,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,f=o.length;a<f;++a)r=o[a].controller.getMinMax(this,e),s||(t=Math.min(t,r.min)),l||(i=Math.max(i,r.max));return t=l&&t>i?i:t,i=s&&t>i?t:i,{min:Ei(t,Ei(i,t)),max:Ei(i,Ei(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ln(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:l,ticks:r}=this.options,o=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=y4(this,l,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?v0(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=DQ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ln(this.options.afterUpdate,[this])}beforeSetDimensions(){ln(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ln(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ln(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ln(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,l;for(i=0,s=e.length;i<s;i++)l=e[i],l.label=ln(t.callback,[l.value,i,e],this)}afterTickToLabelConversion(){ln(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ln(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=this.ticks.length,s=t.minRotation||0,l=t.maxRotation;let r=s,o,a,f;if(!this._isVisible()||!t.display||s>=l||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,p=zn(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/i:p/(i-1),d+6>o&&(o=p/(i-(e.offset?.5:1)),a=this.maxHeight-yo(e.grid)-t.padding-k0(e.title,this.chart.options.font),f=Math.sqrt(d*d+h*h),r=Dp(Math.min(Math.asin(zn((u.highest.height+6)/o,-1,1)),Math.asin(zn(a/f,-1,1))-Math.asin(zn(h/f,-1,1)))),r=Math.max(s,Math.min(l,r))),this.labelRotation=r}afterCalculateLabelRotation(){ln(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ln(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:l}}=this,r=this._isVisible(),o=this.isHorizontal();if(r){const a=k0(s,t.options.font);if(o?(e.width=this.maxWidth,e.height=yo(l)+a):(e.height=this.maxHeight,e.width=yo(l)+a),i.display&&this.ticks.length){const{first:f,last:u,widest:d,highest:h}=this._getLabelSizes(),p=i.padding*2,g=ns(this.labelRotation),b=Math.cos(g),_=Math.sin(g);if(o){const y=i.mirror?0:_*d.width+b*h.height;e.height=Math.min(this.maxHeight,e.height+y+p)}else{const y=i.mirror?0:b*d.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+y+p)}this._calculatePadding(f,u,_,b)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:l,padding:r},position:o}=this.options,a=this.labelRotation!==0,f=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;a?f?(h=s*e.width,p=i*t.height):(h=i*e.height,p=s*t.width):l==="start"?p=t.width:l==="end"?h=e.width:l!=="inner"&&(h=e.width/2,p=t.width/2),this.paddingLeft=Math.max((h-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+r)*this.width/(this.width-d),0)}else{let u=t.height/2,d=e.height/2;l==="start"?(u=0,d=e.height):l==="end"&&(u=t.height,d=0),this.paddingTop=u+r,this.paddingBottom=d+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ln(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)St(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=v0(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,t){const{ctx:i,_longestTextCache:s}=this,l=[],r=[];let o=0,a=0,f,u,d,h,p,g,b,_,y,k,C;for(f=0;f<t;++f){if(h=e[f].label,p=this._resolveTickFontOptions(f),i.font=g=p.string,b=s[g]=s[g]||{data:{},gc:[]},_=p.lineHeight,y=k=0,!St(h)&&!Ut(h))y=hu(i,b.data,b.gc,y,h),k=_;else if(Ut(h))for(u=0,d=h.length;u<d;++u)C=h[u],!St(C)&&!Ut(C)&&(y=hu(i,b.data,b.gc,y,C),k+=_);l.push(y),r.push(k),o=Math.max(y,o),a=Math.max(k,a)}FQ(s,t);const $=l.indexOf(o),T=r.indexOf(a),P=M=>({width:l[M]||0,height:r[M]||0});return{first:P(0),last:P(t-1),widest:P($),highest:P(T),widths:l,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return IA(this._alignToPixels?Il(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=qQ(this.getContext(),e,i))}return this.$context||(this.$context=XQ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ns(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),l=this._getLabelSizes(),r=e.autoSkipPadding||0,o=l?l.widest.width+r:0,a=l?l.highest.height+r:0;return this.isHorizontal()?a*i>o*s?o/i:a/s:a*s<o*i?a/i:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:l,position:r}=s,o=l.offset,a=this.isHorizontal(),u=this.ticks.length+(o?1:0),d=yo(l),h=[],p=l.setContext(this.getContext()),g=p.drawBorder?p.borderWidth:0,b=g/2,_=function(F){return Il(i,F,g)};let y,k,C,$,T,P,M,Q,E,R,L,N;if(r==="top")y=_(this.bottom),P=this.bottom-d,Q=y-b,R=_(e.top)+b,N=e.bottom;else if(r==="bottom")y=_(this.top),R=e.top,N=_(e.bottom)-b,P=y+b,Q=this.top+d;else if(r==="left")y=_(this.right),T=this.right-d,M=y-b,E=_(e.left)+b,L=e.right;else if(r==="right")y=_(this.left),E=e.left,L=_(e.right)-b,T=y+b,M=this.left+d;else if(t==="x"){if(r==="center")y=_((e.top+e.bottom)/2+.5);else if(ct(r)){const F=Object.keys(r)[0],U=r[F];y=_(this.chart.scales[F].getPixelForValue(U))}R=e.top,N=e.bottom,P=y+b,Q=P+d}else if(t==="y"){if(r==="center")y=_((e.left+e.right)/2);else if(ct(r)){const F=Object.keys(r)[0],U=r[F];y=_(this.chart.scales[F].getPixelForValue(U))}T=y-b,M=T-d,E=e.left,L=e.right}const x=pt(s.ticks.maxTicksLimit,u),Z=Math.max(1,Math.ceil(u/x));for(k=0;k<u;k+=Z){const F=l.setContext(this.getContext(k)),U=F.lineWidth,G=F.color,z=F.borderDash||[],B=F.borderDashOffset,le=F.tickWidth,te=F.tickColor,se=F.tickBorderDash||[],Oe=F.tickBorderDashOffset;C=ZQ(this,k,o),C!==void 0&&($=Il(i,C,U),a?T=M=E=L=$:P=Q=R=N=$,h.push({tx1:T,ty1:P,tx2:M,ty2:Q,x1:E,y1:R,x2:L,y2:N,width:U,color:G,borderDash:z,borderDashOffset:B,tickWidth:le,tickColor:te,tickBorderDash:se,tickBorderDashOffset:Oe}))}return this._ticksLength=u,this._borderValue=y,h}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:l}=i,r=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:f,padding:u,mirror:d}=l,h=yo(i.grid),p=h+u,g=d?-u:p,b=-ns(this.labelRotation),_=[];let y,k,C,$,T,P,M,Q,E,R,L,N,x="middle";if(s==="top")P=this.bottom-g,M=this._getXAxisLabelAlignment();else if(s==="bottom")P=this.top+g,M=this._getXAxisLabelAlignment();else if(s==="left"){const F=this._getYAxisLabelAlignment(h);M=F.textAlign,T=F.x}else if(s==="right"){const F=this._getYAxisLabelAlignment(h);M=F.textAlign,T=F.x}else if(t==="x"){if(s==="center")P=(e.top+e.bottom)/2+p;else if(ct(s)){const F=Object.keys(s)[0],U=s[F];P=this.chart.scales[F].getPixelForValue(U)+p}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")T=(e.left+e.right)/2-p;else if(ct(s)){const F=Object.keys(s)[0],U=s[F];T=this.chart.scales[F].getPixelForValue(U)}M=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(a==="start"?x="top":a==="end"&&(x="bottom"));const Z=this._getLabelSizes();for(y=0,k=o.length;y<k;++y){C=o[y],$=C.label;const F=l.setContext(this.getContext(y));Q=this.getPixelForTick(y)+l.labelOffset,E=this._resolveTickFontOptions(y),R=E.lineHeight,L=Ut($)?$.length:1;const U=L/2,G=F.color,z=F.textStrokeColor,B=F.textStrokeWidth;let le=M;r?(T=Q,M==="inner"&&(y===k-1?le=this.options.reverse?"left":"right":y===0?le=this.options.reverse?"right":"left":le="center"),s==="top"?f==="near"||b!==0?N=-L*R+R/2:f==="center"?N=-Z.highest.height/2-U*R+R:N=-Z.highest.height+R/2:f==="near"||b!==0?N=R/2:f==="center"?N=Z.highest.height/2-U*R:N=Z.highest.height-L*R,d&&(N*=-1)):(P=Q,N=(1-L)*R/2);let te;if(F.showLabelBackdrop){const se=zi(F.backdropPadding),Oe=Z.heights[y],$e=Z.widths[y];let Ze=P+N-se.top,He=T-se.left;switch(x){case"middle":Ze-=Oe/2;break;case"bottom":Ze-=Oe;break}switch(M){case"center":He-=$e/2;break;case"right":He-=$e;break}te={left:He,top:Ze,width:$e+se.width,height:Oe+se.height,color:F.backdropColor}}_.push({rotation:b,label:$,font:E,color:G,strokeColor:z,strokeWidth:B,textOffset:N,textAlign:le,textBaseline:x,translation:[T,P],backdrop:te})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ns(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:l}}=this.options,r=this._getLabelSizes(),o=e+l,a=r.widest.width;let f,u;return t==="left"?s?(u=this.right+l,i==="near"?f="left":i==="center"?(f="center",u+=a/2):(f="right",u+=a)):(u=this.right-o,i==="near"?f="right":i==="center"?(f="center",u-=a/2):(f="left",u=this.left)):t==="right"?s?(u=this.left+l,i==="near"?f="right":i==="center"?(f="center",u-=a/2):(f="left",u-=a)):(u=this.left+o,i==="near"?f="left":i==="center"?(f="center",u+=a/2):(f="right",u=this.right)):f="right",{textAlign:f,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:l,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,l,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(l=>l.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,r;const o=(a,f,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(l=0,r=s.length;l<r;++l){const a=s[l];t.drawOnChartArea&&o({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),t.drawTicks&&o({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:i}}=this,s=i.setContext(this.getContext()),l=i.drawBorder?s.borderWidth:0;if(!l)return;const r=i.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let a,f,u,d;this.isHorizontal()?(a=Il(e,this.left,l)-l/2,f=Il(e,this.right,r)+r/2,u=d=o):(u=Il(e,this.top,l)-l/2,d=Il(e,this.bottom,r)+r/2,a=f=o),t.save(),t.lineWidth=s.borderWidth,t.strokeStyle=s.borderColor,t.beginPath(),t.moveTo(a,u),t.lineTo(f,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Np(i,s);const l=this._labelItems||(this._labelItems=this._computeLabelItems(e));let r,o;for(r=0,o=l.length;r<o;++r){const a=l[r],f=a.font,u=a.label;a.backdrop&&(i.fillStyle=a.backdrop.color,i.fillRect(a.backdrop.left,a.backdrop.top,a.backdrop.width,a.backdrop.height));let d=a.textOffset;pu(i,u,0,d,f,a)}s&&xp(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const l=$i(i.font),r=zi(i.padding),o=i.align;let a=l.lineHeight/2;t==="bottom"||t==="center"||ct(t)?(a+=r.bottom,Ut(i.text)&&(a+=l.lineHeight*(i.text.length-1))):a+=r.top;const{titleX:f,titleY:u,maxWidth:d,rotation:h}=jQ(this,a,t,o);pu(e,i.text,0,0,l,{color:i.color,maxWidth:d,rotation:h,textAlign:VQ(o,t,s),textBaseline:"middle",translation:[f,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=pt(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==ur.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let l,r;for(l=0,r=t.length;l<r;++l){const o=t[l];o[i]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return $i(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class af{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;zQ(t)&&(i=this.register(t));const s=this.items,l=e.id,r=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in s||(s[l]=e,UQ(e,r,i),this.override&&mt.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in mt[s]&&(delete mt[s][i],this.override&&delete nr[i])}}function UQ(n,e,t){const i=ea(Object.create(null),[t?mt.get(t):{},mt.get(e),n.defaults]);mt.set(e,i),n.defaultRoutes&&WQ(e,n.defaultRoutes),n.descriptors&&mt.describe(e,n.descriptors)}function WQ(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),l=[n].concat(i).join("."),r=e[t].split("."),o=r.pop(),a=r.join(".");mt.route(l,s,a,o)})}function zQ(n){return"id"in n&&"defaults"in n}class BQ{constructor(){this.controllers=new af(ss,"datasets",!0),this.elements=new af(Ks,"elements"),this.plugins=new af(Object,"plugins"),this.scales=new af(ur,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const l=i||this._getRegistryForType(s);i||l.isForType(s)||l===this.plugins&&s.id?this._exec(e,l,s):Pt(s,r=>{const o=i||this._getRegistryForType(r);this._exec(e,o,r)})})}_exec(e,t,i){const s=Qp(e);ln(i["before"+s],[],i),t[e](i),ln(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var _s=new BQ;class Bp extends ss{update(e){const t=this._cachedMeta,{data:i=[]}=t,s=this.chart._animationsDisabled;let{start:l,count:r}=sS(t,i,s);if(this._drawStart=l,this._drawCount=r,lS(t)&&(l=0,r=i.length),this.options.showLine){const{dataset:o,_dataset:a}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!a._decimated,o.points=i;const f=this.resolveDatasetElementOptions(e);f.segment=this.options.segment,this.updateElement(o,void 0,{animated:!s,options:f},e)}this.updateElements(i,l,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=_s.getElement("line")),super.addElements()}updateElements(e,t,i,s){const l=s==="reset",{iScale:r,vScale:o,_stacked:a,_dataset:f}=this._cachedMeta,u=this.resolveDataElementOptions(t,s),d=this.getSharedOptions(u),h=this.includeOptions(s,d),p=r.axis,g=o.axis,{spanGaps:b,segment:_}=this.options,y=Vr(b)?b:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||l||s==="none";let C=t>0&&this.getParsed(t-1);for(let $=t;$<t+i;++$){const T=e[$],P=this.getParsed($),M=k?T:{},Q=St(P[g]),E=M[p]=r.getPixelForValue(P[p],$),R=M[g]=l||Q?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,P,a):P[g],$);M.skip=isNaN(E)||isNaN(R)||Q,M.stop=$>0&&Math.abs(P[p]-C[p])>y,_&&(M.parsed=P,M.raw=f.data[$]),h&&(M.options=d||this.resolveDataElementOptions($,T.active?"active":s)),k||this.updateElement(T,$,M,s),C=P}this.updateSharedOptions(d,s,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let o=0;for(let a=t.length-1;a>=0;--a)o=Math.max(o,t[a].size(this.resolveDataElementOptions(a))/2);return o>0&&o}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!t.length)return s;const l=t[0].size(this.resolveDataElementOptions(0)),r=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(s,l,r)/2}}Bp.id="scatter";Bp.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};Bp.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(n){return"("+n.label+", "+n.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function Rl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class oh{constructor(e){this.options=e||{}}init(e){}formats(){return Rl()}parse(e,t){return Rl()}format(e,t){return Rl()}add(e,t,i){return Rl()}diff(e,t,i){return Rl()}startOf(e,t,i){return Rl()}endOf(e,t){return Rl()}}oh.override=function(n){Object.assign(oh.prototype,n)};var TS={_date:oh};function YQ(n,e,t,i){const{controller:s,data:l,_sorted:r}=n,o=s._cachedMeta.iScale;if(o&&e===o.axis&&e!=="r"&&r&&l.length){const a=o._reversePixels?RA:jl;if(i){if(s._sharedOptions){const f=l[0],u=typeof f.getRange=="function"&&f.getRange(e);if(u){const d=a(l,e,t-u),h=a(l,e,t+u);return{lo:d.lo,hi:h.hi}}}}else return a(l,e,t)}return{lo:0,hi:l.length-1}}function Ia(n,e,t,i,s){const l=n.getSortedVisibleDatasetMetas(),r=t[e];for(let o=0,a=l.length;o<a;++o){const{index:f,data:u}=l[o],{lo:d,hi:h}=YQ(l[o],e,r,s);for(let p=d;p<=h;++p){const g=u[p];g.skip||i(g,f,p)}}}function HQ(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const l=e?Math.abs(i.x-s.x):0,r=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(r,2))}}function Bc(n,e,t,i,s){const l=[];return!s&&!n.isPointInArea(e)||Ia(n,t,e,function(o,a,f){!s&&!ia(o,n.chartArea,0)||o.inRange(e.x,e.y,i)&&l.push({element:o,datasetIndex:a,index:f})},!0),l}function GQ(n,e,t,i){let s=[];function l(r,o,a){const{startAngle:f,endAngle:u}=r.getProps(["startAngle","endAngle"],i),{angle:d}=J2(r,{x:e.x,y:e.y});ta(d,f,u)&&s.push({element:r,datasetIndex:o,index:a})}return Ia(n,t,e,l),s}function KQ(n,e,t,i,s,l){let r=[];const o=HQ(t);let a=Number.POSITIVE_INFINITY;function f(u,d,h){const p=u.inRange(e.x,e.y,s);if(i&&!p)return;const g=u.getCenterPoint(s);if(!(!!l||n.isPointInArea(g))&&!p)return;const _=o(e,g);_<a?(r=[{element:u,datasetIndex:d,index:h}],a=_):_===a&&r.push({element:u,datasetIndex:d,index:h})}return Ia(n,t,e,f),r}function Yc(n,e,t,i,s,l){return!l&&!n.isPointInArea(e)?[]:t==="r"&&!i?GQ(n,e,t,s):KQ(n,e,t,i,s,l)}function w0(n,e,t,i,s){const l=[],r=t==="x"?"inXRange":"inYRange";let o=!1;return Ia(n,t,e,(a,f,u)=>{a[r](e[t],s)&&(l.push({element:a,datasetIndex:f,index:u}),o=o||a.inRange(e.x,e.y,s))}),i&&!o?[]:l}var JQ={evaluateInteractionItems:Ia,modes:{index(n,e,t,i){const s=Zl(e,n),l=t.axis||"x",r=t.includeInvisible||!1,o=t.intersect?Bc(n,s,l,i,r):Yc(n,s,l,!1,i,r),a=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const u=o[0].index,d=f.data[u];d&&!d.skip&&a.push({element:d,datasetIndex:f.index,index:u})}),a):[]},dataset(n,e,t,i){const s=Zl(e,n),l=t.axis||"xy",r=t.includeInvisible||!1;let o=t.intersect?Bc(n,s,l,i,r):Yc(n,s,l,!1,i,r);if(o.length>0){const a=o[0].datasetIndex,f=n.getDatasetMeta(a).data;o=[];for(let u=0;u<f.length;++u)o.push({element:f[u],datasetIndex:a,index:u})}return o},point(n,e,t,i){const s=Zl(e,n),l=t.axis||"xy",r=t.includeInvisible||!1;return Bc(n,s,l,i,r)},nearest(n,e,t,i){const s=Zl(e,n),l=t.axis||"xy",r=t.includeInvisible||!1;return Yc(n,s,l,t.intersect,i,r)},x(n,e,t,i){const s=Zl(e,n);return w0(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=Zl(e,n);return w0(n,s,"y",t.intersect,i)}}};const PS=["left","top","right","bottom"];function vo(n,e){return n.filter(t=>t.pos===e)}function S0(n,e){return n.filter(t=>PS.indexOf(t.pos)===-1&&t.box.axis===e)}function ko(n,e){return n.sort((t,i)=>{const s=e?i:t,l=e?t:i;return s.weight===l.weight?s.index-l.index:s.weight-l.weight})}function eD(n){const e=[];let t,i,s,l,r,o;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:l,options:{stack:r,stackWeight:o=1}}=s,e.push({index:t,box:s,pos:l,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&l+r,stackWeight:o});return e}function tD(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:l}=t;if(!i||!PS.includes(s))continue;const r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=l}return e}function nD(n,e){const t=tD(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let l,r,o;for(l=0,r=n.length;l<r;++l){o=n[l];const{fullSize:a}=o.box,f=t[o.stack],u=f&&o.stackWeight/f.weight;o.horizontal?(o.width=u?u*i:a&&e.availableWidth,o.height=s):(o.width=i,o.height=u?u*s:a&&e.availableHeight)}return t}function iD(n){const e=eD(n),t=ko(e.filter(f=>f.box.fullSize),!0),i=ko(vo(e,"left"),!0),s=ko(vo(e,"right")),l=ko(vo(e,"top"),!0),r=ko(vo(e,"bottom")),o=S0(e,"x"),a=S0(e,"y");return{fullSize:t,leftAndTop:i.concat(l),rightAndBottom:s.concat(a).concat(r).concat(o),chartArea:vo(e,"chartArea"),vertical:i.concat(s).concat(a),horizontal:l.concat(r).concat(o)}}function $0(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function MS(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function sD(n,e,t,i){const{pos:s,box:l}=t,r=n.maxPadding;if(!ct(s)){t.size&&(n[s]-=t.size);const d=i[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?l.height:l.width),t.size=d.size/d.count,n[s]+=t.size}l.getPadding&&MS(r,l.getPadding());const o=Math.max(0,e.outerWidth-$0(r,n,"left","right")),a=Math.max(0,e.outerHeight-$0(r,n,"top","bottom")),f=o!==n.w,u=a!==n.h;return n.w=o,n.h=a,t.horizontal?{same:f,other:u}:{same:u,other:f}}function lD(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function rD(n,e){const t=e.maxPadding;function i(s){const l={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{l[r]=Math.max(e[r],t[r])}),l}return i(n?["left","right"]:["top","bottom"])}function Io(n,e,t,i){const s=[];let l,r,o,a,f,u;for(l=0,r=n.length,f=0;l<r;++l){o=n[l],a=o.box,a.update(o.width||e.w,o.height||e.h,rD(o.horizontal,e));const{same:d,other:h}=sD(e,t,o,i);f|=d&&s.length,u=u||h,a.fullSize||s.push(o)}return f&&Io(s,e,t,i)||u}function ff(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function C0(n,e,t,i){const s=t.padding;let{x:l,y:r}=e;for(const o of n){const a=o.box,f=i[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/f.weight||1;if(o.horizontal){const d=e.w*u,h=f.size||a.height;Wi(f.start)&&(r=f.start),a.fullSize?ff(a,s.left,r,t.outerWidth-s.right-s.left,h):ff(a,e.left+f.placed,r,d,h),f.start=r,f.placed+=d,r=a.bottom}else{const d=e.h*u,h=f.size||a.width;Wi(f.start)&&(l=f.start),a.fullSize?ff(a,l,s.top,h,t.outerHeight-s.bottom-s.top):ff(a,l,e.top+f.placed,h,d),f.start=l,f.placed+=d,l=a.right}}e.x=l,e.y=r}mt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var uf={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=zi(n.options.layout.padding),l=Math.max(e-s.width,0),r=Math.max(t-s.height,0),o=iD(n.boxes),a=o.vertical,f=o.horizontal;Pt(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const u=a.reduce((b,_)=>_.box.options&&_.box.options.display===!1?b:b+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:l,availableHeight:r,vBoxMaxWidth:l/2/u,hBoxMaxHeight:r/2}),h=Object.assign({},s);MS(h,zi(i));const p=Object.assign({maxPadding:h,w:l,h:r,x:s.left,y:s.top},s),g=nD(a.concat(f),d);Io(o.fullSize,p,d,g),Io(a,p,d,g),Io(f,p,d,g)&&Io(a,p,d,g),lD(p),C0(o.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,C0(o.rightAndBottom,p,d,g),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Pt(o.chartArea,b=>{const _=b.box;Object.assign(_,n.chartArea),_.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class AS{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class oD extends AS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ff="$chartjs",aD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},T0=n=>n===null||n==="";function fD(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Ff]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",T0(s)){const l=l0(n,"width");l!==void 0&&(n.width=l)}if(T0(i))if(n.style.height==="")n.height=n.width/(e||2);else{const l=l0(n,"height");l!==void 0&&(n.height=l)}return n}const QS=V4?{passive:!0}:!1;function uD(n,e,t){n.addEventListener(e,t,QS)}function cD(n,e,t){n.canvas.removeEventListener(e,t,QS)}function dD(n,e){const t=aD[n.type]||n.type,{x:i,y:s}=Zl(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function bu(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function hD(n,e,t){const i=n.canvas,s=new MutationObserver(l=>{let r=!1;for(const o of l)r=r||bu(o.addedNodes,i),r=r&&!bu(o.removedNodes,i);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function pD(n,e,t){const i=n.canvas,s=new MutationObserver(l=>{let r=!1;for(const o of l)r=r||bu(o.removedNodes,i),r=r&&!bu(o.addedNodes,i);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const sa=new Map;let P0=0;function DS(){const n=window.devicePixelRatio;n!==P0&&(P0=n,sa.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function mD(n,e){sa.size||window.addEventListener("resize",DS),sa.set(n,e)}function gD(n){sa.delete(n),sa.size||window.removeEventListener("resize",DS)}function bD(n,e,t){const i=n.canvas,s=i&&Vp(i);if(!s)return;const l=iS((o,a)=>{const f=s.clientWidth;t(o,a),f<s.clientWidth&&t()},window),r=new ResizeObserver(o=>{const a=o[0],f=a.contentRect.width,u=a.contentRect.height;f===0&&u===0||l(f,u)});return r.observe(s),mD(n,l),r}function Hc(n,e,t){t&&t.disconnect(),e==="resize"&&gD(n)}function _D(n,e,t){const i=n.canvas,s=iS(l=>{n.ctx!==null&&t(dD(l,n))},n,l=>{const r=l[0];return[r,r.offsetX,r.offsetY]});return uD(i,e,s),s}class OD extends AS{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(fD(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Ff])return!1;const i=t[Ff].initial;["height","width"].forEach(l=>{const r=i[l];St(r)?t.removeAttribute(l):t.setAttribute(l,r)});const s=i.style||{};return Object.keys(s).forEach(l=>{t.style[l]=s[l]}),t.width=t.width,delete t[Ff],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),r={attach:hD,detach:pD,resize:bD}[t]||_D;s[t]=r(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:Hc,detach:Hc,resize:Hc}[t]||cD)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return q4(e,t,i,s)}isAttached(e){const t=Vp(e);return!!(t&&t.isConnected)}}function yD(n){return!_S()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?oD:OD}class vD{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=s?this._descriptors(e).filter(s):this._descriptors(e),r=this._notify(l,e,t,i);return t==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,i,s){s=s||{};for(const l of e){const r=l.plugin,o=r[i],a=[t,s,l.options];if(ln(o,a,r)===!1&&s.cancelable)return!1}return!0}invalidate(){St(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=pt(i.options&&i.options.plugins,{}),l=kD(i);return s===!1&&!t?[]:SD(e,l,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(l,r)=>l.filter(o=>!r.some(a=>o.plugin.id===a.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function kD(n){const e={},t=[],i=Object.keys(_s.plugins.items);for(let l=0;l<i.length;l++)t.push(_s.getPlugin(i[l]));const s=n.plugins||[];for(let l=0;l<s.length;l++){const r=s[l];t.indexOf(r)===-1&&(t.push(r),e[r.id]=!0)}return{plugins:t,localIds:e}}function wD(n,e){return!e&&n===!1?null:n===!0?{}:n}function SD(n,{plugins:e,localIds:t},i,s){const l=[],r=n.getContext();for(const o of e){const a=o.id,f=wD(i[a],s);f!==null&&l.push({plugin:o,options:$D(n.config,{plugin:o,local:t[a]},f,r)})}return l}function $D(n,{plugin:e,local:t},i,s){const l=n.pluginScopeKeys(e),r=n.getOptionScopes(i,l);return t&&e.defaults&&r.push(e.defaults),n.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ah(n,e){const t=mt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function CD(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function TD(n,e){return n===e?"_index_":"_value_"}function PD(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function fh(n,e){return n==="x"||n==="y"?n:e.axis||PD(e.position)||n.charAt(0).toLowerCase()}function MD(n,e){const t=nr[n.type]||{scales:{}},i=e.scales||{},s=ah(n.type,e),l=Object.create(null),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!ct(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const f=fh(o,a),u=TD(f,s),d=t.scales||{};l[f]=l[f]||o,r[o]=qo(Object.create(null),[{axis:f},a,d[f],d[u]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,f=o.indexAxis||ah(a,e),d=(nr[a]||{}).scales||{};Object.keys(d).forEach(h=>{const p=CD(h,f),g=o[p+"AxisID"]||l[p]||p;r[g]=r[g]||Object.create(null),qo(r[g],[{axis:p},i[g],d[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];qo(a,[mt.scales[a.type],mt.scale])}),r}function ES(n){const e=n.options||(n.options={});e.plugins=pt(e.plugins,{}),e.scales=MD(n,e)}function IS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function AD(n){return n=n||{},n.data=IS(n.data),ES(n),n}const M0=new Map,RS=new Set;function cf(n,e){let t=M0.get(n);return t||(t=e(),M0.set(n,t),RS.add(t)),t}const wo=(n,e,t)=>{const i=bl(e,t);i!==void 0&&n.add(i)};class QD{constructor(e){this._config=AD(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=IS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ES(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return cf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return cf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return cf(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:l}=this,r=this._cachedScopes(e,i),o=r.get(t);if(o)return o;const a=new Set;t.forEach(u=>{e&&(a.add(e),u.forEach(d=>wo(a,e,d))),u.forEach(d=>wo(a,s,d)),u.forEach(d=>wo(a,nr[l]||{},d)),u.forEach(d=>wo(a,mt,d)),u.forEach(d=>wo(a,lh,d))});const f=Array.from(a);return f.length===0&&f.push(Object.create(null)),RS.has(t)&&r.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,nr[t]||{},mt.datasets[t]||{},{type:t},mt,lh]}resolveNamedOptions(e,t,i,s=[""]){const l={$shared:!0},{resolver:r,subPrefixes:o}=A0(this._resolverCache,e,s);let a=r;if(ED(r,t)){l.$shared=!1,i=_l(i)?i():i;const f=this.createResolver(e,i,o);a=jr(r,i,f)}for(const f of t)l[f]=a[f];return l}createResolver(e,t,i=[""],s){const{resolver:l}=A0(this._resolverCache,e,i);return ct(t)?jr(l,t,void 0,s):l}}function A0(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let l=i.get(s);return l||(l={resolver:Fp(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},i.set(s,l)),l}const DD=n=>ct(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||_l(n[t]),!1);function ED(n,e){const{isScriptable:t,isIndexable:i}=dS(n);for(const s of e){const l=t(s),r=i(s),o=(r||l)&&n[s];if(l&&(_l(o)||DD(o))||r&&Ut(o))return!0}return!1}var ID="3.9.1";const RD=["top","bottom","left","right","chartArea"];function Q0(n,e){return n==="top"||n==="bottom"||RD.indexOf(n)===-1&&e==="x"}function D0(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function E0(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ln(t&&t.onComplete,[n],e)}function LD(n){const e=n.chart,t=e.options.animation;ln(t&&t.onProgress,[n],e)}function LS(n){return _S()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const _u={},NS=n=>{const e=LS(n);return Object.values(_u).filter(t=>t.canvas===e).pop()};function ND(n,e,t){const i=Object.keys(n);for(const s of i){const l=+s;if(l>=e){const r=n[s];delete n[s],(t>0||l>e)&&(n[l+t]=r)}}}function xD(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class Ou{constructor(e,t){const i=this.config=new QD(t),s=LS(e),l=NS(s);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||yD(s)),this.platform.updateConfig(i);const o=this.platform.acquireContext(s,r.aspectRatio),a=o&&o.canvas,f=a&&a.height,u=a&&a.width;if(this.id=kA(),this.ctx=o,this.canvas=a,this.width=u,this.height=f,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vD,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xA(d=>this.update(d),r.resizeDelay||0),this._dataChanges=[],_u[this.id]=this,!o||!a){console.error("Failed to create chart: can't acquire context from the given item");return}xs.listen(this,"complete",E0),xs.listen(this,"progress",LD),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:l}=this;return St(e)?t&&l?l:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():s0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return t0(this.canvas,this.ctx),this}stop(){return xs.stop(this),this}resize(e,t){xs.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,l=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,e,t,l),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,s0(this,o,!0)&&(this.notifyPlugins("resize",{size:r}),ln(i.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Pt(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((r,o)=>(r[o]=!1,r),{});let l=[];t&&(l=l.concat(Object.keys(t).map(r=>{const o=t[r],a=fh(r,o),f=a==="r",u=a==="x";return{options:o,dposition:f?"chartArea":u?"bottom":"left",dtype:f?"radialLinear":u?"category":"linear"}}))),Pt(l,r=>{const o=r.options,a=o.id,f=fh(a,o),u=pt(o.type,r.dtype);(o.position===void 0||Q0(o.position,f)!==Q0(r.dposition))&&(o.position=r.dposition),s[a]=!0;let d=null;if(a in i&&i[a].type===u)d=i[a];else{const h=_s.getScale(u);d=new h({id:a,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(o,e)}),Pt(s,(r,o)=>{r||delete i[o]}),Pt(i,r=>{uf.configure(this,r,r.options),uf.addBox(this,r)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,l)=>s.index-l.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(D0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(l=>l===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const l=t[i];let r=this.getDatasetMeta(i);const o=l.type||this.config.type;if(r.type&&r.type!==o&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=o,r.indexAxis=l.indexAxis||ah(o,this.options),r.order=l.order||0,r.index=i,r.label=""+l.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const a=_s.getController(o),{datasetElementType:f,dataElementType:u}=mt.datasets[o];Object.assign(a.prototype,{dataElementType:_s.getElement(u),datasetElementType:f&&_s.getElement(f)}),r.controller=new a(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Pt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let f=0,u=this.data.datasets.length;f<u;f++){const{controller:d}=this.getDatasetMeta(f),h=!s&&l.indexOf(d)===-1;d.buildOrUpdateElements(h),r=Math.max(+d.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),s||Pt(l,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(D0("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Pt(this.scales,e=>{uf.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!qg(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:l}of t){const r=i==="_removeElements"?-l:l;ND(e,s,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=l=>new Set(e.filter(r=>r[0]===l).map((r,o)=>o+","+r.splice(1).join(","))),s=i(0);for(let l=1;l<t;l++)if(!qg(s,i(l)))return;return Array.from(s).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;uf.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Pt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,l)=>{s._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,_l(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xs.has(this)?this.attached&&!xs.running(this)&&xs.start(this):(this.draw(),E0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,l;for(s=0,l=t.length;s<l;++s){const r=t[s];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,s=!i.disabled,l=this.chartArea,r={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Np(t,{left:i.left===!1?0:l.left-i.left,right:i.right===!1?this.width:l.right+i.right,top:i.top===!1?0:l.top-i.top,bottom:i.bottom===!1?this.height:l.bottom+i.bottom}),e.controller.draw(),s&&xp(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return ia(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const l=JQ.modes[t];return typeof l=="function"?l(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(l=>l&&l._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Cl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",l=this.getDatasetMeta(e),r=l.controller._resolveAnimations(void 0,s);Wi(t)?(l.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(l,{visible:i}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),xs.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),t0(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete _u[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(l,r)=>{t.addEventListener(this,l,r),e[l]=r},s=(l,r,o)=>{l.offsetX=r,l.offsetY=o,this._eventHandler(l)};Pt(this.options.events,l=>i(l,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(a,f)=>{t.addEventListener(this,a,f),e[a]=f},s=(a,f)=>{e[a]&&(t.removeEventListener(this,a,f),delete e[a])},l=(a,f)=>{this.canvas&&this.resize(a,f)};let r;const o=()=>{s("attach",o),this.attached=!0,this.resize(),i("resize",l),i("detach",r)};r=()=>{this.attached=!1,s("resize",l),this._stop(),this._resize(0,0),i("attach",o)},t.isAttached(this.canvas)?o():r()}unbindEvents(){Pt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Pt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let l,r,o,a;for(t==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+s+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){r=e[o];const f=r&&this.getDatasetMeta(r.datasetIndex).controller;f&&f[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:l,index:r})=>{const o=this.getDatasetMeta(l);if(!o)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:o.data[r],index:r}});!fu(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}_updateHoverStyles(e,t,i){const s=this.options.hover,l=(a,f)=>a.filter(u=>!f.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),r=l(t,e),o=i?e:l(e,t);r.length&&this.updateHoverStyle(r,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const l=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(l||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:l}=this,r=t,o=this._getActiveElements(e,s,i,r),a=PA(e),f=xD(e,this._lastEvent,i,a);i&&(this._lastEvent=null,ln(l.onHover,[e,o,this],this),a&&ln(l.onClick,[e,o,this],this));const u=!fu(o,s);return(u||t)&&(this._active=o,this._updateHoverStyles(o,s,t)),this._lastEvent=f,u}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,s)}}const I0=()=>Pt(Ou.instances,n=>n._plugins.invalidate()),nl=!0;Object.defineProperties(Ou,{defaults:{enumerable:nl,value:mt},instances:{enumerable:nl,value:_u},overrides:{enumerable:nl,value:nr},registry:{enumerable:nl,value:_s},version:{enumerable:nl,value:ID},getChart:{enumerable:nl,value:NS},register:{enumerable:nl,value:(...n)=>{_s.add(...n),I0()}},unregister:{enumerable:nl,value:(...n)=>{_s.remove(...n),I0()}}});function xS(n,e,t){const{startAngle:i,pixelMargin:s,x:l,y:r,outerRadius:o,innerRadius:a}=e;let f=s/o;n.beginPath(),n.arc(l,r,o,i-f,t+f),a>s?(f=s/a,n.arc(l,r,a,t+f,i-f,!0)):n.arc(l,r,s,t+rn,i-rn),n.closePath(),n.clip()}function ZD(n){return Zp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function FD(n,e,t,i){const s=ZD(n.options.borderRadius),l=(t-e)/2,r=Math.min(l,i*e/2),o=a=>{const f=(t-Math.min(l,a))*i/2;return zn(a,0,Math.min(l,f))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:zn(s.innerStart,0,r),innerEnd:zn(s.innerEnd,0,r)}}function _r(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function uh(n,e,t,i,s,l){const{x:r,y:o,startAngle:a,pixelMargin:f,innerRadius:u}=e,d=Math.max(e.outerRadius+i+t-f,0),h=u>0?u+i+t+f:0;let p=0;const g=s-a;if(i){const F=u>0?u-i:0,U=d>0?d-i:0,G=(F+U)/2,z=G!==0?g*G/(G+i):g;p=(g-z)/2}const b=Math.max(.001,g*d-t/an)/d,_=(g-b)/2,y=a+_+p,k=s-_-p,{outerStart:C,outerEnd:$,innerStart:T,innerEnd:P}=FD(e,h,d,k-y),M=d-C,Q=d-$,E=y+C/M,R=k-$/Q,L=h+T,N=h+P,x=y+T/L,Z=k-P/N;if(n.beginPath(),l){if(n.arc(r,o,d,E,R),$>0){const G=_r(Q,R,r,o);n.arc(G.x,G.y,$,R,k+rn)}const F=_r(N,k,r,o);if(n.lineTo(F.x,F.y),P>0){const G=_r(N,Z,r,o);n.arc(G.x,G.y,P,k+rn,Z+Math.PI)}if(n.arc(r,o,h,k-P/h,y+T/h,!0),T>0){const G=_r(L,x,r,o);n.arc(G.x,G.y,T,x+Math.PI,y-rn)}const U=_r(M,y,r,o);if(n.lineTo(U.x,U.y),C>0){const G=_r(M,E,r,o);n.arc(G.x,G.y,C,y-rn,E)}}else{n.moveTo(r,o);const F=Math.cos(E)*d+r,U=Math.sin(E)*d+o;n.lineTo(F,U);const G=Math.cos(R)*d+r,z=Math.sin(R)*d+o;n.lineTo(G,z)}n.closePath()}function XD(n,e,t,i,s){const{fullCircles:l,startAngle:r,circumference:o}=e;let a=e.endAngle;if(l){uh(n,e,t,i,r+Et,s);for(let f=0;f<l;++f)n.fill();isNaN(o)||(a=r+o%Et,o%Et===0&&(a+=Et))}return uh(n,e,t,i,a,s),n.fill(),a}function qD(n,e,t){const{x:i,y:s,startAngle:l,pixelMargin:r,fullCircles:o}=e,a=Math.max(e.outerRadius-r,0),f=e.innerRadius+r;let u;for(t&&xS(n,e,l+Et),n.beginPath(),n.arc(i,s,f,l+Et,l,!0),u=0;u<o;++u)n.stroke();for(n.beginPath(),n.arc(i,s,a,l,l+Et),u=0;u<o;++u)n.stroke()}function VD(n,e,t,i,s,l){const{options:r}=e,{borderWidth:o,borderJoinStyle:a}=r,f=r.borderAlign==="inner";o&&(f?(n.lineWidth=o*2,n.lineJoin=a||"round"):(n.lineWidth=o,n.lineJoin=a||"bevel"),e.fullCircles&&qD(n,e,f),f&&xS(n,e,s),uh(n,e,t,i,s,l),n.stroke())}class Yp extends Ks{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.getProps(["x","y"],i),{angle:l,distance:r}=J2(s,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:f,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=this.options.spacing/2,g=pt(d,a-o)>=Et||ta(l,o,a),b=na(r,f+h,u+h);return g&&b}getCenterPoint(e){const{x:t,y:i,startAngle:s,endAngle:l,innerRadius:r,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:a,spacing:f}=this.options,u=(s+l)/2,d=(r+o+f+a)/2;return{x:t+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,s=(t.offset||0)/2,l=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>Et?Math.floor(i/Et):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=0;if(s){o=s/2;const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*o,Math.sin(f)*o),this.circumference>=an&&(o=s)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const a=XD(e,this,o,l,r);VD(e,this,o,l,a,r),e.restore()}}Yp.id="arc";Yp.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};Yp.defaultRoutes={backgroundColor:"backgroundColor"};function ZS(n,e,t=e){n.lineCap=pt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(pt(t.borderDash,e.borderDash)),n.lineDashOffset=pt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=pt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=pt(t.borderWidth,e.borderWidth),n.strokeStyle=pt(t.borderColor,e.borderColor)}function jD(n,e,t){n.lineTo(t.x,t.y)}function UD(n){return n.stepped?d4:n.tension||n.cubicInterpolationMode==="monotone"?h4:jD}function FS(n,e,t={}){const i=n.length,{start:s=0,end:l=i-1}=t,{start:r,end:o}=e,a=Math.max(s,r),f=Math.min(l,o),u=s<r&&l<r||s>o&&l>o;return{count:i,start:a,loop:e.loop,ilen:f<a&&!u?i+f-a:f-a}}function WD(n,e,t,i){const{points:s,options:l}=e,{count:r,start:o,loop:a,ilen:f}=FS(s,t,i),u=UD(l);let{move:d=!0,reverse:h}=i||{},p,g,b;for(p=0;p<=f;++p)g=s[(o+(h?f-p:p))%r],!g.skip&&(d?(n.moveTo(g.x,g.y),d=!1):u(n,b,g,h,l.stepped),b=g);return a&&(g=s[(o+(h?f:0))%r],u(n,b,g,h,l.stepped)),!!a}function zD(n,e,t,i){const s=e.points,{count:l,start:r,ilen:o}=FS(s,t,i),{move:a=!0,reverse:f}=i||{};let u=0,d=0,h,p,g,b,_,y;const k=$=>(r+(f?o-$:$))%l,C=()=>{b!==_&&(n.lineTo(u,_),n.lineTo(u,b),n.lineTo(u,y))};for(a&&(p=s[k(0)],n.moveTo(p.x,p.y)),h=0;h<=o;++h){if(p=s[k(h)],p.skip)continue;const $=p.x,T=p.y,P=$|0;P===g?(T<b?b=T:T>_&&(_=T),u=(d*u+$)/++d):(C(),n.lineTo($,T),g=P,d=0,b=_=T),y=T}C()}function ch(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?zD:WD}function BD(n){return n.stepped?j4:n.tension||n.cubicInterpolationMode==="monotone"?U4:Fl}function YD(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),ZS(n,e.options),n.stroke(s)}function HD(n,e,t,i){const{segments:s,options:l}=e,r=ch(e);for(const o of s)ZS(n,l,o.style),n.beginPath(),r(n,e,o,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const GD=typeof Path2D=="function";function KD(n,e,t,i){GD&&!e.options.segment?YD(n,e,t,i):HD(n,e,t,i)}class Tl extends Ks{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;L4(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=eQ(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],l=this.points,r=vS(this,{property:t,start:s,end:s});if(!r.length)return;const o=[],a=BD(i);let f,u;for(f=0,u=r.length;f<u;++f){const{start:d,end:h}=r[f],p=l[d],g=l[h];if(p===g){o.push(p);continue}const b=Math.abs((s-p[t])/(g[t]-p[t])),_=a(p,g,b,i.stepped);_[t]=e[t],o.push(_)}return o.length===1?o[0]:o}pathSegment(e,t,i){return ch(this)(e,this,t,i)}path(e,t,i){const s=this.segments,l=ch(this);let r=this._loop;t=t||0,i=i||this.points.length-t;for(const o of s)r&=l(e,this,o,{start:t,end:t+i-1});return!!r}draw(e,t,i,s){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),KD(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Tl.id="line";Tl.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Tl.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Tl.descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};function R0(n,e,t,i){const s=n.options,{[t]:l}=n.getProps([t],i);return Math.abs(e-l)<s.radius+s.hitRadius}class fc extends Ks{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.options,{x:l,y:r}=this.getProps(["x","y"],i);return Math.pow(e-l,2)+Math.pow(t-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return R0(this,e,"x",t)}inYRange(e,t){return R0(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!ia(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,rh(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}fc.id="point";fc.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};fc.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function XS(n,e){const{x:t,y:i,base:s,width:l,height:r}=n.getProps(["x","y","base","width","height"],e);let o,a,f,u,d;return n.horizontal?(d=r/2,o=Math.min(t,s),a=Math.max(t,s),f=i-d,u=i+d):(d=l/2,o=t-d,a=t+d,f=Math.min(i,s),u=Math.max(i,s)),{left:o,top:f,right:a,bottom:u}}function fl(n,e,t,i){return n?0:zn(e,t,i)}function JD(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,l=cS(i);return{t:fl(s.top,l.top,0,t),r:fl(s.right,l.right,0,e),b:fl(s.bottom,l.bottom,0,t),l:fl(s.left,l.left,0,e)}}function eE(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,l=Ar(s),r=Math.min(e,t),o=n.borderSkipped,a=i||ct(s);return{topLeft:fl(!a||o.top||o.left,l.topLeft,0,r),topRight:fl(!a||o.top||o.right,l.topRight,0,r),bottomLeft:fl(!a||o.bottom||o.left,l.bottomLeft,0,r),bottomRight:fl(!a||o.bottom||o.right,l.bottomRight,0,r)}}function tE(n){const e=XS(n),t=e.right-e.left,i=e.bottom-e.top,s=JD(n,t/2,i/2),l=eE(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:l},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,l.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(s.b,s.r))}}}}function Gc(n,e,t,i){const s=e===null,l=t===null,o=n&&!(s&&l)&&XS(n,i);return o&&(s||na(e,o.left,o.right))&&(l||na(t,o.top,o.bottom))}function nE(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function iE(n,e){n.rect(e.x,e.y,e.w,e.h)}function Kc(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,l=(n.x+n.w!==t.x+t.w?e:0)-i,r=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+l,h:n.h+r,radius:n.radius}}class Hp extends Ks{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:l,outer:r}=tE(this),o=nE(r.radius)?mu:iE;e.save(),(r.w!==l.w||r.h!==l.h)&&(e.beginPath(),o(e,Kc(r,t,l)),e.clip(),o(e,Kc(l,-t,r)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),o(e,Kc(l,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return Gc(this,e,t,i)}inXRange(e,t){return Gc(this,e,null,t)}inYRange(e,t){return Gc(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(t+s)/2:t,y:l?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Hp.id="bar";Hp.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Hp.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function sE(n,e,t){const i=n.segments,s=n.points,l=e.points,r=[];for(const o of i){let{start:a,end:f}=o;f=Gp(a,f,s);const u=dh(t,s[a],s[f],o.loop);if(!e.segments){r.push({source:o,target:u,start:s[a],end:s[f]});continue}const d=vS(e,u);for(const h of d){const p=dh(t,l[h.start],l[h.end],h.loop),g=yS(o,s,p);for(const b of g)r.push({source:b,target:h,start:{[t]:L0(u,p,"start",Math.max)},end:{[t]:L0(u,p,"end",Math.min)}})}}return r}function dh(n,e,t,i){if(i)return;let s=e[n],l=t[n];return n==="angle"&&(s=ki(s),l=ki(l)),{property:n,start:s,end:l}}function lE(n,e){const{x:t=null,y:i=null}=n||{},s=e.points,l=[];return e.segments.forEach(({start:r,end:o})=>{o=Gp(r,o,s);const a=s[r],f=s[o];i!==null?(l.push({x:a.x,y:i}),l.push({x:f.x,y:i})):t!==null&&(l.push({x:t,y:a.y}),l.push({x:t,y:f.y}))}),l}function Gp(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function L0(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function qS(n,e){let t=[],i=!1;return Ut(n)?(i=!0,t=n):t=lE(n,e),t.length?new Tl({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function N0(n){return n&&n.fill!==!1}function rE(n,e,t){let s=n[e].fill;const l=[e];let r;if(!t)return s;for(;s!==!1&&l.indexOf(s)===-1;){if(!dn(s))return s;if(r=n[s],!r)return!1;if(r.visible)return s;l.push(s),s=r.fill}return!1}function oE(n,e,t){const i=cE(n);if(ct(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return dn(s)&&Math.floor(s)===s?aE(i[0],e,s,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function aE(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function fE(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:ct(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function uE(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:ct(n)?i=n.value:i=e.getBaseValue(),i}function cE(n){const e=n.options,t=e.fill;let i=pt(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function dE(n){const{scale:e,index:t,line:i}=n,s=[],l=i.segments,r=i.points,o=hE(e,t);o.push(qS({x:null,y:e.bottom},i));for(let a=0;a<l.length;a++){const f=l[a];for(let u=f.start;u<=f.end;u++)pE(s,r[u],o)}return new Tl({points:s,options:{}})}function hE(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const l=i[s];if(l.index===e)break;l.hidden||t.unshift(l.dataset)}return t}function pE(n,e,t){const i=[];for(let s=0;s<t.length;s++){const l=t[s],{first:r,last:o,point:a}=mE(l,e,"x");if(!(!a||r&&o)){if(r)i.unshift(a);else if(n.push(a),!o)break}}n.push(...i)}function mE(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const s=i[t],l=n.segments,r=n.points;let o=!1,a=!1;for(let f=0;f<l.length;f++){const u=l[f],d=r[u.start][t],h=r[u.end][t];if(na(s,d,h)){o=s===d,a=s===h;break}}return{first:o,last:a,point:i}}class VS{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:s,y:l,radius:r}=this;return t=t||{start:0,end:Et},e.arc(s,l,r,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:s}=this,l=e.angle;return{x:t+Math.cos(l)*s,y:i+Math.sin(l)*s,angle:l}}}function gE(n){const{chart:e,fill:t,line:i}=n;if(dn(t))return bE(e,t);if(t==="stack")return dE(n);if(t==="shape")return!0;const s=_E(n);return s instanceof VS?s:qS(s,i)}function bE(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function _E(n){return(n.scale||{}).getPointPositionForValue?yE(n):OE(n)}function OE(n){const{scale:e={},fill:t}=n,i=fE(t,e);if(dn(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function yE(n){const{scale:e,fill:t}=n,i=e.options,s=e.getLabels().length,l=i.reverse?e.max:e.min,r=uE(t,e,l),o=[];if(i.grid.circular){const a=e.getPointPositionForValue(0,l);return new VS({x:a.x,y:a.y,radius:e.getDistanceFromCenterForValue(r)})}for(let a=0;a<s;++a)o.push(e.getPointPositionForValue(a,r));return o}function Jc(n,e,t){const i=gE(e),{line:s,scale:l,axis:r}=e,o=s.options,a=o.fill,f=o.backgroundColor,{above:u=f,below:d=f}=a||{};i&&s.points.length&&(Np(n,t),vE(n,{line:s,target:i,above:u,below:d,area:t,scale:l,axis:r}),xp(n))}function vE(n,e){const{line:t,target:i,above:s,below:l,area:r,scale:o}=e,a=t._loop?"angle":e.axis;n.save(),a==="x"&&l!==s&&(x0(n,i,r.top),Z0(n,{line:t,target:i,color:s,scale:o,property:a}),n.restore(),n.save(),x0(n,i,r.bottom)),Z0(n,{line:t,target:i,color:l,scale:o,property:a}),n.restore()}function x0(n,e,t){const{segments:i,points:s}=e;let l=!0,r=!1;n.beginPath();for(const o of i){const{start:a,end:f}=o,u=s[a],d=s[Gp(a,f,s)];l?(n.moveTo(u.x,u.y),l=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),r=!!e.pathSegment(n,o,{move:r}),r?n.closePath():n.lineTo(d.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Z0(n,e){const{line:t,target:i,property:s,color:l,scale:r}=e,o=sE(t,i,s);for(const{source:a,target:f,start:u,end:d}of o){const{style:{backgroundColor:h=l}={}}=a,p=i!==!0;n.save(),n.fillStyle=h,kE(n,r,p&&dh(s,u,d)),n.beginPath();const g=!!t.pathSegment(n,a);let b;if(p){g?n.closePath():F0(n,i,d,s);const _=!!i.pathSegment(n,f,{move:g,reverse:!0});b=g&&_,b||F0(n,i,u,s)}n.closePath(),n.fill(b?"evenodd":"nonzero"),n.restore()}}function kE(n,e,t){const{top:i,bottom:s}=e.chart.chartArea,{property:l,start:r,end:o}=t||{};l==="x"&&(n.beginPath(),n.rect(r,i,o-r,s-i),n.clip())}function F0(n,e,t,i){const s=e.interpolate(t,i);s&&n.lineTo(s.x,s.y)}var wE={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,s=[];let l,r,o,a;for(r=0;r<i;++r)l=n.getDatasetMeta(r),o=l.dataset,a=null,o&&o.options&&o instanceof Tl&&(a={visible:n.isDatasetVisible(r),index:r,fill:oE(o,r,i),chart:n,axis:l.controller.options.indexAxis,scale:l.vScale,line:o}),l.$filler=a,s.push(a);for(r=0;r<i;++r)a=s[r],!(!a||a.fill===!1)&&(a.fill=rE(s,r,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),l=n.chartArea;for(let r=s.length-1;r>=0;--r){const o=s[r].$filler;o&&(o.line.updateControlPoints(l,o.axis),i&&o.fill&&Jc(n.ctx,o,l))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const l=i[s].$filler;N0(l)&&Jc(n.ctx,l,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!N0(i)||t.drawTime!=="beforeDatasetDraw"||Jc(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Wo={average(n){if(!n.length)return!1;let e,t,i=0,s=0,l=0;for(e=0,t=n.length;e<t;++e){const r=n[e].element;if(r&&r.hasValue()){const o=r.tooltipPosition();i+=o.x,s+=o.y,++l}}return{x:i/l,y:s/l}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,l,r,o;for(l=0,r=n.length;l<r;++l){const a=n[l].element;if(a&&a.hasValue()){const f=a.getCenterPoint(),u=ih(e,f);u<s&&(s=u,o=a)}}if(o){const a=o.tooltipPosition();t=a.x,i=a.y}return{x:t,y:i}}};function ds(n,e){return e&&(Ut(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Zs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function SE(n,e){const{element:t,datasetIndex:i,index:s}=e,l=n.getDatasetMeta(i).controller,{label:r,value:o}=l.getLabelAndValue(s);return{chart:n,label:r,parsed:l.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:o,dataset:l.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function X0(n,e){const t=n.chart.ctx,{body:i,footer:s,title:l}=n,{boxWidth:r,boxHeight:o}=e,a=$i(e.bodyFont),f=$i(e.titleFont),u=$i(e.footerFont),d=l.length,h=s.length,p=i.length,g=zi(e.padding);let b=g.height,_=0,y=i.reduce(($,T)=>$+T.before.length+T.lines.length+T.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,d&&(b+=d*f.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const $=e.displayColors?Math.max(o,a.lineHeight):a.lineHeight;b+=p*$+(y-p)*a.lineHeight+(y-1)*e.bodySpacing}h&&(b+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let k=0;const C=function($){_=Math.max(_,t.measureText($).width+k)};return t.save(),t.font=f.string,Pt(n.title,C),t.font=a.string,Pt(n.beforeBody.concat(n.afterBody),C),k=e.displayColors?r+2+e.boxPadding:0,Pt(i,$=>{Pt($.before,C),Pt($.lines,C),Pt($.after,C)}),k=0,t.font=u.string,Pt(n.footer,C),t.restore(),_+=g.width,{width:_,height:b}}function $E(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function CE(n,e,t,i){const{x:s,width:l}=i,r=t.caretSize+t.caretPadding;if(n==="left"&&s+l+r>e.width||n==="right"&&s-l-r<0)return!0}function TE(n,e,t,i){const{x:s,width:l}=t,{width:r,chartArea:{left:o,right:a}}=n;let f="center";return i==="center"?f=s<=(o+a)/2?"left":"right":s<=l/2?f="left":s>=r-l/2&&(f="right"),CE(f,n,e,t)&&(f="center"),f}function q0(n,e,t){const i=t.yAlign||e.yAlign||$E(n,t);return{xAlign:t.xAlign||e.xAlign||TE(n,e,t,i),yAlign:i}}function PE(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function ME(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function V0(n,e,t,i){const{caretSize:s,caretPadding:l,cornerRadius:r}=n,{xAlign:o,yAlign:a}=t,f=s+l,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=Ar(r);let g=PE(e,o);const b=ME(e,a,f);return a==="center"?o==="left"?g+=f:o==="right"&&(g-=f):o==="left"?g-=Math.max(u,h)+s:o==="right"&&(g+=Math.max(d,p)+s),{x:zn(g,0,i.width-e.width),y:zn(b,0,i.height-e.height)}}function df(n,e,t){const i=zi(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function j0(n){return ds([],Zs(n))}function AE(n,e,t){return Cl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function U0(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}class hh extends Ks{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,l=new kS(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=AE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=i.beforeTitle.apply(this,[e]),l=i.title.apply(this,[e]),r=i.afterTitle.apply(this,[e]);let o=[];return o=ds(o,Zs(s)),o=ds(o,Zs(l)),o=ds(o,Zs(r)),o}getBeforeBody(e,t){return j0(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:i}=t,s=[];return Pt(e,l=>{const r={before:[],lines:[],after:[]},o=U0(i,l);ds(r.before,Zs(o.beforeLabel.call(this,l))),ds(r.lines,o.label.call(this,l)),ds(r.after,Zs(o.afterLabel.call(this,l))),s.push(r)}),s}getAfterBody(e,t){return j0(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:i}=t,s=i.beforeFooter.apply(this,[e]),l=i.footer.apply(this,[e]),r=i.afterFooter.apply(this,[e]);let o=[];return o=ds(o,Zs(s)),o=ds(o,Zs(l)),o=ds(o,Zs(r)),o}_createItems(e){const t=this._active,i=this.chart.data,s=[],l=[],r=[];let o=[],a,f;for(a=0,f=t.length;a<f;++a)o.push(SE(this.chart,t[a]));return e.filter&&(o=o.filter((u,d,h)=>e.filter(u,d,h,i))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,i))),Pt(o,u=>{const d=U0(e.callbacks,u);s.push(d.labelColor.call(this,u)),l.push(d.labelPointStyle.call(this,u)),r.push(d.labelTextColor.call(this,u))}),this.labelColors=s,this.labelPointStyles=l,this.labelTextColors=r,this.dataPoints=o,o}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let l,r=[];if(!s.length)this.opacity!==0&&(l={opacity:0});else{const o=Wo[i.position].call(this,s,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const a=this._size=X0(this,i),f=Object.assign({},o,a),u=q0(this.chart,i,f),d=V0(i,f,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,l={opacity:1,x:d.x,y:d.y,width:a.width,height:a.height,caretX:o.x,caretY:o.y}}this._tooltipItems=r,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const l=this.getCaretPosition(e,i,s);t.lineTo(l.x1,l.y1),t.lineTo(l.x2,l.y2),t.lineTo(l.x3,l.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:l}=this,{caretSize:r,cornerRadius:o}=i,{topLeft:a,topRight:f,bottomLeft:u,bottomRight:d}=Ar(o),{x:h,y:p}=e,{width:g,height:b}=t;let _,y,k,C,$,T;return l==="center"?($=p+b/2,s==="left"?(_=h,y=_-r,C=$+r,T=$-r):(_=h+g,y=_+r,C=$-r,T=$+r),k=_):(s==="left"?y=h+Math.max(a,u)+r:s==="right"?y=h+g-Math.max(f,d)-r:y=this.caretX,l==="top"?(C=p,$=C-r,_=y-r,k=y+r):(C=p+b,$=C+r,_=y+r,k=y-r),T=C),{x1:_,x2:y,x3:k,y1:C,y2:$,y3:T}}drawTitle(e,t,i){const s=this.title,l=s.length;let r,o,a;if(l){const f=jc(i.rtl,this.x,this.width);for(e.x=df(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",r=$i(i.titleFont),o=i.titleSpacing,t.fillStyle=i.titleColor,t.font=r.string,a=0;a<l;++a)t.fillText(s[a],f.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+o,a+1===l&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,t,i,s,l){const r=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:a,boxWidth:f,boxPadding:u}=l,d=$i(l.bodyFont),h=df(this,"left",l),p=s.x(h),g=a<d.lineHeight?(d.lineHeight-a)/2:0,b=t.y+g;if(l.usePointStyle){const _={radius:Math.min(f,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},y=s.leftForLtr(p,f)+f/2,k=b+a/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,rh(e,_,y,k),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,rh(e,_,y,k)}else{e.lineWidth=ct(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const _=s.leftForLtr(p,f-u),y=s.leftForLtr(s.xPlus(p,1),f-u-2),k=Ar(r.borderRadius);Object.values(k).some(C=>C!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,mu(e,{x:_,y:b,w:f,h:a,radius:k}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),mu(e,{x:y,y:b+1,w:f-2,h:a-2,radius:k}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(_,b,f,a),e.strokeRect(_,b,f,a),e.fillStyle=r.backgroundColor,e.fillRect(y,b+1,f-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:l,bodyAlign:r,displayColors:o,boxHeight:a,boxWidth:f,boxPadding:u}=i,d=$i(i.bodyFont);let h=d.lineHeight,p=0;const g=jc(i.rtl,this.x,this.width),b=function(Q){t.fillText(Q,g.x(e.x+p),e.y+h/2),e.y+=h+l},_=g.textAlign(r);let y,k,C,$,T,P,M;for(t.textAlign=r,t.textBaseline="middle",t.font=d.string,e.x=df(this,_,i),t.fillStyle=i.bodyColor,Pt(this.beforeBody,b),p=o&&_!=="right"?r==="center"?f/2+u:f+2+u:0,$=0,P=s.length;$<P;++$){for(y=s[$],k=this.labelTextColors[$],t.fillStyle=k,Pt(y.before,b),C=y.lines,o&&C.length&&(this._drawColorBox(t,e,$,g,i),h=Math.max(d.lineHeight,a)),T=0,M=C.length;T<M;++T)b(C[T]),h=d.lineHeight;Pt(y.after,b)}p=0,h=d.lineHeight,Pt(this.afterBody,b),e.y-=l}drawFooter(e,t,i){const s=this.footer,l=s.length;let r,o;if(l){const a=jc(i.rtl,this.x,this.width);for(e.x=df(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=a.textAlign(i.footerAlign),t.textBaseline="middle",r=$i(i.footerFont),t.fillStyle=i.footerColor,t.font=r.string,o=0;o<l;++o)t.fillText(s[o],a.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:l,yAlign:r}=this,{x:o,y:a}=e,{width:f,height:u}=i,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:g}=Ar(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(o+d,a),r==="top"&&this.drawCaret(e,t,i,s),t.lineTo(o+f-h,a),t.quadraticCurveTo(o+f,a,o+f,a+h),r==="center"&&l==="right"&&this.drawCaret(e,t,i,s),t.lineTo(o+f,a+u-g),t.quadraticCurveTo(o+f,a+u,o+f-g,a+u),r==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(o+p,a+u),t.quadraticCurveTo(o,a+u,o,a+u-p),r==="center"&&l==="left"&&this.drawCaret(e,t,i,s),t.lineTo(o,a+d),t.quadraticCurveTo(o,a,o+d,a),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,l=i&&i.y;if(s||l){const r=Wo[e.position].call(this,this._active,this._eventPosition);if(!r)return;const o=this._size=X0(this,e),a=Object.assign({},r,this._size),f=q0(t,e,a),u=V0(e,a,f,t);(s._to!==u.x||l._to!==u.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=o.width,this.height=o.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},l={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=zi(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(l,e,s,t),Y4(e,t.textDirection),l.y+=r.top,this.drawTitle(l,e,t),this.drawBody(l,e,t),this.drawFooter(l,e,t),H4(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:o,index:a})=>{const f=this.chart.getDatasetMeta(o);if(!f)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:f.data[a],index:a}}),l=!fu(i,s),r=this._positionChanged(s,t);(l||r)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,l=this._active||[],r=this._getActiveElements(e,l,t,i),o=this._positionChanged(r,e),a=t||!fu(r,l)||o;return a&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,i,s){const l=this.options;if(e.type==="mouseout")return[];if(!s)return t;const r=this.chart.getElementsAtEventForMode(e,l.mode,l,i);return l.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:i,caretY:s,options:l}=this,r=Wo[l.position].call(this,e,t);return r!==!1&&(i!==r.x||s!==r.y)}}hh.positioners=Wo;var QE={id:"tooltip",_element:hh,positioners:Wo,afterInit(n,e,t){t&&(n.tooltip=new hh({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",t)===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ns,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ns,beforeBody:Ns,beforeLabel:Ns,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return St(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ns,afterBody:Ns,beforeFooter:Ns,footer:Ns,afterFooter:Ns}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const DE=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function EE(n,e,t,i){const s=n.indexOf(e);if(s===-1)return DE(n,e,t,i);const l=n.lastIndexOf(e);return s!==l?t:s}const IE=(n,e)=>n===null?null:zn(Math.round(n),0,e);class ph extends ur{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:l}of t)i[s]===l&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(St(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:EE(i,e,pt(t,e),this._addedLabels),IE(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let l=this.getLabels();l=e===0&&t===l.length-1?l:l.slice(e,t+1),this._valueRange=Math.max(l.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=t;r++)s.push({value:r});return s}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ph.id="category";ph.defaults={ticks:{callback:ph.prototype.getLabelForValue}};function RE(n,e){const t=[],{bounds:s,step:l,min:r,max:o,precision:a,count:f,maxTicks:u,maxDigits:d,includeBounds:h}=n,p=l||1,g=u-1,{min:b,max:_}=e,y=!St(r),k=!St(o),C=!St(f),$=(_-b)/(d+1);let T=jg((_-b)/g/p)*p,P,M,Q,E;if(T<1e-14&&!y&&!k)return[{value:b},{value:_}];E=Math.ceil(_/T)-Math.floor(b/T),E>g&&(T=jg(E*T/g/p)*p),St(a)||(P=Math.pow(10,a),T=Math.ceil(T*P)/P),s==="ticks"?(M=Math.floor(b/T)*T,Q=Math.ceil(_/T)*T):(M=b,Q=_),y&&k&&l&&DA((o-r)/l,T/1e3)?(E=Math.round(Math.min((o-r)/T,u)),T=(o-r)/E,M=r,Q=o):C?(M=y?r:M,Q=k?o:Q,E=f-1,T=(Q-M)/E):(E=(Q-M)/T,Vo(E,Math.round(E),T/1e3)?E=Math.round(E):E=Math.ceil(E));const R=Math.max(Ug(T),Ug(M));P=Math.pow(10,St(a)?R:a),M=Math.round(M*P)/P,Q=Math.round(Q*P)/P;let L=0;for(y&&(h&&M!==r?(t.push({value:r}),M<r&&L++,Vo(Math.round((M+L*T)*P)/P,r,W0(r,$,n))&&L++):M<r&&L++);L<E;++L)t.push({value:Math.round((M+L*T)*P)/P});return k&&h&&Q!==o?t.length&&Vo(t[t.length-1].value,o,W0(o,$,n))?t[t.length-1].value=o:t.push({value:o}):(!k||Q===o)&&t.push({value:Q}),t}function W0(n,e,{horizontal:t,minRotation:i}){const s=ns(i),l=(t?Math.sin(s):Math.cos(s))||.001,r=.75*e*(""+n).length;return Math.min(e/l,r)}class yu extends ur{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return St(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:l}=this;const r=a=>s=t?s:a,o=a=>l=i?l:a;if(e){const a=ks(s),f=ks(l);a<0&&f<0?o(0):a>0&&f>0&&r(0)}if(s===l){let a=1;(l>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(a=Math.abs(l*.05)),o(l+a),e||r(s-a)}this.min=s,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},l=this._range||this,r=RE(s,l);return e.bounds==="ticks"&&K2(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Da(e,this.chart.options.locale,this.options.ticks.format)}}class Kp extends yu{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=dn(e)?e:0,this.max=dn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=ns(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,l.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Kp.id="linear";Kp.defaults={ticks:{callback:ac.formatters.numeric}};function z0(n){return n/Math.pow(10,Math.floor(xi(n)))===1}function LE(n,e){const t=Math.floor(xi(e.max)),i=Math.ceil(e.max/Math.pow(10,t)),s=[];let l=Ei(n.min,Math.pow(10,Math.floor(xi(e.min)))),r=Math.floor(xi(l)),o=Math.floor(l/Math.pow(10,r)),a=r<0?Math.pow(10,Math.abs(r)):1;do s.push({value:l,major:z0(l)}),++o,o===10&&(o=1,++r,a=r>=0?1:a),l=Math.round(o*Math.pow(10,r)*a)/a;while(r<t||r===t&&o<i);const f=Ei(n.max,l);return s.push({value:f,major:z0(l)}),s}class jS extends ur{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=yu.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return dn(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=dn(e)?Math.max(0,e):null,this.max=dn(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,s=this.max;const l=a=>i=e?i:a,r=a=>s=t?s:a,o=(a,f)=>Math.pow(10,Math.floor(xi(a))+f);i===s&&(i<=0?(l(1),r(10)):(l(o(i,-1)),r(o(s,1)))),i<=0&&l(o(s,-1)),s<=0&&r(o(i,1)),this._zero&&this.min!==this._suggestedMin&&i===o(this.min,0)&&l(o(i,-1)),this.min=i,this.max=s}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=LE(t,this);return e.bounds==="ticks"&&K2(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Da(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=xi(e),this._valueRange=xi(this.max)-xi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(xi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}jS.id="logarithmic";jS.defaults={ticks:{callback:ac.formatters.logarithmic,major:{enabled:!0}}};function mh(n){const e=n.ticks;if(e.display&&n.display){const t=zi(e.backdropPadding);return pt(e.font&&e.font.size,mt.font.size)+t.height}return 0}function NE(n,e,t){return t=Ut(t)?t:[t],{w:u4(n,e.string,t),h:t.length*e.lineHeight}}function B0(n,e,t,i,s){return n===i||n===s?{start:e-t/2,end:e+t/2}:n<i||n>s?{start:e-t,end:e}:{start:e,end:e+t}}function xE(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],s=[],l=n._pointLabels.length,r=n.options.pointLabels,o=r.centerPointLabels?an/l:0;for(let a=0;a<l;a++){const f=r.setContext(n.getPointLabelContext(a));s[a]=f.padding;const u=n.getPointPosition(a,n.drawingArea+s[a],o),d=$i(f.font),h=NE(n.ctx,d,n._pointLabels[a]);i[a]=h;const p=ki(n.getIndexAngle(a)+o),g=Math.round(Dp(p)),b=B0(g,u.x,h.w,0,180),_=B0(g,u.y,h.h,90,270);ZE(t,e,p,b,_)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=FE(n,i,s)}function ZE(n,e,t,i,s){const l=Math.abs(Math.sin(t)),r=Math.abs(Math.cos(t));let o=0,a=0;i.start<e.l?(o=(e.l-i.start)/l,n.l=Math.min(n.l,e.l-o)):i.end>e.r&&(o=(i.end-e.r)/l,n.r=Math.max(n.r,e.r+o)),s.start<e.t?(a=(e.t-s.start)/r,n.t=Math.min(n.t,e.t-a)):s.end>e.b&&(a=(s.end-e.b)/r,n.b=Math.max(n.b,e.b+a))}function FE(n,e,t){const i=[],s=n._pointLabels.length,l=n.options,r=mh(l)/2,o=n.drawingArea,a=l.pointLabels.centerPointLabels?an/s:0;for(let f=0;f<s;f++){const u=n.getPointPosition(f,o+r+t[f],a),d=Math.round(Dp(ki(u.angle+rn))),h=e[f],p=VE(u.y,h.h,d),g=XE(d),b=qE(u.x,h.w,g);i.push({x:u.x,y:p,textAlign:g,left:b,top:p,right:b+h.w,bottom:p+h.h})}return i}function XE(n){return n===0||n===180?"center":n<180?"left":"right"}function qE(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function VE(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function jE(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let s=e-1;s>=0;s--){const l=i.setContext(n.getPointLabelContext(s)),r=$i(l.font),{x:o,y:a,textAlign:f,left:u,top:d,right:h,bottom:p}=n._pointLabelItems[s],{backdropColor:g}=l;if(!St(g)){const b=Ar(l.borderRadius),_=zi(l.backdropPadding);t.fillStyle=g;const y=u-_.left,k=d-_.top,C=h-u+_.width,$=p-d+_.height;Object.values(b).some(T=>T!==0)?(t.beginPath(),mu(t,{x:y,y:k,w:C,h:$,radius:b}),t.fill()):t.fillRect(y,k,C,$)}pu(t,n._pointLabels[s],o,a+r.lineHeight/2,r,{color:l.color,textAlign:f,textBaseline:"middle"})}}function US(n,e,t,i){const{ctx:s}=n;if(t)s.arc(n.xCenter,n.yCenter,e,0,Et);else{let l=n.getPointPosition(0,e);s.moveTo(l.x,l.y);for(let r=1;r<i;r++)l=n.getPointPosition(r,e),s.lineTo(l.x,l.y)}}function UE(n,e,t,i){const s=n.ctx,l=e.circular,{color:r,lineWidth:o}=e;!l&&!i||!r||!o||t<0||(s.save(),s.strokeStyle=r,s.lineWidth=o,s.setLineDash(e.borderDash),s.lineDashOffset=e.borderDashOffset,s.beginPath(),US(n,t,l,i),s.closePath(),s.stroke(),s.restore())}function WE(n,e,t){return Cl(n,{label:t,index:e,type:"pointLabel"})}class uc extends yu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=zi(mh(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=dn(e)&&!isNaN(e)?e:0,this.max=dn(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/mh(this.options))}generateTickLabels(e){yu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const s=ln(this.options.pointLabels.callback,[t,i],this);return s||s===0?s:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?xE(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,s))}getIndexAngle(e){const t=Et/(this._pointLabels.length||1),i=this.options.startAngle||0;return ki(e*t+ns(i))}getDistanceFromCenterForValue(e){if(St(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(St(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return WE(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const s=this.getIndexAngle(e)-rn+i;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:s,bottom:l}=this._pointLabelItems[e];return{left:t,top:i,right:s,bottom:l}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),US(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:s}=t,l=this._pointLabels.length;let r,o,a;if(t.pointLabels.display&&jE(this,l),s.display&&this.ticks.forEach((f,u)=>{if(u!==0){o=this.getDistanceFromCenterForValue(f.value);const d=s.setContext(this.getContext(u-1));UE(this,d,o,l)}}),i.display){for(e.save(),r=l-1;r>=0;r--){const f=i.setContext(this.getPointLabelContext(r)),{color:u,lineWidth:d}=f;!d||!u||(e.lineWidth=d,e.strokeStyle=u,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,o=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),a=this.getPointPosition(r,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(a.x,a.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let l,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,a)=>{if(a===0&&!t.reverse)return;const f=i.setContext(this.getContext(a)),u=$i(f.font);if(l=this.getDistanceFromCenterForValue(this.ticks[a].value),f.showLabelBackdrop){e.font=u.string,r=e.measureText(o.label).width,e.fillStyle=f.backdropColor;const d=zi(f.backdropPadding);e.fillRect(-r/2-d.left,-l-u.size/2-d.top,r+d.width,u.size+d.height)}pu(e,o.label,0,-l,u,{color:f.color})}),e.restore()}drawTitle(){}}uc.id="radialLinear";uc.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ac.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};uc.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};uc.descriptors={angleLines:{_fallback:"grid"}};const cc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ri=Object.keys(cc);function zE(n,e){return n-e}function Y0(n,e){if(St(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:l}=n._parseOpts;let r=e;return typeof i=="function"&&(r=i(r)),dn(r)||(r=typeof i=="string"?t.parse(r,i):t.parse(r)),r===null?null:(s&&(r=s==="week"&&(Vr(l)||l===!0)?t.startOf(r,"isoWeek",l):t.startOf(r,s)),+r)}function H0(n,e,t,i){const s=ri.length;for(let l=ri.indexOf(n);l<s-1;++l){const r=cc[ri[l]],o=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((t-e)/(o*r.size))<=i)return ri[l]}return ri[s-1]}function BE(n,e,t,i,s){for(let l=ri.length-1;l>=ri.indexOf(t);l--){const r=ri[l];if(cc[r].common&&n._adapter.diff(s,i,r)>=e-1)return r}return ri[t?ri.indexOf(t):0]}function YE(n){for(let e=ri.indexOf(n)+1,t=ri.length;e<t;++e)if(cc[ri[e]].common)return ri[e]}function G0(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=Ep(t,e),l=t[i]>=e?t[i]:t[s];n[l]=!0}}function HE(n,e,t,i){const s=n._adapter,l=+s.startOf(e[0].value,i),r=e[e.length-1].value;let o,a;for(o=l;o<=r;o=+s.add(o,1,i))a=t[o],a>=0&&(e[a].major=!0);return e}function K0(n,e,t){const i=[],s={},l=e.length;let r,o;for(r=0;r<l;++r)o=e[r],s[o]=r,i.push({value:o,major:!1});return l===0||!t?i:HE(n,i,s,t)}class Ra extends ur{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const i=e.time||(e.time={}),s=this._adapter=new TS._date(e.adapters.date);s.init(t),qo(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Y0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:l,minDefined:r,maxDefined:o}=this.getUserBounds();function a(f){!r&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!o&&!isNaN(f.max)&&(l=Math.max(l,f.max))}(!r||!o)&&(a(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&a(this.getMinMax(!1))),s=dn(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),l=dn(l)&&!isNaN(l)?l:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,l-1),this.max=Math.max(s+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const l=this.min,r=this.max,o=LA(s,l,r);return this._unit=t.unit||(i.autoSkip?H0(t.minUnit,this.min,this.max,this._getLabelCapacity(l)):BE(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:YE(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),K0(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let t=0,i=0,s,l;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?i=l:i=(l-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;t=zn(t,0,r),i=zn(i,0,r),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,l=s.time,r=l.unit||H0(l.minUnit,t,i,this._getLabelCapacity(t)),o=pt(l.stepSize,1),a=r==="week"?l.isoWeekday:!1,f=Vr(a)||a===!0,u={};let d=t,h,p;if(f&&(d=+e.startOf(d,"isoWeek",a)),d=+e.startOf(d,f?"day":r),e.diff(i,t,r)>1e5*o)throw new Error(t+" and "+i+" are too far apart with stepSize of "+o+" "+r);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(h=d,p=0;h<i;h=+e.add(h,o,r),p++)G0(u,h,g);return(h===i||s.bounds==="ticks"||p===1)&&G0(u,h,g),Object.keys(u).sort((b,_)=>b-_).map(b=>+b)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,t,i,s){const l=this.options,r=l.time.displayFormats,o=this._unit,a=this._majorUnit,f=o&&r[o],u=a&&r[a],d=i[t],h=a&&u&&d&&d.major,p=this._adapter.format(e,s||(h?u:f)),g=l.ticks.callback;return g?ln(g,[p,t,i],this):p}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=ns(this.isHorizontal()?t.maxRotation:t.minRotation),l=Math.cos(s),r=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:i*l+o*r,h:i*r+o*l}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,l=this._tickFormatFunction(e,0,K0(this,[e],this._majorUnit),s),r=this._getLabelSize(l),o=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(Y0(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return tS(e.sort(zE))}}Ra.id="time";Ra.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function hf(n,e,t){let i=0,s=n.length-1,l,r,o,a;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=jl(n,"pos",e)),{pos:l,time:o}=n[i],{pos:r,time:a}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=jl(n,"time",e)),{time:l,pos:o}=n[i],{time:r,pos:a}=n[s]);const f=r-l;return f?o+(a-o)*(e-l)/f:o}class WS extends Ra{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=hf(t,this.min),this._tableRange=hf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],l=[];let r,o,a,f,u;for(r=0,o=e.length;r<o;++r)f=e[r],f>=t&&f<=i&&s.push(f);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(r=0,o=s.length;r<o;++r)u=s[r+1],a=s[r-1],f=s[r],Math.round((u+a)/2)!==f&&l.push({time:f,pos:r/(o-1)});return l}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(hf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return hf(this._table,i*this._tableRange+this._minPos,!0)}}WS.id="timeseries";WS.defaults=Ra.defaults;/*!
 * chartjs-adapter-luxon v1.3.1
 * https://www.chartjs.org
 * (c) 2023 chartjs-adapter-luxon Contributors
 * Released under the MIT license
 */const GE={datetime:Ge.DATETIME_MED_WITH_SECONDS,millisecond:"h:mm:ss.SSS a",second:Ge.TIME_WITH_SECONDS,minute:Ge.TIME_SIMPLE,hour:{hour:"numeric"},day:{day:"numeric",month:"short"},week:"DD",month:{month:"short",year:"numeric"},quarter:"'Q'q - yyyy",year:{year:"numeric"}};TS._date.override({_id:"luxon",_create:function(n){return Ge.fromMillis(n,this.options)},init(n){this.options.locale||(this.options.locale=n.locale)},formats:function(){return GE},parse:function(n,e){const t=this.options,i=typeof n;return n===null||i==="undefined"?null:(i==="number"?n=this._create(n):i==="string"?typeof e=="string"?n=Ge.fromFormat(n,e,t):n=Ge.fromISO(n,t):n instanceof Date?n=Ge.fromJSDate(n,t):i==="object"&&!(n instanceof Ge)&&(n=Ge.fromObject(n,t)),n.isValid?n.valueOf():null)},format:function(n,e){const t=this._create(n);return typeof e=="string"?t.toFormat(e):t.toLocaleString(e)},add:function(n,e,t){const i={};return i[t]=e,this._create(n).plus(i).valueOf()},diff:function(n,e,t){return this._create(n).diff(this._create(e)).as(t).valueOf()},startOf:function(n,e,t){if(e==="isoWeek"){t=Math.trunc(Math.min(Math.max(0,t),6));const i=this._create(n);return i.minus({days:(i.weekday-t+7)%7}).startOf("day").valueOf()}return e?this._create(n).startOf(e).valueOf():n},endOf:function(n,e){return this._create(n).endOf(e).valueOf()}});function J0(n){let e,t,i;return{c(){e=v("div"),m(e,"class","chart-loader loader svelte-vh4sl8")},m(s,l){S(s,e,l),i=!0},i(s){i||(s&&at(()=>{i&&(t||(t=Ue(e,_n,{duration:150},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Ue(e,_n,{duration:150},!1)),t.run(0)),i=!1},d(s){s&&w(e),s&&t&&t.end()}}}function KE(n){let e,t,i=n[1]===1?"log":"logs",s;return{c(){e=W(n[1]),t=A(),s=W(i)},m(l,r){S(l,e,r),S(l,t,r),S(l,s,r)},p(l,r){r&2&&re(e,l[1]),r&2&&i!==(i=l[1]===1?"log":"logs")&&re(s,i)},d(l){l&&w(e),l&&w(t),l&&w(s)}}}function JE(n){let e;return{c(){e=W("Loading...")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function e6(n){let e,t,i,s,l,r=n[2]&&J0();function o(u,d){return u[2]?JE:KE}let a=o(n),f=a(n);return{c(){e=v("div"),r&&r.c(),t=A(),i=v("canvas"),s=A(),l=v("div"),f.c(),m(i,"class","chart-canvas svelte-vh4sl8"),Zd(i,"height","250px"),Zd(i,"width","100%"),m(e,"class","chart-wrapper svelte-vh4sl8"),J(e,"loading",n[2]),m(l,"class","txt-hint m-t-xs txt-right")},m(u,d){S(u,e,d),r&&r.m(e,null),O(e,t),O(e,i),n[8](i),S(u,s,d),S(u,l,d),f.m(l,null)},p(u,[d]){u[2]?r?d&4&&D(r,1):(r=J0(),r.c(),D(r,1),r.m(e,t)):r&&(ue(),I(r,1,1,()=>{r=null}),ce()),d&4&&J(e,"loading",u[2]),a===(a=o(u))&&f?f.p(u,d):(f.d(1),f=a(u),f&&(f.c(),f.m(l,null)))},i(u){D(r)},o(u){I(r)},d(u){u&&w(e),r&&r.d(),n[8](null),u&&w(s),u&&w(l),f.d()}}}function t6(n,e,t){let{filter:i=""}=e,{presets:s=""}=e,l,r,o=[],a=0,f=!1;async function u(){return t(2,f=!0),de.logs.getRequestsStats({filter:[s,i].filter(Boolean).join("&&")}).then(p=>{d();for(let g of p)o.push({x:new Date(g.date),y:g.total}),t(1,a+=g.total);o.push({x:new Date,y:void 0})}).catch(p=>{p!=null&&p.isAbort||(d(),console.warn(p),de.error(p,!1))}).finally(()=>{t(2,f=!1)})}function d(){t(1,a=0),t(7,o=[])}vn(()=>(Ou.register(Tl,fc,oc,Kp,Ra,wE,QE),t(6,r=new Ou(l,{type:"line",data:{datasets:[{label:"Total requests",data:o,borderColor:"#ef4565",pointBackgroundColor:"#ef4565",backgroundColor:"rgb(239,69,101,0.05)",borderWidth:2,pointRadius:1,pointBorderWidth:0,fill:!0}]},options:{animation:!1,interaction:{intersect:!1,mode:"index"},scales:{y:{beginAtZero:!0,grid:{color:"#edf0f3",borderColor:"#dee3e8"},ticks:{precision:0,maxTicksLimit:6,autoSkip:!0,color:"#666f75"}},x:{type:"time",time:{unit:"hour",tooltipFormat:"DD h a"},grid:{borderColor:"#dee3e8",color:p=>p.tick.major?"#edf0f3":""},ticks:{maxTicksLimit:15,autoSkip:!0,maxRotation:0,major:{enabled:!0},color:p=>p.tick.major?"#16161a":"#666f75"}}},plugins:{legend:{display:!1}}}})),()=>r==null?void 0:r.destroy()));function h(p){ne[p?"unshift":"push"](()=>{l=p,t(0,l)})}return n.$$set=p=>{"filter"in p&&t(3,i=p.filter),"presets"in p&&t(4,s=p.presets)},n.$$.update=()=>{n.$$.dirty&24&&(typeof i<"u"||typeof s<"u")&&u(),n.$$.dirty&192&&typeof o<"u"&&r&&(t(6,r.data.datasets[0].data=o,r),r.update())},[l,a,f,i,s,u,r,o,h]}class n6 extends ke{constructor(e){super(),ve(this,e,t6,e6,be,{filter:3,presets:4,load:5})}get load(){return this.$$.ctx[5]}}var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i6(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zS={exports:{}};(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(i){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,l=0,r={},o={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function k(C){return C instanceof a?new a(C.type,k(C.content),C.alias):Array.isArray(C)?C.map(k):C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(k){return Object.prototype.toString.call(k).slice(8,-1)},objId:function(k){return k.__id||Object.defineProperty(k,"__id",{value:++l}),k.__id},clone:function k(C,$){$=$||{};var T,P;switch(o.util.type(C)){case"Object":if(P=o.util.objId(C),$[P])return $[P];T={},$[P]=T;for(var M in C)C.hasOwnProperty(M)&&(T[M]=k(C[M],$));return T;case"Array":return P=o.util.objId(C),$[P]?$[P]:(T=[],$[P]=T,C.forEach(function(Q,E){T[E]=k(Q,$)}),T);default:return C}},getLanguage:function(k){for(;k;){var C=s.exec(k.className);if(C)return C[1].toLowerCase();k=k.parentElement}return"none"},setLanguage:function(k,C){k.className=k.className.replace(RegExp(s,"gi"),""),k.classList.add("language-"+C)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(T){var k=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(T.stack)||[])[1];if(k){var C=document.getElementsByTagName("script");for(var $ in C)if(C[$].src==k)return C[$]}return null}},isActive:function(k,C,$){for(var T="no-"+C;k;){var P=k.classList;if(P.contains(C))return!0;if(P.contains(T))return!1;k=k.parentElement}return!!$}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(k,C){var $=o.util.clone(o.languages[k]);for(var T in C)$[T]=C[T];return $},insertBefore:function(k,C,$,T){T=T||o.languages;var P=T[k],M={};for(var Q in P)if(P.hasOwnProperty(Q)){if(Q==C)for(var E in $)$.hasOwnProperty(E)&&(M[E]=$[E]);$.hasOwnProperty(Q)||(M[Q]=P[Q])}var R=T[k];return T[k]=M,o.languages.DFS(o.languages,function(L,N){N===R&&L!=k&&(this[L]=M)}),M},DFS:function k(C,$,T,P){P=P||{};var M=o.util.objId;for(var Q in C)if(C.hasOwnProperty(Q)){$.call(C,Q,C[Q],T||Q);var E=C[Q],R=o.util.type(E);R==="Object"&&!P[M(E)]?(P[M(E)]=!0,k(E,$,null,P)):R==="Array"&&!P[M(E)]&&(P[M(E)]=!0,k(E,$,Q,P))}}},plugins:{},highlightAll:function(k,C){o.highlightAllUnder(document,k,C)},highlightAllUnder:function(k,C,$){var T={callback:$,container:k,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",T),T.elements=Array.prototype.slice.apply(T.container.querySelectorAll(T.selector)),o.hooks.run("before-all-elements-highlight",T);for(var P=0,M;M=T.elements[P++];)o.highlightElement(M,C===!0,T.callback)},highlightElement:function(k,C,$){var T=o.util.getLanguage(k),P=o.languages[T];o.util.setLanguage(k,T);var M=k.parentElement;M&&M.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(M,T);var Q=k.textContent,E={element:k,language:T,grammar:P,code:Q};function R(N){E.highlightedCode=N,o.hooks.run("before-insert",E),E.element.innerHTML=E.highlightedCode,o.hooks.run("after-highlight",E),o.hooks.run("complete",E),$&&$.call(E.element)}if(o.hooks.run("before-sanity-check",E),M=E.element.parentElement,M&&M.nodeName.toLowerCase()==="pre"&&!M.hasAttribute("tabindex")&&M.setAttribute("tabindex","0"),!E.code){o.hooks.run("complete",E),$&&$.call(E.element);return}if(o.hooks.run("before-highlight",E),!E.grammar){R(o.util.encode(E.code));return}if(C&&i.Worker){var L=new Worker(o.filename);L.onmessage=function(N){R(N.data)},L.postMessage(JSON.stringify({language:E.language,code:E.code,immediateClose:!0}))}else R(o.highlight(E.code,E.grammar,E.language))},highlight:function(k,C,$){var T={code:k,grammar:C,language:$};if(o.hooks.run("before-tokenize",T),!T.grammar)throw new Error('The language "'+T.language+'" has no grammar.');return T.tokens=o.tokenize(T.code,T.grammar),o.hooks.run("after-tokenize",T),a.stringify(o.util.encode(T.tokens),T.language)},tokenize:function(k,C){var $=C.rest;if($){for(var T in $)C[T]=$[T];delete C.rest}var P=new d;return h(P,P.head,k),u(k,P,C,P.head,0),g(P)},hooks:{all:{},add:function(k,C){var $=o.hooks.all;$[k]=$[k]||[],$[k].push(C)},run:function(k,C){var $=o.hooks.all[k];if(!(!$||!$.length))for(var T=0,P;P=$[T++];)P(C)}},Token:a};i.Prism=o;function a(k,C,$,T){this.type=k,this.content=C,this.alias=$,this.length=(T||"").length|0}a.stringify=function k(C,$){if(typeof C=="string")return C;if(Array.isArray(C)){var T="";return C.forEach(function(R){T+=k(R,$)}),T}var P={type:C.type,content:k(C.content,$),tag:"span",classes:["token",C.type],attributes:{},language:$},M=C.alias;M&&(Array.isArray(M)?Array.prototype.push.apply(P.classes,M):P.classes.push(M)),o.hooks.run("wrap",P);var Q="";for(var E in P.attributes)Q+=" "+E+'="'+(P.attributes[E]||"").replace(/"/g,"&quot;")+'"';return"<"+P.tag+' class="'+P.classes.join(" ")+'"'+Q+">"+P.content+"</"+P.tag+">"};function f(k,C,$,T){k.lastIndex=C;var P=k.exec($);if(P&&T&&P[1]){var M=P[1].length;P.index+=M,P[0]=P[0].slice(M)}return P}function u(k,C,$,T,P,M){for(var Q in $)if(!(!$.hasOwnProperty(Q)||!$[Q])){var E=$[Q];E=Array.isArray(E)?E:[E];for(var R=0;R<E.length;++R){if(M&&M.cause==Q+","+R)return;var L=E[R],N=L.inside,x=!!L.lookbehind,Z=!!L.greedy,F=L.alias;if(Z&&!L.pattern.global){var U=L.pattern.toString().match(/[imsuy]*$/)[0];L.pattern=RegExp(L.pattern.source,U+"g")}for(var G=L.pattern||L,z=T.next,B=P;z!==C.tail&&!(M&&B>=M.reach);B+=z.value.length,z=z.next){var le=z.value;if(C.length>k.length)return;if(!(le instanceof a)){var te=1,se;if(Z){if(se=f(G,B,k,x),!se||se.index>=k.length)break;var He=se.index,Oe=se.index+se[0].length,$e=B;for($e+=z.value.length;He>=$e;)z=z.next,$e+=z.value.length;if($e-=z.value.length,B=$e,z.value instanceof a)continue;for(var Ze=z;Ze!==C.tail&&($e<Oe||typeof Ze.value=="string");Ze=Ze.next)te++,$e+=Ze.value.length;te--,le=k.slice(B,$e),se.index-=B}else if(se=f(G,0,le,x),!se)continue;var He=se.index,Ce=se[0],Pe=le.slice(0,He),lt=le.slice(He+Ce.length),Qt=B+le.length;M&&Qt>M.reach&&(M.reach=Qt);var rt=z.prev;Pe&&(rt=h(C,rt,Pe),B+=Pe.length),p(C,rt,te);var Je=new a(Q,N?o.tokenize(Ce,N):Ce,F,Ce);if(z=h(C,rt,Je),lt&&h(C,z,lt),te>1){var Tt={cause:Q+","+R,reach:Qt};u(k,C,$,z.prev,B,Tt),M&&Tt.reach>M.reach&&(M.reach=Tt.reach)}}}}}}function d(){var k={value:null,prev:null,next:null},C={value:null,prev:k,next:null};k.next=C,this.head=k,this.tail=C,this.length=0}function h(k,C,$){var T=C.next,P={value:$,prev:C,next:T};return C.next=P,T.prev=P,k.length++,P}function p(k,C,$){for(var T=C.next,P=0;P<$&&T!==k.tail;P++)T=T.next;C.next=T,T.prev=C,k.length-=P}function g(k){for(var C=[],$=k.head.next;$!==k.tail;)C.push($.value),$=$.next;return C}if(!i.document)return i.addEventListener&&(o.disableWorkerMessageHandler||i.addEventListener("message",function(k){var C=JSON.parse(k.data),$=C.language,T=C.code,P=C.immediateClose;i.postMessage(o.highlight(T,o.languages[$],$)),P&&i.close()},!1)),o;var b=o.util.currentScript();b&&(o.filename=b.src,b.hasAttribute("data-manual")&&(o.manual=!0));function _(){o.manual||o.highlightAll()}if(!o.manual){var y=document.readyState;y==="loading"||y==="interactive"&&b&&b.defer?document.addEventListener("DOMContentLoaded",_):window.requestAnimationFrame?window.requestAnimationFrame(_):window.setTimeout(_,16)}return o}(e);n.exports&&(n.exports=t),typeof e1<"u"&&(e1.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(s,l){var r={};r["language-"+l]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[l]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+l]={pattern:/[\s\S]+/,inside:t.languages[l]};var a={};a[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(i,s){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:t.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(i){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var l=i.languages.markup;l&&(l.tag.addInlined("style","css"),l.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading",s=function(b,_){return" Error "+b+" while fetching file: "+_},l=" Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",a="loading",f="loaded",u="failed",d="pre[data-src]:not(["+o+'="'+f+'"]):not(['+o+'="'+a+'"])';function h(b,_,y){var k=new XMLHttpRequest;k.open("GET",b,!0),k.onreadystatechange=function(){k.readyState==4&&(k.status<400&&k.responseText?_(k.responseText):k.status>=400?y(s(k.status,k.statusText)):y(l))},k.send(null)}function p(b){var _=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(b||"");if(_){var y=Number(_[1]),k=_[2],C=_[3];return k?C?[y,Number(C)]:[y,void 0]:[y,y]}}t.hooks.add("before-highlightall",function(b){b.selector+=", "+d}),t.hooks.add("before-sanity-check",function(b){var _=b.element;if(_.matches(d)){b.code="",_.setAttribute(o,a);var y=_.appendChild(document.createElement("CODE"));y.textContent=i;var k=_.getAttribute("data-src"),C=b.language;if(C==="none"){var $=(/\.(\w+)$/.exec(k)||[,"none"])[1];C=r[$]||$}t.util.setLanguage(y,C),t.util.setLanguage(_,C);var T=t.plugins.autoloader;T&&T.loadLanguages(C),h(k,function(P){_.setAttribute(o,f);var M=p(_.getAttribute("data-range"));if(M){var Q=P.split(/\r\n?|\n/g),E=M[0],R=M[1]==null?Q.length:M[1];E<0&&(E+=Q.length),E=Math.max(0,Math.min(E-1,Q.length)),R<0&&(R+=Q.length),R=Math.max(0,Math.min(R,Q.length)),P=Q.slice(E,R).join(`
`),_.hasAttribute("data-start")||_.setAttribute("data-start",String(E+1))}y.textContent=P,t.highlightElement(y)},function(P){_.setAttribute(o,u),y.textContent=P})}}),t.plugins.fileHighlight={highlight:function(_){for(var y=(_||document).querySelectorAll(d),k=0,C;C=y[k++];)t.highlightElement(C)}};var g=!1;t.fileHighlight=function(){g||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),g=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(zS);var s6=zS.exports;const So=i6(s6);var l6={exports:{}};(function(n){(function(){if(typeof Prism>"u")return;var e=Object.assign||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);return r};function t(r){this.defaults=e({},r)}function i(r){return r.replace(/-(\w)/g,function(o,a){return a.toUpperCase()})}function s(r){for(var o=0,a=0;a<r.length;++a)r.charCodeAt(a)=="	".charCodeAt(0)&&(o+=3);return r.length+o}var l={"remove-trailing":"boolean","remove-indent":"boolean","left-trim":"boolean","right-trim":"boolean","break-lines":"number",indent:"number","remove-initial-line-feed":"boolean","tabs-to-spaces":"number","spaces-to-tabs":"number"};t.prototype={setDefaults:function(r){this.defaults=e(this.defaults,r)},normalize:function(r,o){o=e(this.defaults,o);for(var a in o){var f=i(a);a!=="normalize"&&f!=="setDefaults"&&o[a]&&this[f]&&(r=this[f].call(this,r,o[a]))}return r},leftTrim:function(r){return r.replace(/^\s+/,"")},rightTrim:function(r){return r.replace(/\s+$/,"")},tabsToSpaces:function(r,o){return o=o|0||4,r.replace(/\t/g,new Array(++o).join(" "))},spacesToTabs:function(r,o){return o=o|0||4,r.replace(RegExp(" {"+o+"}","g"),"	")},removeTrailing:function(r){return r.replace(/\s*?$/gm,"")},removeInitialLineFeed:function(r){return r.replace(/^(?:\r?\n|\r)/,"")},removeIndent:function(r){var o=r.match(/^[^\S\n\r]*(?=\S)/gm);return!o||!o[0].length||(o.sort(function(a,f){return a.length-f.length}),!o[0].length)?r:r.replace(RegExp("^"+o[0],"gm"),"")},indent:function(r,o){return r.replace(/^[^\S\n\r]*(?=\S)/gm,new Array(++o).join("	")+"$&")},breakLines:function(r,o){o=o===!0?80:o|0||80;for(var a=r.split(`
`),f=0;f<a.length;++f)if(!(s(a[f])<=o)){for(var u=a[f].split(/(\s+)/g),d=0,h=0;h<u.length;++h){var p=s(u[h]);d+=p,d>o&&(u[h]=`
`+u[h],d=p)}a[f]=u.join("")}return a.join(`
`)}},n.exports&&(n.exports=t),Prism.plugins.NormalizeWhitespace=new t({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Prism.hooks.add("before-sanity-check",function(r){var o=Prism.plugins.NormalizeWhitespace;if(!(r.settings&&r.settings["whitespace-normalization"]===!1)&&Prism.util.isActive(r.element,"whitespace-normalization",!0)){if((!r.element||!r.element.parentNode)&&r.code){r.code=o.normalize(r.code,r.settings);return}var a=r.element.parentNode;if(!(!r.code||!a||a.nodeName.toLowerCase()!=="pre")){r.settings==null&&(r.settings={});for(var f in l)if(Object.hasOwnProperty.call(l,f)){var u=l[f];if(a.hasAttribute("data-"+f))try{var d=JSON.parse(a.getAttribute("data-"+f)||"true");typeof d===u&&(r.settings[f]=d)}catch{}}for(var h=a.childNodes,p="",g="",b=!1,_=0;_<h.length;++_){var y=h[_];y==r.element?b=!0:y.nodeName==="#text"&&(b?g+=y.nodeValue:p+=y.nodeValue,a.removeChild(y),--_)}if(!r.element.children.length||!Prism.plugins.KeepMarkup)r.code=p+r.code+g,r.code=o.normalize(r.code,r.settings);else{var k=p+r.element.innerHTML+g;r.element.innerHTML=o.normalize(k,r.settings),r.code=r.element.textContent}}}})})()})(l6);(function(n){var e=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],t=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};n.languages.dart=n.languages.extend("clike",{"class-name":[i,{pattern:RegExp(t+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:i.inside}],keyword:e,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),n.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.dart}}},string:/[\s\S]+/}},string:void 0}),n.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),n.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":i,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(Prism);function r6(n){let e,t,i;return{c(){e=v("div"),t=v("code"),m(t,"class","svelte-10s5tkd"),m(e,"class",i="code-wrapper prism-light "+n[0]+" svelte-10s5tkd")},m(s,l){S(s,e,l),O(e,t),t.innerHTML=n[1]},p(s,[l]){l&2&&(t.innerHTML=s[1]),l&1&&i!==(i="code-wrapper prism-light "+s[0]+" svelte-10s5tkd")&&m(e,"class",i)},i:ee,o:ee,d(s){s&&w(e)}}}function o6(n,e,t){let{class:i=""}=e,{content:s=""}=e,{language:l="javascript"}=e,r="";function o(a){return a=typeof a=="string"?a:"",a=So.plugins.NormalizeWhitespace.normalize(a,{"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),So.highlight(a,So.languages[l]||So.languages.javascript,l)}return n.$$set=a=>{"class"in a&&t(0,i=a.class),"content"in a&&t(2,s=a.content),"language"in a&&t(3,l=a.language)},n.$$.update=()=>{n.$$.dirty&4&&typeof So<"u"&&s&&t(1,r=o(s))},[i,r,s,l]}class BS extends ke{constructor(e){super(),ve(this,e,o6,r6,be,{class:0,content:2,language:3})}}const a6=n=>({}),t1=n=>({}),f6=n=>({}),n1=n=>({});function i1(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C=n[4]&&!n[2]&&s1(n);const $=n[19].header,T=xt($,n,n[18],n1);let P=n[4]&&n[2]&&l1(n);const M=n[19].default,Q=xt(M,n,n[18],null),E=n[19].footer,R=xt(E,n,n[18],t1);return{c(){e=v("div"),t=v("div"),s=A(),l=v("div"),r=v("div"),C&&C.c(),o=A(),T&&T.c(),a=A(),P&&P.c(),f=A(),u=v("div"),Q&&Q.c(),d=A(),h=v("div"),R&&R.c(),m(t,"class","overlay"),m(r,"class","overlay-panel-section panel-header"),m(u,"class","overlay-panel-section panel-content"),m(h,"class","overlay-panel-section panel-footer"),m(l,"class",p="overlay-panel "+n[1]+" "+n[8]),J(l,"popup",n[2]),m(e,"class","overlay-panel-container"),J(e,"padded",n[2]),J(e,"active",n[0])},m(L,N){S(L,e,N),O(e,t),O(e,s),O(e,l),O(l,r),C&&C.m(r,null),O(r,o),T&&T.m(r,null),O(r,a),P&&P.m(r,null),O(l,f),O(l,u),Q&&Q.m(u,null),n[21](u),O(l,d),O(l,h),R&&R.m(h,null),_=!0,y||(k=[H(t,"click",ut(n[20])),H(u,"scroll",n[22])],y=!0)},p(L,N){n=L,n[4]&&!n[2]?C?C.p(n,N):(C=s1(n),C.c(),C.m(r,o)):C&&(C.d(1),C=null),T&&T.p&&(!_||N[0]&262144)&&Ft(T,$,n,n[18],_?Zt($,n[18],N,f6):Xt(n[18]),n1),n[4]&&n[2]?P?P.p(n,N):(P=l1(n),P.c(),P.m(r,null)):P&&(P.d(1),P=null),Q&&Q.p&&(!_||N[0]&262144)&&Ft(Q,M,n,n[18],_?Zt(M,n[18],N,null):Xt(n[18]),null),R&&R.p&&(!_||N[0]&262144)&&Ft(R,E,n,n[18],_?Zt(E,n[18],N,a6):Xt(n[18]),t1),(!_||N[0]&258&&p!==(p="overlay-panel "+n[1]+" "+n[8]))&&m(l,"class",p),(!_||N[0]&262)&&J(l,"popup",n[2]),(!_||N[0]&4)&&J(e,"padded",n[2]),(!_||N[0]&1)&&J(e,"active",n[0])},i(L){_||(L&&at(()=>{_&&(i||(i=Ue(t,Jd,{duration:Or,opacity:0},!0)),i.run(1))}),D(T,L),D(Q,L),D(R,L),at(()=>{_&&(b&&b.end(1),g=xw(l,Ms,n[2]?{duration:Or,y:-10}:{duration:Or,x:50}),g.start())}),_=!0)},o(L){L&&(i||(i=Ue(t,Jd,{duration:Or,opacity:0},!1)),i.run(0)),I(T,L),I(Q,L),I(R,L),g&&g.invalidate(),b=gp(l,Ms,n[2]?{duration:Or,y:10}:{duration:Or,x:50}),_=!1},d(L){L&&w(e),L&&i&&i.end(),C&&C.d(),T&&T.d(L),P&&P.d(),Q&&Q.d(L),n[21](null),R&&R.d(L),L&&b&&b.end(),y=!1,Qe(k)}}}function s1(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<i class="ri-close-line"></i>',m(e,"type","button"),m(e,"class","overlay-close")},m(s,l){S(s,e,l),t||(i=H(e,"click",ut(n[5])),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function l1(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<i class="ri-close-line txt-lg"></i>',m(e,"type","button"),m(e,"class","btn btn-sm btn-circle btn-transparent btn-close m-l-auto")},m(s,l){S(s,e,l),t||(i=H(e,"click",ut(n[5])),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function u6(n){let e,t,i,s,l=n[0]&&i1(n);return{c(){e=v("div"),l&&l.c(),m(e,"class","overlay-panel-wrapper"),m(e,"tabindex","-1")},m(r,o){S(r,e,o),l&&l.m(e,null),n[23](e),t=!0,i||(s=[H(window,"resize",n[10]),H(window,"keydown",n[9])],i=!0)},p(r,o){r[0]?l?(l.p(r,o),o[0]&1&&D(l,1)):(l=i1(r),l.c(),D(l,1),l.m(e,null)):l&&(ue(),I(l,1,1,()=>{l=null}),ce())},i(r){t||(D(l),t=!0)},o(r){I(l),t=!1},d(r){r&&w(e),l&&l.d(),n[23](null),i=!1,Qe(s)}}}let Ll,ed=[];function YS(){return Ll=Ll||document.querySelector(".overlays"),Ll||(Ll=document.createElement("div"),Ll.classList.add("overlays"),document.body.appendChild(Ll)),Ll}let Or=150;function r1(){return 1e3+YS().querySelectorAll(".overlay-panel-container.active").length}function c6(n,e,t){let{$$slots:i={},$$scope:s}=e,{class:l=""}=e,{active:r=!1}=e,{popup:o=!1}=e,{overlayClose:a=!0}=e,{btnClose:f=!0}=e,{escClose:u=!0}=e,{beforeOpen:d=void 0}=e,{beforeHide:h=void 0}=e;const p=Lt(),g="op_"+j.randomString(10);let b,_,y,k,C="",$=r;function T(){typeof d=="function"&&d()===!1||t(0,r=!0)}function P(){typeof h=="function"&&h()===!1||t(0,r=!1)}function M(){return r}async function Q(B){t(17,$=B),B?(y=document.activeElement,p("show"),b==null||b.focus()):(clearTimeout(k),p("hide"),y==null||y.focus()),await Bn(),E()}function E(){b&&(r?t(6,b.style.zIndex=r1(),b):t(6,b.style="",b))}function R(){j.pushUnique(ed,g),document.body.classList.add("overlay-active")}function L(){j.removeByValue(ed,g),ed.length||document.body.classList.remove("overlay-active")}function N(B){r&&u&&B.code=="Escape"&&!j.isInput(B.target)&&b&&b.style.zIndex==r1()&&(B.preventDefault(),P())}function x(B){r&&Z(_)}function Z(B,le){le&&t(8,C=""),B&&(k||(k=setTimeout(()=>{if(clearTimeout(k),k=null,!B)return;if(B.scrollHeight-B.offsetHeight>0)t(8,C="scrollable");else{t(8,C="");return}B.scrollTop==0?t(8,C+=" scroll-top-reached"):B.scrollTop+B.offsetHeight==B.scrollHeight&&t(8,C+=" scroll-bottom-reached")},100)))}vn(()=>(YS().appendChild(b),()=>{var B;clearTimeout(k),L(),(B=b==null?void 0:b.classList)==null||B.add("hidden"),setTimeout(()=>{b==null||b.remove()},0)}));const F=()=>a?P():!0;function U(B){ne[B?"unshift":"push"](()=>{_=B,t(7,_)})}const G=B=>Z(B.target);function z(B){ne[B?"unshift":"push"](()=>{b=B,t(6,b)})}return n.$$set=B=>{"class"in B&&t(1,l=B.class),"active"in B&&t(0,r=B.active),"popup"in B&&t(2,o=B.popup),"overlayClose"in B&&t(3,a=B.overlayClose),"btnClose"in B&&t(4,f=B.btnClose),"escClose"in B&&t(12,u=B.escClose),"beforeOpen"in B&&t(13,d=B.beforeOpen),"beforeHide"in B&&t(14,h=B.beforeHide),"$$scope"in B&&t(18,s=B.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131073&&$!=r&&Q(r),n.$$.dirty[0]&128&&Z(_,!0),n.$$.dirty[0]&64&&b&&E(),n.$$.dirty[0]&1&&(r?R():L())},[r,l,o,a,f,P,b,_,C,N,x,Z,u,d,h,T,M,$,s,i,F,U,G,z]}class Fn extends ke{constructor(e){super(),ve(this,e,c6,u6,be,{class:1,active:0,popup:2,overlayClose:3,btnClose:4,escClose:12,beforeOpen:13,beforeHide:14,show:15,hide:5,isActive:16},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[5]}get isActive(){return this.$$.ctx[16]}}function d6(n){let e;return{c(){e=v("span"),e.textContent="N/A",m(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function h6(n){let e,t=n[2].referer+"",i,s;return{c(){e=v("a"),i=W(t),m(e,"href",s=n[2].referer),m(e,"target","_blank"),m(e,"rel","noopener noreferrer")},m(l,r){S(l,e,r),O(e,i)},p(l,r){r&4&&t!==(t=l[2].referer+"")&&re(i,t),r&4&&s!==(s=l[2].referer)&&m(e,"href",s)},d(l){l&&w(e)}}}function p6(n){let e;return{c(){e=v("span"),e.textContent="N/A",m(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function m6(n){let e,t,i;return t=new BS({props:{content:JSON.stringify(n[2].meta,null,2)}}),{c(){e=v("div"),V(t.$$.fragment),m(e,"class","block")},m(s,l){S(s,e,l),X(t,e,null),i=!0},p(s,l){const r={};l&4&&(r.content=JSON.stringify(s[2].meta,null,2)),t.$set(r)},i(s){i||(D(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&w(e),q(t)}}}function g6(n){var Ne;let e,t,i,s,l,r,o=n[2].id+"",a,f,u,d,h,p,g,b=n[2].status+"",_,y,k,C,$,T,P=((Ne=n[2].method)==null?void 0:Ne.toUpperCase())+"",M,Q,E,R,L,N,x=n[2].auth+"",Z,F,U,G,z,B,le=n[2].url+"",te,se,Oe,$e,Ze,He,Ce,Pe,lt,Qt,rt,Je=n[2].remoteIp+"",Tt,ge,_e,tt,Me,kt,Yt=n[2].userIp+"",pn,Dn,De,wt,Hi,Xn,pi=n[2].userAgent+"",rs,Rs,mi,Dt,os,Ls,we,Re,Xe,ot,Ht,gi,Ai,Al,En,Gn;function Wa(xe,Ee){return xe[2].referer?h6:d6}let Y=Wa(n),K=Y(n);const ie=[m6,p6],ae=[];function Te(xe,Ee){return Ee&4&&(we=null),we==null&&(we=!j.isEmpty(xe[2].meta)),we?0:1}return Re=Te(n,-1),Xe=ae[Re]=ie[Re](n),En=new Bs({props:{date:n[2].created}}),{c(){e=v("table"),t=v("tbody"),i=v("tr"),s=v("td"),s.textContent="ID",l=A(),r=v("td"),a=W(o),f=A(),u=v("tr"),d=v("td"),d.textContent="Status",h=A(),p=v("td"),g=v("span"),_=W(b),y=A(),k=v("tr"),C=v("td"),C.textContent="Method",$=A(),T=v("td"),M=W(P),Q=A(),E=v("tr"),R=v("td"),R.textContent="Auth",L=A(),N=v("td"),Z=W(x),F=A(),U=v("tr"),G=v("td"),G.textContent="URL",z=A(),B=v("td"),te=W(le),se=A(),Oe=v("tr"),$e=v("td"),$e.textContent="Referer",Ze=A(),He=v("td"),K.c(),Ce=A(),Pe=v("tr"),lt=v("td"),lt.textContent="Remote IP",Qt=A(),rt=v("td"),Tt=W(Je),ge=A(),_e=v("tr"),tt=v("td"),tt.textContent="User IP",Me=A(),kt=v("td"),pn=W(Yt),Dn=A(),De=v("tr"),wt=v("td"),wt.textContent="UserAgent",Hi=A(),Xn=v("td"),rs=W(pi),Rs=A(),mi=v("tr"),Dt=v("td"),Dt.textContent="Meta",os=A(),Ls=v("td"),Xe.c(),ot=A(),Ht=v("tr"),gi=v("td"),gi.textContent="Created",Ai=A(),Al=v("td"),V(En.$$.fragment),m(s,"class","min-width txt-hint txt-bold"),m(d,"class","min-width txt-hint txt-bold"),m(g,"class","label"),J(g,"label-danger",n[2].status>=400),m(C,"class","min-width txt-hint txt-bold"),m(R,"class","min-width txt-hint txt-bold"),m(G,"class","min-width txt-hint txt-bold"),m($e,"class","min-width txt-hint txt-bold"),m(lt,"class","min-width txt-hint txt-bold"),m(tt,"class","min-width txt-hint txt-bold"),m(wt,"class","min-width txt-hint txt-bold"),m(Dt,"class","min-width txt-hint txt-bold"),m(gi,"class","min-width txt-hint txt-bold"),m(e,"class","table-border")},m(xe,Ee){S(xe,e,Ee),O(e,t),O(t,i),O(i,s),O(i,l),O(i,r),O(r,a),O(t,f),O(t,u),O(u,d),O(u,h),O(u,p),O(p,g),O(g,_),O(t,y),O(t,k),O(k,C),O(k,$),O(k,T),O(T,M),O(t,Q),O(t,E),O(E,R),O(E,L),O(E,N),O(N,Z),O(t,F),O(t,U),O(U,G),O(U,z),O(U,B),O(B,te),O(t,se),O(t,Oe),O(Oe,$e),O(Oe,Ze),O(Oe,He),K.m(He,null),O(t,Ce),O(t,Pe),O(Pe,lt),O(Pe,Qt),O(Pe,rt),O(rt,Tt),O(t,ge),O(t,_e),O(_e,tt),O(_e,Me),O(_e,kt),O(kt,pn),O(t,Dn),O(t,De),O(De,wt),O(De,Hi),O(De,Xn),O(Xn,rs),O(t,Rs),O(t,mi),O(mi,Dt),O(mi,os),O(mi,Ls),ae[Re].m(Ls,null),O(t,ot),O(t,Ht),O(Ht,gi),O(Ht,Ai),O(Ht,Al),X(En,Al,null),Gn=!0},p(xe,Ee){var Ke;(!Gn||Ee&4)&&o!==(o=xe[2].id+"")&&re(a,o),(!Gn||Ee&4)&&b!==(b=xe[2].status+"")&&re(_,b),(!Gn||Ee&4)&&J(g,"label-danger",xe[2].status>=400),(!Gn||Ee&4)&&P!==(P=((Ke=xe[2].method)==null?void 0:Ke.toUpperCase())+"")&&re(M,P),(!Gn||Ee&4)&&x!==(x=xe[2].auth+"")&&re(Z,x),(!Gn||Ee&4)&&le!==(le=xe[2].url+"")&&re(te,le),Y===(Y=Wa(xe))&&K?K.p(xe,Ee):(K.d(1),K=Y(xe),K&&(K.c(),K.m(He,null))),(!Gn||Ee&4)&&Je!==(Je=xe[2].remoteIp+"")&&re(Tt,Je),(!Gn||Ee&4)&&Yt!==(Yt=xe[2].userIp+"")&&re(pn,Yt),(!Gn||Ee&4)&&pi!==(pi=xe[2].userAgent+"")&&re(rs,pi);let it=Re;Re=Te(xe,Ee),Re===it?ae[Re].p(xe,Ee):(ue(),I(ae[it],1,1,()=>{ae[it]=null}),ce(),Xe=ae[Re],Xe?Xe.p(xe,Ee):(Xe=ae[Re]=ie[Re](xe),Xe.c()),D(Xe,1),Xe.m(Ls,null));const qe={};Ee&4&&(qe.date=xe[2].created),En.$set(qe)},i(xe){Gn||(D(Xe),D(En.$$.fragment,xe),Gn=!0)},o(xe){I(Xe),I(En.$$.fragment,xe),Gn=!1},d(xe){xe&&w(e),K.d(),ae[Re].d(),q(En)}}}function b6(n){let e;return{c(){e=v("h4"),e.textContent="Request log"},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function _6(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<span class="txt">Close</span>',m(e,"type","button"),m(e,"class","btn btn-transparent")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[4]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function O6(n){let e,t,i={class:"overlay-panel-lg log-panel",$$slots:{footer:[_6],header:[b6],default:[g6]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[5](e),e.$on("hide",n[6]),e.$on("show",n[7]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&260&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[5](null),q(e,s)}}}function y6(n,e,t){let i,s=new jd;function l(d){return t(2,s=d),i==null?void 0:i.show()}function r(){return i==null?void 0:i.hide()}const o=()=>r();function a(d){ne[d?"unshift":"push"](()=>{i=d,t(1,i)})}function f(d){Fe.call(this,n,d)}function u(d){Fe.call(this,n,d)}return[r,i,s,l,o,a,f,u]}class v6 extends ke{constructor(e){super(),ve(this,e,y6,O6,be,{show:3,hide:0})}get show(){return this.$$.ctx[3]}get hide(){return this.$$.ctx[0]}}function k6(n){let e,t,i,s,l,r,o,a;return{c(){e=v("input"),i=A(),s=v("label"),l=W("Include requests by admins"),m(e,"type","checkbox"),m(e,"id",t=n[14]),m(s,"for",r=n[14])},m(f,u){S(f,e,u),e.checked=n[1],S(f,i,u),S(f,s,u),O(s,l),o||(a=H(e,"change",n[10]),o=!0)},p(f,u){u&16384&&t!==(t=f[14])&&m(e,"id",t),u&2&&(e.checked=f[1]),u&16384&&r!==(r=f[14])&&m(s,"for",r)},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,a()}}}function o1(n){let e,t;return e=new n6({props:{filter:n[4],presets:n[5]}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&16&&(l.filter=i[4]),s&32&&(l.presets=i[5]),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function a1(n){let e,t;return e=new vA({props:{filter:n[4],presets:n[5]}}),e.$on("select",n[12]),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&16&&(l.filter=i[4]),s&32&&(l.presets=i[5]),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function w6(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k=n[3],C,$=n[3],T,P;o=new lc({}),o.$on("refresh",n[9]),h=new me({props:{class:"form-field form-field-toggle m-0",$$slots:{default:[k6,({uniqueId:E})=>({14:E}),({uniqueId:E})=>E?16384:0]},$$scope:{ctx:n}}}),g=new sc({props:{value:n[0],placeholder:"Search term or filter like status >= 400",extraAutocompleteKeys:n[7]}}),g.$on("submit",n[11]);let M=o1(n),Q=a1(n);return{c(){e=v("div"),t=v("header"),i=v("nav"),s=v("div"),l=W(n[6]),r=A(),V(o.$$.fragment),a=A(),f=v("div"),u=A(),d=v("div"),V(h.$$.fragment),p=A(),V(g.$$.fragment),b=A(),_=v("div"),y=A(),M.c(),C=A(),Q.c(),T=Se(),m(s,"class","breadcrumb-item"),m(i,"class","breadcrumbs"),m(f,"class","flex-fill"),m(d,"class","inline-flex"),m(t,"class","page-header"),m(_,"class","clearfix m-b-base"),m(e,"class","page-header-wrapper m-b-0")},m(E,R){S(E,e,R),O(e,t),O(t,i),O(i,s),O(s,l),O(t,r),X(o,t,null),O(t,a),O(t,f),O(t,u),O(t,d),X(h,d,null),O(e,p),X(g,e,null),O(e,b),O(e,_),O(e,y),M.m(e,null),S(E,C,R),Q.m(E,R),S(E,T,R),P=!0},p(E,R){(!P||R&64)&&re(l,E[6]);const L={};R&49154&&(L.$$scope={dirty:R,ctx:E}),h.$set(L);const N={};R&1&&(N.value=E[0]),g.$set(N),R&8&&be(k,k=E[3])?(ue(),I(M,1,1,ee),ce(),M=o1(E),M.c(),D(M,1),M.m(e,null)):M.p(E,R),R&8&&be($,$=E[3])?(ue(),I(Q,1,1,ee),ce(),Q=a1(E),Q.c(),D(Q,1),Q.m(T.parentNode,T)):Q.p(E,R)},i(E){P||(D(o.$$.fragment,E),D(h.$$.fragment,E),D(g.$$.fragment,E),D(M),D(Q),P=!0)},o(E){I(o.$$.fragment,E),I(h.$$.fragment,E),I(g.$$.fragment,E),I(M),I(Q),P=!1},d(E){E&&w(e),q(o),q(h),q(g),M.d(E),E&&w(C),E&&w(T),Q.d(E)}}}function S6(n){let e,t,i,s;e=new hi({props:{$$slots:{default:[w6]},$$scope:{ctx:n}}});let l={};return i=new v6({props:l}),n[13](i),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment)},m(r,o){X(e,r,o),S(r,t,o),X(i,r,o),s=!0},p(r,[o]){const a={};o&32895&&(a.$$scope={dirty:o,ctx:r}),e.$set(a);const f={};i.$set(f)},i(r){s||(D(e.$$.fragment,r),D(i.$$.fragment,r),s=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),s=!1},d(r){q(e,r),r&&w(t),n[13](null),q(i,r)}}}const f1="includeAdminLogs";function $6(n,e,t){var y;let i,s,l;et(n,zt,k=>t(6,l=k));const r=["method","url","remoteIp","userIp","referer","status","auth","userAgent","created"];Zn(zt,l="Request logs",l);let o,a="",f=((y=window.localStorage)==null?void 0:y.getItem(f1))<<0,u=1;function d(){t(3,u++,u)}const h=()=>d();function p(){f=this.checked,t(1,f)}const g=k=>t(0,a=k.detail),b=k=>o==null?void 0:o.show(k==null?void 0:k.detail);function _(k){ne[k?"unshift":"push"](()=>{o=k,t(2,o)})}return n.$$.update=()=>{n.$$.dirty&2&&t(5,i=f?"":'auth!="admin"'),n.$$.dirty&2&&typeof f<"u"&&window.localStorage&&window.localStorage.setItem(f1,f<<0),n.$$.dirty&1&&t(4,s=j.normalizeSearchFilter(a,r))},[a,f,o,u,s,i,l,r,d,h,p,g,b,_]}class C6 extends ke{constructor(e){super(),ve(this,e,$6,S6,be,{})}}const Jp=Mi({});function Wn(n,e,t){Jp.set({text:n,yesCallback:e,noCallback:t})}function HS(){Jp.set({})}function u1(n){let e,t,i;const s=n[17].default,l=xt(s,n,n[16],null);return{c(){e=v("div"),l&&l.c(),m(e,"class",n[1]),J(e,"active",n[0])},m(r,o){S(r,e,o),l&&l.m(e,null),n[18](e),i=!0},p(r,o){l&&l.p&&(!i||o&65536)&&Ft(l,s,r,r[16],i?Zt(s,r[16],o,null):Xt(r[16]),null),(!i||o&2)&&m(e,"class",r[1]),(!i||o&3)&&J(e,"active",r[0])},i(r){i||(D(l,r),r&&at(()=>{i&&(t||(t=Ue(e,Ms,{duration:150,y:3},!0)),t.run(1))}),i=!0)},o(r){I(l,r),r&&(t||(t=Ue(e,Ms,{duration:150,y:3},!1)),t.run(0)),i=!1},d(r){r&&w(e),l&&l.d(r),n[18](null),r&&t&&t.end()}}}function T6(n){let e,t,i,s,l=n[0]&&u1(n);return{c(){e=v("div"),l&&l.c(),m(e,"class","toggler-container"),m(e,"tabindex","-1")},m(r,o){S(r,e,o),l&&l.m(e,null),n[19](e),t=!0,i||(s=[H(window,"mousedown",n[5]),H(window,"click",n[6]),H(window,"keydown",n[4]),H(window,"focusin",n[7])],i=!0)},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&D(l,1)):(l=u1(r),l.c(),D(l,1),l.m(e,null)):l&&(ue(),I(l,1,1,()=>{l=null}),ce())},i(r){t||(D(l),t=!0)},o(r){I(l),t=!1},d(r){r&&w(e),l&&l.d(),n[19](null),i=!1,Qe(s)}}}function P6(n,e,t){let{$$slots:i={},$$scope:s}=e,{trigger:l=void 0}=e,{active:r=!1}=e,{escClose:o=!0}=e,{autoScroll:a=!0}=e,{closableClass:f="closable"}=e,{class:u=""}=e,d,h,p,g,b=!1;const _=Lt();function y(){t(0,r=!1),b=!1,clearTimeout(g)}function k(){t(0,r=!0),clearTimeout(g),g=setTimeout(()=>{a&&(h!=null&&h.scrollIntoViewIfNeeded?h==null||h.scrollIntoViewIfNeeded():h!=null&&h.scrollIntoView&&(h==null||h.scrollIntoView({behavior:"smooth",block:"nearest"})))},180)}function C(){r?y():k()}function $(F){return!d||F.classList.contains(f)||(p==null?void 0:p.contains(F))&&!d.contains(F)||d.contains(F)&&F.closest&&F.closest("."+f)}function T(F){(!r||$(F.target))&&(F.preventDefault(),F.stopPropagation(),C())}function P(F){(F.code==="Enter"||F.code==="Space")&&(!r||$(F.target))&&(F.preventDefault(),F.stopPropagation(),C())}function M(F){r&&o&&F.code==="Escape"&&(F.preventDefault(),y())}function Q(F){r&&!(d!=null&&d.contains(F.target))?b=!0:b&&(b=!1)}function E(F){var U;r&&b&&!(d!=null&&d.contains(F.target))&&!(p!=null&&p.contains(F.target))&&!((U=F.target)!=null&&U.closest(".flatpickr-calendar"))&&y()}function R(F){Q(F),E(F)}function L(F){N(),d==null||d.addEventListener("click",T),t(15,p=F||(d==null?void 0:d.parentNode)),p==null||p.addEventListener("click",T),p==null||p.addEventListener("keydown",P)}function N(){clearTimeout(g),d==null||d.removeEventListener("click",T),p==null||p.removeEventListener("click",T),p==null||p.removeEventListener("keydown",P)}vn(()=>(L(),()=>N()));function x(F){ne[F?"unshift":"push"](()=>{h=F,t(3,h)})}function Z(F){ne[F?"unshift":"push"](()=>{d=F,t(2,d)})}return n.$$set=F=>{"trigger"in F&&t(8,l=F.trigger),"active"in F&&t(0,r=F.active),"escClose"in F&&t(9,o=F.escClose),"autoScroll"in F&&t(10,a=F.autoScroll),"closableClass"in F&&t(11,f=F.closableClass),"class"in F&&t(1,u=F.class),"$$scope"in F&&t(16,s=F.$$scope)},n.$$.update=()=>{var F,U;n.$$.dirty&260&&d&&L(l),n.$$.dirty&32769&&(r?((F=p==null?void 0:p.classList)==null||F.add("active"),_("show")):((U=p==null?void 0:p.classList)==null||U.remove("active"),_("hide")))},[r,u,d,h,M,Q,E,R,l,o,a,f,y,k,C,p,s,i,x,Z]}class Bi extends ke{constructor(e){super(),ve(this,e,P6,T6,be,{trigger:8,active:0,escClose:9,autoScroll:10,closableClass:11,class:1,hide:12,show:13,toggle:14})}get hide(){return this.$$.ctx[12]}get show(){return this.$$.ctx[13]}get toggle(){return this.$$.ctx[14]}}function c1(n,e,t){const i=n.slice();return i[27]=e[t],i}function M6(n){let e,t,i,s,l,r,o,a,f;return{c(){e=v("input"),s=A(),l=v("label"),r=W("Unique"),m(e,"type","checkbox"),m(e,"id",t=n[30]),e.checked=i=n[3].unique,m(l,"for",o=n[30])},m(u,d){S(u,e,d),S(u,s,d),S(u,l,d),O(l,r),a||(f=H(e,"change",n[19]),a=!0)},p(u,d){d[0]&1073741824&&t!==(t=u[30])&&m(e,"id",t),d[0]&8&&i!==(i=u[3].unique)&&(e.checked=i),d[0]&1073741824&&o!==(o=u[30])&&m(l,"for",o)},d(u){u&&w(e),u&&w(s),u&&w(l),a=!1,f()}}}function A6(n){let e,t,i,s;function l(a){n[20](a)}var r=n[7];function o(a){var u;let f={id:a[30],placeholder:`eg. CREATE INDEX idx_test on ${(u=a[0])==null?void 0:u.name} (created)`,language:"sql-create-index",minHeight:"85"};return a[2]!==void 0&&(f.value=a[2]),{props:f}}return r&&(e=on(r,o(n)),ne.push(()=>pe(e,"value",l))),{c(){e&&V(e.$$.fragment),i=Se()},m(a,f){e&&X(e,a,f),S(a,i,f),s=!0},p(a,f){var d;const u={};if(f[0]&1073741824&&(u.id=a[30]),f[0]&1&&(u.placeholder=`eg. CREATE INDEX idx_test on ${(d=a[0])==null?void 0:d.name} (created)`),!t&&f[0]&4&&(t=!0,u.value=a[2],ye(()=>t=!1)),f[0]&128&&r!==(r=a[7])){if(e){ue();const h=e;I(h.$$.fragment,1,0,()=>{q(h,1)}),ce()}r?(e=on(r,o(a)),ne.push(()=>pe(e,"value",l)),V(e.$$.fragment),D(e.$$.fragment,1),X(e,i.parentNode,i)):e=null}else r&&e.$set(u)},i(a){s||(e&&D(e.$$.fragment,a),s=!0)},o(a){e&&I(e.$$.fragment,a),s=!1},d(a){a&&w(i),e&&q(e,a)}}}function Q6(n){let e;return{c(){e=v("textarea"),e.disabled=!0,m(e,"rows","7"),m(e,"placeholder","Loading...")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function D6(n){let e,t,i,s;const l=[Q6,A6],r=[];function o(a,f){return a[8]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Se()},m(a,f){r[e].m(a,f),S(a,i,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),D(t,1),t.m(i.parentNode,i))},i(a){s||(D(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&w(i)}}}function d1(n){let e,t,i,s=n[10],l=[];for(let r=0;r<s.length;r+=1)l[r]=h1(c1(n,s,r));return{c(){e=v("div"),t=v("span"),t.textContent="Presets",i=A();for(let r=0;r<l.length;r+=1)l[r].c();m(t,"class","txt txt-hint"),m(e,"class","inline-flex gap-10")},m(r,o){S(r,e,o),O(e,t),O(e,i);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(r,o){if(o[0]&9728){s=r[10];let a;for(a=0;a<s.length;a+=1){const f=c1(r,s,a);l[a]?l[a].p(f,o):(l[a]=h1(f),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=s.length}},d(r){r&&w(e),At(l,r)}}}function h1(n){let e,t=n[27]+"",i,s,l,r;function o(){return n[21](n[27])}return{c(){e=v("button"),i=W(t),s=A(),m(e,"type","button"),m(e,"class","label link-primary"),J(e,"label-info",n[9].includes(n[27]))},m(a,f){S(a,e,f),O(e,i),O(e,s),l||(r=H(e,"click",o),l=!0)},p(a,f){n=a,f[0]&1024&&t!==(t=n[27]+"")&&re(i,t),f[0]&1536&&J(e,"label-info",n[9].includes(n[27]))},d(a){a&&w(e),l=!1,r()}}}function E6(n){let e,t,i,s,l,r;e=new me({props:{class:"form-field form-field-toggle m-b-sm",$$slots:{default:[M6,({uniqueId:a})=>({30:a}),({uniqueId:a})=>[a?1073741824:0]]},$$scope:{ctx:n}}}),i=new me({props:{class:"form-field required m-b-sm",name:`indexes.${n[6]||""}`,$$slots:{default:[D6,({uniqueId:a})=>({30:a}),({uniqueId:a})=>[a?1073741824:0]]},$$scope:{ctx:n}}});let o=n[10].length>0&&d1(n);return{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment),s=A(),o&&o.c(),l=Se()},m(a,f){X(e,a,f),S(a,t,f),X(i,a,f),S(a,s,f),o&&o.m(a,f),S(a,l,f),r=!0},p(a,f){const u={};f[0]&1073741837|f[1]&1&&(u.$$scope={dirty:f,ctx:a}),e.$set(u);const d={};f[0]&64&&(d.name=`indexes.${a[6]||""}`),f[0]&1073742213|f[1]&1&&(d.$$scope={dirty:f,ctx:a}),i.$set(d),a[10].length>0?o?o.p(a,f):(o=d1(a),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},i(a){r||(D(e.$$.fragment,a),D(i.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),r=!1},d(a){q(e,a),a&&w(t),q(i,a),a&&w(s),o&&o.d(a),a&&w(l)}}}function I6(n){let e,t=n[5]?"Update":"Create",i,s;return{c(){e=v("h4"),i=W(t),s=W(" index")},m(l,r){S(l,e,r),O(e,i),O(e,s)},p(l,r){r[0]&32&&t!==(t=l[5]?"Update":"Create")&&re(i,t)},d(l){l&&w(e)}}}function p1(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<i class="ri-delete-bin-7-line"></i>',m(e,"type","button"),m(e,"class","btn btn-sm btn-circle btn-hint btn-transparent m-r-auto")},m(s,l){S(s,e,l),t||(i=[Ae(Ye.call(null,e,{text:"Delete",position:"top"})),H(e,"click",n[16])],t=!0)},p:ee,d(s){s&&w(e),t=!1,Qe(i)}}}function R6(n){let e,t,i,s,l,r,o=n[5]!=""&&p1(n);return{c(){o&&o.c(),e=A(),t=v("button"),t.innerHTML='<span class="txt">Cancel</span>',i=A(),s=v("button"),s.innerHTML='<span class="txt">Set index</span>',m(t,"type","button"),m(t,"class","btn btn-transparent"),m(s,"type","button"),m(s,"class","btn"),J(s,"btn-disabled",n[9].length<=0)},m(a,f){o&&o.m(a,f),S(a,e,f),S(a,t,f),S(a,i,f),S(a,s,f),l||(r=[H(t,"click",n[17]),H(s,"click",n[18])],l=!0)},p(a,f){a[5]!=""?o?o.p(a,f):(o=p1(a),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),f[0]&512&&J(s,"btn-disabled",a[9].length<=0)},d(a){o&&o.d(a),a&&w(e),a&&w(t),a&&w(i),a&&w(s),l=!1,Qe(r)}}}function L6(n){let e,t;const i=[{popup:!0},n[14]];let s={$$slots:{footer:[R6],header:[I6],default:[E6]},$$scope:{ctx:n}};for(let l=0;l<i.length;l+=1)s=je(s,i[l]);return e=new Fn({props:s}),n[22](e),e.$on("hide",n[23]),e.$on("show",n[24]),{c(){V(e.$$.fragment)},m(l,r){X(e,l,r),t=!0},p(l,r){const o=r[0]&16384?Bt(i,[i[0],Cn(l[14])]):{};r[0]&2029|r[1]&1&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){n[22](null),q(e,l)}}}function N6(n,e,t){let i,s,l;const r=["collection","show","hide"];let o=ft(e,r);const a=Lt();let{collection:f}=e,u,d="",h="",p="",g,b=!1;function _(F,U){return t(6,p=j.isEmpty(U)?"":U),t(5,d=F||k()),t(2,h=d),u==null?void 0:u.show()}function y(){return u==null?void 0:u.hide()}function k(){const F=j.parseIndex("");return F.tableName=(f==null?void 0:f.name)||"",j.buildIndex(F)}function C(){a("remove",d),y()}function $(){l.length&&(a("submit",{old:d,new:h}),y())}function T(F){const U=j.clone(s),G=U.columns.find(z=>z.name==F);G?j.removeByValue(U.columns,G):j.pushUnique(U.columns,{name:F}),t(2,h=j.buildIndex(U))}vn(async()=>{t(8,b=!0);try{t(7,g=(await _t(()=>import("./CodeEditor-40c10f2b.js"),[],import.meta.url)).default)}catch(F){console.warn(F)}t(8,b=!1)});const P=()=>C(),M=()=>y(),Q=()=>$(),E=F=>{t(3,s.unique=F.target.checked,s),t(3,s.tableName=s.tableName||(f==null?void 0:f.name),s),t(2,h=j.buildIndex(s))};function R(F){h=F,t(2,h)}const L=F=>T(F);function N(F){ne[F?"unshift":"push"](()=>{u=F,t(4,u)})}function x(F){Fe.call(this,n,F)}function Z(F){Fe.call(this,n,F)}return n.$$set=F=>{e=je(je({},e),$n(F)),t(14,o=ft(e,r)),"collection"in F&&t(0,f=F.collection)},n.$$.update=()=>{var F,U,G;n.$$.dirty[0]&1&&t(10,i=(((U=(F=f==null?void 0:f.schema)==null?void 0:F.filter(z=>!z.toDelete))==null?void 0:U.map(z=>z.name))||[]).concat(["created","updated"])),n.$$.dirty[0]&4&&t(3,s=j.parseIndex(h)),n.$$.dirty[0]&8&&t(9,l=((G=s.columns)==null?void 0:G.map(z=>z.name))||[])},[f,y,h,s,u,d,p,g,b,l,i,C,$,T,o,_,P,M,Q,E,R,L,N,x,Z]}class x6 extends ke{constructor(e){super(),ve(this,e,N6,L6,be,{collection:0,show:15,hide:1},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[1]}}function m1(n,e,t){const i=n.slice();i[10]=e[t],i[13]=t;const s=j.parseIndex(i[10]);return i[11]=s,i}function g1(n){let e;return{c(){e=v("strong"),e.textContent="Unique:"},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function b1(n){var h;let e,t,i,s=((h=n[11].columns)==null?void 0:h.map(_1).join(", "))+"",l,r,o,a,f,u=n[11].unique&&g1();function d(){return n[4](n[10],n[13])}return{c(){var p,g;e=v("button"),u&&u.c(),t=A(),i=v("span"),l=W(s),m(i,"class","txt"),m(e,"type","button"),m(e,"class",r="label link-primary "+((g=(p=n[2].indexes)==null?void 0:p[n[13]])!=null&&g.message?"label-danger":"")+" svelte-167lbwu")},m(p,g){var b,_;S(p,e,g),u&&u.m(e,null),O(e,t),O(e,i),O(i,l),a||(f=[Ae(o=Ye.call(null,e,((_=(b=n[2].indexes)==null?void 0:b[n[13]])==null?void 0:_.message)||"")),H(e,"click",d)],a=!0)},p(p,g){var b,_,y,k,C;n=p,n[11].unique?u||(u=g1(),u.c(),u.m(e,t)):u&&(u.d(1),u=null),g&1&&s!==(s=((b=n[11].columns)==null?void 0:b.map(_1).join(", "))+"")&&re(l,s),g&4&&r!==(r="label link-primary "+((y=(_=n[2].indexes)==null?void 0:_[n[13]])!=null&&y.message?"label-danger":"")+" svelte-167lbwu")&&m(e,"class",r),o&&fn(o.update)&&g&4&&o.update.call(null,((C=(k=n[2].indexes)==null?void 0:k[n[13]])==null?void 0:C.message)||"")},d(p){p&&w(e),u&&u.d(),a=!1,Qe(f)}}}function Z6(n){var $,T,P;let e,t,i=(((T=($=n[0])==null?void 0:$.indexes)==null?void 0:T.length)||0)+"",s,l,r,o,a,f,u,d,h,p,g,b,_=((P=n[0])==null?void 0:P.indexes)||[],y=[];for(let M=0;M<_.length;M+=1)y[M]=b1(m1(n,_,M));function k(M){n[7](M)}let C={};return n[0]!==void 0&&(C.collection=n[0]),d=new x6({props:C}),n[6](d),ne.push(()=>pe(d,"collection",k)),d.$on("remove",n[8]),d.$on("submit",n[9]),{c(){e=v("div"),t=W("Unique constraints and indexes ("),s=W(i),l=W(")"),r=A(),o=v("div");for(let M=0;M<y.length;M+=1)y[M].c();a=A(),f=v("button"),f.innerHTML=`<span class="txt">+</span> 
        <span class="txt">New index</span>`,u=A(),V(d.$$.fragment),m(e,"class","section-title"),m(f,"type","button"),m(f,"class","btn btn-xs btn-transparent btn-pill btn-outline"),m(o,"class","indexes-list svelte-167lbwu")},m(M,Q){S(M,e,Q),O(e,t),O(e,s),O(e,l),S(M,r,Q),S(M,o,Q);for(let E=0;E<y.length;E+=1)y[E]&&y[E].m(o,null);O(o,a),O(o,f),S(M,u,Q),X(d,M,Q),p=!0,g||(b=H(f,"click",n[5]),g=!0)},p(M,[Q]){var R,L,N;if((!p||Q&1)&&i!==(i=(((L=(R=M[0])==null?void 0:R.indexes)==null?void 0:L.length)||0)+"")&&re(s,i),Q&7){_=((N=M[0])==null?void 0:N.indexes)||[];let x;for(x=0;x<_.length;x+=1){const Z=m1(M,_,x);y[x]?y[x].p(Z,Q):(y[x]=b1(Z),y[x].c(),y[x].m(o,a))}for(;x<y.length;x+=1)y[x].d(1);y.length=_.length}const E={};!h&&Q&1&&(h=!0,E.collection=M[0],ye(()=>h=!1)),d.$set(E)},i(M){p||(D(d.$$.fragment,M),p=!0)},o(M){I(d.$$.fragment,M),p=!1},d(M){M&&w(e),M&&w(r),M&&w(o),At(y,M),M&&w(u),n[6](null),q(d,M),g=!1,b()}}}const _1=n=>n.name;function F6(n,e,t){let i;et(n,Gs,p=>t(2,i=p));let{collection:s}=e,l;function r(p,g){for(let b=0;b<s.indexes.length;b++)if(s.indexes[b]==p){t(0,s.indexes[b]=g,s),Ts("indexes."+b);return}s.indexes.push(g),t(0,s)}const o=(p,g)=>l==null?void 0:l.show(p,g),a=()=>l==null?void 0:l.show();function f(p){ne[p?"unshift":"push"](()=>{l=p,t(1,l)})}function u(p){s=p,t(0,s)}const d=p=>{for(let g=0;g<s.indexes.length;g++)if(s.indexes[g]==p.detail){s.indexes.splice(g,1),Ts("indexes."+g);break}t(0,s)},h=p=>{r(p.detail.old,p.detail.new)};return n.$$set=p=>{"collection"in p&&t(0,s=p.collection)},[s,l,i,r,o,a,f,u,d,h]}class X6 extends ke{constructor(e){super(),ve(this,e,F6,Z6,be,{collection:0})}}function O1(n,e,t){const i=n.slice();return i[6]=e[t],i}function y1(n){let e,t,i,s,l=n[6].label+"",r,o,a,f;function u(){return n[4](n[6])}function d(...h){return n[5](n[6],...h)}return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),r=W(l),o=A(),m(t,"class","icon "+n[6].icon+" svelte-1gz9b6p"),m(s,"class","txt"),m(e,"tabindex","0"),m(e,"class","dropdown-item closable svelte-1gz9b6p")},m(h,p){S(h,e,p),O(e,t),O(e,i),O(e,s),O(s,r),O(e,o),a||(f=[H(e,"click",Pi(u)),H(e,"keydown",Pi(d))],a=!0)},p(h,p){n=h},d(h){h&&w(e),a=!1,Qe(f)}}}function q6(n){let e,t=n[2],i=[];for(let s=0;s<t.length;s+=1)i[s]=y1(O1(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Se()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);S(s,e,l)},p(s,l){if(l&12){t=s[2];let r;for(r=0;r<t.length;r+=1){const o=O1(s,t,r);i[r]?i[r].p(o,l):(i[r]=y1(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){At(i,s),s&&w(e)}}}function V6(n){let e,t,i,s,l,r,o,a,f,u;return r=new Bi({props:{class:"dropdown field-types-dropdown",$$slots:{default:[q6]},$$scope:{ctx:n}}}),{c(){e=v("button"),t=v("i"),i=A(),s=v("div"),s.textContent="New field",l=A(),V(r.$$.fragment),m(t,"class","ri-add-line"),m(s,"class","txt"),m(e,"type","button"),m(e,"class",o="field-types-btn "+n[0]+" svelte-1gz9b6p")},m(d,h){S(d,e,h),O(e,t),O(e,i),O(e,s),O(e,l),X(r,e,null),a=!0,f||(u=H(e,"click",n[1]),f=!0)},p(d,[h]){const p={};h&512&&(p.$$scope={dirty:h,ctx:d}),r.$set(p),(!a||h&1&&o!==(o="field-types-btn "+d[0]+" svelte-1gz9b6p"))&&m(e,"class",o)},i(d){a||(D(r.$$.fragment,d),a=!0)},o(d){I(r.$$.fragment,d),a=!1},d(d){d&&w(e),q(r),f=!1,u()}}}function j6(n,e,t){let{class:i=""}=e;const s=Lt(),l=[{label:"Plain text",value:"text",icon:j.getFieldTypeIcon("text")},{label:"Rich editor",value:"editor",icon:j.getFieldTypeIcon("editor")},{label:"Number",value:"number",icon:j.getFieldTypeIcon("number")},{label:"Bool",value:"bool",icon:j.getFieldTypeIcon("bool")},{label:"Email",value:"email",icon:j.getFieldTypeIcon("email")},{label:"Url",value:"url",icon:j.getFieldTypeIcon("url")},{label:"DateTime",value:"date",icon:j.getFieldTypeIcon("date")},{label:"Select",value:"select",icon:j.getFieldTypeIcon("select")},{label:"File",value:"file",icon:j.getFieldTypeIcon("file")},{label:"Relation",value:"relation",icon:j.getFieldTypeIcon("relation")},{label:"JSON",value:"json",icon:j.getFieldTypeIcon("json")}];function r(f){s("select",f)}const o=f=>{r(f.value)},a=(f,u)=>{(u.code==="Enter"||u.code==="Space")&&r(f.value)};return n.$$set=f=>{"class"in f&&t(0,i=f.class)},[i,s,l,r,o,a]}class U6 extends ke{constructor(e){super(),ve(this,e,j6,V6,be,{class:0})}}const W6=n=>({interactive:n&64,hasErrors:n&32}),v1=n=>({interactive:n[6],hasErrors:n[5]}),z6=n=>({interactive:n&64,hasErrors:n&32}),k1=n=>({interactive:n[6],hasErrors:n[5]}),B6=n=>({interactive:n&64,hasErrors:n&32}),w1=n=>({interactive:n[6],hasErrors:n[5]}),Y6=n=>({interactive:n&64,hasErrors:n&32}),S1=n=>({interactive:n[6],hasErrors:n[5]});function $1(n){let e;return{c(){e=v("div"),e.innerHTML='<span class="drag-handle"></span>',m(e,"class","drag-handle-wrapper"),m(e,"draggable",!0),m(e,"aria-label","Sort")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function C1(n){let e,t,i,s;return{c(){e=v("span"),m(e,"class","marker marker-required")},m(l,r){S(l,e,r),i||(s=Ae(t=Ye.call(null,e,n[4])),i=!0)},p(l,r){t&&fn(t.update)&&r&16&&t.update.call(null,l[4])},d(l){l&&w(e),i=!1,s()}}}function H6(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g=n[0].required&&C1(n);return{c(){e=v("div"),g&&g.c(),t=A(),i=v("div"),s=v("i"),r=A(),o=v("input"),m(e,"class","markers"),m(s,"class",l=j.getFieldTypeIcon(n[0].type)),m(i,"class","form-field-addon prefix no-pointer-events field-type-icon"),J(i,"txt-disabled",!n[6]),m(o,"type","text"),o.required=!0,o.disabled=a=!n[6],o.readOnly=f=n[0].id&&n[0].system,m(o,"spellcheck","false"),o.autofocus=u=!n[0].id,m(o,"placeholder","Field name"),o.value=d=n[0].name},m(b,_){S(b,e,_),g&&g.m(e,null),S(b,t,_),S(b,i,_),O(i,s),S(b,r,_),S(b,o,_),n[14](o),n[0].id||o.focus(),h||(p=H(o,"input",n[15]),h=!0)},p(b,_){b[0].required?g?g.p(b,_):(g=C1(b),g.c(),g.m(e,null)):g&&(g.d(1),g=null),_&1&&l!==(l=j.getFieldTypeIcon(b[0].type))&&m(s,"class",l),_&64&&J(i,"txt-disabled",!b[6]),_&64&&a!==(a=!b[6])&&(o.disabled=a),_&1&&f!==(f=b[0].id&&b[0].system)&&(o.readOnly=f),_&1&&u!==(u=!b[0].id)&&(o.autofocus=u),_&1&&d!==(d=b[0].name)&&o.value!==d&&(o.value=d)},d(b){b&&w(e),g&&g.d(),b&&w(t),b&&w(i),b&&w(r),b&&w(o),n[14](null),h=!1,p()}}}function G6(n){let e;return{c(){e=v("span"),m(e,"class","separator")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function K6(n){let e,t,i,s,l;return{c(){e=v("button"),t=v("i"),m(t,"class","ri-settings-3-line"),m(e,"type","button"),m(e,"aria-label","Toggle field options"),m(e,"class",i="btn btn-sm btn-circle options-trigger "+(n[3]?"btn-secondary":"btn-transparent")),J(e,"btn-hint",!n[3]&&!n[5]),J(e,"btn-danger",n[5])},m(r,o){S(r,e,o),O(e,t),s||(l=H(e,"click",n[11]),s=!0)},p(r,o){o&8&&i!==(i="btn btn-sm btn-circle options-trigger "+(r[3]?"btn-secondary":"btn-transparent"))&&m(e,"class",i),o&40&&J(e,"btn-hint",!r[3]&&!r[5]),o&40&&J(e,"btn-danger",r[5])},d(r){r&&w(e),s=!1,l()}}}function J6(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<i class="ri-restart-line"></i>',m(e,"type","button"),m(e,"class","btn btn-sm btn-circle btn-warning btn-transparent options-trigger"),m(e,"aria-label","Restore")},m(s,l){S(s,e,l),t||(i=[Ae(Ye.call(null,e,"Restore")),H(e,"click",n[9])],t=!0)},p:ee,d(s){s&&w(e),t=!1,Qe(i)}}}function T1(n){let e,t,i,s,l,r,o,a,f,u,d;const h=n[13].options,p=xt(h,n,n[17],w1),g=n[13].beforeNonempty,b=xt(g,n,n[17],k1);o=new me({props:{class:"form-field form-field-toggle m-0",name:"requried",$$slots:{default:[eI,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}});const _=n[13].afterNonempty,y=xt(_,n,n[17],v1);let k=!n[0].toDelete&&P1(n);return{c(){e=v("div"),t=v("div"),i=v("div"),p&&p.c(),s=A(),b&&b.c(),l=A(),r=v("div"),V(o.$$.fragment),a=A(),y&&y.c(),f=A(),k&&k.c(),m(i,"class","col-sm-12 hidden-empty"),m(r,"class","col-sm-4"),m(t,"class","grid grid-sm"),m(e,"class","schema-field-options")},m(C,$){S(C,e,$),O(e,t),O(t,i),p&&p.m(i,null),O(t,s),b&&b.m(t,null),O(t,l),O(t,r),X(o,r,null),O(t,a),y&&y.m(t,null),O(t,f),k&&k.m(t,null),d=!0},p(C,$){p&&p.p&&(!d||$&131168)&&Ft(p,h,C,C[17],d?Zt(h,C[17],$,B6):Xt(C[17]),w1),b&&b.p&&(!d||$&131168)&&Ft(b,g,C,C[17],d?Zt(g,C[17],$,z6):Xt(C[17]),k1);const T={};$&8519697&&(T.$$scope={dirty:$,ctx:C}),o.$set(T),y&&y.p&&(!d||$&131168)&&Ft(y,_,C,C[17],d?Zt(_,C[17],$,W6):Xt(C[17]),v1),C[0].toDelete?k&&(ue(),I(k,1,1,()=>{k=null}),ce()):k?(k.p(C,$),$&1&&D(k,1)):(k=P1(C),k.c(),D(k,1),k.m(t,null))},i(C){d||(D(p,C),D(b,C),D(o.$$.fragment,C),D(y,C),D(k),C&&at(()=>{d&&(u||(u=Ue(e,gt,{duration:150},!0)),u.run(1))}),d=!0)},o(C){I(p,C),I(b,C),I(o.$$.fragment,C),I(y,C),I(k),C&&(u||(u=Ue(e,gt,{duration:150},!1)),u.run(0)),d=!1},d(C){C&&w(e),p&&p.d(C),b&&b.d(C),q(o),y&&y.d(C),k&&k.d(),C&&u&&u.end()}}}function eI(n){let e,t,i,s,l,r,o,a,f,u,d,h;return{c(){e=v("input"),i=A(),s=v("label"),l=v("span"),r=W(n[4]),o=A(),a=v("i"),m(e,"type","checkbox"),m(e,"id",t=n[23]),m(l,"class","txt"),m(a,"class","ri-information-line link-hint"),m(s,"for",u=n[23])},m(p,g){S(p,e,g),e.checked=n[0].required,S(p,i,g),S(p,s,g),O(s,l),O(l,r),O(s,o),O(s,a),d||(h=[H(e,"change",n[16]),Ae(f=Ye.call(null,a,{text:`Requires the field value NOT to be ${j.zeroDefaultStr(n[0])}.`,position:"right"}))],d=!0)},p(p,g){g&8388608&&t!==(t=p[23])&&m(e,"id",t),g&1&&(e.checked=p[0].required),g&16&&re(r,p[4]),f&&fn(f.update)&&g&1&&f.update.call(null,{text:`Requires the field value NOT to be ${j.zeroDefaultStr(p[0])}.`,position:"right"}),g&8388608&&u!==(u=p[23])&&m(s,"for",u)},d(p){p&&w(e),p&&w(i),p&&w(s),d=!1,Qe(h)}}}function P1(n){let e,t,i,s,l,r,o,a,f;return a=new Bi({props:{class:"dropdown dropdown-sm dropdown-upside dropdown-right dropdown-nowrap no-min-width",$$slots:{default:[tI]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),i=A(),s=v("div"),l=v("button"),r=v("i"),o=A(),V(a.$$.fragment),m(t,"class","flex-fill"),m(r,"class","ri-more-line"),m(l,"type","button"),m(l,"aria-label","More"),m(l,"class","btn btn-circle btn-sm btn-transparent"),m(s,"class","inline-flex flex-gap-sm flex-nowrap"),m(e,"class","col-sm-4 m-l-auto txt-right")},m(u,d){S(u,e,d),O(e,t),O(e,i),O(e,s),O(s,l),O(l,r),O(l,o),X(a,l,null),f=!0},p(u,d){const h={};d&131072&&(h.$$scope={dirty:d,ctx:u}),a.$set(h)},i(u){f||(D(a.$$.fragment,u),f=!0)},o(u){I(a.$$.fragment,u),f=!1},d(u){u&&w(e),q(a)}}}function tI(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<span class="txt">Remove</span>',m(e,"type","button"),m(e,"class","dropdown-item txt-right")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[8]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function nI(n){let e,t,i,s,l,r,o,a,f,u=n[6]&&$1();s=new me({props:{class:"form-field required m-0 "+(n[6]?"":"disabled"),name:"schema."+n[1]+".name",inlineError:!0,$$slots:{default:[H6]},$$scope:{ctx:n}}});const d=n[13].default,h=xt(d,n,n[17],S1),p=h||G6();function g(k,C){if(k[0].toDelete)return J6;if(k[6])return K6}let b=g(n),_=b&&b(n),y=n[6]&&n[3]&&T1(n);return{c(){e=v("div"),t=v("div"),u&&u.c(),i=A(),V(s.$$.fragment),l=A(),p&&p.c(),r=A(),_&&_.c(),o=A(),y&&y.c(),m(t,"class","schema-field-header"),m(e,"class","schema-field"),J(e,"required",n[0].required),J(e,"expanded",n[6]&&n[3]),J(e,"deleted",n[0].toDelete)},m(k,C){S(k,e,C),O(e,t),u&&u.m(t,null),O(t,i),X(s,t,null),O(t,l),p&&p.m(t,null),O(t,r),_&&_.m(t,null),O(e,o),y&&y.m(e,null),f=!0},p(k,[C]){k[6]?u||(u=$1(),u.c(),u.m(t,i)):u&&(u.d(1),u=null);const $={};C&64&&($.class="form-field required m-0 "+(k[6]?"":"disabled")),C&2&&($.name="schema."+k[1]+".name"),C&131157&&($.$$scope={dirty:C,ctx:k}),s.$set($),h&&h.p&&(!f||C&131168)&&Ft(h,d,k,k[17],f?Zt(d,k[17],C,Y6):Xt(k[17]),S1),b===(b=g(k))&&_?_.p(k,C):(_&&_.d(1),_=b&&b(k),_&&(_.c(),_.m(t,null))),k[6]&&k[3]?y?(y.p(k,C),C&72&&D(y,1)):(y=T1(k),y.c(),D(y,1),y.m(e,null)):y&&(ue(),I(y,1,1,()=>{y=null}),ce()),(!f||C&1)&&J(e,"required",k[0].required),(!f||C&72)&&J(e,"expanded",k[6]&&k[3]),(!f||C&1)&&J(e,"deleted",k[0].toDelete)},i(k){f||(D(s.$$.fragment,k),D(p,k),D(y),k&&at(()=>{f&&(a||(a=Ue(e,gt,{duration:150},!0)),a.run(1))}),f=!0)},o(k){I(s.$$.fragment,k),I(p,k),I(y),k&&(a||(a=Ue(e,gt,{duration:150},!1)),a.run(0)),f=!1},d(k){k&&w(e),u&&u.d(),q(s),p&&p.d(k),_&&_.d(),y&&y.d(),k&&a&&a.end()}}}let td=[];function iI(n,e,t){let i,s,l,r;et(n,Gs,R=>t(12,r=R));let{$$slots:o={},$$scope:a}=e;const f="f_"+j.randomString(8),u=Lt(),d={bool:"Nonfalsey",number:"Nonzero"};let{key:h=""}=e,{field:p=new di}=e,g,b=!1;function _(){p.id?t(0,p.toDelete=!0,p):u("remove")}function y(){t(0,p.toDelete=!1,p),Mn({})}function k(R){return j.slugify(R)}function C(){t(3,b=!0),P()}function $(){t(3,b=!1)}function T(){b?$():C()}function P(){for(let R of td)R.id!=f&&R.collapse()}vn(()=>(td.push({id:f,collapse:$}),p.onMountSelect&&(t(0,p.onMountSelect=!1,p),g==null||g.select()),()=>{j.removeByKey(td,"id",f)}));function M(R){ne[R?"unshift":"push"](()=>{g=R,t(2,g)})}const Q=R=>{const L=p.name;t(0,p.name=k(R.target.value),p),R.target.value=p.name,u("rename",{oldName:L,newName:p.name})};function E(){p.required=this.checked,t(0,p)}return n.$$set=R=>{"key"in R&&t(1,h=R.key),"field"in R&&t(0,p=R.field),"$$scope"in R&&t(17,a=R.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&p.toDelete&&p.originalName&&p.name!==p.originalName&&t(0,p.name=p.originalName,p),n.$$.dirty&1&&!p.originalName&&p.name&&t(0,p.originalName=p.name,p),n.$$.dirty&1&&typeof p.toDelete>"u"&&t(0,p.toDelete=!1,p),n.$$.dirty&1&&p.required&&t(0,p.nullable=!1,p),n.$$.dirty&1&&t(6,i=!p.toDelete&&!(p.id&&p.system)),n.$$.dirty&4098&&t(5,s=!j.isEmpty(j.getNestedVal(r,`schema.${h}`))),n.$$.dirty&1&&t(4,l=d[p==null?void 0:p.type]||"Nonempty")},[p,h,g,b,l,s,i,u,_,y,k,T,r,o,M,Q,E,a]}class Qs extends ke{constructor(e){super(),ve(this,e,iI,nI,be,{key:1,field:0})}}function sI(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Min length"),s=A(),l=v("input"),m(e,"for",i=n[9]),m(l,"type","number"),m(l,"id",r=n[9]),m(l,"step","1"),m(l,"min","0")},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].options.min),o||(a=H(l,"input",n[3]),o=!0)},p(f,u){u&512&&i!==(i=f[9])&&m(e,"for",i),u&512&&r!==(r=f[9])&&m(l,"id",r),u&1&&Ct(l.value)!==f[0].options.min&&fe(l,f[0].options.min)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function lI(n){let e,t,i,s,l,r,o,a,f;return{c(){e=v("label"),t=W("Max length"),s=A(),l=v("input"),m(e,"for",i=n[9]),m(l,"type","number"),m(l,"id",r=n[9]),m(l,"step","1"),m(l,"min",o=n[0].options.min||0)},m(u,d){S(u,e,d),O(e,t),S(u,s,d),S(u,l,d),fe(l,n[0].options.max),a||(f=H(l,"input",n[4]),a=!0)},p(u,d){d&512&&i!==(i=u[9])&&m(e,"for",i),d&512&&r!==(r=u[9])&&m(l,"id",r),d&1&&o!==(o=u[0].options.min||0)&&m(l,"min",o),d&1&&Ct(l.value)!==u[0].options.max&&fe(l,u[0].options.max)},d(u){u&&w(e),u&&w(s),u&&w(l),a=!1,f()}}}function rI(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Regex pattern"),s=A(),l=v("input"),m(e,"for",i=n[9]),m(l,"type","text"),m(l,"id",r=n[9]),m(l,"placeholder","Valid Go regular expression, eg. ^w+$")},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].options.pattern),o||(a=H(l,"input",n[5]),o=!0)},p(f,u){u&512&&i!==(i=f[9])&&m(e,"for",i),u&512&&r!==(r=f[9])&&m(l,"id",r),u&1&&l.value!==f[0].options.pattern&&fe(l,f[0].options.pattern)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function oI(n){let e,t,i,s,l,r,o,a,f,u;return i=new me({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[sI,({uniqueId:d})=>({9:d}),({uniqueId:d})=>d?512:0]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[lI,({uniqueId:d})=>({9:d}),({uniqueId:d})=>d?512:0]},$$scope:{ctx:n}}}),f=new me({props:{class:"form-field",name:"schema."+n[1]+".options.pattern",$$slots:{default:[rI,({uniqueId:d})=>({9:d}),({uniqueId:d})=>d?512:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),V(r.$$.fragment),o=A(),a=v("div"),V(f.$$.fragment),m(t,"class","col-sm-3"),m(l,"class","col-sm-3"),m(a,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(d,h){S(d,e,h),O(e,t),X(i,t,null),O(e,s),O(e,l),X(r,l,null),O(e,o),O(e,a),X(f,a,null),u=!0},p(d,h){const p={};h&2&&(p.name="schema."+d[1]+".options.min"),h&1537&&(p.$$scope={dirty:h,ctx:d}),i.$set(p);const g={};h&2&&(g.name="schema."+d[1]+".options.max"),h&1537&&(g.$$scope={dirty:h,ctx:d}),r.$set(g);const b={};h&2&&(b.name="schema."+d[1]+".options.pattern"),h&1537&&(b.$$scope={dirty:h,ctx:d}),f.$set(b)},i(d){u||(D(i.$$.fragment,d),D(r.$$.fragment,d),D(f.$$.fragment,d),u=!0)},o(d){I(i.$$.fragment,d),I(r.$$.fragment,d),I(f.$$.fragment,d),u=!1},d(d){d&&w(e),q(i),q(r),q(f)}}}function aI(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[6](o)}let r={$$slots:{options:[oI]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=je(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Qs({props:r}),ne.push(()=>pe(e,"field",l)),e.$on("rename",n[7]),e.$on("remove",n[8]),{c(){V(e.$$.fragment)},m(o,a){X(e,o,a),i=!0},p(o,[a]){const f=a&6?Bt(s,[a&2&&{key:o[1]},a&4&&Cn(o[2])]):{};a&1027&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],ye(()=>t=!1)),e.$set(f)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){q(e,o)}}}function fI(n,e,t){const i=["field","key"];let s=ft(e,i),{field:l}=e,{key:r=""}=e;function o(){l.options.min=Ct(this.value),t(0,l)}function a(){l.options.max=Ct(this.value),t(0,l)}function f(){l.options.pattern=this.value,t(0,l)}function u(p){l=p,t(0,l)}function d(p){Fe.call(this,n,p)}function h(p){Fe.call(this,n,p)}return n.$$set=p=>{e=je(je({},e),$n(p)),t(2,s=ft(e,i)),"field"in p&&t(0,l=p.field),"key"in p&&t(1,r=p.key)},[l,r,s,o,a,f,u,d,h]}class uI extends ke{constructor(e){super(),ve(this,e,fI,aI,be,{field:0,key:1})}}function cI(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Min"),s=A(),l=v("input"),m(e,"for",i=n[8]),m(l,"type","number"),m(l,"id",r=n[8])},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].options.min),o||(a=H(l,"input",n[3]),o=!0)},p(f,u){u&256&&i!==(i=f[8])&&m(e,"for",i),u&256&&r!==(r=f[8])&&m(l,"id",r),u&1&&Ct(l.value)!==f[0].options.min&&fe(l,f[0].options.min)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function dI(n){let e,t,i,s,l,r,o,a,f;return{c(){e=v("label"),t=W("Max"),s=A(),l=v("input"),m(e,"for",i=n[8]),m(l,"type","number"),m(l,"id",r=n[8]),m(l,"min",o=n[0].options.min)},m(u,d){S(u,e,d),O(e,t),S(u,s,d),S(u,l,d),fe(l,n[0].options.max),a||(f=H(l,"input",n[4]),a=!0)},p(u,d){d&256&&i!==(i=u[8])&&m(e,"for",i),d&256&&r!==(r=u[8])&&m(l,"id",r),d&1&&o!==(o=u[0].options.min)&&m(l,"min",o),d&1&&Ct(l.value)!==u[0].options.max&&fe(l,u[0].options.max)},d(u){u&&w(e),u&&w(s),u&&w(l),a=!1,f()}}}function hI(n){let e,t,i,s,l,r,o;return i=new me({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[cI,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[dI,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),V(r.$$.fragment),m(t,"class","col-sm-6"),m(l,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(a,f){S(a,e,f),O(e,t),X(i,t,null),O(e,s),O(e,l),X(r,l,null),o=!0},p(a,f){const u={};f&2&&(u.name="schema."+a[1]+".options.min"),f&769&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};f&2&&(d.name="schema."+a[1]+".options.max"),f&769&&(d.$$scope={dirty:f,ctx:a}),r.$set(d)},i(a){o||(D(i.$$.fragment,a),D(r.$$.fragment,a),o=!0)},o(a){I(i.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&w(e),q(i),q(r)}}}function pI(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[5](o)}let r={$$slots:{options:[hI]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=je(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Qs({props:r}),ne.push(()=>pe(e,"field",l)),e.$on("rename",n[6]),e.$on("remove",n[7]),{c(){V(e.$$.fragment)},m(o,a){X(e,o,a),i=!0},p(o,[a]){const f=a&6?Bt(s,[a&2&&{key:o[1]},a&4&&Cn(o[2])]):{};a&515&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],ye(()=>t=!1)),e.$set(f)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){q(e,o)}}}function mI(n,e,t){const i=["field","key"];let s=ft(e,i),{field:l}=e,{key:r=""}=e;function o(){l.options.min=Ct(this.value),t(0,l)}function a(){l.options.max=Ct(this.value),t(0,l)}function f(h){l=h,t(0,l)}function u(h){Fe.call(this,n,h)}function d(h){Fe.call(this,n,h)}return n.$$set=h=>{e=je(je({},e),$n(h)),t(2,s=ft(e,i)),"field"in h&&t(0,l=h.field),"key"in h&&t(1,r=h.key)},[l,r,s,o,a,f,u,d]}class gI extends ke{constructor(e){super(),ve(this,e,mI,pI,be,{field:0,key:1})}}function bI(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[3](o)}let r={};for(let o=0;o<s.length;o+=1)r=je(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Qs({props:r}),ne.push(()=>pe(e,"field",l)),e.$on("rename",n[4]),e.$on("remove",n[5]),{c(){V(e.$$.fragment)},m(o,a){X(e,o,a),i=!0},p(o,[a]){const f=a&6?Bt(s,[a&2&&{key:o[1]},a&4&&Cn(o[2])]):{};!t&&a&1&&(t=!0,f.field=o[0],ye(()=>t=!1)),e.$set(f)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){q(e,o)}}}function _I(n,e,t){const i=["field","key"];let s=ft(e,i),{field:l}=e,{key:r=""}=e;function o(u){l=u,t(0,l)}function a(u){Fe.call(this,n,u)}function f(u){Fe.call(this,n,u)}return n.$$set=u=>{e=je(je({},e),$n(u)),t(2,s=ft(e,i)),"field"in u&&t(0,l=u.field),"key"in u&&t(1,r=u.key)},[l,r,s,o,a,f]}class OI extends ke{constructor(e){super(),ve(this,e,_I,bI,be,{field:0,key:1})}}function yI(n){let e,t,i,s,l=[{type:t=n[5].type||"text"},{value:n[4]},{disabled:n[3]},{readOnly:n[2]},n[5]],r={};for(let o=0;o<l.length;o+=1)r=je(r,l[o]);return{c(){e=v("input"),$s(e,r)},m(o,a){S(o,e,a),"value"in r&&(e.value=r.value),e.autofocus&&e.focus(),i||(s=H(e,"input",n[6]),i=!0)},p(o,[a]){$s(e,r=Bt(l,[a&32&&t!==(t=o[5].type||"text")&&{type:t},a&16&&e.value!==o[4]&&{value:o[4]},a&8&&{disabled:o[3]},a&4&&{readOnly:o[2]},a&32&&o[5]])),"value"in r&&(e.value=r.value)},i:ee,o:ee,d(o){o&&w(e),i=!1,s()}}}function vI(n,e,t){let i;const s=["value","separator","readonly","disabled"];let l=ft(e,s),{value:r=[]}=e,{separator:o=","}=e,{readonly:a=null}=e,{disabled:f=null}=e;const u=d=>{t(0,r=j.splitNonEmpty(d.target.value,o))};return n.$$set=d=>{e=je(je({},e),$n(d)),t(5,l=ft(e,s)),"value"in d&&t(0,r=d.value),"separator"in d&&t(1,o=d.separator),"readonly"in d&&t(2,a=d.readonly),"disabled"in d&&t(3,f=d.disabled)},n.$$.update=()=>{n.$$.dirty&1&&t(4,i=(r||[]).join(", "))},[r,o,a,f,i,l,u]}class oo extends ke{constructor(e){super(),ve(this,e,vI,yI,be,{value:0,separator:1,readonly:2,disabled:3})}}function kI(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;function g(_){n[3](_)}let b={id:n[8],disabled:!j.isEmpty(n[0].options.onlyDomains)};return n[0].options.exceptDomains!==void 0&&(b.value=n[0].options.exceptDomains),o=new oo({props:b}),ne.push(()=>pe(o,"value",g)),{c(){e=v("label"),t=v("span"),t.textContent="Except domains",i=A(),s=v("i"),r=A(),V(o.$$.fragment),f=A(),u=v("div"),u.textContent="Use comma as separator.",m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[8]),m(u,"class","help-block")},m(_,y){S(_,e,y),O(e,t),O(e,i),O(e,s),S(_,r,y),X(o,_,y),S(_,f,y),S(_,u,y),d=!0,h||(p=Ae(Ye.call(null,s,{text:`List of domains that are NOT allowed. 
 This field is disabled if "Only domains" is set.`,position:"top"})),h=!0)},p(_,y){(!d||y&256&&l!==(l=_[8]))&&m(e,"for",l);const k={};y&256&&(k.id=_[8]),y&1&&(k.disabled=!j.isEmpty(_[0].options.onlyDomains)),!a&&y&1&&(a=!0,k.value=_[0].options.exceptDomains,ye(()=>a=!1)),o.$set(k)},i(_){d||(D(o.$$.fragment,_),d=!0)},o(_){I(o.$$.fragment,_),d=!1},d(_){_&&w(e),_&&w(r),q(o,_),_&&w(f),_&&w(u),h=!1,p()}}}function wI(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;function g(_){n[4](_)}let b={id:n[8]+".options.onlyDomains",disabled:!j.isEmpty(n[0].options.exceptDomains)};return n[0].options.onlyDomains!==void 0&&(b.value=n[0].options.onlyDomains),o=new oo({props:b}),ne.push(()=>pe(o,"value",g)),{c(){e=v("label"),t=v("span"),t.textContent="Only domains",i=A(),s=v("i"),r=A(),V(o.$$.fragment),f=A(),u=v("div"),u.textContent="Use comma as separator.",m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[8]+".options.onlyDomains"),m(u,"class","help-block")},m(_,y){S(_,e,y),O(e,t),O(e,i),O(e,s),S(_,r,y),X(o,_,y),S(_,f,y),S(_,u,y),d=!0,h||(p=Ae(Ye.call(null,s,{text:`List of domains that are ONLY allowed. 
 This field is disabled if "Except domains" is set.`,position:"top"})),h=!0)},p(_,y){(!d||y&256&&l!==(l=_[8]+".options.onlyDomains"))&&m(e,"for",l);const k={};y&256&&(k.id=_[8]+".options.onlyDomains"),y&1&&(k.disabled=!j.isEmpty(_[0].options.exceptDomains)),!a&&y&1&&(a=!0,k.value=_[0].options.onlyDomains,ye(()=>a=!1)),o.$set(k)},i(_){d||(D(o.$$.fragment,_),d=!0)},o(_){I(o.$$.fragment,_),d=!1},d(_){_&&w(e),_&&w(r),q(o,_),_&&w(f),_&&w(u),h=!1,p()}}}function SI(n){let e,t,i,s,l,r,o;return i=new me({props:{class:"form-field",name:"schema."+n[1]+".options.exceptDomains",$$slots:{default:[kI,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field",name:"schema."+n[1]+".options.onlyDomains",$$slots:{default:[wI,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),V(r.$$.fragment),m(t,"class","col-sm-6"),m(l,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(a,f){S(a,e,f),O(e,t),X(i,t,null),O(e,s),O(e,l),X(r,l,null),o=!0},p(a,f){const u={};f&2&&(u.name="schema."+a[1]+".options.exceptDomains"),f&769&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};f&2&&(d.name="schema."+a[1]+".options.onlyDomains"),f&769&&(d.$$scope={dirty:f,ctx:a}),r.$set(d)},i(a){o||(D(i.$$.fragment,a),D(r.$$.fragment,a),o=!0)},o(a){I(i.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&w(e),q(i),q(r)}}}function $I(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[5](o)}let r={$$slots:{options:[SI]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=je(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Qs({props:r}),ne.push(()=>pe(e,"field",l)),e.$on("rename",n[6]),e.$on("remove",n[7]),{c(){V(e.$$.fragment)},m(o,a){X(e,o,a),i=!0},p(o,[a]){const f=a&6?Bt(s,[a&2&&{key:o[1]},a&4&&Cn(o[2])]):{};a&515&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],ye(()=>t=!1)),e.$set(f)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){q(e,o)}}}function CI(n,e,t){const i=["field","key"];let s=ft(e,i),{field:l}=e,{key:r=""}=e;function o(h){n.$$.not_equal(l.options.exceptDomains,h)&&(l.options.exceptDomains=h,t(0,l))}function a(h){n.$$.not_equal(l.options.onlyDomains,h)&&(l.options.onlyDomains=h,t(0,l))}function f(h){l=h,t(0,l)}function u(h){Fe.call(this,n,h)}function d(h){Fe.call(this,n,h)}return n.$$set=h=>{e=je(je({},e),$n(h)),t(2,s=ft(e,i)),"field"in h&&t(0,l=h.field),"key"in h&&t(1,r=h.key)},[l,r,s,o,a,f,u,d]}class GS extends ke{constructor(e){super(),ve(this,e,CI,$I,be,{field:0,key:1})}}function TI(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[3](o)}let r={};for(let o=0;o<s.length;o+=1)r=je(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new GS({props:r}),ne.push(()=>pe(e,"field",l)),e.$on("rename",n[4]),e.$on("remove",n[5]),{c(){V(e.$$.fragment)},m(o,a){X(e,o,a),i=!0},p(o,[a]){const f=a&6?Bt(s,[a&2&&{key:o[1]},a&4&&Cn(o[2])]):{};!t&&a&1&&(t=!0,f.field=o[0],ye(()=>t=!1)),e.$set(f)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){q(e,o)}}}function PI(n,e,t){const i=["field","key"];let s=ft(e,i),{field:l}=e,{key:r=""}=e;function o(u){l=u,t(0,l)}function a(u){Fe.call(this,n,u)}function f(u){Fe.call(this,n,u)}return n.$$set=u=>{e=je(je({},e),$n(u)),t(2,s=ft(e,i)),"field"in u&&t(0,l=u.field),"key"in u&&t(1,r=u.key)},[l,r,s,o,a,f]}class MI extends ke{constructor(e){super(),ve(this,e,PI,TI,be,{field:0,key:1})}}function AI(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[3](o)}let r={};for(let o=0;o<s.length;o+=1)r=je(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Qs({props:r}),ne.push(()=>pe(e,"field",l)),e.$on("rename",n[4]),e.$on("remove",n[5]),{c(){V(e.$$.fragment)},m(o,a){X(e,o,a),i=!0},p(o,[a]){const f=a&6?Bt(s,[a&2&&{key:o[1]},a&4&&Cn(o[2])]):{};!t&&a&1&&(t=!0,f.field=o[0],ye(()=>t=!1)),e.$set(f)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){q(e,o)}}}function QI(n,e,t){const i=["field","key"];let s=ft(e,i),{field:l}=e,{key:r=""}=e;function o(u){l=u,t(0,l)}function a(u){Fe.call(this,n,u)}function f(u){Fe.call(this,n,u)}return n.$$set=u=>{e=je(je({},e),$n(u)),t(2,s=ft(e,i)),"field"in u&&t(0,l=u.field),"key"in u&&t(1,r=u.key)},[l,r,s,o,a,f]}class DI extends ke{constructor(e){super(),ve(this,e,QI,AI,be,{field:0,key:1})}}var nd=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Qr={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},la={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ii=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},Ii=function(n){return n===!0?1:0};function M1(n,e){var t;return function(){var i=this,s=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(i,s)},e)}}var id=function(n){return n instanceof Array?n:[n]};function Kn(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function vt(n,e,t){var i=window.document.createElement(n);return e=e||"",t=t||"",i.className=e,t!==void 0&&(i.textContent=t),i}function pf(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function KS(n,e){if(e(n))return n;if(n.parentNode)return KS(n.parentNode,e)}function mf(n,e){var t=vt("div","numInputWrapper"),i=vt("input","numInput "+n),s=vt("span","arrowUp"),l=vt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),e!==void 0)for(var r in e)i.setAttribute(r,e[r]);return t.appendChild(i),t.appendChild(s),t.appendChild(l),t}function _i(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var sd=function(){},vu=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},EI={D:sd,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*Ii(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var i=parseInt(e),s=new Date(n.getFullYear(),0,2+(i-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+t.firstDayOfWeek),s},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:sd,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:sd,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},Xl={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},zo={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[zo.w(n,e,t)]},F:function(n,e,t){return vu(zo.n(n,e,t)-1,!1,e)},G:function(n,e,t){return ii(zo.h(n,e,t))},H:function(n){return ii(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[Ii(n.getHours()>11)]},M:function(n,e){return vu(n.getMonth(),!0,e)},S:function(n){return ii(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return ii(n.getFullYear(),4)},d:function(n){return ii(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return ii(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return ii(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},JS=function(n){var e=n.config,t=e===void 0?Qr:e,i=n.l10n,s=i===void 0?la:i,l=n.isMobile,r=l===void 0?!1:l;return function(o,a,f){var u=f||s;return t.formatDate!==void 0&&!r?t.formatDate(o,a,u):a.split("").map(function(d,h,p){return zo[d]&&p[h-1]!=="\\"?zo[d](o,u,t):d!=="\\"?d:""}).join("")}},gh=function(n){var e=n.config,t=e===void 0?Qr:e,i=n.l10n,s=i===void 0?la:i;return function(l,r,o,a){if(!(l!==0&&!l)){var f=a||s,u,d=l;if(l instanceof Date)u=new Date(l.getTime());else if(typeof l!="string"&&l.toFixed!==void 0)u=new Date(l);else if(typeof l=="string"){var h=r||(t||Qr).dateFormat,p=String(l).trim();if(p==="today")u=new Date,o=!0;else if(t&&t.parseDate)u=t.parseDate(l,h);else if(/Z$/.test(p)||/GMT$/.test(p))u=new Date(l);else{for(var g=void 0,b=[],_=0,y=0,k="";_<h.length;_++){var C=h[_],$=C==="\\",T=h[_-1]==="\\"||$;if(Xl[C]&&!T){k+=Xl[C];var P=new RegExp(k).exec(l);P&&(g=!0)&&b[C!=="Y"?"push":"unshift"]({fn:EI[C],val:P[++y]})}else $||(k+=".")}u=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),b.forEach(function(M){var Q=M.fn,E=M.val;return u=Q(u,E,f)||u}),u=g?u:void 0}}if(!(u instanceof Date&&!isNaN(u.getTime()))){t.errorHandler(new Error("Invalid date provided: "+d));return}return o===!0&&u.setHours(0,0,0,0),u}}};function yi(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var II=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},ld=function(n,e,t){return n*3600+e*60+t},RI=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},LI={DAY:864e5};function rd(n){var e=n.defaultHour,t=n.defaultMinute,i=n.defaultSeconds;if(n.minDate!==void 0){var s=n.minDate.getHours(),l=n.minDate.getMinutes(),r=n.minDate.getSeconds();e<s&&(e=s),e===s&&t<l&&(t=l),e===s&&t===l&&i<r&&(i=n.minDate.getSeconds())}if(n.maxDate!==void 0){var o=n.maxDate.getHours(),a=n.maxDate.getMinutes();e=Math.min(e,o),e===o&&(t=Math.min(a,t)),e===o&&t===a&&(i=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(o){o&&Object.keys(o).forEach(function(a){return n[a]=o[a]})},s=0,l=e;s<l.length;s++){var r=l[s];i(r)}return n});var Vn=globalThis&&globalThis.__assign||function(){return Vn=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Vn.apply(this,arguments)},A1=globalThis&&globalThis.__spreadArrays||function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),s=0,e=0;e<t;e++)for(var l=arguments[e],r=0,o=l.length;r<o;r++,s++)i[s]=l[r];return i},NI=300;function xI(n,e){var t={config:Vn(Vn({},Qr),gn.defaultConfig),l10n:la};t.parseDate=gh({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=b,t._setHoursFromDate=h,t._positionCalendar=Yt,t.changeMonth=te,t.changeYear=Ce,t.clear=se,t.close=Oe,t.onMouseOver=Je,t._createElement=vt,t.createDay=P,t.destroy=$e,t.isEnabled=Pe,t.jumpToDate=k,t.updateValue=En,t.open=ge,t.redraw=De,t.set=pi,t.setDate=Rs,t.toggle=Re;function i(){t.utils={getDaysInMonth:function(Y,K){return Y===void 0&&(Y=t.currentMonth),K===void 0&&(K=t.currentYear),Y===1&&(K%4===0&&K%100!==0||K%400===0)?29:t.l10n.daysInMonth[Y]}}}function s(){t.element=t.input=n,t.isOpen=!1,tt(),kt(),os(),Dt(),i(),t.isMobile||T(),y(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&h(t.config.noCalendar?t.latestSelectedDateObj:void 0),En(!1)),o();var Y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&Y&&Yt(),Xe("onReady")}function l(){var Y;return((Y=t.calendarContainer)===null||Y===void 0?void 0:Y.getRootNode()).activeElement||document.activeElement}function r(Y){return Y.bind(t)}function o(){var Y=t.config;Y.weekNumbers===!1&&Y.showMonths===1||Y.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var K=(t.days.offsetWidth+1)*Y.showMonths;t.daysContainer.style.width=K+"px",t.calendarContainer.style.width=K+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function a(Y){if(t.selectedDates.length===0){var K=t.config.minDate===void 0||yi(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),ie=rd(t.config);K.setHours(ie.hours,ie.minutes,ie.seconds,K.getMilliseconds()),t.selectedDates=[K],t.latestSelectedDateObj=K}Y!==void 0&&Y.type!=="blur"&&Wa(Y);var ae=t._input.value;d(),En(),t._input.value!==ae&&t._debouncedChange()}function f(Y,K){return Y%12+12*Ii(K===t.l10n.amPM[1])}function u(Y){switch(Y%24){case 0:case 12:return 12;default:return Y%12}}function d(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var Y=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,K=(parseInt(t.minuteElement.value,10)||0)%60,ie=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(Y=f(Y,t.amPM.textContent));var ae=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&yi(t.latestSelectedDateObj,t.config.minDate,!0)===0,Te=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&yi(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var Ne=ld(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),xe=ld(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Ee=ld(Y,K,ie);if(Ee>xe&&Ee<Ne){var it=RI(Ne);Y=it[0],K=it[1],ie=it[2]}}else{if(Te){var qe=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;Y=Math.min(Y,qe.getHours()),Y===qe.getHours()&&(K=Math.min(K,qe.getMinutes())),K===qe.getMinutes()&&(ie=Math.min(ie,qe.getSeconds()))}if(ae){var Ke=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;Y=Math.max(Y,Ke.getHours()),Y===Ke.getHours()&&K<Ke.getMinutes()&&(K=Ke.getMinutes()),K===Ke.getMinutes()&&(ie=Math.max(ie,Ke.getSeconds()))}}p(Y,K,ie)}}function h(Y){var K=Y||t.latestSelectedDateObj;K&&K instanceof Date&&p(K.getHours(),K.getMinutes(),K.getSeconds())}function p(Y,K,ie){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(Y%24,K,ie||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=ii(t.config.time_24hr?Y:(12+Y)%12+12*Ii(Y%12===0)),t.minuteElement.value=ii(K),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Ii(Y>=12)]),t.secondElement!==void 0&&(t.secondElement.value=ii(ie)))}function g(Y){var K=_i(Y),ie=parseInt(K.value)+(Y.delta||0);(ie/1e3>1||Y.key==="Enter"&&!/[^\d]/.test(ie.toString()))&&Ce(ie)}function b(Y,K,ie,ae){if(K instanceof Array)return K.forEach(function(Te){return b(Y,Te,ie,ae)});if(Y instanceof Array)return Y.forEach(function(Te){return b(Te,K,ie,ae)});Y.addEventListener(K,ie,ae),t._handlers.push({remove:function(){return Y.removeEventListener(K,ie,ae)}})}function _(){Xe("onChange")}function y(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(ie){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+ie+"]"),function(ae){return b(ae,"click",t[ie])})}),t.isMobile){we();return}var Y=M1(Tt,50);if(t._debouncedChange=M1(_,NI),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&b(t.daysContainer,"mouseover",function(ie){t.config.mode==="range"&&Je(_i(ie))}),b(t._input,"keydown",rt),t.calendarContainer!==void 0&&b(t.calendarContainer,"keydown",rt),!t.config.inline&&!t.config.static&&b(window,"resize",Y),window.ontouchstart!==void 0?b(window.document,"touchstart",He):b(window.document,"mousedown",He),b(window.document,"focus",He,{capture:!0}),t.config.clickOpens===!0&&(b(t._input,"focus",t.open),b(t._input,"click",t.open)),t.daysContainer!==void 0&&(b(t.monthNav,"click",Gn),b(t.monthNav,["keyup","increment"],g),b(t.daysContainer,"click",Hi)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var K=function(ie){return _i(ie).select()};b(t.timeContainer,["increment"],a),b(t.timeContainer,"blur",a,{capture:!0}),b(t.timeContainer,"click",C),b([t.hourElement,t.minuteElement],["focus","click"],K),t.secondElement!==void 0&&b(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&b(t.amPM,"click",function(ie){a(ie)})}t.config.allowInput&&b(t._input,"blur",Qt)}function k(Y,K){var ie=Y!==void 0?t.parseDate(Y):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),ae=t.currentYear,Te=t.currentMonth;try{ie!==void 0&&(t.currentYear=ie.getFullYear(),t.currentMonth=ie.getMonth())}catch(Ne){Ne.message="Invalid date supplied: "+ie,t.config.errorHandler(Ne)}K&&t.currentYear!==ae&&(Xe("onYearChange"),x()),K&&(t.currentYear!==ae||t.currentMonth!==Te)&&Xe("onMonthChange"),t.redraw()}function C(Y){var K=_i(Y);~K.className.indexOf("arrow")&&$(Y,K.classList.contains("arrowUp")?1:-1)}function $(Y,K,ie){var ae=Y&&_i(Y),Te=ie||ae&&ae.parentNode&&ae.parentNode.firstChild,Ne=ot("increment");Ne.delta=K,Te&&Te.dispatchEvent(Ne)}function T(){var Y=window.document.createDocumentFragment();if(t.calendarContainer=vt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(Y.appendChild(U()),t.innerContainer=vt("div","flatpickr-innerContainer"),t.config.weekNumbers){var K=le(),ie=K.weekWrapper,ae=K.weekNumbers;t.innerContainer.appendChild(ie),t.weekNumbers=ae,t.weekWrapper=ie}t.rContainer=vt("div","flatpickr-rContainer"),t.rContainer.appendChild(z()),t.daysContainer||(t.daysContainer=vt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),N(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),Y.appendChild(t.innerContainer)}t.config.enableTime&&Y.appendChild(G()),Kn(t.calendarContainer,"rangeMode",t.config.mode==="range"),Kn(t.calendarContainer,"animate",t.config.animate===!0),Kn(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(Y);var Te=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Te&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var Ne=vt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(Ne,t.element),Ne.appendChild(t.element),t.altInput&&Ne.appendChild(t.altInput),Ne.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function P(Y,K,ie,ae){var Te=Pe(K,!0),Ne=vt("span",Y,K.getDate().toString());return Ne.dateObj=K,Ne.$i=ae,Ne.setAttribute("aria-label",t.formatDate(K,t.config.ariaDateFormat)),Y.indexOf("hidden")===-1&&yi(K,t.now)===0&&(t.todayDateElem=Ne,Ne.classList.add("today"),Ne.setAttribute("aria-current","date")),Te?(Ne.tabIndex=-1,Ht(K)&&(Ne.classList.add("selected"),t.selectedDateElem=Ne,t.config.mode==="range"&&(Kn(Ne,"startRange",t.selectedDates[0]&&yi(K,t.selectedDates[0],!0)===0),Kn(Ne,"endRange",t.selectedDates[1]&&yi(K,t.selectedDates[1],!0)===0),Y==="nextMonthDay"&&Ne.classList.add("inRange")))):Ne.classList.add("flatpickr-disabled"),t.config.mode==="range"&&gi(K)&&!Ht(K)&&Ne.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&Y!=="prevMonthDay"&&ae%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(K)+"</span>"),Xe("onDayCreate",Ne),Ne}function M(Y){Y.focus(),t.config.mode==="range"&&Je(Y)}function Q(Y){for(var K=Y>0?0:t.config.showMonths-1,ie=Y>0?t.config.showMonths:-1,ae=K;ae!=ie;ae+=Y)for(var Te=t.daysContainer.children[ae],Ne=Y>0?0:Te.children.length-1,xe=Y>0?Te.children.length:-1,Ee=Ne;Ee!=xe;Ee+=Y){var it=Te.children[Ee];if(it.className.indexOf("hidden")===-1&&Pe(it.dateObj))return it}}function E(Y,K){for(var ie=Y.className.indexOf("Month")===-1?Y.dateObj.getMonth():t.currentMonth,ae=K>0?t.config.showMonths:-1,Te=K>0?1:-1,Ne=ie-t.currentMonth;Ne!=ae;Ne+=Te)for(var xe=t.daysContainer.children[Ne],Ee=ie-t.currentMonth===Ne?Y.$i+K:K<0?xe.children.length-1:0,it=xe.children.length,qe=Ee;qe>=0&&qe<it&&qe!=(K>0?it:-1);qe+=Te){var Ke=xe.children[qe];if(Ke.className.indexOf("hidden")===-1&&Pe(Ke.dateObj)&&Math.abs(Y.$i-qe)>=Math.abs(K))return M(Ke)}t.changeMonth(Te),R(Q(Te),0)}function R(Y,K){var ie=l(),ae=lt(ie||document.body),Te=Y!==void 0?Y:ae?ie:t.selectedDateElem!==void 0&&lt(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&lt(t.todayDateElem)?t.todayDateElem:Q(K>0?1:-1);Te===void 0?t._input.focus():ae?E(Te,K):M(Te)}function L(Y,K){for(var ie=(new Date(Y,K,1).getDay()-t.l10n.firstDayOfWeek+7)%7,ae=t.utils.getDaysInMonth((K-1+12)%12,Y),Te=t.utils.getDaysInMonth(K,Y),Ne=window.document.createDocumentFragment(),xe=t.config.showMonths>1,Ee=xe?"prevMonthDay hidden":"prevMonthDay",it=xe?"nextMonthDay hidden":"nextMonthDay",qe=ae+1-ie,Ke=0;qe<=ae;qe++,Ke++)Ne.appendChild(P("flatpickr-day "+Ee,new Date(Y,K-1,qe),qe,Ke));for(qe=1;qe<=Te;qe++,Ke++)Ne.appendChild(P("flatpickr-day",new Date(Y,K,qe),qe,Ke));for(var Rt=Te+1;Rt<=42-ie&&(t.config.showMonths===1||Ke%7!==0);Rt++,Ke++)Ne.appendChild(P("flatpickr-day "+it,new Date(Y,K+1,Rt%Te),Rt,Ke));var as=vt("div","dayContainer");return as.appendChild(Ne),as}function N(){if(t.daysContainer!==void 0){pf(t.daysContainer),t.weekNumbers&&pf(t.weekNumbers);for(var Y=document.createDocumentFragment(),K=0;K<t.config.showMonths;K++){var ie=new Date(t.currentYear,t.currentMonth,1);ie.setMonth(t.currentMonth+K),Y.appendChild(L(ie.getFullYear(),ie.getMonth()))}t.daysContainer.appendChild(Y),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&Je()}}function x(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var Y=function(ae){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&ae<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&ae>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var K=0;K<12;K++)if(Y(K)){var ie=vt("option","flatpickr-monthDropdown-month");ie.value=new Date(t.currentYear,K).getMonth().toString(),ie.textContent=vu(K,t.config.shorthandCurrentMonth,t.l10n),ie.tabIndex=-1,t.currentMonth===K&&(ie.selected=!0),t.monthsDropdownContainer.appendChild(ie)}}}function Z(){var Y=vt("div","flatpickr-month"),K=window.document.createDocumentFragment(),ie;t.config.showMonths>1||t.config.monthSelectorType==="static"?ie=vt("span","cur-month"):(t.monthsDropdownContainer=vt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),b(t.monthsDropdownContainer,"change",function(xe){var Ee=_i(xe),it=parseInt(Ee.value,10);t.changeMonth(it-t.currentMonth),Xe("onMonthChange")}),x(),ie=t.monthsDropdownContainer);var ae=mf("cur-year",{tabindex:"-1"}),Te=ae.getElementsByTagName("input")[0];Te.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Te.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Te.setAttribute("max",t.config.maxDate.getFullYear().toString()),Te.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var Ne=vt("div","flatpickr-current-month");return Ne.appendChild(ie),Ne.appendChild(ae),K.appendChild(Ne),Y.appendChild(K),{container:Y,yearElement:Te,monthElement:ie}}function F(){pf(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var Y=t.config.showMonths;Y--;){var K=Z();t.yearElements.push(K.yearElement),t.monthElements.push(K.monthElement),t.monthNav.appendChild(K.container)}t.monthNav.appendChild(t.nextMonthNav)}function U(){return t.monthNav=vt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=vt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=vt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,F(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(Y){t.__hidePrevMonthArrow!==Y&&(Kn(t.prevMonthNav,"flatpickr-disabled",Y),t.__hidePrevMonthArrow=Y)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(Y){t.__hideNextMonthArrow!==Y&&(Kn(t.nextMonthNav,"flatpickr-disabled",Y),t.__hideNextMonthArrow=Y)}}),t.currentYearElement=t.yearElements[0],Ai(),t.monthNav}function G(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var Y=rd(t.config);t.timeContainer=vt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var K=vt("span","flatpickr-time-separator",":"),ie=mf("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=ie.getElementsByTagName("input")[0];var ae=mf("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=ae.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=ii(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?Y.hours:u(Y.hours)),t.minuteElement.value=ii(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():Y.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(ie),t.timeContainer.appendChild(K),t.timeContainer.appendChild(ae),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Te=mf("flatpickr-second");t.secondElement=Te.getElementsByTagName("input")[0],t.secondElement.value=ii(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():Y.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(vt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Te)}return t.config.time_24hr||(t.amPM=vt("span","flatpickr-am-pm",t.l10n.amPM[Ii((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function z(){t.weekdayContainer?pf(t.weekdayContainer):t.weekdayContainer=vt("div","flatpickr-weekdays");for(var Y=t.config.showMonths;Y--;){var K=vt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(K)}return B(),t.weekdayContainer}function B(){if(t.weekdayContainer){var Y=t.l10n.firstDayOfWeek,K=A1(t.l10n.weekdays.shorthand);Y>0&&Y<K.length&&(K=A1(K.splice(Y,K.length),K.splice(0,Y)));for(var ie=t.config.showMonths;ie--;)t.weekdayContainer.children[ie].innerHTML=`
      <span class='flatpickr-weekday'>
        `+K.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function le(){t.calendarContainer.classList.add("hasWeeks");var Y=vt("div","flatpickr-weekwrapper");Y.appendChild(vt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var K=vt("div","flatpickr-weeks");return Y.appendChild(K),{weekWrapper:Y,weekNumbers:K}}function te(Y,K){K===void 0&&(K=!0);var ie=K?Y:Y-t.currentMonth;ie<0&&t._hidePrevMonthArrow===!0||ie>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=ie,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Xe("onYearChange"),x()),N(),Xe("onMonthChange"),Ai())}function se(Y,K){if(Y===void 0&&(Y=!0),K===void 0&&(K=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,K===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var ie=rd(t.config),ae=ie.hours,Te=ie.minutes,Ne=ie.seconds;p(ae,Te,Ne)}t.redraw(),Y&&Xe("onChange")}function Oe(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Xe("onClose")}function $e(){t.config!==void 0&&Xe("onDestroy");for(var Y=t._handlers.length;Y--;)t._handlers[Y].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var K=t.calendarContainer.parentNode;if(K.lastChild&&K.removeChild(K.lastChild),K.parentNode){for(;K.firstChild;)K.parentNode.insertBefore(K.firstChild,K);K.parentNode.removeChild(K)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(ie){try{delete t[ie]}catch{}})}function Ze(Y){return t.calendarContainer.contains(Y)}function He(Y){if(t.isOpen&&!t.config.inline){var K=_i(Y),ie=Ze(K),ae=K===t.input||K===t.altInput||t.element.contains(K)||Y.path&&Y.path.indexOf&&(~Y.path.indexOf(t.input)||~Y.path.indexOf(t.altInput)),Te=!ae&&!ie&&!Ze(Y.relatedTarget),Ne=!t.config.ignoredFocusElements.some(function(xe){return xe.contains(K)});Te&&Ne&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&a(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Ce(Y){if(!(!Y||t.config.minDate&&Y<t.config.minDate.getFullYear()||t.config.maxDate&&Y>t.config.maxDate.getFullYear())){var K=Y,ie=t.currentYear!==K;t.currentYear=K||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),ie&&(t.redraw(),Xe("onYearChange"),x())}}function Pe(Y,K){var ie;K===void 0&&(K=!0);var ae=t.parseDate(Y,void 0,K);if(t.config.minDate&&ae&&yi(ae,t.config.minDate,K!==void 0?K:!t.minDateHasTime)<0||t.config.maxDate&&ae&&yi(ae,t.config.maxDate,K!==void 0?K:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(ae===void 0)return!1;for(var Te=!!t.config.enable,Ne=(ie=t.config.enable)!==null&&ie!==void 0?ie:t.config.disable,xe=0,Ee=void 0;xe<Ne.length;xe++){if(Ee=Ne[xe],typeof Ee=="function"&&Ee(ae))return Te;if(Ee instanceof Date&&ae!==void 0&&Ee.getTime()===ae.getTime())return Te;if(typeof Ee=="string"){var it=t.parseDate(Ee,void 0,!0);return it&&it.getTime()===ae.getTime()?Te:!Te}else if(typeof Ee=="object"&&ae!==void 0&&Ee.from&&Ee.to&&ae.getTime()>=Ee.from.getTime()&&ae.getTime()<=Ee.to.getTime())return Te}return!Te}function lt(Y){return t.daysContainer!==void 0?Y.className.indexOf("hidden")===-1&&Y.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(Y):!1}function Qt(Y){var K=Y.target===t._input,ie=t._input.value.trimEnd()!==Al();K&&ie&&!(Y.relatedTarget&&Ze(Y.relatedTarget))&&t.setDate(t._input.value,!0,Y.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function rt(Y){var K=_i(Y),ie=t.config.wrap?n.contains(K):K===t._input,ae=t.config.allowInput,Te=t.isOpen&&(!ae||!ie),Ne=t.config.inline&&ie&&!ae;if(Y.keyCode===13&&ie){if(ae)return t.setDate(t._input.value,!0,K===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),K.blur();t.open()}else if(Ze(K)||Te||Ne){var xe=!!t.timeContainer&&t.timeContainer.contains(K);switch(Y.keyCode){case 13:xe?(Y.preventDefault(),a(),wt()):Hi(Y);break;case 27:Y.preventDefault(),wt();break;case 8:case 46:ie&&!t.config.allowInput&&(Y.preventDefault(),t.clear());break;case 37:case 39:if(!xe&&!ie){Y.preventDefault();var Ee=l();if(t.daysContainer!==void 0&&(ae===!1||Ee&&lt(Ee))){var it=Y.keyCode===39?1:-1;Y.ctrlKey?(Y.stopPropagation(),te(it),R(Q(1),0)):R(void 0,it)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:Y.preventDefault();var qe=Y.keyCode===40?1:-1;t.daysContainer&&K.$i!==void 0||K===t.input||K===t.altInput?Y.ctrlKey?(Y.stopPropagation(),Ce(t.currentYear-qe),R(Q(1),0)):xe||R(void 0,qe*7):K===t.currentYearElement?Ce(t.currentYear-qe):t.config.enableTime&&(!xe&&t.hourElement&&t.hourElement.focus(),a(Y),t._debouncedChange());break;case 9:if(xe){var Ke=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(bi){return bi}),Rt=Ke.indexOf(K);if(Rt!==-1){var as=Ke[Rt+(Y.shiftKey?-1:1)];Y.preventDefault(),(as||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(K)&&Y.shiftKey&&(Y.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&K===t.amPM)switch(Y.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],d(),En();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],d(),En();break}(ie||Ze(K))&&Xe("onKeyDown",Y)}function Je(Y,K){if(K===void 0&&(K="flatpickr-day"),!(t.selectedDates.length!==1||Y&&(!Y.classList.contains(K)||Y.classList.contains("flatpickr-disabled")))){for(var ie=Y?Y.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),ae=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Te=Math.min(ie,t.selectedDates[0].getTime()),Ne=Math.max(ie,t.selectedDates[0].getTime()),xe=!1,Ee=0,it=0,qe=Te;qe<Ne;qe+=LI.DAY)Pe(new Date(qe),!0)||(xe=xe||qe>Te&&qe<Ne,qe<ae&&(!Ee||qe>Ee)?Ee=qe:qe>ae&&(!it||qe<it)&&(it=qe));var Ke=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+K));Ke.forEach(function(Rt){var as=Rt.dateObj,bi=as.getTime(),co=Ee>0&&bi<Ee||it>0&&bi>it;if(co){Rt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(hr){Rt.classList.remove(hr)});return}else if(xe&&!co)return;["startRange","inRange","endRange","notAllowed"].forEach(function(hr){Rt.classList.remove(hr)}),Y!==void 0&&(Y.classList.add(ie<=t.selectedDates[0].getTime()?"startRange":"endRange"),ae<ie&&bi===ae?Rt.classList.add("startRange"):ae>ie&&bi===ae&&Rt.classList.add("endRange"),bi>=Ee&&(it===0||bi<=it)&&II(bi,ae,ie)&&Rt.classList.add("inRange"))})}}function Tt(){t.isOpen&&!t.config.static&&!t.config.inline&&Yt()}function ge(Y,K){if(K===void 0&&(K=t._positionElement),t.isMobile===!0){if(Y){Y.preventDefault();var ie=_i(Y);ie&&ie.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Xe("onOpen");return}else if(t._input.disabled||t.config.inline)return;var ae=t.isOpen;t.isOpen=!0,ae||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Xe("onOpen"),Yt(K)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(Y===void 0||!t.timeContainer.contains(Y.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function _e(Y){return function(K){var ie=t.config["_"+Y+"Date"]=t.parseDate(K,t.config.dateFormat),ae=t.config["_"+(Y==="min"?"max":"min")+"Date"];ie!==void 0&&(t[Y==="min"?"minDateHasTime":"maxDateHasTime"]=ie.getHours()>0||ie.getMinutes()>0||ie.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Te){return Pe(Te)}),!t.selectedDates.length&&Y==="min"&&h(ie),En()),t.daysContainer&&(De(),ie!==void 0?t.currentYearElement[Y]=ie.getFullYear().toString():t.currentYearElement.removeAttribute(Y),t.currentYearElement.disabled=!!ae&&ie!==void 0&&ae.getFullYear()===ie.getFullYear())}}function tt(){var Y=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],K=Vn(Vn({},JSON.parse(JSON.stringify(n.dataset||{}))),e),ie={};t.config.parseDate=K.parseDate,t.config.formatDate=K.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(Ke){t.config._enable=mi(Ke)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(Ke){t.config._disable=mi(Ke)}});var ae=K.mode==="time";if(!K.dateFormat&&(K.enableTime||ae)){var Te=gn.defaultConfig.dateFormat||Qr.dateFormat;ie.dateFormat=K.noCalendar||ae?"H:i"+(K.enableSeconds?":S":""):Te+" H:i"+(K.enableSeconds?":S":"")}if(K.altInput&&(K.enableTime||ae)&&!K.altFormat){var Ne=gn.defaultConfig.altFormat||Qr.altFormat;ie.altFormat=K.noCalendar||ae?"h:i"+(K.enableSeconds?":S K":" K"):Ne+(" h:i"+(K.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:_e("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:_e("max")});var xe=function(Ke){return function(Rt){t.config[Ke==="min"?"_minTime":"_maxTime"]=t.parseDate(Rt,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:xe("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:xe("max")}),K.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,ie,K);for(var Ee=0;Ee<Y.length;Ee++)t.config[Y[Ee]]=t.config[Y[Ee]]===!0||t.config[Y[Ee]]==="true";nd.filter(function(Ke){return t.config[Ke]!==void 0}).forEach(function(Ke){t.config[Ke]=id(t.config[Ke]||[]).map(r)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Ee=0;Ee<t.config.plugins.length;Ee++){var it=t.config.plugins[Ee](t)||{};for(var qe in it)nd.indexOf(qe)>-1?t.config[qe]=id(it[qe]).map(r).concat(t.config[qe]):typeof K[qe]>"u"&&(t.config[qe]=it[qe])}K.altInputClass||(t.config.altInputClass=Me().className+" "+t.config.altInputClass),Xe("onParseConfig")}function Me(){return t.config.wrap?n.querySelector("[data-input]"):n}function kt(){typeof t.config.locale!="object"&&typeof gn.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Vn(Vn({},gn.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?gn.l10ns[t.config.locale]:void 0),Xl.D="("+t.l10n.weekdays.shorthand.join("|")+")",Xl.l="("+t.l10n.weekdays.longhand.join("|")+")",Xl.M="("+t.l10n.months.shorthand.join("|")+")",Xl.F="("+t.l10n.months.longhand.join("|")+")",Xl.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var Y=Vn(Vn({},e),JSON.parse(JSON.stringify(n.dataset||{})));Y.time_24hr===void 0&&gn.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=JS(t),t.parseDate=gh({config:t.config,l10n:t.l10n})}function Yt(Y){if(typeof t.config.position=="function")return void t.config.position(t,Y);if(t.calendarContainer!==void 0){Xe("onPreCalendarPosition");var K=Y||t._positionElement,ie=Array.prototype.reduce.call(t.calendarContainer.children,function(M3,A3){return M3+A3.offsetHeight},0),ae=t.calendarContainer.offsetWidth,Te=t.config.position.split(" "),Ne=Te[0],xe=Te.length>1?Te[1]:null,Ee=K.getBoundingClientRect(),it=window.innerHeight-Ee.bottom,qe=Ne==="above"||Ne!=="below"&&it<ie&&Ee.top>ie,Ke=window.pageYOffset+Ee.top+(qe?-ie-2:K.offsetHeight+2);if(Kn(t.calendarContainer,"arrowTop",!qe),Kn(t.calendarContainer,"arrowBottom",qe),!t.config.inline){var Rt=window.pageXOffset+Ee.left,as=!1,bi=!1;xe==="center"?(Rt-=(ae-Ee.width)/2,as=!0):xe==="right"&&(Rt-=ae-Ee.width,bi=!0),Kn(t.calendarContainer,"arrowLeft",!as&&!bi),Kn(t.calendarContainer,"arrowCenter",as),Kn(t.calendarContainer,"arrowRight",bi);var co=window.document.body.offsetWidth-(window.pageXOffset+Ee.right),hr=Rt+ae>window.document.body.offsetWidth,k3=co+ae>window.document.body.offsetWidth;if(Kn(t.calendarContainer,"rightMost",hr),!t.config.static)if(t.calendarContainer.style.top=Ke+"px",!hr)t.calendarContainer.style.left=Rt+"px",t.calendarContainer.style.right="auto";else if(!k3)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=co+"px";else{var Mc=pn();if(Mc===void 0)return;var w3=window.document.body.offsetWidth,S3=Math.max(0,w3/2-ae/2),$3=".flatpickr-calendar.centerMost:before",C3=".flatpickr-calendar.centerMost:after",T3=Mc.cssRules.length,P3="{left:"+Ee.left+"px;right:auto;}";Kn(t.calendarContainer,"rightMost",!1),Kn(t.calendarContainer,"centerMost",!0),Mc.insertRule($3+","+C3+P3,T3),t.calendarContainer.style.left=S3+"px",t.calendarContainer.style.right="auto"}}}}function pn(){for(var Y=null,K=0;K<document.styleSheets.length;K++){var ie=document.styleSheets[K];if(ie.cssRules){try{ie.cssRules}catch{continue}Y=ie;break}}return Y??Dn()}function Dn(){var Y=document.createElement("style");return document.head.appendChild(Y),Y.sheet}function De(){t.config.noCalendar||t.isMobile||(x(),Ai(),N())}function wt(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Hi(Y){Y.preventDefault(),Y.stopPropagation();var K=function(Ke){return Ke.classList&&Ke.classList.contains("flatpickr-day")&&!Ke.classList.contains("flatpickr-disabled")&&!Ke.classList.contains("notAllowed")},ie=KS(_i(Y),K);if(ie!==void 0){var ae=ie,Te=t.latestSelectedDateObj=new Date(ae.dateObj.getTime()),Ne=(Te.getMonth()<t.currentMonth||Te.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=ae,t.config.mode==="single")t.selectedDates=[Te];else if(t.config.mode==="multiple"){var xe=Ht(Te);xe?t.selectedDates.splice(parseInt(xe),1):t.selectedDates.push(Te)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Te,t.selectedDates.push(Te),yi(Te,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(Ke,Rt){return Ke.getTime()-Rt.getTime()}));if(d(),Ne){var Ee=t.currentYear!==Te.getFullYear();t.currentYear=Te.getFullYear(),t.currentMonth=Te.getMonth(),Ee&&(Xe("onYearChange"),x()),Xe("onMonthChange")}if(Ai(),N(),En(),!Ne&&t.config.mode!=="range"&&t.config.showMonths===1?M(ae):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var it=t.config.mode==="single"&&!t.config.enableTime,qe=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(it||qe)&&wt()}_()}}var Xn={locale:[kt,B],showMonths:[F,o,z],minDate:[k],maxDate:[k],positionElement:[Ls],clickOpens:[function(){t.config.clickOpens===!0?(b(t._input,"focus",t.open),b(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function pi(Y,K){if(Y!==null&&typeof Y=="object"){Object.assign(t.config,Y);for(var ie in Y)Xn[ie]!==void 0&&Xn[ie].forEach(function(ae){return ae()})}else t.config[Y]=K,Xn[Y]!==void 0?Xn[Y].forEach(function(ae){return ae()}):nd.indexOf(Y)>-1&&(t.config[Y]=id(K));t.redraw(),En(!0)}function rs(Y,K){var ie=[];if(Y instanceof Array)ie=Y.map(function(ae){return t.parseDate(ae,K)});else if(Y instanceof Date||typeof Y=="number")ie=[t.parseDate(Y,K)];else if(typeof Y=="string")switch(t.config.mode){case"single":case"time":ie=[t.parseDate(Y,K)];break;case"multiple":ie=Y.split(t.config.conjunction).map(function(ae){return t.parseDate(ae,K)});break;case"range":ie=Y.split(t.l10n.rangeSeparator).map(function(ae){return t.parseDate(ae,K)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(Y)));t.selectedDates=t.config.allowInvalidPreload?ie:ie.filter(function(ae){return ae instanceof Date&&Pe(ae,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(ae,Te){return ae.getTime()-Te.getTime()})}function Rs(Y,K,ie){if(K===void 0&&(K=!1),ie===void 0&&(ie=t.config.dateFormat),Y!==0&&!Y||Y instanceof Array&&Y.length===0)return t.clear(K);rs(Y,ie),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),k(void 0,K),h(),t.selectedDates.length===0&&t.clear(!1),En(K),K&&Xe("onChange")}function mi(Y){return Y.slice().map(function(K){return typeof K=="string"||typeof K=="number"||K instanceof Date?t.parseDate(K,void 0,!0):K&&typeof K=="object"&&K.from&&K.to?{from:t.parseDate(K.from,void 0),to:t.parseDate(K.to,void 0)}:K}).filter(function(K){return K})}function Dt(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var Y=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);Y&&rs(Y,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function os(){if(t.input=Me(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=vt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Ls()}function Ls(){t._positionElement=t.config.positionElement||t._input}function we(){var Y=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=vt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=Y,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=Y==="datetime-local"?"Y-m-d\\TH:i:S":Y==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}b(t.mobileInput,"change",function(K){t.setDate(_i(K).value,!1,t.mobileFormatStr),Xe("onChange"),Xe("onClose")})}function Re(Y){if(t.isOpen===!0)return t.close();t.open(Y)}function Xe(Y,K){if(t.config!==void 0){var ie=t.config[Y];if(ie!==void 0&&ie.length>0)for(var ae=0;ie[ae]&&ae<ie.length;ae++)ie[ae](t.selectedDates,t.input.value,t,K);Y==="onChange"&&(t.input.dispatchEvent(ot("change")),t.input.dispatchEvent(ot("input")))}}function ot(Y){var K=document.createEvent("Event");return K.initEvent(Y,!0,!0),K}function Ht(Y){for(var K=0;K<t.selectedDates.length;K++){var ie=t.selectedDates[K];if(ie instanceof Date&&yi(ie,Y)===0)return""+K}return!1}function gi(Y){return t.config.mode!=="range"||t.selectedDates.length<2?!1:yi(Y,t.selectedDates[0])>=0&&yi(Y,t.selectedDates[1])<=0}function Ai(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(Y,K){var ie=new Date(t.currentYear,t.currentMonth,1);ie.setMonth(t.currentMonth+K),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[K].textContent=vu(ie.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=ie.getMonth().toString(),Y.value=ie.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Al(Y){var K=Y||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(ie){return t.formatDate(ie,K)}).filter(function(ie,ae,Te){return t.config.mode!=="range"||t.config.enableTime||Te.indexOf(ie)===ae}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function En(Y){Y===void 0&&(Y=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Al(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Al(t.config.altFormat)),Y!==!1&&Xe("onValueUpdate")}function Gn(Y){var K=_i(Y),ie=t.prevMonthNav.contains(K),ae=t.nextMonthNav.contains(K);ie||ae?te(ie?-1:1):t.yearElements.indexOf(K)>=0?K.select():K.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):K.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Wa(Y){Y.preventDefault();var K=Y.type==="keydown",ie=_i(Y),ae=ie;t.amPM!==void 0&&ie===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Ii(t.amPM.textContent===t.l10n.amPM[0])]);var Te=parseFloat(ae.getAttribute("min")),Ne=parseFloat(ae.getAttribute("max")),xe=parseFloat(ae.getAttribute("step")),Ee=parseInt(ae.value,10),it=Y.delta||(K?Y.which===38?1:-1:0),qe=Ee+xe*it;if(typeof ae.value<"u"&&ae.value.length===2){var Ke=ae===t.hourElement,Rt=ae===t.minuteElement;qe<Te?(qe=Ne+qe+Ii(!Ke)+(Ii(Ke)&&Ii(!t.amPM)),Rt&&$(void 0,-1,t.hourElement)):qe>Ne&&(qe=ae===t.hourElement?qe-Ne-Ii(!t.amPM):Te,Rt&&$(void 0,1,t.hourElement)),t.amPM&&Ke&&(xe===1?qe+Ee===23:Math.abs(qe-Ee)>xe)&&(t.amPM.textContent=t.l10n.amPM[Ii(t.amPM.textContent===t.l10n.amPM[0])]),ae.value=ii(qe)}}return s(),t}function Dr(n,e){for(var t=Array.prototype.slice.call(n).filter(function(r){return r instanceof HTMLElement}),i=[],s=0;s<t.length;s++){var l=t[s];try{if(l.getAttribute("data-fp-omit")!==null)continue;l._flatpickr!==void 0&&(l._flatpickr.destroy(),l._flatpickr=void 0),l._flatpickr=xI(l,e||{}),i.push(l._flatpickr)}catch(r){console.error(r)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Dr(this,n)},HTMLElement.prototype.flatpickr=function(n){return Dr([this],n)});var gn=function(n,e){return typeof n=="string"?Dr(window.document.querySelectorAll(n),e):n instanceof Node?Dr([n],e):Dr(n,e)};gn.defaultConfig={};gn.l10ns={en:Vn({},la),default:Vn({},la)};gn.localize=function(n){gn.l10ns.default=Vn(Vn({},gn.l10ns.default),n)};gn.setDefaults=function(n){gn.defaultConfig=Vn(Vn({},gn.defaultConfig),n)};gn.parseDate=gh({});gn.formatDate=JS({});gn.compareDates=yi;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Dr(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=gn);function ZI(n){let e,t=[n[1]],i={};for(let s=0;s<t.length;s+=1)i=je(i,t[s]);return{c(){e=v("input"),$s(e,i)},m(s,l){S(s,e,l),e.autofocus&&e.focus(),n[11](e)},p(s,l){$s(e,i=Bt(t,[l&2&&s[1]]))},d(s){s&&w(e),n[11](null)}}}function FI(n){let e;const t=n[10].default,i=xt(t,n,n[9],null),s=i||ZI(n);return{c(){s&&s.c()},m(l,r){s&&s.m(l,r),e=!0},p(l,[r]){i?i.p&&(!e||r&512)&&Ft(i,t,l,l[9],e?Zt(t,l[9],r,null):Xt(l[9]),null):s&&s.p&&(!e||r&3)&&s.p(l,e?r:-1)},i(l){e||(D(s,l),e=!0)},o(l){I(s,l),e=!1},d(l){s&&s.d(l)}}}function XI(n){return n.charAt(2).toLowerCase()+n.substring(3)}function Q1(n,e){var i;return(((i=n==null?void 0:n.config)==null?void 0:i.mode)??"single")==="single"?e[0]:e}function D1(n,e){return!!(n==e||n instanceof Date&&e instanceof Date&&n.valueOf()===e.valueOf()||Array.isArray(n)&&Array.isArray(e)&&n.length===e.length&&n.every((t,i)=>t===e[i]))}function qI(n,e,t){const i=["value","formattedValue","element","dateFormat","options","input","flatpickr"];let s=ft(e,i),{$$slots:l={},$$scope:r}=e;const o=new Set(["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"]);let{value:a=void 0,formattedValue:f="",element:u=void 0,dateFormat:d=void 0}=e,{options:h={}}=e,p=!1,{input:g=void 0,flatpickr:b=void 0}=e;vn(()=>{const $=u??g,T=y(h);return T.onReady.push((P,M,Q)=>{a===void 0&&k(P,M,Q),Bn().then(()=>{t(8,p=!0)})}),t(3,b=gn($,Object.assign(T,u?{wrap:!0}:{}))),()=>{b.destroy()}});const _=Lt();function y($={}){$=Object.assign({},$);for(const T of o){const P=(M,Q,E)=>{_(XI(T),[M,Q,E])};T in $?(Array.isArray($[T])||($[T]=[$[T]]),$[T].push(P)):$[T]=[P]}return $.onChange&&!$.onChange.includes(k)&&$.onChange.push(k),$}function k($,T,P){const M=Q1(P,$);!D1(a,M)&&(a||M)&&t(2,a=M),t(4,f=T)}function C($){ne[$?"unshift":"push"](()=>{g=$,t(0,g)})}return n.$$set=$=>{e=je(je({},e),$n($)),t(1,s=ft(e,i)),"value"in $&&t(2,a=$.value),"formattedValue"in $&&t(4,f=$.formattedValue),"element"in $&&t(5,u=$.element),"dateFormat"in $&&t(6,d=$.dateFormat),"options"in $&&t(7,h=$.options),"input"in $&&t(0,g=$.input),"flatpickr"in $&&t(3,b=$.flatpickr),"$$scope"in $&&t(9,r=$.$$scope)},n.$$.update=()=>{if(n.$$.dirty&332&&b&&p&&(D1(a,Q1(b,b.selectedDates))||b.setDate(a,!0,d)),n.$$.dirty&392&&b&&p)for(const[$,T]of Object.entries(y(h)))b.set($,T)},[g,s,a,b,f,u,d,h,p,r,l,C]}class em extends ke{constructor(e){super(),ve(this,e,qI,FI,be,{value:2,formattedValue:4,element:5,dateFormat:6,options:7,input:0,flatpickr:3})}}function VI(n){let e,t,i,s,l,r,o,a;function f(h){n[6](h)}function u(h){n[7](h)}let d={id:n[15],options:j.defaultFlatpickrOptions()};return n[2]!==void 0&&(d.value=n[2]),n[0].options.min!==void 0&&(d.formattedValue=n[0].options.min),l=new em({props:d}),ne.push(()=>pe(l,"value",f)),ne.push(()=>pe(l,"formattedValue",u)),l.$on("close",n[8]),{c(){e=v("label"),t=W("Min date (UTC)"),s=A(),V(l.$$.fragment),m(e,"for",i=n[15])},m(h,p){S(h,e,p),O(e,t),S(h,s,p),X(l,h,p),a=!0},p(h,p){(!a||p&32768&&i!==(i=h[15]))&&m(e,"for",i);const g={};p&32768&&(g.id=h[15]),!r&&p&4&&(r=!0,g.value=h[2],ye(()=>r=!1)),!o&&p&1&&(o=!0,g.formattedValue=h[0].options.min,ye(()=>o=!1)),l.$set(g)},i(h){a||(D(l.$$.fragment,h),a=!0)},o(h){I(l.$$.fragment,h),a=!1},d(h){h&&w(e),h&&w(s),q(l,h)}}}function jI(n){let e,t,i,s,l,r,o,a;function f(h){n[9](h)}function u(h){n[10](h)}let d={id:n[15],options:j.defaultFlatpickrOptions()};return n[3]!==void 0&&(d.value=n[3]),n[0].options.max!==void 0&&(d.formattedValue=n[0].options.max),l=new em({props:d}),ne.push(()=>pe(l,"value",f)),ne.push(()=>pe(l,"formattedValue",u)),l.$on("close",n[11]),{c(){e=v("label"),t=W("Max date (UTC)"),s=A(),V(l.$$.fragment),m(e,"for",i=n[15])},m(h,p){S(h,e,p),O(e,t),S(h,s,p),X(l,h,p),a=!0},p(h,p){(!a||p&32768&&i!==(i=h[15]))&&m(e,"for",i);const g={};p&32768&&(g.id=h[15]),!r&&p&8&&(r=!0,g.value=h[3],ye(()=>r=!1)),!o&&p&1&&(o=!0,g.formattedValue=h[0].options.max,ye(()=>o=!1)),l.$set(g)},i(h){a||(D(l.$$.fragment,h),a=!0)},o(h){I(l.$$.fragment,h),a=!1},d(h){h&&w(e),h&&w(s),q(l,h)}}}function UI(n){let e,t,i,s,l,r,o;return i=new me({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[VI,({uniqueId:a})=>({15:a}),({uniqueId:a})=>a?32768:0]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[jI,({uniqueId:a})=>({15:a}),({uniqueId:a})=>a?32768:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),V(r.$$.fragment),m(t,"class","col-sm-6"),m(l,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(a,f){S(a,e,f),O(e,t),X(i,t,null),O(e,s),O(e,l),X(r,l,null),o=!0},p(a,f){const u={};f&2&&(u.name="schema."+a[1]+".options.min"),f&98309&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};f&2&&(d.name="schema."+a[1]+".options.max"),f&98313&&(d.$$scope={dirty:f,ctx:a}),r.$set(d)},i(a){o||(D(i.$$.fragment,a),D(r.$$.fragment,a),o=!0)},o(a){I(i.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&w(e),q(i),q(r)}}}function WI(n){let e,t,i;const s=[{key:n[1]},n[5]];function l(o){n[12](o)}let r={$$slots:{options:[UI]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=je(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Qs({props:r}),ne.push(()=>pe(e,"field",l)),e.$on("rename",n[13]),e.$on("remove",n[14]),{c(){V(e.$$.fragment)},m(o,a){X(e,o,a),i=!0},p(o,[a]){const f=a&34?Bt(s,[a&2&&{key:o[1]},a&32&&Cn(o[5])]):{};a&65551&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],ye(()=>t=!1)),e.$set(f)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){q(e,o)}}}function zI(n,e,t){var C,$;const i=["field","key"];let s=ft(e,i),{field:l}=e,{key:r=""}=e,o=(C=l==null?void 0:l.options)==null?void 0:C.min,a=($=l==null?void 0:l.options)==null?void 0:$.max;function f(T,P){T.detail&&T.detail.length==3&&t(0,l.options[P]=T.detail[1],l)}function u(T){o=T,t(2,o),t(0,l)}function d(T){n.$$.not_equal(l.options.min,T)&&(l.options.min=T,t(0,l))}const h=T=>f(T,"min");function p(T){a=T,t(3,a),t(0,l)}function g(T){n.$$.not_equal(l.options.max,T)&&(l.options.max=T,t(0,l))}const b=T=>f(T,"max");function _(T){l=T,t(0,l)}function y(T){Fe.call(this,n,T)}function k(T){Fe.call(this,n,T)}return n.$$set=T=>{e=je(je({},e),$n(T)),t(5,s=ft(e,i)),"field"in T&&t(0,l=T.field),"key"in T&&t(1,r=T.key)},n.$$.update=()=>{var T,P,M,Q;n.$$.dirty&5&&o!=((T=l==null?void 0:l.options)==null?void 0:T.min)&&t(2,o=(P=l==null?void 0:l.options)==null?void 0:P.min),n.$$.dirty&9&&a!=((M=l==null?void 0:l.options)==null?void 0:M.max)&&t(3,a=(Q=l==null?void 0:l.options)==null?void 0:Q.max)},[l,r,o,a,f,s,u,d,h,p,g,b,_,y,k]}class BI extends ke{constructor(e){super(),ve(this,e,zI,WI,be,{field:0,key:1})}}const YI=n=>({}),E1=n=>({});function I1(n,e,t){const i=n.slice();return i[47]=e[t],i}const HI=n=>({}),R1=n=>({});function L1(n,e,t){const i=n.slice();return i[47]=e[t],i[51]=t,i}function N1(n){let e,t,i;return{c(){e=v("div"),t=W(n[2]),i=A(),m(e,"class","block txt-placeholder"),J(e,"link-hint",!n[5]&&!n[6])},m(s,l){S(s,e,l),O(e,t),O(e,i)},p(s,l){l[0]&4&&re(t,s[2]),l[0]&96&&J(e,"link-hint",!s[5]&&!s[6])},d(s){s&&w(e)}}}function GI(n){let e,t=n[47]+"",i;return{c(){e=v("span"),i=W(t),m(e,"class","txt")},m(s,l){S(s,e,l),O(e,i)},p(s,l){l[0]&1&&t!==(t=s[47]+"")&&re(i,t)},i:ee,o:ee,d(s){s&&w(e)}}}function KI(n){let e,t,i;const s=[{item:n[47]},n[10]];var l=n[9];function r(o){let a={};for(let f=0;f<s.length;f+=1)a=je(a,s[f]);return{props:a}}return l&&(e=on(l,r())),{c(){e&&V(e.$$.fragment),t=Se()},m(o,a){e&&X(e,o,a),S(o,t,a),i=!0},p(o,a){const f=a[0]&1025?Bt(s,[a[0]&1&&{item:o[47]},a[0]&1024&&Cn(o[10])]):{};if(a[0]&512&&l!==(l=o[9])){if(e){ue();const u=e;I(u.$$.fragment,1,0,()=>{q(u,1)}),ce()}l?(e=on(l,r()),V(e.$$.fragment),D(e.$$.fragment,1),X(e,t.parentNode,t)):e=null}else l&&e.$set(f)},i(o){i||(e&&D(e.$$.fragment,o),i=!0)},o(o){e&&I(e.$$.fragment,o),i=!1},d(o){o&&w(t),e&&q(e,o)}}}function x1(n){let e,t,i;function s(){return n[35](n[47])}return{c(){e=v("span"),e.innerHTML='<i class="ri-close-line"></i>',m(e,"class","clear")},m(l,r){S(l,e,r),t||(i=[Ae(Ye.call(null,e,"Clear")),H(e,"click",Pi(ut(s)))],t=!0)},p(l,r){n=l},d(l){l&&w(e),t=!1,Qe(i)}}}function Z1(n){let e,t,i,s,l,r;const o=[KI,GI],a=[];function f(d,h){return d[9]?0:1}t=f(n),i=a[t]=o[t](n);let u=(n[4]||n[7])&&x1(n);return{c(){e=v("div"),i.c(),s=A(),u&&u.c(),l=A(),m(e,"class","option")},m(d,h){S(d,e,h),a[t].m(e,null),O(e,s),u&&u.m(e,null),O(e,l),r=!0},p(d,h){let p=t;t=f(d),t===p?a[t].p(d,h):(ue(),I(a[p],1,1,()=>{a[p]=null}),ce(),i=a[t],i?i.p(d,h):(i=a[t]=o[t](d),i.c()),D(i,1),i.m(e,s)),d[4]||d[7]?u?u.p(d,h):(u=x1(d),u.c(),u.m(e,l)):u&&(u.d(1),u=null)},i(d){r||(D(i),r=!0)},o(d){I(i),r=!1},d(d){d&&w(e),a[t].d(),u&&u.d()}}}function F1(n){let e,t,i={class:"dropdown dropdown-block options-dropdown dropdown-left",trigger:n[19],$$slots:{default:[tR]},$$scope:{ctx:n}};return e=new Bi({props:i}),n[40](e),e.$on("show",n[25]),e.$on("hide",n[41]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,l){const r={};l[0]&524288&&(r.trigger=s[19]),l[0]&3225866|l[1]&4096&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[40](null),q(e,s)}}}function X1(n){let e,t,i,s,l,r,o,a,f=n[16].length&&q1(n);return{c(){e=v("div"),t=v("label"),i=v("div"),i.innerHTML='<i class="ri-search-line"></i>',s=A(),l=v("input"),r=A(),f&&f.c(),m(i,"class","addon p-r-0"),l.autofocus=!0,m(l,"type","text"),m(l,"placeholder",n[3]),m(t,"class","input-group"),m(e,"class","form-field form-field-sm options-search")},m(u,d){S(u,e,d),O(e,t),O(t,i),O(t,s),O(t,l),fe(l,n[16]),O(t,r),f&&f.m(t,null),l.focus(),o||(a=H(l,"input",n[37]),o=!0)},p(u,d){d[0]&8&&m(l,"placeholder",u[3]),d[0]&65536&&l.value!==u[16]&&fe(l,u[16]),u[16].length?f?f.p(u,d):(f=q1(u),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(u){u&&w(e),f&&f.d(),o=!1,a()}}}function q1(n){let e,t,i,s;return{c(){e=v("div"),t=v("button"),t.innerHTML='<i class="ri-close-line"></i>',m(t,"type","button"),m(t,"class","btn btn-sm btn-circle btn-transparent clear"),m(e,"class","addon suffix p-r-5")},m(l,r){S(l,e,r),O(e,t),i||(s=H(t,"click",Pi(ut(n[22]))),i=!0)},p:ee,d(l){l&&w(e),i=!1,s()}}}function V1(n){let e,t=n[1]&&j1(n);return{c(){t&&t.c(),e=Se()},m(i,s){t&&t.m(i,s),S(i,e,s)},p(i,s){i[1]?t?t.p(i,s):(t=j1(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&w(e)}}}function j1(n){let e,t;return{c(){e=v("div"),t=W(n[1]),m(e,"class","txt-missing")},m(i,s){S(i,e,s),O(e,t)},p(i,s){s[0]&2&&re(t,i[1])},d(i){i&&w(e)}}}function JI(n){let e=n[47]+"",t;return{c(){t=W(e)},m(i,s){S(i,t,s)},p(i,s){s[0]&2097152&&e!==(e=i[47]+"")&&re(t,e)},i:ee,o:ee,d(i){i&&w(t)}}}function eR(n){let e,t,i;const s=[{item:n[47]},n[12]];var l=n[11];function r(o){let a={};for(let f=0;f<s.length;f+=1)a=je(a,s[f]);return{props:a}}return l&&(e=on(l,r())),{c(){e&&V(e.$$.fragment),t=Se()},m(o,a){e&&X(e,o,a),S(o,t,a),i=!0},p(o,a){const f=a[0]&2101248?Bt(s,[a[0]&2097152&&{item:o[47]},a[0]&4096&&Cn(o[12])]):{};if(a[0]&2048&&l!==(l=o[11])){if(e){ue();const u=e;I(u.$$.fragment,1,0,()=>{q(u,1)}),ce()}l?(e=on(l,r()),V(e.$$.fragment),D(e.$$.fragment,1),X(e,t.parentNode,t)):e=null}else l&&e.$set(f)},i(o){i||(e&&D(e.$$.fragment,o),i=!0)},o(o){e&&I(e.$$.fragment,o),i=!1},d(o){o&&w(t),e&&q(e,o)}}}function U1(n){let e,t,i,s,l,r,o;const a=[eR,JI],f=[];function u(p,g){return p[11]?0:1}t=u(n),i=f[t]=a[t](n);function d(...p){return n[38](n[47],...p)}function h(...p){return n[39](n[47],...p)}return{c(){e=v("div"),i.c(),s=A(),m(e,"tabindex","0"),m(e,"class","dropdown-item option"),J(e,"closable",n[8]),J(e,"selected",n[20](n[47]))},m(p,g){S(p,e,g),f[t].m(e,null),O(e,s),l=!0,r||(o=[H(e,"click",d),H(e,"keydown",h)],r=!0)},p(p,g){n=p;let b=t;t=u(n),t===b?f[t].p(n,g):(ue(),I(f[b],1,1,()=>{f[b]=null}),ce(),i=f[t],i?i.p(n,g):(i=f[t]=a[t](n),i.c()),D(i,1),i.m(e,s)),(!l||g[0]&256)&&J(e,"closable",n[8]),(!l||g[0]&3145728)&&J(e,"selected",n[20](n[47]))},i(p){l||(D(i),l=!0)},o(p){I(i),l=!1},d(p){p&&w(e),f[t].d(),r=!1,Qe(o)}}}function tR(n){let e,t,i,s,l,r=n[13]&&X1(n);const o=n[34].beforeOptions,a=xt(o,n,n[43],R1);let f=n[21],u=[];for(let b=0;b<f.length;b+=1)u[b]=U1(I1(n,f,b));const d=b=>I(u[b],1,1,()=>{u[b]=null});let h=null;f.length||(h=V1(n));const p=n[34].afterOptions,g=xt(p,n,n[43],E1);return{c(){r&&r.c(),e=A(),a&&a.c(),t=A(),i=v("div");for(let b=0;b<u.length;b+=1)u[b].c();h&&h.c(),s=A(),g&&g.c(),m(i,"class","options-list")},m(b,_){r&&r.m(b,_),S(b,e,_),a&&a.m(b,_),S(b,t,_),S(b,i,_);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(i,null);h&&h.m(i,null),S(b,s,_),g&&g.m(b,_),l=!0},p(b,_){if(b[13]?r?r.p(b,_):(r=X1(b),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),a&&a.p&&(!l||_[1]&4096)&&Ft(a,o,b,b[43],l?Zt(o,b[43],_,HI):Xt(b[43]),R1),_[0]&28317954){f=b[21];let y;for(y=0;y<f.length;y+=1){const k=I1(b,f,y);u[y]?(u[y].p(k,_),D(u[y],1)):(u[y]=U1(k),u[y].c(),D(u[y],1),u[y].m(i,null))}for(ue(),y=f.length;y<u.length;y+=1)d(y);ce(),!f.length&&h?h.p(b,_):f.length?h&&(h.d(1),h=null):(h=V1(b),h.c(),h.m(i,null))}g&&g.p&&(!l||_[1]&4096)&&Ft(g,p,b,b[43],l?Zt(p,b[43],_,YI):Xt(b[43]),E1)},i(b){if(!l){D(a,b);for(let _=0;_<f.length;_+=1)D(u[_]);D(g,b),l=!0}},o(b){I(a,b),u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)I(u[_]);I(g,b),l=!1},d(b){r&&r.d(b),b&&w(e),a&&a.d(b),b&&w(t),b&&w(i),At(u,b),h&&h.d(),b&&w(s),g&&g.d(b)}}}function nR(n){let e,t,i,s,l,r,o=j.toArray(n[0]),a=[];for(let h=0;h<o.length;h+=1)a[h]=Z1(L1(n,o,h));const f=h=>I(a[h],1,1,()=>{a[h]=null});let u=null;o.length||(u=N1(n));let d=!n[5]&&!n[6]&&F1(n);return{c(){e=v("div"),t=v("div");for(let h=0;h<a.length;h+=1)a[h].c();u&&u.c(),s=A(),d&&d.c(),m(t,"tabindex",i=n[5]||n[6]?"-1":"0"),m(t,"class","selected-container"),J(t,"disabled",n[5]),J(t,"readonly",n[6]),m(e,"class",l="select "+n[14]),J(e,"multiple",n[4]),J(e,"disabled",n[5]),J(e,"readonly",n[6])},m(h,p){S(h,e,p),O(e,t);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(t,null);u&&u.m(t,null),n[36](t),O(e,s),d&&d.m(e,null),n[42](e),r=!0},p(h,p){if(p[0]&34549){o=j.toArray(h[0]);let g;for(g=0;g<o.length;g+=1){const b=L1(h,o,g);a[g]?(a[g].p(b,p),D(a[g],1)):(a[g]=Z1(b),a[g].c(),D(a[g],1),a[g].m(t,null))}for(ue(),g=o.length;g<a.length;g+=1)f(g);ce(),!o.length&&u?u.p(h,p):o.length?u&&(u.d(1),u=null):(u=N1(h),u.c(),u.m(t,null))}(!r||p[0]&96&&i!==(i=h[5]||h[6]?"-1":"0"))&&m(t,"tabindex",i),(!r||p[0]&32)&&J(t,"disabled",h[5]),(!r||p[0]&64)&&J(t,"readonly",h[6]),!h[5]&&!h[6]?d?(d.p(h,p),p[0]&96&&D(d,1)):(d=F1(h),d.c(),D(d,1),d.m(e,null)):d&&(ue(),I(d,1,1,()=>{d=null}),ce()),(!r||p[0]&16384&&l!==(l="select "+h[14]))&&m(e,"class",l),(!r||p[0]&16400)&&J(e,"multiple",h[4]),(!r||p[0]&16416)&&J(e,"disabled",h[5]),(!r||p[0]&16448)&&J(e,"readonly",h[6])},i(h){if(!r){for(let p=0;p<o.length;p+=1)D(a[p]);D(d),r=!0}},o(h){a=a.filter(Boolean);for(let p=0;p<a.length;p+=1)I(a[p]);I(d),r=!1},d(h){h&&w(e),At(a,h),u&&u.d(),n[36](null),d&&d.d(),n[42](null)}}}function iR(n,e){let t=(""+e).replace(/\s+/g,"").toLowerCase(),i=n;try{typeof n=="object"&&n!==null&&(i=JSON.stringify(n))}catch{}return(""+i).replace(/\s+/g,"").toLowerCase().includes(t)}function sR(n,e,t){let i,s,{$$slots:l={},$$scope:r}=e,{id:o=""}=e,{noOptionsText:a="No options found"}=e,{selectPlaceholder:f="- Select -"}=e,{searchPlaceholder:u="Search..."}=e,{items:d=[]}=e,{multiple:h=!1}=e,{disabled:p=!1}=e,{readonly:g=!1}=e,{selected:b=h?[]:void 0}=e,{toggle:_=h}=e,{closable:y=!0}=e,{labelComponent:k=void 0}=e,{labelComponentProps:C={}}=e,{optionComponent:$=void 0}=e,{optionComponentProps:T={}}=e,{searchable:P=!1}=e,{searchFunc:M=void 0}=e,{class:Q=""}=e,E,R="",L,N;function x(ge){if(j.isEmpty(b))return;let _e=j.toArray(b);j.inArray(_e,ge)&&(j.removeByValue(_e,ge),t(0,b=_e)),L==null||L.dispatchEvent(new CustomEvent("change",{detail:b,bubbles:!0}))}function Z(ge){if(h){let _e=j.toArray(b);j.inArray(_e,ge)||t(0,b=[..._e,ge])}else t(0,b=ge);L==null||L.dispatchEvent(new CustomEvent("change",{detail:b,bubbles:!0}))}function F(ge){return s(ge)?x(ge):Z(ge)}function U(){t(0,b=h?[]:void 0)}function G(){E!=null&&E.show&&(E==null||E.show())}function z(){E!=null&&E.hide&&(E==null||E.hide())}function B(){if(j.isEmpty(b)||j.isEmpty(d))return;let ge=j.toArray(b),_e=[];for(const tt of ge)j.inArray(d,tt)||_e.push(tt);if(_e.length){for(const tt of _e)j.removeByValue(ge,tt);t(0,b=h?ge:ge[0])}}function le(){t(16,R="")}function te(ge,_e){ge=ge||[];const tt=M||iR;return ge.filter(Me=>tt(Me,_e))||[]}function se(ge,_e){ge.preventDefault(),_&&h?F(_e):Z(_e)}function Oe(ge,_e){(ge.code==="Enter"||ge.code==="Space")&&(se(ge,_e),y&&z())}function $e(){le(),setTimeout(()=>{const ge=L==null?void 0:L.querySelector(".dropdown-item.option.selected");ge&&(ge.focus(),ge.scrollIntoView({block:"nearest"}))},0)}function Ze(ge){ge.stopPropagation(),!g&&!p&&(E==null||E.toggle())}vn(()=>{const ge=document.querySelectorAll(`label[for="${o}"]`);for(const _e of ge)_e.addEventListener("click",Ze);return()=>{for(const _e of ge)_e.removeEventListener("click",Ze)}});const He=ge=>x(ge);function Ce(ge){ne[ge?"unshift":"push"](()=>{N=ge,t(19,N)})}function Pe(){R=this.value,t(16,R)}const lt=(ge,_e)=>se(_e,ge),Qt=(ge,_e)=>Oe(_e,ge);function rt(ge){ne[ge?"unshift":"push"](()=>{E=ge,t(17,E)})}function Je(ge){Fe.call(this,n,ge)}function Tt(ge){ne[ge?"unshift":"push"](()=>{L=ge,t(18,L)})}return n.$$set=ge=>{"id"in ge&&t(26,o=ge.id),"noOptionsText"in ge&&t(1,a=ge.noOptionsText),"selectPlaceholder"in ge&&t(2,f=ge.selectPlaceholder),"searchPlaceholder"in ge&&t(3,u=ge.searchPlaceholder),"items"in ge&&t(27,d=ge.items),"multiple"in ge&&t(4,h=ge.multiple),"disabled"in ge&&t(5,p=ge.disabled),"readonly"in ge&&t(6,g=ge.readonly),"selected"in ge&&t(0,b=ge.selected),"toggle"in ge&&t(7,_=ge.toggle),"closable"in ge&&t(8,y=ge.closable),"labelComponent"in ge&&t(9,k=ge.labelComponent),"labelComponentProps"in ge&&t(10,C=ge.labelComponentProps),"optionComponent"in ge&&t(11,$=ge.optionComponent),"optionComponentProps"in ge&&t(12,T=ge.optionComponentProps),"searchable"in ge&&t(13,P=ge.searchable),"searchFunc"in ge&&t(28,M=ge.searchFunc),"class"in ge&&t(14,Q=ge.class),"$$scope"in ge&&t(43,r=ge.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&134217728&&d&&(B(),le()),n.$$.dirty[0]&134283264&&t(21,i=te(d,R)),n.$$.dirty[0]&1&&t(20,s=function(ge){const _e=j.toArray(b);return j.inArray(_e,ge)})},[b,a,f,u,h,p,g,_,y,k,C,$,T,P,Q,x,R,E,L,N,s,i,le,se,Oe,$e,o,d,M,Z,F,U,G,z,l,He,Ce,Pe,lt,Qt,rt,Je,Tt,r]}class tm extends ke{constructor(e){super(),ve(this,e,sR,nR,be,{id:26,noOptionsText:1,selectPlaceholder:2,searchPlaceholder:3,items:27,multiple:4,disabled:5,readonly:6,selected:0,toggle:7,closable:8,labelComponent:9,labelComponentProps:10,optionComponent:11,optionComponentProps:12,searchable:13,searchFunc:28,class:14,deselectItem:15,selectItem:29,toggleItem:30,reset:31,showDropdown:32,hideDropdown:33},null,[-1,-1])}get deselectItem(){return this.$$.ctx[15]}get selectItem(){return this.$$.ctx[29]}get toggleItem(){return this.$$.ctx[30]}get reset(){return this.$$.ctx[31]}get showDropdown(){return this.$$.ctx[32]}get hideDropdown(){return this.$$.ctx[33]}}function W1(n){let e,t;return{c(){e=v("i"),m(e,"class",t="icon "+n[0].icon)},m(i,s){S(i,e,s)},p(i,s){s&1&&t!==(t="icon "+i[0].icon)&&m(e,"class",t)},d(i){i&&w(e)}}}function lR(n){let e,t,i=(n[0].label||n[0].name||n[0].title||n[0].id||n[0].value)+"",s,l=n[0].icon&&W1(n);return{c(){l&&l.c(),e=A(),t=v("span"),s=W(i),m(t,"class","txt")},m(r,o){l&&l.m(r,o),S(r,e,o),S(r,t,o),O(t,s)},p(r,[o]){r[0].icon?l?l.p(r,o):(l=W1(r),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o&1&&i!==(i=(r[0].label||r[0].name||r[0].title||r[0].id||r[0].value)+"")&&re(s,i)},i:ee,o:ee,d(r){l&&l.d(r),r&&w(e),r&&w(t)}}}function rR(n,e,t){let{item:i={}}=e;return n.$$set=s=>{"item"in s&&t(0,i=s.item)},[i]}class z1 extends ke{constructor(e){super(),ve(this,e,rR,lR,be,{item:0})}}const oR=n=>({}),B1=n=>({});function aR(n){let e;const t=n[8].afterOptions,i=xt(t,n,n[12],B1);return{c(){i&&i.c()},m(s,l){i&&i.m(s,l),e=!0},p(s,l){i&&i.p&&(!e||l&4096)&&Ft(i,t,s,s[12],e?Zt(t,s[12],l,oR):Xt(s[12]),B1)},i(s){e||(D(i,s),e=!0)},o(s){I(i,s),e=!1},d(s){i&&i.d(s)}}}function fR(n){let e,t,i;const s=[{items:n[1]},{multiple:n[2]},{labelComponent:n[3]},{optionComponent:n[4]},n[5]];function l(o){n[9](o)}let r={$$slots:{afterOptions:[aR]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=je(r,s[o]);return n[0]!==void 0&&(r.selected=n[0]),e=new tm({props:r}),ne.push(()=>pe(e,"selected",l)),e.$on("show",n[10]),e.$on("hide",n[11]),{c(){V(e.$$.fragment)},m(o,a){X(e,o,a),i=!0},p(o,[a]){const f=a&62?Bt(s,[a&2&&{items:o[1]},a&4&&{multiple:o[2]},a&8&&{labelComponent:o[3]},a&16&&{optionComponent:o[4]},a&32&&Cn(o[5])]):{};a&4096&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.selected=o[0],ye(()=>t=!1)),e.$set(f)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){q(e,o)}}}function uR(n,e,t){const i=["items","multiple","selected","labelComponent","optionComponent","selectionKey","keyOfSelected"];let s=ft(e,i),{$$slots:l={},$$scope:r}=e,{items:o=[]}=e,{multiple:a=!1}=e,{selected:f=a?[]:void 0}=e,{labelComponent:u=z1}=e,{optionComponent:d=z1}=e,{selectionKey:h="value"}=e,{keyOfSelected:p=a?[]:void 0}=e;function g(C){C=j.toArray(C,!0);let $=[];for(let T of C){const P=j.findByKey(o,h,T);P&&$.push(P)}C.length&&!$.length||t(0,f=a?$:$[0])}async function b(C){let $=j.toArray(C,!0).map(T=>T[h]);o.length&&t(6,p=a?$:$[0])}function _(C){f=C,t(0,f)}function y(C){Fe.call(this,n,C)}function k(C){Fe.call(this,n,C)}return n.$$set=C=>{e=je(je({},e),$n(C)),t(5,s=ft(e,i)),"items"in C&&t(1,o=C.items),"multiple"in C&&t(2,a=C.multiple),"selected"in C&&t(0,f=C.selected),"labelComponent"in C&&t(3,u=C.labelComponent),"optionComponent"in C&&t(4,d=C.optionComponent),"selectionKey"in C&&t(7,h=C.selectionKey),"keyOfSelected"in C&&t(6,p=C.keyOfSelected),"$$scope"in C&&t(12,r=C.$$scope)},n.$$.update=()=>{n.$$.dirty&66&&o&&g(p),n.$$.dirty&1&&b(f)},[f,o,a,u,d,s,p,h,l,_,y,k,r]}class Pl extends ke{constructor(e){super(),ve(this,e,uR,fR,be,{items:1,multiple:2,selected:0,labelComponent:3,optionComponent:4,selectionKey:7,keyOfSelected:6})}}function cR(n){let e,t,i,s,l,r;function o(f){n[7](f)}let a={id:n[13],placeholder:"Choices: eg. optionA, optionB",required:!0,readonly:!n[14]};return n[0].options.values!==void 0&&(a.value=n[0].options.values),t=new oo({props:a}),ne.push(()=>pe(t,"value",o)),{c(){e=v("div"),V(t.$$.fragment)},m(f,u){S(f,e,u),X(t,e,null),s=!0,l||(r=Ae(Ye.call(null,e,{text:"Choices (comma separated)",position:"top-left",delay:700})),l=!0)},p(f,u){const d={};u&8192&&(d.id=f[13]),u&16384&&(d.readonly=!f[14]),!i&&u&1&&(i=!0,d.value=f[0].options.values,ye(()=>i=!1)),t.$set(d)},i(f){s||(D(t.$$.fragment,f),s=!0)},o(f){I(t.$$.fragment,f),s=!1},d(f){f&&w(e),q(t),l=!1,r()}}}function dR(n){let e,t,i;function s(r){n[8](r)}let l={id:n[13],items:n[3],readonly:!n[14]};return n[2]!==void 0&&(l.keyOfSelected=n[2]),e=new Pl({props:l}),ne.push(()=>pe(e,"keyOfSelected",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};o&8192&&(a.id=r[13]),o&16384&&(a.readonly=!r[14]),!t&&o&4&&(t=!0,a.keyOfSelected=r[2],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function hR(n){let e,t,i,s,l,r,o,a,f,u;return i=new me({props:{class:"form-field required "+(n[14]?"":"readonly"),inlineError:!0,name:"schema."+n[1]+".options.values",$$slots:{default:[cR,({uniqueId:d})=>({13:d}),({uniqueId:d})=>d?8192:0]},$$scope:{ctx:n}}}),o=new me({props:{class:"form-field form-field-single-multiple-select "+(n[14]?"":"readonly"),inlineError:!0,$$slots:{default:[dR,({uniqueId:d})=>({13:d}),({uniqueId:d})=>d?8192:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=A(),V(i.$$.fragment),s=A(),l=v("div"),r=A(),V(o.$$.fragment),a=A(),f=v("div"),m(e,"class","separator"),m(l,"class","separator"),m(f,"class","separator")},m(d,h){S(d,e,h),S(d,t,h),X(i,d,h),S(d,s,h),S(d,l,h),S(d,r,h),X(o,d,h),S(d,a,h),S(d,f,h),u=!0},p(d,h){const p={};h&16384&&(p.class="form-field required "+(d[14]?"":"readonly")),h&2&&(p.name="schema."+d[1]+".options.values"),h&57345&&(p.$$scope={dirty:h,ctx:d}),i.$set(p);const g={};h&16384&&(g.class="form-field form-field-single-multiple-select "+(d[14]?"":"readonly")),h&57348&&(g.$$scope={dirty:h,ctx:d}),o.$set(g)},i(d){u||(D(i.$$.fragment,d),D(o.$$.fragment,d),u=!0)},o(d){I(i.$$.fragment,d),I(o.$$.fragment,d),u=!1},d(d){d&&w(e),d&&w(t),q(i,d),d&&w(s),d&&w(l),d&&w(r),q(o,d),d&&w(a),d&&w(f)}}}function Y1(n){let e,t;return e=new me({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[pR,({uniqueId:i})=>({13:i}),({uniqueId:i})=>i?8192:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&2&&(l.name="schema."+i[1]+".options.maxSelect"),s&40961&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function pR(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Max select"),s=A(),l=v("input"),m(e,"for",i=n[13]),m(l,"id",r=n[13]),m(l,"type","number"),m(l,"step","1"),m(l,"min","2"),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].options.maxSelect),o||(a=H(l,"input",n[6]),o=!0)},p(f,u){u&8192&&i!==(i=f[13])&&m(e,"for",i),u&8192&&r!==(r=f[13])&&m(l,"id",r),u&1&&Ct(l.value)!==f[0].options.maxSelect&&fe(l,f[0].options.maxSelect)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function mR(n){let e,t,i=!n[2]&&Y1(n);return{c(){i&&i.c(),e=Se()},m(s,l){i&&i.m(s,l),S(s,e,l),t=!0},p(s,l){s[2]?i&&(ue(),I(i,1,1,()=>{i=null}),ce()):i?(i.p(s,l),l&4&&D(i,1)):(i=Y1(s),i.c(),D(i,1),i.m(e.parentNode,e))},i(s){t||(D(i),t=!0)},o(s){I(i),t=!1},d(s){i&&i.d(s),s&&w(e)}}}function gR(n){let e,t,i;const s=[{key:n[1]},n[4]];function l(o){n[9](o)}let r={$$slots:{options:[mR],default:[hR,({interactive:o})=>({14:o}),({interactive:o})=>o?16384:0]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=je(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Qs({props:r}),ne.push(()=>pe(e,"field",l)),e.$on("rename",n[10]),e.$on("remove",n[11]),{c(){V(e.$$.fragment)},m(o,a){X(e,o,a),i=!0},p(o,[a]){const f=a&18?Bt(s,[a&2&&{key:o[1]},a&16&&Cn(o[4])]):{};a&49159&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],ye(()=>t=!1)),e.$set(f)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){q(e,o)}}}function bR(n,e,t){var y;const i=["field","key"];let s=ft(e,i),{field:l}=e,{key:r=""}=e;const o=[{label:"Single",value:!0},{label:"Multiple",value:!1}];let a=((y=l.options)==null?void 0:y.maxSelect)<=1,f=a;function u(){t(0,l.options={maxSelect:1,values:[]},l),t(2,a=!0),t(5,f=a)}function d(){l.options.maxSelect=Ct(this.value),t(0,l),t(5,f),t(2,a)}function h(k){n.$$.not_equal(l.options.values,k)&&(l.options.values=k,t(0,l),t(5,f),t(2,a))}function p(k){a=k,t(2,a)}function g(k){l=k,t(0,l),t(5,f),t(2,a)}function b(k){Fe.call(this,n,k)}function _(k){Fe.call(this,n,k)}return n.$$set=k=>{e=je(je({},e),$n(k)),t(4,s=ft(e,i)),"field"in k&&t(0,l=k.field),"key"in k&&t(1,r=k.key)},n.$$.update=()=>{var k,C;n.$$.dirty&37&&f!=a&&(t(5,f=a),a?t(0,l.options.maxSelect=1,l):t(0,l.options.maxSelect=((C=(k=l.options)==null?void 0:k.values)==null?void 0:C.length)||2,l)),n.$$.dirty&1&&j.isEmpty(l.options)&&u()},[l,r,a,o,s,f,d,h,p,g,b,_]}class _R extends ke{constructor(e){super(),ve(this,e,bR,gR,be,{field:0,key:1})}}function OR(n){let e;return{c(){e=v("i"),m(e,"class","ri-arrow-down-s-line txt-sm")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function yR(n){let e;return{c(){e=v("i"),m(e,"class","ri-arrow-up-s-line txt-sm")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function H1(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P,M='"{"a":1,"b":2}"',Q,E,R,L,N,x,Z,F,U,G,z,B,le;return{c(){e=v("div"),t=v("div"),i=v("div"),s=W("In order to support seamlessly both "),l=v("code"),l.textContent="application/json",r=W(` and
                        `),o=v("code"),o.textContent="multipart/form-data",a=W(`
                        requests, the following normalization rules are applied if the `),f=v("code"),f.textContent="json",u=W(` field
                        is a
                        `),d=v("strong"),d.textContent="plain string",h=W(`:
                        `),p=v("ul"),g=v("li"),g.innerHTML="&quot;true&quot; is converted to the json <code>true</code>",b=A(),_=v("li"),_.innerHTML="&quot;false&quot; is converted to the json <code>false</code>",y=A(),k=v("li"),k.innerHTML="&quot;null&quot; is converted to the json <code>null</code>",C=A(),$=v("li"),$.innerHTML="&quot;[1,2,3]&quot; is converted to the json <code>[1,2,3]</code>",T=A(),P=v("li"),Q=W(M),E=W(" is converted to the json "),R=v("code"),R.textContent='{"a":1,"b":2}',L=A(),N=v("li"),N.textContent="numeric strings are converted to json number",x=A(),Z=v("li"),Z.textContent="double quoted strings are left as they are (aka. without normalizations)",F=A(),U=v("li"),U.textContent="any other string (empty string too) is double quoted",G=W(`
                        Alternatively, if you want to avoid the string value normalizations, you can wrap your
                        data inside an object, eg.`),z=v("code"),z.textContent='{"data": anything}',m(i,"class","content"),m(t,"class","alert alert-warning m-b-0 m-t-10"),m(e,"class","block")},m(te,se){S(te,e,se),O(e,t),O(t,i),O(i,s),O(i,l),O(i,r),O(i,o),O(i,a),O(i,f),O(i,u),O(i,d),O(i,h),O(i,p),O(p,g),O(p,b),O(p,_),O(p,y),O(p,k),O(p,C),O(p,$),O(p,T),O(p,P),O(P,Q),O(P,E),O(P,R),O(p,L),O(p,N),O(p,x),O(p,Z),O(p,F),O(p,U),O(i,G),O(i,z),le=!0},i(te){le||(te&&at(()=>{le&&(B||(B=Ue(e,gt,{duration:150},!0)),B.run(1))}),le=!0)},o(te){te&&(B||(B=Ue(e,gt,{duration:150},!1)),B.run(0)),le=!1},d(te){te&&w(e),te&&B&&B.end()}}}function vR(n){let e,t,i,s,l,r,o;function a(h,p){return h[2]?yR:OR}let f=a(n),u=f(n),d=n[2]&&H1();return{c(){e=v("button"),t=v("strong"),t.textContent="String value normalizations",i=A(),u.c(),s=A(),d&&d.c(),l=Se(),m(t,"class","txt"),m(e,"type","button"),m(e,"class","inline-flex txt-sm flex-gap-5 link-hint")},m(h,p){S(h,e,p),O(e,t),O(e,i),u.m(e,null),S(h,s,p),d&&d.m(h,p),S(h,l,p),r||(o=H(e,"click",n[4]),r=!0)},p(h,p){f!==(f=a(h))&&(u.d(1),u=f(h),u&&(u.c(),u.m(e,null))),h[2]?d?p&4&&D(d,1):(d=H1(),d.c(),D(d,1),d.m(l.parentNode,l)):d&&(ue(),I(d,1,1,()=>{d=null}),ce())},d(h){h&&w(e),u.d(),h&&w(s),d&&d.d(h),h&&w(l),r=!1,o()}}}function kR(n){let e,t,i;const s=[{key:n[1]},n[3]];function l(o){n[5](o)}let r={$$slots:{options:[vR]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=je(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Qs({props:r}),ne.push(()=>pe(e,"field",l)),e.$on("rename",n[6]),e.$on("remove",n[7]),{c(){V(e.$$.fragment)},m(o,a){X(e,o,a),i=!0},p(o,[a]){const f=a&10?Bt(s,[a&2&&{key:o[1]},a&8&&Cn(o[3])]):{};a&260&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],ye(()=>t=!1)),e.$set(f)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){q(e,o)}}}function wR(n,e,t){const i=["field","key"];let s=ft(e,i),{field:l}=e,{key:r=""}=e,o=!1;const a=()=>{t(2,o=!o)};function f(h){l=h,t(0,l)}function u(h){Fe.call(this,n,h)}function d(h){Fe.call(this,n,h)}return n.$$set=h=>{e=je(je({},e),$n(h)),t(3,s=ft(e,i)),"field"in h&&t(0,l=h.field),"key"in h&&t(1,r=h.key)},[l,r,o,s,a,f,u,d]}class SR extends ke{constructor(e){super(),ve(this,e,wR,kR,be,{field:0,key:1})}}function $R(n){let e,t=(n[0].ext||"N/A")+"",i,s,l,r=n[0].mimeType+"",o;return{c(){e=v("span"),i=W(t),s=A(),l=v("small"),o=W(r),m(e,"class","txt"),m(l,"class","txt-hint")},m(a,f){S(a,e,f),O(e,i),S(a,s,f),S(a,l,f),O(l,o)},p(a,[f]){f&1&&t!==(t=(a[0].ext||"N/A")+"")&&re(i,t),f&1&&r!==(r=a[0].mimeType+"")&&re(o,r)},i:ee,o:ee,d(a){a&&w(e),a&&w(s),a&&w(l)}}}function CR(n,e,t){let{item:i={}}=e;return n.$$set=s=>{"item"in s&&t(0,i=s.item)},[i]}class G1 extends ke{constructor(e){super(),ve(this,e,CR,$R,be,{item:0})}}const TR=[{ext:".xpm",mimeType:"image/x-xpixmap"},{ext:".7z",mimeType:"application/x-7z-compressed"},{ext:".zip",mimeType:"application/zip"},{ext:".xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{ext:".docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{ext:".pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{ext:".epub",mimeType:"application/epub+zip"},{ext:".jar",mimeType:"application/jar"},{ext:".odt",mimeType:"application/vnd.oasis.opendocument.text"},{ext:".ott",mimeType:"application/vnd.oasis.opendocument.text-template"},{ext:".ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{ext:".ots",mimeType:"application/vnd.oasis.opendocument.spreadsheet-template"},{ext:".odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{ext:".otp",mimeType:"application/vnd.oasis.opendocument.presentation-template"},{ext:".odg",mimeType:"application/vnd.oasis.opendocument.graphics"},{ext:".otg",mimeType:"application/vnd.oasis.opendocument.graphics-template"},{ext:".odf",mimeType:"application/vnd.oasis.opendocument.formula"},{ext:".odc",mimeType:"application/vnd.oasis.opendocument.chart"},{ext:".sxc",mimeType:"application/vnd.sun.xml.calc"},{ext:".pdf",mimeType:"application/pdf"},{ext:".fdf",mimeType:"application/vnd.fdf"},{ext:"",mimeType:"application/x-ole-storage"},{ext:".msi",mimeType:"application/x-ms-installer"},{ext:".aaf",mimeType:"application/octet-stream"},{ext:".msg",mimeType:"application/vnd.ms-outlook"},{ext:".xls",mimeType:"application/vnd.ms-excel"},{ext:".pub",mimeType:"application/vnd.ms-publisher"},{ext:".ppt",mimeType:"application/vnd.ms-powerpoint"},{ext:".doc",mimeType:"application/msword"},{ext:".ps",mimeType:"application/postscript"},{ext:".psd",mimeType:"image/vnd.adobe.photoshop"},{ext:".p7s",mimeType:"application/pkcs7-signature"},{ext:".ogg",mimeType:"application/ogg"},{ext:".oga",mimeType:"audio/ogg"},{ext:".ogv",mimeType:"video/ogg"},{ext:".png",mimeType:"image/png"},{ext:".png",mimeType:"image/vnd.mozilla.apng"},{ext:".jpg",mimeType:"image/jpeg"},{ext:".jxl",mimeType:"image/jxl"},{ext:".jp2",mimeType:"image/jp2"},{ext:".jpf",mimeType:"image/jpx"},{ext:".jpm",mimeType:"image/jpm"},{ext:".jxs",mimeType:"image/jxs"},{ext:".gif",mimeType:"image/gif"},{ext:".webp",mimeType:"image/webp"},{ext:".exe",mimeType:"application/vnd.microsoft.portable-executable"},{ext:"",mimeType:"application/x-elf"},{ext:"",mimeType:"application/x-object"},{ext:"",mimeType:"application/x-executable"},{ext:".so",mimeType:"application/x-sharedlib"},{ext:"",mimeType:"application/x-coredump"},{ext:".a",mimeType:"application/x-archive"},{ext:".deb",mimeType:"application/vnd.debian.binary-package"},{ext:".tar",mimeType:"application/x-tar"},{ext:".xar",mimeType:"application/x-xar"},{ext:".bz2",mimeType:"application/x-bzip2"},{ext:".fits",mimeType:"application/fits"},{ext:".tiff",mimeType:"image/tiff"},{ext:".bmp",mimeType:"image/bmp"},{ext:".ico",mimeType:"image/x-icon"},{ext:".mp3",mimeType:"audio/mpeg"},{ext:".flac",mimeType:"audio/flac"},{ext:".midi",mimeType:"audio/midi"},{ext:".ape",mimeType:"audio/ape"},{ext:".mpc",mimeType:"audio/musepack"},{ext:".amr",mimeType:"audio/amr"},{ext:".wav",mimeType:"audio/wav"},{ext:".aiff",mimeType:"audio/aiff"},{ext:".au",mimeType:"audio/basic"},{ext:".mpeg",mimeType:"video/mpeg"},{ext:".mov",mimeType:"video/quicktime"},{ext:".mqv",mimeType:"video/quicktime"},{ext:".mp4",mimeType:"video/mp4"},{ext:".webm",mimeType:"video/webm"},{ext:".3gp",mimeType:"video/3gpp"},{ext:".3g2",mimeType:"video/3gpp2"},{ext:".avi",mimeType:"video/x-msvideo"},{ext:".flv",mimeType:"video/x-flv"},{ext:".mkv",mimeType:"video/x-matroska"},{ext:".asf",mimeType:"video/x-ms-asf"},{ext:".aac",mimeType:"audio/aac"},{ext:".voc",mimeType:"audio/x-unknown"},{ext:".mp4",mimeType:"audio/mp4"},{ext:".m4a",mimeType:"audio/x-m4a"},{ext:".m3u",mimeType:"application/vnd.apple.mpegurl"},{ext:".m4v",mimeType:"video/x-m4v"},{ext:".rmvb",mimeType:"application/vnd.rn-realmedia-vbr"},{ext:".gz",mimeType:"application/gzip"},{ext:".class",mimeType:"application/x-java-applet"},{ext:".swf",mimeType:"application/x-shockwave-flash"},{ext:".crx",mimeType:"application/x-chrome-extension"},{ext:".ttf",mimeType:"font/ttf"},{ext:".woff",mimeType:"font/woff"},{ext:".woff2",mimeType:"font/woff2"},{ext:".otf",mimeType:"font/otf"},{ext:".ttc",mimeType:"font/collection"},{ext:".eot",mimeType:"application/vnd.ms-fontobject"},{ext:".wasm",mimeType:"application/wasm"},{ext:".shx",mimeType:"application/vnd.shx"},{ext:".shp",mimeType:"application/vnd.shp"},{ext:".dbf",mimeType:"application/x-dbf"},{ext:".dcm",mimeType:"application/dicom"},{ext:".rar",mimeType:"application/x-rar-compressed"},{ext:".djvu",mimeType:"image/vnd.djvu"},{ext:".mobi",mimeType:"application/x-mobipocket-ebook"},{ext:".lit",mimeType:"application/x-ms-reader"},{ext:".bpg",mimeType:"image/bpg"},{ext:".sqlite",mimeType:"application/vnd.sqlite3"},{ext:".dwg",mimeType:"image/vnd.dwg"},{ext:".nes",mimeType:"application/vnd.nintendo.snes.rom"},{ext:".lnk",mimeType:"application/x-ms-shortcut"},{ext:".macho",mimeType:"application/x-mach-binary"},{ext:".qcp",mimeType:"audio/qcelp"},{ext:".icns",mimeType:"image/x-icns"},{ext:".heic",mimeType:"image/heic"},{ext:".heic",mimeType:"image/heic-sequence"},{ext:".heif",mimeType:"image/heif"},{ext:".heif",mimeType:"image/heif-sequence"},{ext:".hdr",mimeType:"image/vnd.radiance"},{ext:".mrc",mimeType:"application/marc"},{ext:".mdb",mimeType:"application/x-msaccess"},{ext:".accdb",mimeType:"application/x-msaccess"},{ext:".zst",mimeType:"application/zstd"},{ext:".cab",mimeType:"application/vnd.ms-cab-compressed"},{ext:".rpm",mimeType:"application/x-rpm"},{ext:".xz",mimeType:"application/x-xz"},{ext:".lz",mimeType:"application/lzip"},{ext:".torrent",mimeType:"application/x-bittorrent"},{ext:".cpio",mimeType:"application/x-cpio"},{ext:"",mimeType:"application/tzif"},{ext:".xcf",mimeType:"image/x-xcf"},{ext:".pat",mimeType:"image/x-gimp-pat"},{ext:".gbr",mimeType:"image/x-gimp-gbr"},{ext:".glb",mimeType:"model/gltf-binary"},{ext:".avif",mimeType:"image/avif"},{ext:".cab",mimeType:"application/x-installshield"},{ext:".jxr",mimeType:"image/jxr"},{ext:".txt",mimeType:"text/plain"},{ext:".html",mimeType:"text/html"},{ext:".svg",mimeType:"image/svg+xml"},{ext:".xml",mimeType:"text/xml"},{ext:".rss",mimeType:"application/rss+xml"},{ext:".atom",mimeType:"applicatiotom+xml"},{ext:".x3d",mimeType:"model/x3d+xml"},{ext:".kml",mimeType:"application/vnd.google-earth.kml+xml"},{ext:".xlf",mimeType:"application/x-xliff+xml"},{ext:".dae",mimeType:"model/vnd.collada+xml"},{ext:".gml",mimeType:"application/gml+xml"},{ext:".gpx",mimeType:"application/gpx+xml"},{ext:".tcx",mimeType:"application/vnd.garmin.tcx+xml"},{ext:".amf",mimeType:"application/x-amf"},{ext:".3mf",mimeType:"application/vnd.ms-package.3dmanufacturing-3dmodel+xml"},{ext:".xfdf",mimeType:"application/vnd.adobe.xfdf"},{ext:".owl",mimeType:"application/owl+xml"},{ext:".php",mimeType:"text/x-php"},{ext:".js",mimeType:"application/javascript"},{ext:".lua",mimeType:"text/x-lua"},{ext:".pl",mimeType:"text/x-perl"},{ext:".py",mimeType:"text/x-python"},{ext:".json",mimeType:"application/json"},{ext:".geojson",mimeType:"application/geo+json"},{ext:".har",mimeType:"application/json"},{ext:".ndjson",mimeType:"application/x-ndjson"},{ext:".rtf",mimeType:"text/rtf"},{ext:".srt",mimeType:"application/x-subrip"},{ext:".tcl",mimeType:"text/x-tcl"},{ext:".csv",mimeType:"text/csv"},{ext:".tsv",mimeType:"text/tab-separated-values"},{ext:".vcf",mimeType:"text/vcard"},{ext:".ics",mimeType:"text/calendar"},{ext:".warc",mimeType:"application/warc"},{ext:".vtt",mimeType:"text/vtt"},{ext:"",mimeType:"application/octet-stream"}];function PR(n){let e,t,i;function s(r){n[16](r)}let l={id:n[22],items:n[4],readonly:!n[23]};return n[2]!==void 0&&(l.keyOfSelected=n[2]),e=new Pl({props:l}),ne.push(()=>pe(e,"keyOfSelected",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};o&4194304&&(a.id=r[22]),o&8388608&&(a.readonly=!r[23]),!t&&o&4&&(t=!0,a.keyOfSelected=r[2],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function MR(n){let e,t,i,s,l,r;return i=new me({props:{class:"form-field form-field-single-multiple-select "+(n[23]?"":"readonly"),inlineError:!0,$$slots:{default:[PR,({uniqueId:o})=>({22:o}),({uniqueId:o})=>o?4194304:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=A(),V(i.$$.fragment),s=A(),l=v("div"),m(e,"class","separator"),m(l,"class","separator")},m(o,a){S(o,e,a),S(o,t,a),X(i,o,a),S(o,s,a),S(o,l,a),r=!0},p(o,a){const f={};a&8388608&&(f.class="form-field form-field-single-multiple-select "+(o[23]?"":"readonly")),a&29360132&&(f.$$scope={dirty:a,ctx:o}),i.$set(f)},i(o){r||(D(i.$$.fragment,o),r=!0)},o(o){I(i.$$.fragment,o),r=!1},d(o){o&&w(e),o&&w(t),q(i,o),o&&w(s),o&&w(l)}}}function AR(n){let e,t,i,s,l,r,o,a,f;return{c(){e=v("button"),e.innerHTML='<span class="txt">Images (jpg, png, svg, gif, webp)</span>',t=A(),i=v("button"),i.innerHTML='<span class="txt">Documents (pdf, doc/docx, xls/xlsx)</span>',s=A(),l=v("button"),l.innerHTML='<span class="txt">Videos (mp4, avi, mov, 3gp)</span>',r=A(),o=v("button"),o.innerHTML='<span class="txt">Archives (zip, 7zip, rar)</span>',m(e,"type","button"),m(e,"class","dropdown-item closable"),m(i,"type","button"),m(i,"class","dropdown-item closable"),m(l,"type","button"),m(l,"class","dropdown-item closable"),m(o,"type","button"),m(o,"class","dropdown-item closable")},m(u,d){S(u,e,d),S(u,t,d),S(u,i,d),S(u,s,d),S(u,l,d),S(u,r,d),S(u,o,d),a||(f=[H(e,"click",n[9]),H(i,"click",n[10]),H(l,"click",n[11]),H(o,"click",n[12])],a=!0)},p:ee,d(u){u&&w(e),u&&w(t),u&&w(i),u&&w(s),u&&w(l),u&&w(r),u&&w(o),a=!1,Qe(f)}}}function QR(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C;function $(P){n[8](P)}let T={id:n[22],multiple:!0,searchable:!0,closable:!1,selectionKey:"mimeType",selectPlaceholder:"No restriction",items:n[3],labelComponent:G1,optionComponent:G1};return n[0].options.mimeTypes!==void 0&&(T.keyOfSelected=n[0].options.mimeTypes),o=new Pl({props:T}),ne.push(()=>pe(o,"keyOfSelected",$)),_=new Bi({props:{class:"dropdown dropdown-sm dropdown-nowrap dropdown-left",$$slots:{default:[AR]},$$scope:{ctx:n}}}),{c(){e=v("label"),t=v("span"),t.textContent="Allowed mime types",i=A(),s=v("i"),r=A(),V(o.$$.fragment),f=A(),u=v("div"),d=v("button"),h=v("span"),h.textContent="Choose presets",p=A(),g=v("i"),b=A(),V(_.$$.fragment),m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[22]),m(h,"class","txt link-primary"),m(g,"class","ri-arrow-drop-down-fill"),m(d,"type","button"),m(d,"class","inline-flex flex-gap-0"),m(u,"class","help-block")},m(P,M){S(P,e,M),O(e,t),O(e,i),O(e,s),S(P,r,M),X(o,P,M),S(P,f,M),S(P,u,M),O(u,d),O(d,h),O(d,p),O(d,g),O(d,b),X(_,d,null),y=!0,k||(C=Ae(Ye.call(null,s,{text:`Allow files ONLY with the listed mime types. 
 Leave empty for no restriction.`,position:"top"})),k=!0)},p(P,M){(!y||M&4194304&&l!==(l=P[22]))&&m(e,"for",l);const Q={};M&4194304&&(Q.id=P[22]),M&8&&(Q.items=P[3]),!a&&M&1&&(a=!0,Q.keyOfSelected=P[0].options.mimeTypes,ye(()=>a=!1)),o.$set(Q);const E={};M&16777217&&(E.$$scope={dirty:M,ctx:P}),_.$set(E)},i(P){y||(D(o.$$.fragment,P),D(_.$$.fragment,P),y=!0)},o(P){I(o.$$.fragment,P),I(_.$$.fragment,P),y=!1},d(P){P&&w(e),P&&w(r),q(o,P),P&&w(f),P&&w(u),q(_),k=!1,C()}}}function DR(n){let e;return{c(){e=v("ul"),e.innerHTML=`<li><strong>WxH</strong>
                                        (eg. 100x50) - crop to WxH viewbox (from center)</li> 
                                    <li><strong>WxHt</strong>
                                        (eg. 100x50t) - crop to WxH viewbox (from top)</li> 
                                    <li><strong>WxHb</strong>
                                        (eg. 100x50b) - crop to WxH viewbox (from bottom)</li> 
                                    <li><strong>WxHf</strong>
                                        (eg. 100x50f) - fit inside a WxH viewbox (without cropping)</li> 
                                    <li><strong>0xH</strong>
                                        (eg. 0x50) - resize to H height preserving the aspect ratio</li> 
                                    <li><strong>Wx0</strong>
                                        (eg. 100x0) - resize to W width preserving the aspect ratio</li>`,m(e,"class","m-0")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function ER(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T;function P(Q){n[13](Q)}let M={id:n[22],placeholder:"eg. 50x50, 480x720"};return n[0].options.thumbs!==void 0&&(M.value=n[0].options.thumbs),o=new oo({props:M}),ne.push(()=>pe(o,"value",P)),k=new Bi({props:{class:"dropdown dropdown-sm dropdown-center dropdown-nowrap p-r-10",$$slots:{default:[DR]},$$scope:{ctx:n}}}),{c(){e=v("label"),t=v("span"),t.textContent="Thumb sizes",i=A(),s=v("i"),r=A(),V(o.$$.fragment),f=A(),u=v("div"),d=v("span"),d.textContent="Use comma as separator.",h=A(),p=v("button"),g=v("span"),g.textContent="Supported formats",b=A(),_=v("i"),y=A(),V(k.$$.fragment),m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[22]),m(d,"class","txt"),m(g,"class","txt link-primary"),m(_,"class","ri-arrow-drop-down-fill"),m(p,"type","button"),m(p,"class","inline-flex flex-gap-0"),m(u,"class","help-block")},m(Q,E){S(Q,e,E),O(e,t),O(e,i),O(e,s),S(Q,r,E),X(o,Q,E),S(Q,f,E),S(Q,u,E),O(u,d),O(u,h),O(u,p),O(p,g),O(p,b),O(p,_),O(p,y),X(k,p,null),C=!0,$||(T=Ae(Ye.call(null,s,{text:"List of additional thumb sizes for image files, along with the default thumb size of 100x100. The thumbs are generated lazily on first access.",position:"top"})),$=!0)},p(Q,E){(!C||E&4194304&&l!==(l=Q[22]))&&m(e,"for",l);const R={};E&4194304&&(R.id=Q[22]),!a&&E&1&&(a=!0,R.value=Q[0].options.thumbs,ye(()=>a=!1)),o.$set(R);const L={};E&16777216&&(L.$$scope={dirty:E,ctx:Q}),k.$set(L)},i(Q){C||(D(o.$$.fragment,Q),D(k.$$.fragment,Q),C=!0)},o(Q){I(o.$$.fragment,Q),I(k.$$.fragment,Q),C=!1},d(Q){Q&&w(e),Q&&w(r),q(o,Q),Q&&w(f),Q&&w(u),q(k),$=!1,T()}}}function IR(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("label"),t=W("Max file size"),s=A(),l=v("input"),o=A(),a=v("div"),a.textContent="Must be in bytes.",m(e,"for",i=n[22]),m(l,"type","number"),m(l,"id",r=n[22]),m(l,"step","1"),m(l,"min","0"),m(a,"class","help-block")},m(d,h){S(d,e,h),O(e,t),S(d,s,h),S(d,l,h),fe(l,n[0].options.maxSize),S(d,o,h),S(d,a,h),f||(u=H(l,"input",n[14]),f=!0)},p(d,h){h&4194304&&i!==(i=d[22])&&m(e,"for",i),h&4194304&&r!==(r=d[22])&&m(l,"id",r),h&1&&Ct(l.value)!==d[0].options.maxSize&&fe(l,d[0].options.maxSize)},d(d){d&&w(e),d&&w(s),d&&w(l),d&&w(o),d&&w(a),f=!1,u()}}}function K1(n){let e,t,i;return t=new me({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[RR,({uniqueId:s})=>({22:s}),({uniqueId:s})=>s?4194304:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),V(t.$$.fragment),m(e,"class","col-sm-3")},m(s,l){S(s,e,l),X(t,e,null),i=!0},p(s,l){const r={};l&2&&(r.name="schema."+s[1]+".options.maxSelect"),l&20971521&&(r.$$scope={dirty:l,ctx:s}),t.$set(r)},i(s){i||(D(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&w(e),q(t)}}}function RR(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Max select"),s=A(),l=v("input"),m(e,"for",i=n[22]),m(l,"id",r=n[22]),m(l,"type","number"),m(l,"step","1"),m(l,"min","2"),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].options.maxSelect),o||(a=H(l,"input",n[15]),o=!0)},p(f,u){u&4194304&&i!==(i=f[22])&&m(e,"for",i),u&4194304&&r!==(r=f[22])&&m(l,"id",r),u&1&&Ct(l.value)!==f[0].options.maxSelect&&fe(l,f[0].options.maxSelect)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function LR(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;i=new me({props:{class:"form-field",name:"schema."+n[1]+".options.mimeTypes",$$slots:{default:[QR,({uniqueId:b})=>({22:b}),({uniqueId:b})=>b?4194304:0]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field",name:"schema."+n[1]+".options.thumbs",$$slots:{default:[ER,({uniqueId:b})=>({22:b}),({uniqueId:b})=>b?4194304:0]},$$scope:{ctx:n}}}),u=new me({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSize",$$slots:{default:[IR,({uniqueId:b})=>({22:b}),({uniqueId:b})=>b?4194304:0]},$$scope:{ctx:n}}});let g=!n[2]&&K1(n);return{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),V(r.$$.fragment),a=A(),f=v("div"),V(u.$$.fragment),h=A(),g&&g.c(),m(t,"class","col-sm-12"),m(l,"class",o=n[2]?"col-sm-8":"col-sm-6"),m(f,"class",d=n[2]?"col-sm-4":"col-sm-3"),m(e,"class","grid grid-sm")},m(b,_){S(b,e,_),O(e,t),X(i,t,null),O(e,s),O(e,l),X(r,l,null),O(e,a),O(e,f),X(u,f,null),O(e,h),g&&g.m(e,null),p=!0},p(b,_){const y={};_&2&&(y.name="schema."+b[1]+".options.mimeTypes"),_&20971529&&(y.$$scope={dirty:_,ctx:b}),i.$set(y);const k={};_&2&&(k.name="schema."+b[1]+".options.thumbs"),_&20971521&&(k.$$scope={dirty:_,ctx:b}),r.$set(k),(!p||_&4&&o!==(o=b[2]?"col-sm-8":"col-sm-6"))&&m(l,"class",o);const C={};_&2&&(C.name="schema."+b[1]+".options.maxSize"),_&20971521&&(C.$$scope={dirty:_,ctx:b}),u.$set(C),(!p||_&4&&d!==(d=b[2]?"col-sm-4":"col-sm-3"))&&m(f,"class",d),b[2]?g&&(ue(),I(g,1,1,()=>{g=null}),ce()):g?(g.p(b,_),_&4&&D(g,1)):(g=K1(b),g.c(),D(g,1),g.m(e,null))},i(b){p||(D(i.$$.fragment,b),D(r.$$.fragment,b),D(u.$$.fragment,b),D(g),p=!0)},o(b){I(i.$$.fragment,b),I(r.$$.fragment,b),I(u.$$.fragment,b),I(g),p=!1},d(b){b&&w(e),q(i),q(r),q(u),g&&g.d()}}}function NR(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("input"),i=A(),s=v("label"),l=v("span"),l.textContent="Protected",o=A(),a=v("a"),a.textContent="(Learn more)",m(e,"type","checkbox"),m(e,"id",t=n[22]),m(l,"class","txt"),m(s,"for",r=n[22]),m(a,"href","https://pocketbase.io/docs/files-handling/#protected-files"),m(a,"class","toggle-info txt-sm txt-hint m-l-5"),m(a,"target","_blank"),m(a,"rel","noopener")},m(d,h){S(d,e,h),e.checked=n[0].options.protected,S(d,i,h),S(d,s,h),O(s,l),S(d,o,h),S(d,a,h),f||(u=H(e,"change",n[7]),f=!0)},p(d,h){h&4194304&&t!==(t=d[22])&&m(e,"id",t),h&1&&(e.checked=d[0].options.protected),h&4194304&&r!==(r=d[22])&&m(s,"for",r)},d(d){d&&w(e),d&&w(i),d&&w(s),d&&w(o),d&&w(a),f=!1,u()}}}function xR(n){let e,t,i;return t=new me({props:{class:"form-field form-field-toggle m-0",name:"schema."+n[1]+".options.protected",$$slots:{default:[NR,({uniqueId:s})=>({22:s}),({uniqueId:s})=>s?4194304:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),V(t.$$.fragment),m(e,"class","col-sm-4")},m(s,l){S(s,e,l),X(t,e,null),i=!0},p(s,l){const r={};l&2&&(r.name="schema."+s[1]+".options.protected"),l&20971521&&(r.$$scope={dirty:l,ctx:s}),t.$set(r)},i(s){i||(D(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&w(e),q(t)}}}function ZR(n){let e,t,i;const s=[{key:n[1]},n[5]];function l(o){n[17](o)}let r={$$slots:{afterNonempty:[xR],options:[LR],default:[MR,({interactive:o})=>({23:o}),({interactive:o})=>o?8388608:0]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=je(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Qs({props:r}),ne.push(()=>pe(e,"field",l)),e.$on("rename",n[18]),e.$on("remove",n[19]),{c(){V(e.$$.fragment)},m(o,a){X(e,o,a),i=!0},p(o,[a]){const f=a&34?Bt(s,[a&2&&{key:o[1]},a&32&&Cn(o[5])]):{};a&25165839&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],ye(()=>t=!1)),e.$set(f)},i(o){i||(D(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){q(e,o)}}}function FR(n,e,t){var R;const i=["field","key"];let s=ft(e,i),{field:l}=e,{key:r=""}=e;const o=[{label:"Single",value:!0},{label:"Multiple",value:!1}];let a=TR.slice(),f=((R=l.options)==null?void 0:R.maxSelect)<=1,u=f;function d(){t(0,l.options={maxSelect:1,maxSize:5242880,thumbs:[],mimeTypes:[]},l),t(2,f=!0),t(6,u=f)}function h(){if(j.isEmpty(l.options.mimeTypes))return;const L=[];for(const N of l.options.mimeTypes)a.find(x=>x.mimeType===N)||L.push({mimeType:N});L.length&&t(3,a=a.concat(L))}function p(){l.options.protected=this.checked,t(0,l),t(6,u),t(2,f)}function g(L){n.$$.not_equal(l.options.mimeTypes,L)&&(l.options.mimeTypes=L,t(0,l),t(6,u),t(2,f))}const b=()=>{t(0,l.options.mimeTypes=["image/jpeg","image/png","image/svg+xml","image/gif","image/webp"],l)},_=()=>{t(0,l.options.mimeTypes=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],l)},y=()=>{t(0,l.options.mimeTypes=["video/mp4","video/x-ms-wmv","video/quicktime","video/3gpp"],l)},k=()=>{t(0,l.options.mimeTypes=["application/zip","application/x-7z-compressed","application/x-rar-compressed"],l)};function C(L){n.$$.not_equal(l.options.thumbs,L)&&(l.options.thumbs=L,t(0,l),t(6,u),t(2,f))}function $(){l.options.maxSize=Ct(this.value),t(0,l),t(6,u),t(2,f)}function T(){l.options.maxSelect=Ct(this.value),t(0,l),t(6,u),t(2,f)}function P(L){f=L,t(2,f)}function M(L){l=L,t(0,l),t(6,u),t(2,f)}function Q(L){Fe.call(this,n,L)}function E(L){Fe.call(this,n,L)}return n.$$set=L=>{e=je(je({},e),$n(L)),t(5,s=ft(e,i)),"field"in L&&t(0,l=L.field),"key"in L&&t(1,r=L.key)},n.$$.update=()=>{var L,N;n.$$.dirty&69&&u!=f&&(t(6,u=f),f?t(0,l.options.maxSelect=1,l):t(0,l.options.maxSelect=((N=(L=l.options)==null?void 0:L.values)==null?void 0:N.length)||99,l)),n.$$.dirty&1&&(j.isEmpty(l.options)?d():h())},[l,r,f,a,o,s,u,p,g,b,_,y,k,C,$,T,P,M,Q,E]}class XR extends ke{constructor(e){super(),ve(this,e,FR,ZR,be,{field:0,key:1})}}function qR(n){let e,t,i,s,l;return{c(){e=v("hr"),t=A(),i=v("button"),i.innerHTML=`<i class="ri-add-line"></i> 
                        <span class="txt">New collection</span>`,m(i,"type","button"),m(i,"class","btn btn-transparent btn-block btn-sm")},m(r,o){S(r,e,o),S(r,t,o),S(r,i,o),s||(l=H(i,"click",n[17]),s=!0)},p:ee,d(r){r&&w(e),r&&w(t),r&&w(i),s=!1,l()}}}function VR(n){let e,t,i;function s(r){n[18](r)}let l={id:n[29],searchable:n[3].length>5,selectPlaceholder:"Select collection *",noOptionsText:"No collections found",selectionKey:"id",items:n[3],readonly:!n[30]||n[0].id,$$slots:{afterOptions:[qR]},$$scope:{ctx:n}};return n[0].options.collectionId!==void 0&&(l.keyOfSelected=n[0].options.collectionId),e=new Pl({props:l}),ne.push(()=>pe(e,"keyOfSelected",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};o[0]&536870912&&(a.id=r[29]),o[0]&8&&(a.searchable=r[3].length>5),o[0]&8&&(a.items=r[3]),o[0]&1073741825&&(a.readonly=!r[30]||r[0].id),o[0]&16|o[1]&1&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.keyOfSelected=r[0].options.collectionId,ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function jR(n){let e,t,i;function s(r){n[19](r)}let l={id:n[29],items:n[8],readonly:!n[30]};return n[2]!==void 0&&(l.keyOfSelected=n[2]),e=new Pl({props:l}),ne.push(()=>pe(e,"keyOfSelected",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};o[0]&536870912&&(a.id=r[29]),o[0]&1073741824&&(a.readonly=!r[30]),!t&&o[0]&4&&(t=!0,a.keyOfSelected=r[2],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function UR(n){let e,t,i,s,l,r,o,a,f,u;return i=new me({props:{class:"form-field required "+(n[30]?"":"readonly"),inlineError:!0,name:"schema."+n[1]+".options.collectionId",$$slots:{default:[VR,({uniqueId:d})=>({29:d}),({uniqueId:d})=>[d?536870912:0]]},$$scope:{ctx:n}}}),o=new me({props:{class:"form-field form-field-single-multiple-select "+(n[30]?"":"readonly"),inlineError:!0,$$slots:{default:[jR,({uniqueId:d})=>({29:d}),({uniqueId:d})=>[d?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=A(),V(i.$$.fragment),s=A(),l=v("div"),r=A(),V(o.$$.fragment),a=A(),f=v("div"),m(e,"class","separator"),m(l,"class","separator"),m(f,"class","separator")},m(d,h){S(d,e,h),S(d,t,h),X(i,d,h),S(d,s,h),S(d,l,h),S(d,r,h),X(o,d,h),S(d,a,h),S(d,f,h),u=!0},p(d,h){const p={};h[0]&1073741824&&(p.class="form-field required "+(d[30]?"":"readonly")),h[0]&2&&(p.name="schema."+d[1]+".options.collectionId"),h[0]&1610612761|h[1]&1&&(p.$$scope={dirty:h,ctx:d}),i.$set(p);const g={};h[0]&1073741824&&(g.class="form-field form-field-single-multiple-select "+(d[30]?"":"readonly")),h[0]&1610612740|h[1]&1&&(g.$$scope={dirty:h,ctx:d}),o.$set(g)},i(d){u||(D(i.$$.fragment,d),D(o.$$.fragment,d),u=!0)},o(d){I(i.$$.fragment,d),I(o.$$.fragment,d),u=!1},d(d){d&&w(e),d&&w(t),q(i,d),d&&w(s),d&&w(l),d&&w(r),q(o,d),d&&w(a),d&&w(f)}}}function J1(n){let e,t,i,s,l,r;return t=new me({props:{class:"form-field",name:"schema."+n[1]+".options.minSelect",$$slots:{default:[WR,({uniqueId:o})=>({29:o}),({uniqueId:o})=>[o?536870912:0]]},$$scope:{ctx:n}}}),l=new me({props:{class:"form-field",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[zR,({uniqueId:o})=>({29:o}),({uniqueId:o})=>[o?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=v("div"),V(t.$$.fragment),i=A(),s=v("div"),V(l.$$.fragment),m(e,"class","col-sm-6"),m(s,"class","col-sm-6")},m(o,a){S(o,e,a),X(t,e,null),S(o,i,a),S(o,s,a),X(l,s,null),r=!0},p(o,a){const f={};a[0]&2&&(f.name="schema."+o[1]+".options.minSelect"),a[0]&536870913|a[1]&1&&(f.$$scope={dirty:a,ctx:o}),t.$set(f);const u={};a[0]&2&&(u.name="schema."+o[1]+".options.maxSelect"),a[0]&536870913|a[1]&1&&(u.$$scope={dirty:a,ctx:o}),l.$set(u)},i(o){r||(D(t.$$.fragment,o),D(l.$$.fragment,o),r=!0)},o(o){I(t.$$.fragment,o),I(l.$$.fragment,o),r=!1},d(o){o&&w(e),q(t),o&&w(i),o&&w(s),q(l)}}}function WR(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Min select"),s=A(),l=v("input"),m(e,"for",i=n[29]),m(l,"type","number"),m(l,"id",r=n[29]),m(l,"step","1"),m(l,"min","1"),m(l,"placeholder","No min limit")},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].options.minSelect),o||(a=H(l,"input",n[13]),o=!0)},p(f,u){u[0]&536870912&&i!==(i=f[29])&&m(e,"for",i),u[0]&536870912&&r!==(r=f[29])&&m(l,"id",r),u[0]&1&&Ct(l.value)!==f[0].options.minSelect&&fe(l,f[0].options.minSelect)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function zR(n){let e,t,i,s,l,r,o,a,f;return{c(){e=v("label"),t=W("Max select"),s=A(),l=v("input"),m(e,"for",i=n[29]),m(l,"type","number"),m(l,"id",r=n[29]),m(l,"step","1"),m(l,"placeholder","No max limit"),m(l,"min",o=n[0].options.minSelect||2)},m(u,d){S(u,e,d),O(e,t),S(u,s,d),S(u,l,d),fe(l,n[0].options.maxSelect),a||(f=H(l,"input",n[14]),a=!0)},p(u,d){d[0]&536870912&&i!==(i=u[29])&&m(e,"for",i),d[0]&536870912&&r!==(r=u[29])&&m(l,"id",r),d[0]&1&&o!==(o=u[0].options.minSelect||2)&&m(l,"min",o),d[0]&1&&Ct(l.value)!==u[0].options.maxSelect&&fe(l,u[0].options.maxSelect)},d(u){u&&w(e),u&&w(s),u&&w(l),a=!1,f()}}}function BR(n){let e,t,i,s,l,r,o,a,f,u,d;function h(g){n[15](g)}let p={multiple:!0,searchable:!0,id:n[29],selectPlaceholder:"Auto",items:n[5]};return n[0].options.displayFields!==void 0&&(p.selected=n[0].options.displayFields),o=new tm({props:p}),ne.push(()=>pe(o,"selected",h)),{c(){e=v("label"),t=v("span"),t.textContent="Display fields",i=A(),s=v("i"),r=A(),V(o.$$.fragment),m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[29])},m(g,b){S(g,e,b),O(e,t),O(e,i),O(e,s),S(g,r,b),X(o,g,b),f=!0,u||(d=Ae(Ye.call(null,s,{text:"Optionally select the field(s) that will be used in the listings UI. Leave empty for auto.",position:"top"})),u=!0)},p(g,b){(!f||b[0]&536870912&&l!==(l=g[29]))&&m(e,"for",l);const _={};b[0]&536870912&&(_.id=g[29]),b[0]&32&&(_.items=g[5]),!a&&b[0]&1&&(a=!0,_.selected=g[0].options.displayFields,ye(()=>a=!1)),o.$set(_)},i(g){f||(D(o.$$.fragment,g),f=!0)},o(g){I(o.$$.fragment,g),f=!1},d(g){g&&w(e),g&&w(r),q(o,g),u=!1,d()}}}function YR(n){let e,t,i,s,l,r,o,a,f,u,d,h;function p(b){n[16](b)}let g={id:n[29],items:n[9]};return n[0].options.cascadeDelete!==void 0&&(g.keyOfSelected=n[0].options.cascadeDelete),a=new Pl({props:g}),ne.push(()=>pe(a,"keyOfSelected",p)),{c(){e=v("label"),t=v("span"),t.textContent="Cascade delete",i=A(),s=v("i"),o=A(),V(a.$$.fragment),m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",r=n[29])},m(b,_){var y,k;S(b,e,_),O(e,t),O(e,i),O(e,s),S(b,o,_),X(a,b,_),u=!0,d||(h=Ae(l=Ye.call(null,s,{text:`Whether on ${((y=n[6])==null?void 0:y.name)||"relation"} record deletion to delete also the ${((k=n[7])==null?void 0:k.name)||"field"} associated records.`,position:"top"})),d=!0)},p(b,_){var k,C;l&&fn(l.update)&&_[0]&192&&l.update.call(null,{text:`Whether on ${((k=b[6])==null?void 0:k.name)||"relation"} record deletion to delete also the ${((C=b[7])==null?void 0:C.name)||"field"} associated records.`,position:"top"}),(!u||_[0]&536870912&&r!==(r=b[29]))&&m(e,"for",r);const y={};_[0]&536870912&&(y.id=b[29]),!f&&_[0]&1&&(f=!0,y.keyOfSelected=b[0].options.cascadeDelete,ye(()=>f=!1)),a.$set(y)},i(b){u||(D(a.$$.fragment,b),u=!0)},o(b){I(a.$$.fragment,b),u=!1},d(b){b&&w(e),b&&w(o),q(a,b),d=!1,h()}}}function HR(n){let e,t,i,s,l,r,o,a,f=!n[2]&&J1(n);return s=new me({props:{class:"form-field",name:"schema."+n[1]+".options.displayFields",$$slots:{default:[BR,({uniqueId:u})=>({29:u}),({uniqueId:u})=>[u?536870912:0]]},$$scope:{ctx:n}}}),o=new me({props:{class:"form-field",name:"schema."+n[1]+".options.cascadeDelete",$$slots:{default:[YR,({uniqueId:u})=>({29:u}),({uniqueId:u})=>[u?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=v("div"),f&&f.c(),t=A(),i=v("div"),V(s.$$.fragment),l=A(),r=v("div"),V(o.$$.fragment),m(i,"class","col-sm-6"),m(r,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(u,d){S(u,e,d),f&&f.m(e,null),O(e,t),O(e,i),X(s,i,null),O(e,l),O(e,r),X(o,r,null),a=!0},p(u,d){u[2]?f&&(ue(),I(f,1,1,()=>{f=null}),ce()):f?(f.p(u,d),d[0]&4&&D(f,1)):(f=J1(u),f.c(),D(f,1),f.m(e,t));const h={};d[0]&2&&(h.name="schema."+u[1]+".options.displayFields"),d[0]&536870945|d[1]&1&&(h.$$scope={dirty:d,ctx:u}),s.$set(h);const p={};d[0]&2&&(p.name="schema."+u[1]+".options.cascadeDelete"),d[0]&536871105|d[1]&1&&(p.$$scope={dirty:d,ctx:u}),o.$set(p)},i(u){a||(D(f),D(s.$$.fragment,u),D(o.$$.fragment,u),a=!0)},o(u){I(f),I(s.$$.fragment,u),I(o.$$.fragment,u),a=!1},d(u){u&&w(e),f&&f.d(),q(s),q(o)}}}function GR(n){let e,t,i,s,l;const r=[{key:n[1]},n[10]];function o(u){n[20](u)}let a={$$slots:{options:[HR],default:[UR,({interactive:u})=>({30:u}),({interactive:u})=>[u?1073741824:0]]},$$scope:{ctx:n}};for(let u=0;u<r.length;u+=1)a=je(a,r[u]);n[0]!==void 0&&(a.field=n[0]),e=new Qs({props:a}),ne.push(()=>pe(e,"field",o)),e.$on("rename",n[21]),e.$on("remove",n[22]);let f={};return s=new nm({props:f}),n[23](s),s.$on("save",n[24]),{c(){V(e.$$.fragment),i=A(),V(s.$$.fragment)},m(u,d){X(e,u,d),S(u,i,d),X(s,u,d),l=!0},p(u,d){const h=d[0]&1026?Bt(r,[d[0]&2&&{key:u[1]},d[0]&1024&&Cn(u[10])]):{};d[0]&1073742079|d[1]&1&&(h.$$scope={dirty:d,ctx:u}),!t&&d[0]&1&&(t=!0,h.field=u[0],ye(()=>t=!1)),e.$set(h);const p={};s.$set(p)},i(u){l||(D(e.$$.fragment,u),D(s.$$.fragment,u),l=!0)},o(u){I(e.$$.fragment,u),I(s.$$.fragment,u),l=!1},d(u){q(e,u),u&&w(i),n[23](null),q(s,u)}}}function KR(n,e,t){var G;let i;const s=["field","key"];let l=ft(e,s),r,o;et(n,As,z=>t(3,r=z)),et(n,Ps,z=>t(7,o=z));let{field:a}=e,{key:f=""}=e;const u=[{label:"Single",value:!0},{label:"Multiple",value:!1}],d=[{label:"False",value:!1},{label:"True",value:!0}],h=["id","created","updated"],p=["username","email","emailVisibility","verified"];let g=null,b=[],_=null,y=((G=a.options)==null?void 0:G.maxSelect)==1,k=y;function C(){t(0,a.options={maxSelect:1,collectionId:null,cascadeDelete:!1,displayFields:[]},a),t(2,y=!0),t(12,k=y)}function $(){var z,B;if(t(5,b=h.slice(0)),!!i){i.isAuth&&t(5,b=b.concat(p));for(const le of i.schema)b.push(le.name);if(((B=(z=a.options)==null?void 0:z.displayFields)==null?void 0:B.length)>0)for(let le=a.options.displayFields.length-1;le>=0;le--)b.includes(a.options.displayFields[le])||a.options.displayFields.splice(le,1)}}function T(){a.options.minSelect=Ct(this.value),t(0,a),t(12,k),t(2,y)}function P(){a.options.maxSelect=Ct(this.value),t(0,a),t(12,k),t(2,y)}function M(z){n.$$.not_equal(a.options.displayFields,z)&&(a.options.displayFields=z,t(0,a),t(12,k),t(2,y))}function Q(z){n.$$.not_equal(a.options.cascadeDelete,z)&&(a.options.cascadeDelete=z,t(0,a),t(12,k),t(2,y))}const E=()=>g==null?void 0:g.show();function R(z){n.$$.not_equal(a.options.collectionId,z)&&(a.options.collectionId=z,t(0,a),t(12,k),t(2,y))}function L(z){y=z,t(2,y)}function N(z){a=z,t(0,a),t(12,k),t(2,y)}function x(z){Fe.call(this,n,z)}function Z(z){Fe.call(this,n,z)}function F(z){ne[z?"unshift":"push"](()=>{g=z,t(4,g)})}const U=z=>{var B,le;(le=(B=z==null?void 0:z.detail)==null?void 0:B.collection)!=null&&le.id&&t(0,a.options.collectionId=z.detail.collection.id,a)};return n.$$set=z=>{e=je(je({},e),$n(z)),t(10,l=ft(e,s)),"field"in z&&t(0,a=z.field),"key"in z&&t(1,f=z.key)},n.$$.update=()=>{n.$$.dirty[0]&4100&&k!=y&&(t(12,k=y),y?(t(0,a.options.minSelect=null,a),t(0,a.options.maxSelect=1,a)):t(0,a.options.maxSelect=null,a)),n.$$.dirty[0]&1&&j.isEmpty(a.options)&&C(),n.$$.dirty[0]&9&&t(6,i=r.find(z=>z.id==a.options.collectionId)||null),n.$$.dirty[0]&2049&&_!=a.options.collectionId&&(t(11,_=a.options.collectionId),$())},[a,f,y,r,g,b,i,o,u,d,l,_,k,T,P,M,Q,E,R,L,N,x,Z,F,U]}class JR extends ke{constructor(e){super(),ve(this,e,KR,GR,be,{field:0,key:1},null,[-1,-1])}}const eL=n=>({dragging:n&4,dragover:n&8}),eb=n=>({dragging:n[2],dragover:n[3]});function tL(n){let e,t,i,s,l;const r=n[10].default,o=xt(r,n,n[9],eb);return{c(){e=v("div"),o&&o.c(),m(e,"draggable",t=!n[1]),m(e,"class","draggable svelte-28orm4"),J(e,"dragging",n[2]),J(e,"dragover",n[3])},m(a,f){S(a,e,f),o&&o.m(e,null),i=!0,s||(l=[H(e,"dragover",ut(n[11])),H(e,"dragleave",ut(n[12])),H(e,"dragend",n[13]),H(e,"dragstart",n[14]),H(e,"drop",n[15])],s=!0)},p(a,[f]){o&&o.p&&(!i||f&524)&&Ft(o,r,a,a[9],i?Zt(r,a[9],f,eL):Xt(a[9]),eb),(!i||f&2&&t!==(t=!a[1]))&&m(e,"draggable",t),(!i||f&4)&&J(e,"dragging",a[2]),(!i||f&8)&&J(e,"dragover",a[3])},i(a){i||(D(o,a),i=!0)},o(a){I(o,a),i=!1},d(a){a&&w(e),o&&o.d(a),s=!1,Qe(l)}}}function nL(n,e,t){let{$$slots:i={},$$scope:s}=e;const l=Lt();let{index:r}=e,{list:o=[]}=e,{group:a="default"}=e,{disabled:f=!1}=e,{dragHandleClass:u=""}=e,d=!1,h=!1;function p($,T){if(!(!$||f)){if(u&&!$.target.classList.contains(u)){t(3,h=!1),t(2,d=!1),$.preventDefault();return}t(2,d=!0),$.dataTransfer.effectAllowed="move",$.dataTransfer.dropEffect="move",$.dataTransfer.setData("text/plain",JSON.stringify({index:T,group:a})),l("drag",$)}}function g($,T){if(t(3,h=!1),t(2,d=!1),!$||f)return;$.dataTransfer.dropEffect="move";let P={};try{P=JSON.parse($.dataTransfer.getData("text/plain"))}catch{}if(P.group!=a)return;const M=P.index<<0;M<T?(o.splice(T+1,0,o[M]),o.splice(M,1)):(o.splice(T,0,o[M]),o.splice(M+1,1)),t(6,o),l("sort",{oldIndex:M,newIndex:T,list:o})}const b=()=>{t(3,h=!0)},_=()=>{t(3,h=!1)},y=()=>{t(3,h=!1),t(2,d=!1)},k=$=>p($,r),C=$=>g($,r);return n.$$set=$=>{"index"in $&&t(0,r=$.index),"list"in $&&t(6,o=$.list),"group"in $&&t(7,a=$.group),"disabled"in $&&t(1,f=$.disabled),"dragHandleClass"in $&&t(8,u=$.dragHandleClass),"$$scope"in $&&t(9,s=$.$$scope)},[r,f,d,h,p,g,o,a,u,s,i,b,_,y,k,C]}class La extends ke{constructor(e){super(),ve(this,e,nL,tL,be,{index:0,list:6,group:7,disabled:1,dragHandleClass:8})}}function tb(n,e,t){const i=n.slice();return i[17]=e[t],i[18]=e,i[19]=t,i}function nb(n){let e,t,i,s,l,r,o,a;return{c(){e=W(`,
            `),t=v("code"),t.textContent="username",i=W(` ,
            `),s=v("code"),s.textContent="email",l=W(` ,
            `),r=v("code"),r.textContent="emailVisibility",o=W(` ,
            `),a=v("code"),a.textContent="verified",m(t,"class","txt-sm"),m(s,"class","txt-sm"),m(r,"class","txt-sm"),m(a,"class","txt-sm")},m(f,u){S(f,e,u),S(f,t,u),S(f,i,u),S(f,s,u),S(f,l,u),S(f,r,u),S(f,o,u),S(f,a,u)},d(f){f&&w(e),f&&w(t),f&&w(i),f&&w(s),f&&w(l),f&&w(r),f&&w(o),f&&w(a)}}}function iL(n){let e,t,i,s;function l(f){n[6](f,n[17],n[18],n[19])}function r(){return n[7](n[19])}var o=n[1][n[17].type];function a(f){let u={key:f[4](f[17])};return f[17]!==void 0&&(u.field=f[17]),{props:u}}return o&&(e=on(o,a(n)),ne.push(()=>pe(e,"field",l)),e.$on("remove",r),e.$on("rename",n[8])),{c(){e&&V(e.$$.fragment),i=A()},m(f,u){e&&X(e,f,u),S(f,i,u),s=!0},p(f,u){n=f;const d={};if(u&1&&(d.key=n[4](n[17])),!t&&u&1&&(t=!0,d.field=n[17],ye(()=>t=!1)),u&1&&o!==(o=n[1][n[17].type])){if(e){ue();const h=e;I(h.$$.fragment,1,0,()=>{q(h,1)}),ce()}o?(e=on(o,a(n)),ne.push(()=>pe(e,"field",l)),e.$on("remove",r),e.$on("rename",n[8]),V(e.$$.fragment),D(e.$$.fragment,1),X(e,i.parentNode,i)):e=null}else o&&e.$set(d)},i(f){s||(e&&D(e.$$.fragment,f),s=!0)},o(f){e&&I(e.$$.fragment,f),s=!1},d(f){e&&q(e,f),f&&w(i)}}}function ib(n,e){let t,i,s,l;function r(a){e[9](a)}let o={index:e[19],disabled:e[17].toDelete||e[17].id&&e[17].system,dragHandleClass:"drag-handle-wrapper",$$slots:{default:[iL]},$$scope:{ctx:e}};return e[0].schema!==void 0&&(o.list=e[0].schema),i=new La({props:o}),ne.push(()=>pe(i,"list",r)),i.$on("drag",e[10]),i.$on("sort",e[11]),{key:n,first:null,c(){t=Se(),V(i.$$.fragment),this.first=t},m(a,f){S(a,t,f),X(i,a,f),l=!0},p(a,f){e=a;const u={};f&1&&(u.index=e[19]),f&1&&(u.disabled=e[17].toDelete||e[17].id&&e[17].system),f&1048577&&(u.$$scope={dirty:f,ctx:e}),!s&&f&1&&(s=!0,u.list=e[0].schema,ye(()=>s=!1)),i.$set(u)},i(a){l||(D(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&w(t),q(i,a)}}}function sL(n){let e,t,i,s,l,r,o,a,f,u,d,h,p=[],g=new Map,b,_,y,k,C,$,T,P,M=n[0].$isAuth&&nb(),Q=n[0].schema;const E=N=>N[17];for(let N=0;N<Q.length;N+=1){let x=tb(n,Q,N),Z=E(x);g.set(Z,p[N]=ib(Z,x))}_=new U6({props:{class:"btn btn-block btn-outline"}}),_.$on("select",n[12]);function R(N){n[13](N)}let L={};return n[0]!==void 0&&(L.collection=n[0]),$=new X6({props:L}),ne.push(()=>pe($,"collection",R)),{c(){e=v("div"),t=v("p"),i=W(`System fields:
        `),s=v("code"),s.textContent="id",l=W(` ,
        `),r=v("code"),r.textContent="created",o=W(` ,
        `),a=v("code"),a.textContent="updated",f=A(),M&&M.c(),u=W(`
        .`),d=A(),h=v("div");for(let N=0;N<p.length;N+=1)p[N].c();b=A(),V(_.$$.fragment),y=A(),k=v("hr"),C=A(),V($.$$.fragment),m(s,"class","txt-sm"),m(r,"class","txt-sm"),m(a,"class","txt-sm"),m(t,"class","txt-sm"),m(e,"class","block m-b-25"),m(h,"class","schema-fields")},m(N,x){S(N,e,x),O(e,t),O(t,i),O(t,s),O(t,l),O(t,r),O(t,o),O(t,a),O(t,f),M&&M.m(t,null),O(t,u),S(N,d,x),S(N,h,x);for(let Z=0;Z<p.length;Z+=1)p[Z]&&p[Z].m(h,null);S(N,b,x),X(_,N,x),S(N,y,x),S(N,k,x),S(N,C,x),X($,N,x),P=!0},p(N,[x]){N[0].$isAuth?M||(M=nb(),M.c(),M.m(t,u)):M&&(M.d(1),M=null),x&55&&(Q=N[0].schema,ue(),p=It(p,x,E,1,N,Q,g,h,hn,ib,null,tb),ce());const Z={};!T&&x&1&&(T=!0,Z.collection=N[0],ye(()=>T=!1)),$.$set(Z)},i(N){if(!P){for(let x=0;x<Q.length;x+=1)D(p[x]);D(_.$$.fragment,N),D($.$$.fragment,N),P=!0}},o(N){for(let x=0;x<p.length;x+=1)I(p[x]);I(_.$$.fragment,N),I($.$$.fragment,N),P=!1},d(N){N&&w(e),M&&M.d(),N&&w(d),N&&w(h);for(let x=0;x<p.length;x+=1)p[x].d();N&&w(b),q(_,N),N&&w(y),N&&w(k),N&&w(C),q($,N)}}}function lL(n,e,t){let i,{collection:s=new ci}=e;const l={text:uI,number:gI,bool:OI,email:GS,url:MI,editor:DI,date:BI,select:_R,json:SR,file:XR,relation:JR};function r($){s.schema[$]&&(s.schema.splice($,1),t(0,s))}function o($="text"){const T=new di({name:a(),type:$});T.onMountSelect=!0,s.schema.push(T),t(0,s)}function a($="field"){let T="";for(;f($+T);)++T;return $+T}function f($){return!!s.schema.find(T=>T.name===$)}function u($){return i.findIndex(T=>T===$)}function d($,T){var P;!((P=s==null?void 0:s.schema)!=null&&P.length)||$===T||!T||t(0,s.indexes=s.indexes.map(M=>j.replaceIndexColumn(M,$,T)),s)}function h($,T,P,M){P[M]=$,t(0,s)}const p=$=>r($),g=$=>d($.detail.oldName,$.detail.newName);function b($){n.$$.not_equal(s.schema,$)&&(s.schema=$,t(0,s))}const _=$=>{if(!$.detail)return;const T=$.detail.target;T.style.opacity=0,setTimeout(()=>{var P;(P=T==null?void 0:T.style)==null||P.removeProperty("opacity")},0),$.detail.dataTransfer.setDragImage(T,0,0)},y=()=>{Mn({})},k=$=>o($.detail);function C($){s=$,t(0,s)}return n.$$set=$=>{"collection"in $&&t(0,s=$.collection)},n.$$.update=()=>{n.$$.dirty&1&&typeof s.schema>"u"&&(t(0,s=s||new ci),t(0,s.schema=[],s)),n.$$.dirty&1&&(i=s.schema.filter($=>!$.toDelete)||[])},[s,l,r,o,u,d,h,p,g,b,_,y,k,C]}class rL extends ke{constructor(e){super(),ve(this,e,lL,sL,be,{collection:0})}}const oL=n=>({isAdminOnly:n&512}),sb=n=>({isAdminOnly:n[9]}),aL=n=>({isAdminOnly:n&512}),lb=n=>({isAdminOnly:n[9]}),fL=n=>({isAdminOnly:n&512}),rb=n=>({isAdminOnly:n[9]});function uL(n){let e,t;return e=new me({props:{class:"form-field rule-field "+(n[4]?"requied":"")+" "+(n[9]?"disabled":""),name:n[3],$$slots:{default:[dL,({uniqueId:i})=>({18:i}),({uniqueId:i})=>i?262144:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&528&&(l.class="form-field rule-field "+(i[4]?"requied":"")+" "+(i[9]?"disabled":"")),s&8&&(l.name=i[3]),s&295655&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function cL(n){let e;return{c(){e=v("div"),e.innerHTML='<span class="loader"></span>',m(e,"class","txt-center")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function ob(n){let e,t,i;return{c(){e=v("button"),e.innerHTML=`<i class="ri-lock-line"></i> 
                        <span class="txt">Set Admins only</span>`,m(e,"type","button"),m(e,"class","btn btn-sm btn-transparent btn-hint lock-toggle svelte-1akuazq")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[11]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function ab(n){let e,t,i,s,l;return{c(){e=v("button"),e.innerHTML=`<small class="txt svelte-1akuazq">Unlock and set custom rule</small> 
                    <div class="icon svelte-1akuazq"><i class="ri-lock-unlock-line svelte-1akuazq"></i></div>`,m(e,"type","button"),m(e,"class","unlock-overlay svelte-1akuazq"),m(e,"aria-label","Unlock and set custom rule")},m(r,o){S(r,e,o),i=!0,s||(l=H(e,"click",n[10]),s=!0)},p:ee,i(r){i||(r&&at(()=>{i&&(t||(t=Ue(e,_n,{duration:150,start:.98},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=Ue(e,_n,{duration:150,start:.98},!1)),t.run(0)),i=!1},d(r){r&&w(e),r&&t&&t.end(),s=!1,l()}}}function dL(n){let e,t,i,s,l,r,o=n[9]?"- Admins only":"",a,f,u,d,h,p,g,b,_,y,k;const C=n[12].beforeLabel,$=xt(C,n,n[15],rb),T=n[12].afterLabel,P=xt(T,n,n[15],lb);let M=!n[9]&&ob(n);function Q(Z){n[14](Z)}var E=n[7];function R(Z){let F={id:Z[18],baseCollection:Z[1],disabled:Z[9],placeholder:Z[9]?"":Z[5]};return Z[0]!==void 0&&(F.value=Z[0]),{props:F}}E&&(p=on(E,R(n)),n[13](p),ne.push(()=>pe(p,"value",Q)));let L=n[9]&&ab(n);const N=n[12].default,x=xt(N,n,n[15],sb);return{c(){e=v("div"),t=v("label"),$&&$.c(),i=A(),s=v("span"),l=W(n[2]),r=A(),a=W(o),f=A(),P&&P.c(),u=A(),M&&M.c(),h=A(),p&&V(p.$$.fragment),b=A(),L&&L.c(),_=A(),y=v("div"),x&&x.c(),m(s,"class","txt"),J(s,"txt-hint",n[9]),m(t,"for",d=n[18]),m(e,"class","input-wrapper svelte-1akuazq"),m(y,"class","help-block")},m(Z,F){S(Z,e,F),O(e,t),$&&$.m(t,null),O(t,i),O(t,s),O(s,l),O(s,r),O(s,a),O(t,f),P&&P.m(t,null),O(t,u),M&&M.m(t,null),O(e,h),p&&X(p,e,null),O(e,b),L&&L.m(e,null),S(Z,_,F),S(Z,y,F),x&&x.m(y,null),k=!0},p(Z,F){$&&$.p&&(!k||F&33280)&&Ft($,C,Z,Z[15],k?Zt(C,Z[15],F,fL):Xt(Z[15]),rb),(!k||F&4)&&re(l,Z[2]),(!k||F&512)&&o!==(o=Z[9]?"- Admins only":"")&&re(a,o),(!k||F&512)&&J(s,"txt-hint",Z[9]),P&&P.p&&(!k||F&33280)&&Ft(P,T,Z,Z[15],k?Zt(T,Z[15],F,aL):Xt(Z[15]),lb),Z[9]?M&&(M.d(1),M=null):M?M.p(Z,F):(M=ob(Z),M.c(),M.m(t,null)),(!k||F&262144&&d!==(d=Z[18]))&&m(t,"for",d);const U={};if(F&262144&&(U.id=Z[18]),F&2&&(U.baseCollection=Z[1]),F&512&&(U.disabled=Z[9]),F&544&&(U.placeholder=Z[9]?"":Z[5]),!g&&F&1&&(g=!0,U.value=Z[0],ye(()=>g=!1)),F&128&&E!==(E=Z[7])){if(p){ue();const G=p;I(G.$$.fragment,1,0,()=>{q(G,1)}),ce()}E?(p=on(E,R(Z)),Z[13](p),ne.push(()=>pe(p,"value",Q)),V(p.$$.fragment),D(p.$$.fragment,1),X(p,e,b)):p=null}else E&&p.$set(U);Z[9]?L?(L.p(Z,F),F&512&&D(L,1)):(L=ab(Z),L.c(),D(L,1),L.m(e,null)):L&&(ue(),I(L,1,1,()=>{L=null}),ce()),x&&x.p&&(!k||F&33280)&&Ft(x,N,Z,Z[15],k?Zt(N,Z[15],F,oL):Xt(Z[15]),sb)},i(Z){k||(D($,Z),D(P,Z),p&&D(p.$$.fragment,Z),D(L),D(x,Z),k=!0)},o(Z){I($,Z),I(P,Z),p&&I(p.$$.fragment,Z),I(L),I(x,Z),k=!1},d(Z){Z&&w(e),$&&$.d(Z),P&&P.d(Z),M&&M.d(),n[13](null),p&&q(p),L&&L.d(),Z&&w(_),Z&&w(y),x&&x.d(Z)}}}function hL(n){let e,t,i,s;const l=[cL,uL],r=[];function o(a,f){return a[8]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Se()},m(a,f){r[e].m(a,f),S(a,i,f),s=!0},p(a,[f]){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),D(t,1),t.m(i.parentNode,i))},i(a){s||(D(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&w(i)}}}let fb;function pL(n,e,t){let i,{$$slots:s={},$$scope:l}=e,{collection:r=null}=e,{rule:o=null}=e,{label:a="Rule"}=e,{formKey:f="rule"}=e,{required:u=!1}=e,{placeholder:d="Leave empty to grant everyone access..."}=e,h=null,p=null,g=fb,b=!1;_();async function _(){g||b||(t(8,b=!0),t(7,g=(await _t(()=>import("./FilterAutocompleteInput-21c03872.js"),[],import.meta.url)).default),fb=g,t(8,b=!1))}async function y(){t(0,o=p||""),await Bn(),h==null||h.focus()}async function k(){p=o,t(0,o=null)}function C(T){ne[T?"unshift":"push"](()=>{h=T,t(6,h)})}function $(T){o=T,t(0,o)}return n.$$set=T=>{"collection"in T&&t(1,r=T.collection),"rule"in T&&t(0,o=T.rule),"label"in T&&t(2,a=T.label),"formKey"in T&&t(3,f=T.formKey),"required"in T&&t(4,u=T.required),"placeholder"in T&&t(5,d=T.placeholder),"$$scope"in T&&t(15,l=T.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&t(9,i=o===null)},[o,r,a,f,u,d,h,g,b,i,y,k,s,C,$,l]}class Er extends ke{constructor(e){super(),ve(this,e,pL,hL,be,{collection:1,rule:0,label:2,formKey:3,required:4,placeholder:5})}}function ub(n,e,t){const i=n.slice();return i[11]=e[t],i}function cb(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P,M,Q,E=n[2],R=[];for(let L=0;L<E.length;L+=1)R[L]=db(ub(n,E,L));return{c(){e=v("div"),t=v("div"),i=v("div"),s=v("p"),s.textContent="The following record fields are available:",l=A(),r=v("div");for(let L=0;L<R.length;L+=1)R[L].c();o=A(),a=v("hr"),f=A(),u=v("p"),u.innerHTML="The request fields could be accessed with the special <em>@request</em> filter:",d=A(),h=v("div"),h.innerHTML=`<code>@request.headers.*</code> 
                        <code>@request.query.*</code> 
                        <code>@request.data.*</code> 
                        <code>@request.auth.*</code>`,p=A(),g=v("hr"),b=A(),_=v("p"),_.innerHTML="You could also add constraints and query other collections using the <em>@collection</em> filter:",y=A(),k=v("div"),k.innerHTML="<code>@collection.ANY_COLLECTION_NAME.*</code>",C=A(),$=v("hr"),T=A(),P=v("p"),P.innerHTML=`Example rule:
                        <br/> 
                        <code>@request.auth.id != &quot;&quot; &amp;&amp; created &gt; &quot;2022-01-01 00:00:00&quot;</code>`,m(s,"class","m-b-0"),m(r,"class","inline-flex flex-gap-5"),m(a,"class","m-t-10 m-b-5"),m(u,"class","m-b-0"),m(h,"class","inline-flex flex-gap-5"),m(g,"class","m-t-10 m-b-5"),m(_,"class","m-b-0"),m(k,"class","inline-flex flex-gap-5"),m($,"class","m-t-10 m-b-5"),m(i,"class","content"),m(t,"class","alert alert-warning m-0")},m(L,N){S(L,e,N),O(e,t),O(t,i),O(i,s),O(i,l),O(i,r);for(let x=0;x<R.length;x+=1)R[x]&&R[x].m(r,null);O(i,o),O(i,a),O(i,f),O(i,u),O(i,d),O(i,h),O(i,p),O(i,g),O(i,b),O(i,_),O(i,y),O(i,k),O(i,C),O(i,$),O(i,T),O(i,P),Q=!0},p(L,N){if(N&4){E=L[2];let x;for(x=0;x<E.length;x+=1){const Z=ub(L,E,x);R[x]?R[x].p(Z,N):(R[x]=db(Z),R[x].c(),R[x].m(r,null))}for(;x<R.length;x+=1)R[x].d(1);R.length=E.length}},i(L){Q||(L&&at(()=>{Q&&(M||(M=Ue(e,gt,{duration:150},!0)),M.run(1))}),Q=!0)},o(L){L&&(M||(M=Ue(e,gt,{duration:150},!1)),M.run(0)),Q=!1},d(L){L&&w(e),At(R,L),L&&M&&M.end()}}}function db(n){let e,t=n[11]+"",i;return{c(){e=v("code"),i=W(t)},m(s,l){S(s,e,l),O(e,i)},p(s,l){l&4&&t!==(t=s[11]+"")&&re(i,t)},d(s){s&&w(e)}}}function hb(n){let e,t,i,s,l,r,o,a,f;function u(_){n[6](_)}let d={label:"Create rule",formKey:"createRule",collection:n[0],$$slots:{afterLabel:[mL,({isAdminOnly:_})=>({10:_}),({isAdminOnly:_})=>_?1024:0]},$$scope:{ctx:n}};n[0].createRule!==void 0&&(d.rule=n[0].createRule),e=new Er({props:d}),ne.push(()=>pe(e,"rule",u));function h(_){n[7](_)}let p={label:"Update rule",formKey:"updateRule",collection:n[0]};n[0].updateRule!==void 0&&(p.rule=n[0].updateRule),s=new Er({props:p}),ne.push(()=>pe(s,"rule",h));function g(_){n[8](_)}let b={label:"Delete rule",formKey:"deleteRule",collection:n[0]};return n[0].deleteRule!==void 0&&(b.rule=n[0].deleteRule),o=new Er({props:b}),ne.push(()=>pe(o,"rule",g)),{c(){V(e.$$.fragment),i=A(),V(s.$$.fragment),r=A(),V(o.$$.fragment)},m(_,y){X(e,_,y),S(_,i,y),X(s,_,y),S(_,r,y),X(o,_,y),f=!0},p(_,y){const k={};y&1&&(k.collection=_[0]),y&17408&&(k.$$scope={dirty:y,ctx:_}),!t&&y&1&&(t=!0,k.rule=_[0].createRule,ye(()=>t=!1)),e.$set(k);const C={};y&1&&(C.collection=_[0]),!l&&y&1&&(l=!0,C.rule=_[0].updateRule,ye(()=>l=!1)),s.$set(C);const $={};y&1&&($.collection=_[0]),!a&&y&1&&(a=!0,$.rule=_[0].deleteRule,ye(()=>a=!1)),o.$set($)},i(_){f||(D(e.$$.fragment,_),D(s.$$.fragment,_),D(o.$$.fragment,_),f=!0)},o(_){I(e.$$.fragment,_),I(s.$$.fragment,_),I(o.$$.fragment,_),f=!1},d(_){q(e,_),_&&w(i),q(s,_),_&&w(r),q(o,_)}}}function pb(n){let e,t,i;return{c(){e=v("i"),m(e,"class","ri-information-line link-hint")},m(s,l){S(s,e,l),t||(i=Ae(Ye.call(null,e,{text:'The Create rule is executed after a "dry save" of the submitted data, giving you access to the main record fields as in every other rule.',position:"top"})),t=!0)},d(s){s&&w(e),t=!1,i()}}}function mL(n){let e,t=!n[10]&&pb();return{c(){t&&t.c(),e=Se()},m(i,s){t&&t.m(i,s),S(i,e,s)},p(i,s){i[10]?t&&(t.d(1),t=null):t||(t=pb(),t.c(),t.m(e.parentNode,e))},d(i){t&&t.d(i),i&&w(e)}}}function mb(n){let e,t,i;function s(r){n[9](r)}let l={label:"Manage rule",formKey:"options.manageRule",placeholder:"",required:n[0].options.manageRule!==null,collection:n[0],$$slots:{default:[gL]},$$scope:{ctx:n}};return n[0].options.manageRule!==void 0&&(l.rule=n[0].options.manageRule),e=new Er({props:l}),ne.push(()=>pe(e,"rule",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};o&1&&(a.required=r[0].options.manageRule!==null),o&1&&(a.collection=r[0]),o&16384&&(a.$$scope={dirty:o,ctx:r}),!t&&o&1&&(t=!0,a.rule=r[0].options.manageRule,ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function gL(n){let e,t,i;return{c(){e=v("p"),e.textContent=`This API rule gives admin-like permissions to allow fully managing the auth record(s), eg.
                changing the password without requiring to enter the old one, directly updating the verified
                state or email, etc.`,t=A(),i=v("p"),i.innerHTML="This rule is executed in addition to the <code>create</code> and <code>update</code> API rules."},m(s,l){S(s,e,l),S(s,t,l),S(s,i,l)},p:ee,d(s){s&&w(e),s&&w(t),s&&w(i)}}}function bL(n){var N,x;let e,t,i,s,l,r=n[1]?"Hide available fields":"Show available fields",o,a,f,u,d,h,p,g,b,_,y,k,C,$,T=n[1]&&cb(n);function P(Z){n[4](Z)}let M={label:"List/Search rule",formKey:"listRule",collection:n[0]};n[0].listRule!==void 0&&(M.rule=n[0].listRule),u=new Er({props:M}),ne.push(()=>pe(u,"rule",P));function Q(Z){n[5](Z)}let E={label:"View rule",formKey:"viewRule",collection:n[0]};n[0].viewRule!==void 0&&(E.rule=n[0].viewRule),p=new Er({props:E}),ne.push(()=>pe(p,"rule",Q));let R=!((N=n[0])!=null&&N.$isView)&&hb(n),L=((x=n[0])==null?void 0:x.$isAuth)&&mb(n);return{c(){e=v("div"),t=v("div"),i=v("p"),i.innerHTML=`All rules follow the
            <a href="https://pocketbase.io/docs/api-rules-and-filters/" target="_blank" rel="noopener noreferrer">PocketBase filter syntax and operators
            </a>.`,s=A(),l=v("button"),o=W(r),a=A(),T&&T.c(),f=A(),V(u.$$.fragment),h=A(),V(p.$$.fragment),b=A(),R&&R.c(),_=A(),L&&L.c(),y=Se(),m(l,"type","button"),m(l,"class","expand-handle txt-sm txt-bold txt-nowrap link-hint"),m(t,"class","flex txt-sm txt-hint m-b-5"),m(e,"class","block m-b-sm handle")},m(Z,F){S(Z,e,F),O(e,t),O(t,i),O(t,s),O(t,l),O(l,o),O(e,a),T&&T.m(e,null),S(Z,f,F),X(u,Z,F),S(Z,h,F),X(p,Z,F),S(Z,b,F),R&&R.m(Z,F),S(Z,_,F),L&&L.m(Z,F),S(Z,y,F),k=!0,C||($=H(l,"click",n[3]),C=!0)},p(Z,[F]){var z,B;(!k||F&2)&&r!==(r=Z[1]?"Hide available fields":"Show available fields")&&re(o,r),Z[1]?T?(T.p(Z,F),F&2&&D(T,1)):(T=cb(Z),T.c(),D(T,1),T.m(e,null)):T&&(ue(),I(T,1,1,()=>{T=null}),ce());const U={};F&1&&(U.collection=Z[0]),!d&&F&1&&(d=!0,U.rule=Z[0].listRule,ye(()=>d=!1)),u.$set(U);const G={};F&1&&(G.collection=Z[0]),!g&&F&1&&(g=!0,G.rule=Z[0].viewRule,ye(()=>g=!1)),p.$set(G),(z=Z[0])!=null&&z.$isView?R&&(ue(),I(R,1,1,()=>{R=null}),ce()):R?(R.p(Z,F),F&1&&D(R,1)):(R=hb(Z),R.c(),D(R,1),R.m(_.parentNode,_)),(B=Z[0])!=null&&B.$isAuth?L?(L.p(Z,F),F&1&&D(L,1)):(L=mb(Z),L.c(),D(L,1),L.m(y.parentNode,y)):L&&(ue(),I(L,1,1,()=>{L=null}),ce())},i(Z){k||(D(T),D(u.$$.fragment,Z),D(p.$$.fragment,Z),D(R),D(L),k=!0)},o(Z){I(T),I(u.$$.fragment,Z),I(p.$$.fragment,Z),I(R),I(L),k=!1},d(Z){Z&&w(e),T&&T.d(),Z&&w(f),q(u,Z),Z&&w(h),q(p,Z),Z&&w(b),R&&R.d(Z),Z&&w(_),L&&L.d(Z),Z&&w(y),C=!1,$()}}}function _L(n,e,t){let i,{collection:s=new ci}=e,l=!1;const r=()=>t(1,l=!l);function o(p){n.$$.not_equal(s.listRule,p)&&(s.listRule=p,t(0,s))}function a(p){n.$$.not_equal(s.viewRule,p)&&(s.viewRule=p,t(0,s))}function f(p){n.$$.not_equal(s.createRule,p)&&(s.createRule=p,t(0,s))}function u(p){n.$$.not_equal(s.updateRule,p)&&(s.updateRule=p,t(0,s))}function d(p){n.$$.not_equal(s.deleteRule,p)&&(s.deleteRule=p,t(0,s))}function h(p){n.$$.not_equal(s.options.manageRule,p)&&(s.options.manageRule=p,t(0,s))}return n.$$set=p=>{"collection"in p&&t(0,s=p.collection)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=j.getAllCollectionIdentifiers(s))},[s,l,i,r,o,a,f,u,d,h]}class OL extends ke{constructor(e){super(),ve(this,e,_L,bL,be,{collection:0})}}function gb(n,e,t){const i=n.slice();return i[9]=e[t],i}function yL(n){let e,t,i,s;function l(a){n[5](a)}var r=n[1];function o(a){let f={id:a[8],placeholder:"eg. SELECT id, name from posts",language:"sql-select",minHeight:"150"};return a[0].options.query!==void 0&&(f.value=a[0].options.query),{props:f}}return r&&(e=on(r,o(n)),ne.push(()=>pe(e,"value",l)),e.$on("change",n[6])),{c(){e&&V(e.$$.fragment),i=Se()},m(a,f){e&&X(e,a,f),S(a,i,f),s=!0},p(a,f){const u={};if(f&256&&(u.id=a[8]),!t&&f&1&&(t=!0,u.value=a[0].options.query,ye(()=>t=!1)),f&2&&r!==(r=a[1])){if(e){ue();const d=e;I(d.$$.fragment,1,0,()=>{q(d,1)}),ce()}r?(e=on(r,o(a)),ne.push(()=>pe(e,"value",l)),e.$on("change",a[6]),V(e.$$.fragment),D(e.$$.fragment,1),X(e,i.parentNode,i)):e=null}else r&&e.$set(u)},i(a){s||(e&&D(e.$$.fragment,a),s=!0)},o(a){e&&I(e.$$.fragment,a),s=!1},d(a){a&&w(i),e&&q(e,a)}}}function vL(n){let e;return{c(){e=v("textarea"),e.disabled=!0,m(e,"rows","7"),m(e,"placeholder","Loading...")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function bb(n){let e,t,i=n[3],s=[];for(let l=0;l<i.length;l+=1)s[l]=_b(gb(n,i,l));return{c(){e=v("div"),t=v("div");for(let l=0;l<s.length;l+=1)s[l].c();m(t,"class","content"),m(e,"class","help-block help-block-error")},m(l,r){S(l,e,r),O(e,t);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null)},p(l,r){if(r&8){i=l[3];let o;for(o=0;o<i.length;o+=1){const a=gb(l,i,o);s[o]?s[o].p(a,r):(s[o]=_b(a),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}},d(l){l&&w(e),At(s,l)}}}function _b(n){let e,t=n[9]+"",i;return{c(){e=v("p"),i=W(t)},m(s,l){S(s,e,l),O(e,i)},p(s,l){l&8&&t!==(t=s[9]+"")&&re(i,t)},d(s){s&&w(e)}}}function kL(n){let e,t,i,s,l,r,o,a,f,u,d;const h=[vL,yL],p=[];function g(_,y){return _[2]?0:1}l=g(n),r=p[l]=h[l](n);let b=n[3].length&&bb(n);return{c(){e=v("label"),t=v("span"),t.textContent="Select query",s=A(),r.c(),o=A(),a=v("div"),a.innerHTML=`<ul><li>Wildcard columns (<code>*</code>) are not supported.</li> 
            <li>The query must have a unique <code>id</code> column.
                <br/>
                If your query doesn&#39;t have a suitable one, you can use the universal
                <code>(ROW_NUMBER() OVER()) as id</code>.</li> 
            <li>Expressions must be aliased with a valid formatted field name (eg.
                <code>MAX(balance) as maxBalance</code>).</li></ul>`,f=A(),b&&b.c(),u=Se(),m(t,"class","txt"),m(e,"for",i=n[8]),m(a,"class","help-block")},m(_,y){S(_,e,y),O(e,t),S(_,s,y),p[l].m(_,y),S(_,o,y),S(_,a,y),S(_,f,y),b&&b.m(_,y),S(_,u,y),d=!0},p(_,y){(!d||y&256&&i!==(i=_[8]))&&m(e,"for",i);let k=l;l=g(_),l===k?p[l].p(_,y):(ue(),I(p[k],1,1,()=>{p[k]=null}),ce(),r=p[l],r?r.p(_,y):(r=p[l]=h[l](_),r.c()),D(r,1),r.m(o.parentNode,o)),_[3].length?b?b.p(_,y):(b=bb(_),b.c(),b.m(u.parentNode,u)):b&&(b.d(1),b=null)},i(_){d||(D(r),d=!0)},o(_){I(r),d=!1},d(_){_&&w(e),_&&w(s),p[l].d(_),_&&w(o),_&&w(a),_&&w(f),b&&b.d(_),_&&w(u)}}}function wL(n){let e,t;return e=new me({props:{class:"form-field required "+(n[3].length?"error":""),name:"options.query",$$slots:{default:[kL,({uniqueId:i})=>({8:i}),({uniqueId:i})=>i?256:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&8&&(l.class="form-field required "+(i[3].length?"error":"")),s&4367&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function SL(n,e,t){let i;et(n,Gs,d=>t(4,i=d));let{collection:s=new ci}=e,l,r=!1,o=[];function a(d){var g;t(3,o=[]);const h=j.getNestedVal(d,"schema",null);if(j.isEmpty(h))return;if(h!=null&&h.message){o.push(h==null?void 0:h.message);return}const p=j.extractColumnsFromQuery((g=s==null?void 0:s.options)==null?void 0:g.query);j.removeByValue(p,"id"),j.removeByValue(p,"created"),j.removeByValue(p,"updated");for(let b in h)for(let _ in h[b]){const y=h[b][_].message,k=p[b]||b;o.push(j.sentenize(k+": "+y))}}vn(async()=>{t(2,r=!0);try{t(1,l=(await _t(()=>import("./CodeEditor-40c10f2b.js"),[],import.meta.url)).default)}catch(d){console.warn(d)}t(2,r=!1)});function f(d){n.$$.not_equal(s.options.query,d)&&(s.options.query=d,t(0,s))}const u=()=>{o.length&&Ts("schema")};return n.$$set=d=>{"collection"in d&&t(0,s=d.collection)},n.$$.update=()=>{n.$$.dirty&16&&a(i)},[s,l,r,o,i,f,u]}class $L extends ke{constructor(e){super(),ve(this,e,SL,wL,be,{collection:0})}}const CL=n=>({active:n&1}),Ob=n=>({active:n[0]});function yb(n){let e,t,i;const s=n[15].default,l=xt(s,n,n[14],null);return{c(){e=v("div"),l&&l.c(),m(e,"class","accordion-content")},m(r,o){S(r,e,o),l&&l.m(e,null),i=!0},p(r,o){l&&l.p&&(!i||o&16384)&&Ft(l,s,r,r[14],i?Zt(s,r[14],o,null):Xt(r[14]),null)},i(r){i||(D(l,r),r&&at(()=>{i&&(t||(t=Ue(e,gt,{duration:150},!0)),t.run(1))}),i=!0)},o(r){I(l,r),r&&(t||(t=Ue(e,gt,{duration:150},!1)),t.run(0)),i=!1},d(r){r&&w(e),l&&l.d(r),r&&t&&t.end()}}}function TL(n){let e,t,i,s,l,r,o;const a=n[15].header,f=xt(a,n,n[14],Ob);let u=n[0]&&yb(n);return{c(){e=v("div"),t=v("button"),f&&f.c(),i=A(),u&&u.c(),m(t,"type","button"),m(t,"class","accordion-header"),m(t,"draggable",n[2]),J(t,"interactive",n[3]),m(e,"class",s="accordion "+(n[7]?"drag-over":"")+" "+n[1]),J(e,"active",n[0])},m(d,h){S(d,e,h),O(e,t),f&&f.m(t,null),O(e,i),u&&u.m(e,null),n[22](e),l=!0,r||(o=[H(t,"click",ut(n[17])),H(t,"drop",ut(n[18])),H(t,"dragstart",n[19]),H(t,"dragenter",n[20]),H(t,"dragleave",n[21]),H(t,"dragover",ut(n[16]))],r=!0)},p(d,[h]){f&&f.p&&(!l||h&16385)&&Ft(f,a,d,d[14],l?Zt(a,d[14],h,CL):Xt(d[14]),Ob),(!l||h&4)&&m(t,"draggable",d[2]),(!l||h&8)&&J(t,"interactive",d[3]),d[0]?u?(u.p(d,h),h&1&&D(u,1)):(u=yb(d),u.c(),D(u,1),u.m(e,null)):u&&(ue(),I(u,1,1,()=>{u=null}),ce()),(!l||h&130&&s!==(s="accordion "+(d[7]?"drag-over":"")+" "+d[1]))&&m(e,"class",s),(!l||h&131)&&J(e,"active",d[0])},i(d){l||(D(f,d),D(u),l=!0)},o(d){I(f,d),I(u),l=!1},d(d){d&&w(e),f&&f.d(d),u&&u.d(),n[22](null),r=!1,Qe(o)}}}function PL(n,e,t){let{$$slots:i={},$$scope:s}=e;const l=Lt();let r,o,{class:a=""}=e,{draggable:f=!1}=e,{active:u=!1}=e,{interactive:d=!0}=e,{single:h=!1}=e,p=!1;function g(){return!!u}function b(){k(),t(0,u=!0),l("expand")}function _(){t(0,u=!1),clearTimeout(o),l("collapse")}function y(){l("toggle"),u?_():b()}function k(){if(h&&r.closest(".accordions")){const R=r.closest(".accordions").querySelectorAll(".accordion.active .accordion-header.interactive");for(const L of R)L.click()}}vn(()=>()=>clearTimeout(o));function C(R){Fe.call(this,n,R)}const $=()=>d&&y(),T=R=>{f&&(t(7,p=!1),k(),l("drop",R))},P=R=>f&&l("dragstart",R),M=R=>{f&&(t(7,p=!0),l("dragenter",R))},Q=R=>{f&&(t(7,p=!1),l("dragleave",R))};function E(R){ne[R?"unshift":"push"](()=>{r=R,t(6,r)})}return n.$$set=R=>{"class"in R&&t(1,a=R.class),"draggable"in R&&t(2,f=R.draggable),"active"in R&&t(0,u=R.active),"interactive"in R&&t(3,d=R.interactive),"single"in R&&t(9,h=R.single),"$$scope"in R&&t(14,s=R.$$scope)},n.$$.update=()=>{n.$$.dirty&8257&&u&&(clearTimeout(o),t(13,o=setTimeout(()=>{r!=null&&r.scrollIntoViewIfNeeded?r.scrollIntoViewIfNeeded():r!=null&&r.scrollIntoView&&r.scrollIntoView({behavior:"smooth",block:"nearest"})},200)))},[u,a,f,d,y,k,r,p,l,h,g,b,_,o,s,i,C,$,T,P,M,Q,E]}class Xf extends ke{constructor(e){super(),ve(this,e,PL,TL,be,{class:1,draggable:2,active:0,interactive:3,single:9,isExpanded:10,expand:11,collapse:12,toggle:4,collapseSiblings:5})}get isExpanded(){return this.$$.ctx[10]}get expand(){return this.$$.ctx[11]}get collapse(){return this.$$.ctx[12]}get toggle(){return this.$$.ctx[4]}get collapseSiblings(){return this.$$.ctx[5]}}function ML(n){let e,t,i,s,l,r,o,a;return{c(){e=v("input"),i=A(),s=v("label"),l=W("Enable"),m(e,"type","checkbox"),m(e,"id",t=n[12]),m(s,"for",r=n[12])},m(f,u){S(f,e,u),e.checked=n[0].options.allowUsernameAuth,S(f,i,u),S(f,s,u),O(s,l),o||(a=H(e,"change",n[5]),o=!0)},p(f,u){u&4096&&t!==(t=f[12])&&m(e,"id",t),u&1&&(e.checked=f[0].options.allowUsernameAuth),u&4096&&r!==(r=f[12])&&m(s,"for",r)},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,a()}}}function AL(n){let e,t;return e=new me({props:{class:"form-field form-field-toggle m-b-0",name:"options.allowUsernameAuth",$$slots:{default:[ML,({uniqueId:i})=>({12:i}),({uniqueId:i})=>i?4096:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&12289&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function QL(n){let e;return{c(){e=v("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function DL(n){let e;return{c(){e=v("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function vb(n){let e,t,i,s,l;return{c(){e=v("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){S(r,e,o),i=!0,s||(l=Ae(Ye.call(null,e,{text:"Has errors",position:"left"})),s=!0)},i(r){i||(at(()=>{i&&(t||(t=Ue(e,_n,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){t||(t=Ue(e,_n,{duration:150,start:.7},!1)),t.run(0),i=!1},d(r){r&&w(e),r&&t&&t.end(),s=!1,l()}}}function EL(n){let e,t,i,s,l,r,o;function a(h,p){return h[0].options.allowUsernameAuth?DL:QL}let f=a(n),u=f(n),d=n[3]&&vb();return{c(){e=v("div"),e.innerHTML=`<i class="ri-user-star-line"></i> 
                <span class="txt">Username/Password</span>`,t=A(),i=v("div"),s=A(),u.c(),l=A(),d&&d.c(),r=Se(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(h,p){S(h,e,p),S(h,t,p),S(h,i,p),S(h,s,p),u.m(h,p),S(h,l,p),d&&d.m(h,p),S(h,r,p),o=!0},p(h,p){f!==(f=a(h))&&(u.d(1),u=f(h),u&&(u.c(),u.m(l.parentNode,l))),h[3]?d?p&8&&D(d,1):(d=vb(),d.c(),D(d,1),d.m(r.parentNode,r)):d&&(ue(),I(d,1,1,()=>{d=null}),ce())},i(h){o||(D(d),o=!0)},o(h){I(d),o=!1},d(h){h&&w(e),h&&w(t),h&&w(i),h&&w(s),u.d(h),h&&w(l),d&&d.d(h),h&&w(r)}}}function IL(n){let e,t,i,s,l,r,o,a;return{c(){e=v("input"),i=A(),s=v("label"),l=W("Enable"),m(e,"type","checkbox"),m(e,"id",t=n[12]),m(s,"for",r=n[12])},m(f,u){S(f,e,u),e.checked=n[0].options.allowEmailAuth,S(f,i,u),S(f,s,u),O(s,l),o||(a=H(e,"change",n[6]),o=!0)},p(f,u){u&4096&&t!==(t=f[12])&&m(e,"id",t),u&1&&(e.checked=f[0].options.allowEmailAuth),u&4096&&r!==(r=f[12])&&m(s,"for",r)},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,a()}}}function kb(n){let e,t,i,s,l,r,o,a;return i=new me({props:{class:"form-field "+(j.isEmpty(n[0].options.onlyEmailDomains)?"":"disabled"),name:"options.exceptEmailDomains",$$slots:{default:[RL,({uniqueId:f})=>({12:f}),({uniqueId:f})=>f?4096:0]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field "+(j.isEmpty(n[0].options.exceptEmailDomains)?"":"disabled"),name:"options.onlyEmailDomains",$$slots:{default:[LL,({uniqueId:f})=>({12:f}),({uniqueId:f})=>f?4096:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),V(r.$$.fragment),m(t,"class","col-lg-6"),m(l,"class","col-lg-6"),m(e,"class","grid grid-sm p-t-sm")},m(f,u){S(f,e,u),O(e,t),X(i,t,null),O(e,s),O(e,l),X(r,l,null),a=!0},p(f,u){const d={};u&1&&(d.class="form-field "+(j.isEmpty(f[0].options.onlyEmailDomains)?"":"disabled")),u&12289&&(d.$$scope={dirty:u,ctx:f}),i.$set(d);const h={};u&1&&(h.class="form-field "+(j.isEmpty(f[0].options.exceptEmailDomains)?"":"disabled")),u&12289&&(h.$$scope={dirty:u,ctx:f}),r.$set(h)},i(f){a||(D(i.$$.fragment,f),D(r.$$.fragment,f),f&&at(()=>{a&&(o||(o=Ue(e,gt,{duration:150},!0)),o.run(1))}),a=!0)},o(f){I(i.$$.fragment,f),I(r.$$.fragment,f),f&&(o||(o=Ue(e,gt,{duration:150},!1)),o.run(0)),a=!1},d(f){f&&w(e),q(i),q(r),f&&o&&o.end()}}}function RL(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;function g(_){n[7](_)}let b={id:n[12],disabled:!j.isEmpty(n[0].options.onlyEmailDomains)};return n[0].options.exceptEmailDomains!==void 0&&(b.value=n[0].options.exceptEmailDomains),o=new oo({props:b}),ne.push(()=>pe(o,"value",g)),{c(){e=v("label"),t=v("span"),t.textContent="Except domains",i=A(),s=v("i"),r=A(),V(o.$$.fragment),f=A(),u=v("div"),u.textContent="Use comma as separator.",m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[12]),m(u,"class","help-block")},m(_,y){S(_,e,y),O(e,t),O(e,i),O(e,s),S(_,r,y),X(o,_,y),S(_,f,y),S(_,u,y),d=!0,h||(p=Ae(Ye.call(null,s,{text:`Email domains that are NOT allowed to sign up. 
 This field is disabled if "Only domains" is set.`,position:"top"})),h=!0)},p(_,y){(!d||y&4096&&l!==(l=_[12]))&&m(e,"for",l);const k={};y&4096&&(k.id=_[12]),y&1&&(k.disabled=!j.isEmpty(_[0].options.onlyEmailDomains)),!a&&y&1&&(a=!0,k.value=_[0].options.exceptEmailDomains,ye(()=>a=!1)),o.$set(k)},i(_){d||(D(o.$$.fragment,_),d=!0)},o(_){I(o.$$.fragment,_),d=!1},d(_){_&&w(e),_&&w(r),q(o,_),_&&w(f),_&&w(u),h=!1,p()}}}function LL(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;function g(_){n[8](_)}let b={id:n[12],disabled:!j.isEmpty(n[0].options.exceptEmailDomains)};return n[0].options.onlyEmailDomains!==void 0&&(b.value=n[0].options.onlyEmailDomains),o=new oo({props:b}),ne.push(()=>pe(o,"value",g)),{c(){e=v("label"),t=v("span"),t.textContent="Only domains",i=A(),s=v("i"),r=A(),V(o.$$.fragment),f=A(),u=v("div"),u.textContent="Use comma as separator.",m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[12]),m(u,"class","help-block")},m(_,y){S(_,e,y),O(e,t),O(e,i),O(e,s),S(_,r,y),X(o,_,y),S(_,f,y),S(_,u,y),d=!0,h||(p=Ae(Ye.call(null,s,{text:`Email domains that are ONLY allowed to sign up. 
 This field is disabled if "Except domains" is set.`,position:"top"})),h=!0)},p(_,y){(!d||y&4096&&l!==(l=_[12]))&&m(e,"for",l);const k={};y&4096&&(k.id=_[12]),y&1&&(k.disabled=!j.isEmpty(_[0].options.exceptEmailDomains)),!a&&y&1&&(a=!0,k.value=_[0].options.onlyEmailDomains,ye(()=>a=!1)),o.$set(k)},i(_){d||(D(o.$$.fragment,_),d=!0)},o(_){I(o.$$.fragment,_),d=!1},d(_){_&&w(e),_&&w(r),q(o,_),_&&w(f),_&&w(u),h=!1,p()}}}function NL(n){let e,t,i,s;e=new me({props:{class:"form-field form-field-toggle m-0",name:"options.allowEmailAuth",$$slots:{default:[IL,({uniqueId:r})=>({12:r}),({uniqueId:r})=>r?4096:0]},$$scope:{ctx:n}}});let l=n[0].options.allowEmailAuth&&kb(n);return{c(){V(e.$$.fragment),t=A(),l&&l.c(),i=Se()},m(r,o){X(e,r,o),S(r,t,o),l&&l.m(r,o),S(r,i,o),s=!0},p(r,o){const a={};o&12289&&(a.$$scope={dirty:o,ctx:r}),e.$set(a),r[0].options.allowEmailAuth?l?(l.p(r,o),o&1&&D(l,1)):(l=kb(r),l.c(),D(l,1),l.m(i.parentNode,i)):l&&(ue(),I(l,1,1,()=>{l=null}),ce())},i(r){s||(D(e.$$.fragment,r),D(l),s=!0)},o(r){I(e.$$.fragment,r),I(l),s=!1},d(r){q(e,r),r&&w(t),l&&l.d(r),r&&w(i)}}}function xL(n){let e;return{c(){e=v("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function ZL(n){let e;return{c(){e=v("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function wb(n){let e,t,i,s,l;return{c(){e=v("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){S(r,e,o),i=!0,s||(l=Ae(Ye.call(null,e,{text:"Has errors",position:"left"})),s=!0)},i(r){i||(at(()=>{i&&(t||(t=Ue(e,_n,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){t||(t=Ue(e,_n,{duration:150,start:.7},!1)),t.run(0),i=!1},d(r){r&&w(e),r&&t&&t.end(),s=!1,l()}}}function FL(n){let e,t,i,s,l,r,o;function a(h,p){return h[0].options.allowEmailAuth?ZL:xL}let f=a(n),u=f(n),d=n[2]&&wb();return{c(){e=v("div"),e.innerHTML=`<i class="ri-mail-star-line"></i> 
                <span class="txt">Email/Password</span>`,t=A(),i=v("div"),s=A(),u.c(),l=A(),d&&d.c(),r=Se(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(h,p){S(h,e,p),S(h,t,p),S(h,i,p),S(h,s,p),u.m(h,p),S(h,l,p),d&&d.m(h,p),S(h,r,p),o=!0},p(h,p){f!==(f=a(h))&&(u.d(1),u=f(h),u&&(u.c(),u.m(l.parentNode,l))),h[2]?d?p&4&&D(d,1):(d=wb(),d.c(),D(d,1),d.m(r.parentNode,r)):d&&(ue(),I(d,1,1,()=>{d=null}),ce())},i(h){o||(D(d),o=!0)},o(h){I(d),o=!1},d(h){h&&w(e),h&&w(t),h&&w(i),h&&w(s),u.d(h),h&&w(l),d&&d.d(h),h&&w(r)}}}function XL(n){let e,t,i,s,l,r,o,a;return{c(){e=v("input"),i=A(),s=v("label"),l=W("Enable"),m(e,"type","checkbox"),m(e,"id",t=n[12]),m(s,"for",r=n[12])},m(f,u){S(f,e,u),e.checked=n[0].options.allowOAuth2Auth,S(f,i,u),S(f,s,u),O(s,l),o||(a=H(e,"change",n[9]),o=!0)},p(f,u){u&4096&&t!==(t=f[12])&&m(e,"id",t),u&1&&(e.checked=f[0].options.allowOAuth2Auth),u&4096&&r!==(r=f[12])&&m(s,"for",r)},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,a()}}}function Sb(n){let e,t,i;return{c(){e=v("div"),e.innerHTML='<div class="flex p-t-base"><a href="/_/#/settings/auth-providers" target="_blank" class="btn btn-sm btn-outline"><span class="txt">Manage OAuth2 providers</span></a></div>',m(e,"class","block")},m(s,l){S(s,e,l),i=!0},i(s){i||(s&&at(()=>{i&&(t||(t=Ue(e,gt,{duration:150},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=Ue(e,gt,{duration:150},!1)),t.run(0)),i=!1},d(s){s&&w(e),s&&t&&t.end()}}}function qL(n){let e,t,i,s;e=new me({props:{class:"form-field form-field-toggle m-b-0",name:"options.allowOAuth2Auth",$$slots:{default:[XL,({uniqueId:r})=>({12:r}),({uniqueId:r})=>r?4096:0]},$$scope:{ctx:n}}});let l=n[0].options.allowOAuth2Auth&&Sb();return{c(){V(e.$$.fragment),t=A(),l&&l.c(),i=Se()},m(r,o){X(e,r,o),S(r,t,o),l&&l.m(r,o),S(r,i,o),s=!0},p(r,o){const a={};o&12289&&(a.$$scope={dirty:o,ctx:r}),e.$set(a),r[0].options.allowOAuth2Auth?l?o&1&&D(l,1):(l=Sb(),l.c(),D(l,1),l.m(i.parentNode,i)):l&&(ue(),I(l,1,1,()=>{l=null}),ce())},i(r){s||(D(e.$$.fragment,r),D(l),s=!0)},o(r){I(e.$$.fragment,r),I(l),s=!1},d(r){q(e,r),r&&w(t),l&&l.d(r),r&&w(i)}}}function VL(n){let e;return{c(){e=v("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function jL(n){let e;return{c(){e=v("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function $b(n){let e,t,i,s,l;return{c(){e=v("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){S(r,e,o),i=!0,s||(l=Ae(Ye.call(null,e,{text:"Has errors",position:"left"})),s=!0)},i(r){i||(at(()=>{i&&(t||(t=Ue(e,_n,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){t||(t=Ue(e,_n,{duration:150,start:.7},!1)),t.run(0),i=!1},d(r){r&&w(e),r&&t&&t.end(),s=!1,l()}}}function UL(n){let e,t,i,s,l,r,o;function a(h,p){return h[0].options.allowOAuth2Auth?jL:VL}let f=a(n),u=f(n),d=n[1]&&$b();return{c(){e=v("div"),e.innerHTML=`<i class="ri-shield-star-line"></i> 
                <span class="txt">OAuth2</span>`,t=A(),i=v("div"),s=A(),u.c(),l=A(),d&&d.c(),r=Se(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(h,p){S(h,e,p),S(h,t,p),S(h,i,p),S(h,s,p),u.m(h,p),S(h,l,p),d&&d.m(h,p),S(h,r,p),o=!0},p(h,p){f!==(f=a(h))&&(u.d(1),u=f(h),u&&(u.c(),u.m(l.parentNode,l))),h[1]?d?p&2&&D(d,1):(d=$b(),d.c(),D(d,1),d.m(r.parentNode,r)):d&&(ue(),I(d,1,1,()=>{d=null}),ce())},i(h){o||(D(d),o=!0)},o(h){I(d),o=!1},d(h){h&&w(e),h&&w(t),h&&w(i),h&&w(s),u.d(h),h&&w(l),d&&d.d(h),h&&w(r)}}}function WL(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Minimum password length"),s=A(),l=v("input"),m(e,"for",i=n[12]),m(l,"type","number"),m(l,"id",r=n[12]),l.required=!0,m(l,"min","6"),m(l,"max","72")},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].options.minPasswordLength),o||(a=H(l,"input",n[10]),o=!0)},p(f,u){u&4096&&i!==(i=f[12])&&m(e,"for",i),u&4096&&r!==(r=f[12])&&m(l,"id",r),u&1&&Ct(l.value)!==f[0].options.minPasswordLength&&fe(l,f[0].options.minPasswordLength)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function zL(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("input"),i=A(),s=v("label"),l=v("span"),l.textContent="Always require email",r=A(),o=v("i"),m(e,"type","checkbox"),m(e,"id",t=n[12]),m(l,"class","txt"),m(o,"class","ri-information-line txt-sm link-hint"),m(s,"for",a=n[12])},m(d,h){S(d,e,h),e.checked=n[0].options.requireEmail,S(d,i,h),S(d,s,h),O(s,l),O(s,r),O(s,o),f||(u=[H(e,"change",n[11]),Ae(Ye.call(null,o,{text:`The constraint is applied only for new records.
Also note that some OAuth2 providers (like Twitter), don't return an email and the authentication may fail if the email field is required.`,position:"right"}))],f=!0)},p(d,h){h&4096&&t!==(t=d[12])&&m(e,"id",t),h&1&&(e.checked=d[0].options.requireEmail),h&4096&&a!==(a=d[12])&&m(s,"for",a)},d(d){d&&w(e),d&&w(i),d&&w(s),f=!1,Qe(u)}}}function BL(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y;return s=new Xf({props:{single:!0,$$slots:{header:[EL],default:[AL]},$$scope:{ctx:n}}}),r=new Xf({props:{single:!0,$$slots:{header:[FL],default:[NL]},$$scope:{ctx:n}}}),a=new Xf({props:{single:!0,$$slots:{header:[UL],default:[qL]},$$scope:{ctx:n}}}),g=new me({props:{class:"form-field required",name:"options.minPasswordLength",$$slots:{default:[WL,({uniqueId:k})=>({12:k}),({uniqueId:k})=>k?4096:0]},$$scope:{ctx:n}}}),_=new me({props:{class:"form-field form-field-toggle m-b-sm",name:"options.requireEmail",$$slots:{default:[zL,({uniqueId:k})=>({12:k}),({uniqueId:k})=>k?4096:0]},$$scope:{ctx:n}}}),{c(){e=v("h4"),e.textContent="Auth methods",t=A(),i=v("div"),V(s.$$.fragment),l=A(),V(r.$$.fragment),o=A(),V(a.$$.fragment),f=A(),u=v("hr"),d=A(),h=v("h4"),h.textContent="General",p=A(),V(g.$$.fragment),b=A(),V(_.$$.fragment),m(e,"class","section-title"),m(i,"class","accordions"),m(h,"class","section-title")},m(k,C){S(k,e,C),S(k,t,C),S(k,i,C),X(s,i,null),O(i,l),X(r,i,null),O(i,o),X(a,i,null),S(k,f,C),S(k,u,C),S(k,d,C),S(k,h,C),S(k,p,C),X(g,k,C),S(k,b,C),X(_,k,C),y=!0},p(k,[C]){const $={};C&8201&&($.$$scope={dirty:C,ctx:k}),s.$set($);const T={};C&8197&&(T.$$scope={dirty:C,ctx:k}),r.$set(T);const P={};C&8195&&(P.$$scope={dirty:C,ctx:k}),a.$set(P);const M={};C&12289&&(M.$$scope={dirty:C,ctx:k}),g.$set(M);const Q={};C&12289&&(Q.$$scope={dirty:C,ctx:k}),_.$set(Q)},i(k){y||(D(s.$$.fragment,k),D(r.$$.fragment,k),D(a.$$.fragment,k),D(g.$$.fragment,k),D(_.$$.fragment,k),y=!0)},o(k){I(s.$$.fragment,k),I(r.$$.fragment,k),I(a.$$.fragment,k),I(g.$$.fragment,k),I(_.$$.fragment,k),y=!1},d(k){k&&w(e),k&&w(t),k&&w(i),q(s),q(r),q(a),k&&w(f),k&&w(u),k&&w(d),k&&w(h),k&&w(p),q(g,k),k&&w(b),q(_,k)}}}function YL(n,e,t){let i,s,l,r;et(n,Gs,b=>t(4,r=b));let{collection:o=new ci}=e;function a(){o.options.allowUsernameAuth=this.checked,t(0,o)}function f(){o.options.allowEmailAuth=this.checked,t(0,o)}function u(b){n.$$.not_equal(o.options.exceptEmailDomains,b)&&(o.options.exceptEmailDomains=b,t(0,o))}function d(b){n.$$.not_equal(o.options.onlyEmailDomains,b)&&(o.options.onlyEmailDomains=b,t(0,o))}function h(){o.options.allowOAuth2Auth=this.checked,t(0,o)}function p(){o.options.minPasswordLength=Ct(this.value),t(0,o)}function g(){o.options.requireEmail=this.checked,t(0,o)}return n.$$set=b=>{"collection"in b&&t(0,o=b.collection)},n.$$.update=()=>{var b,_,y,k;n.$$.dirty&1&&o.$isAuth&&j.isEmpty(o.options)&&t(0,o.options={allowEmailAuth:!0,allowUsernameAuth:!0,allowOAuth2Auth:!0,minPasswordLength:8},o),n.$$.dirty&16&&t(2,s=!j.isEmpty((b=r==null?void 0:r.options)==null?void 0:b.allowEmailAuth)||!j.isEmpty((_=r==null?void 0:r.options)==null?void 0:_.onlyEmailDomains)||!j.isEmpty((y=r==null?void 0:r.options)==null?void 0:y.exceptEmailDomains)),n.$$.dirty&16&&t(1,l=!j.isEmpty((k=r==null?void 0:r.options)==null?void 0:k.allowOAuth2Auth))},t(3,i=!1),[o,l,s,i,r,a,f,u,d,h,p,g]}class HL extends ke{constructor(e){super(),ve(this,e,YL,BL,be,{collection:0})}}function Cb(n,e,t){const i=n.slice();return i[17]=e[t],i}function Tb(n,e,t){const i=n.slice();return i[17]=e[t],i}function Pb(n,e,t){const i=n.slice();return i[17]=e[t],i}function Mb(n){let e;return{c(){e=v("p"),e.textContent="All data associated with the removed fields will be permanently deleted!"},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function Ab(n){var o;let e,t,i,s,l=n[3]&&Qb(n),r=!((o=n[2])!=null&&o.$isView)&&Db(n);return{c(){e=v("h6"),e.textContent="Changes:",t=A(),i=v("ul"),l&&l.c(),s=A(),r&&r.c(),m(i,"class","changes-list svelte-xqpcsf")},m(a,f){S(a,e,f),S(a,t,f),S(a,i,f),l&&l.m(i,null),O(i,s),r&&r.m(i,null)},p(a,f){var u;a[3]?l?l.p(a,f):(l=Qb(a),l.c(),l.m(i,s)):l&&(l.d(1),l=null),(u=a[2])!=null&&u.$isView?r&&(r.d(1),r=null):r?r.p(a,f):(r=Db(a),r.c(),r.m(i,null))},d(a){a&&w(e),a&&w(t),a&&w(i),l&&l.d(),r&&r.d()}}}function Qb(n){var p,g;let e,t,i,s,l=((p=n[1])==null?void 0:p.name)+"",r,o,a,f,u,d=((g=n[2])==null?void 0:g.name)+"",h;return{c(){e=v("li"),t=v("div"),i=W(`Renamed collection
                        `),s=v("strong"),r=W(l),o=A(),a=v("i"),f=A(),u=v("strong"),h=W(d),m(s,"class","txt-strikethrough txt-hint"),m(a,"class","ri-arrow-right-line txt-sm"),m(u,"class","txt"),m(t,"class","inline-flex"),m(e,"class","svelte-xqpcsf")},m(b,_){S(b,e,_),O(e,t),O(t,i),O(t,s),O(s,r),O(t,o),O(t,a),O(t,f),O(t,u),O(u,h)},p(b,_){var y,k;_&2&&l!==(l=((y=b[1])==null?void 0:y.name)+"")&&re(r,l),_&4&&d!==(d=((k=b[2])==null?void 0:k.name)+"")&&re(h,d)},d(b){b&&w(e)}}}function Db(n){let e,t,i,s=n[5],l=[];for(let u=0;u<s.length;u+=1)l[u]=Eb(Pb(n,s,u));let r=n[7],o=[];for(let u=0;u<r.length;u+=1)o[u]=Ib(Tb(n,r,u));let a=n[6],f=[];for(let u=0;u<a.length;u+=1)f[u]=Rb(Cb(n,a,u));return{c(){for(let u=0;u<l.length;u+=1)l[u].c();e=A();for(let u=0;u<o.length;u+=1)o[u].c();t=A();for(let u=0;u<f.length;u+=1)f[u].c();i=Se()},m(u,d){for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(u,d);S(u,e,d);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(u,d);S(u,t,d);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(u,d);S(u,i,d)},p(u,d){if(d&32){s=u[5];let h;for(h=0;h<s.length;h+=1){const p=Pb(u,s,h);l[h]?l[h].p(p,d):(l[h]=Eb(p),l[h].c(),l[h].m(e.parentNode,e))}for(;h<l.length;h+=1)l[h].d(1);l.length=s.length}if(d&128){r=u[7];let h;for(h=0;h<r.length;h+=1){const p=Tb(u,r,h);o[h]?o[h].p(p,d):(o[h]=Ib(p),o[h].c(),o[h].m(t.parentNode,t))}for(;h<o.length;h+=1)o[h].d(1);o.length=r.length}if(d&64){a=u[6];let h;for(h=0;h<a.length;h+=1){const p=Cb(u,a,h);f[h]?f[h].p(p,d):(f[h]=Rb(p),f[h].c(),f[h].m(i.parentNode,i))}for(;h<f.length;h+=1)f[h].d(1);f.length=a.length}},d(u){At(l,u),u&&w(e),At(o,u),u&&w(t),At(f,u),u&&w(i)}}}function Eb(n){let e,t,i,s=n[17].name+"",l,r,o;return{c(){e=v("li"),t=W(`Multiple to single value conversion of field
                        `),i=v("strong"),l=W(s),r=A(),o=v("em"),o.textContent="(will keep only the last array item)",m(o,"class","txt-sm"),m(e,"class","svelte-xqpcsf")},m(a,f){S(a,e,f),O(e,t),O(e,i),O(i,l),O(e,r),O(e,o)},p(a,f){f&32&&s!==(s=a[17].name+"")&&re(l,s)},d(a){a&&w(e)}}}function Ib(n){let e,t,i,s,l=n[17].originalName+"",r,o,a,f,u,d=n[17].name+"",h;return{c(){e=v("li"),t=v("div"),i=W(`Renamed field
                            `),s=v("strong"),r=W(l),o=A(),a=v("i"),f=A(),u=v("strong"),h=W(d),m(s,"class","txt-strikethrough txt-hint"),m(a,"class","ri-arrow-right-line txt-sm"),m(u,"class","txt"),m(t,"class","inline-flex"),m(e,"class","svelte-xqpcsf")},m(p,g){S(p,e,g),O(e,t),O(t,i),O(t,s),O(s,r),O(t,o),O(t,a),O(t,f),O(t,u),O(u,h)},p(p,g){g&128&&l!==(l=p[17].originalName+"")&&re(r,l),g&128&&d!==(d=p[17].name+"")&&re(h,d)},d(p){p&&w(e)}}}function Rb(n){let e,t,i,s=n[17].name+"",l,r;return{c(){e=v("li"),t=W("Removed field "),i=v("span"),l=W(s),r=A(),m(i,"class","txt-bold"),m(e,"class","txt-danger svelte-xqpcsf")},m(o,a){S(o,e,a),O(e,t),O(e,i),O(i,l),O(e,r)},p(o,a){a&64&&s!==(s=o[17].name+"")&&re(l,s)},d(o){o&&w(e)}}}function GL(n){let e,t,i,s,l,r,o,a,f=n[6].length&&Mb(),u=n[8]&&Ab(n);return{c(){e=v("div"),t=v("div"),t.innerHTML='<i class="ri-error-warning-line"></i>',i=A(),s=v("div"),l=v("p"),l.textContent=`If any of the collection changes is part of another collection rule, filter or view query,
                you'll have to update it manually!`,r=A(),f&&f.c(),o=A(),u&&u.c(),a=Se(),m(t,"class","icon"),m(s,"class","content txt-bold"),m(e,"class","alert alert-warning")},m(d,h){S(d,e,h),O(e,t),O(e,i),O(e,s),O(s,l),O(s,r),f&&f.m(s,null),S(d,o,h),u&&u.m(d,h),S(d,a,h)},p(d,h){d[6].length?f||(f=Mb(),f.c(),f.m(s,null)):f&&(f.d(1),f=null),d[8]?u?u.p(d,h):(u=Ab(d),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null)},d(d){d&&w(e),f&&f.d(),d&&w(o),u&&u.d(d),d&&w(a)}}}function KL(n){let e;return{c(){e=v("h4"),e.textContent="Confirm collection changes"},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function JL(n){let e,t,i,s,l;return{c(){e=v("button"),e.innerHTML='<span class="txt">Cancel</span>',t=A(),i=v("button"),i.innerHTML='<span class="txt">Confirm</span>',e.autofocus=!0,m(e,"type","button"),m(e,"class","btn btn-transparent"),m(i,"type","button"),m(i,"class","btn btn-expanded")},m(r,o){S(r,e,o),S(r,t,o),S(r,i,o),e.focus(),s||(l=[H(e,"click",n[11]),H(i,"click",n[12])],s=!0)},p:ee,d(r){r&&w(e),r&&w(t),r&&w(i),s=!1,Qe(l)}}}function e8(n){let e,t,i={class:"confirm-changes-panel",popup:!0,$$slots:{footer:[JL],header:[KL],default:[GL]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[13](e),e.$on("hide",n[14]),e.$on("show",n[15]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&16777710&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[13](null),q(e,s)}}}function t8(n,e,t){let i,s,l,r,o;const a=Lt();let f,u,d;async function h($,T){t(1,u=$),t(2,d=T),await Bn(),i||s.length||l.length||r.length?f==null||f.show():g()}function p(){f==null||f.hide()}function g(){p(),a("confirm")}const b=()=>p(),_=()=>g();function y($){ne[$?"unshift":"push"](()=>{f=$,t(4,f)})}function k($){Fe.call(this,n,$)}function C($){Fe.call(this,n,$)}return n.$$.update=()=>{var $,T,P;n.$$.dirty&6&&t(3,i=(u==null?void 0:u.name)!=(d==null?void 0:d.name)),n.$$.dirty&4&&t(7,s=(($=d==null?void 0:d.schema)==null?void 0:$.filter(M=>M.id&&!M.toDelete&&M.originalName!=M.name))||[]),n.$$.dirty&4&&t(6,l=((T=d==null?void 0:d.schema)==null?void 0:T.filter(M=>M.id&&M.toDelete))||[]),n.$$.dirty&6&&t(5,r=((P=d==null?void 0:d.schema)==null?void 0:P.filter(M=>{var E,R,L;const Q=(E=u==null?void 0:u.schema)==null?void 0:E.find(N=>N.id==M.id);return Q?((R=Q.options)==null?void 0:R.maxSelect)!=1&&((L=M.options)==null?void 0:L.maxSelect)==1:!1}))||[]),n.$$.dirty&12&&t(8,o=!(d!=null&&d.$isView)||i)},[p,u,d,i,f,r,l,s,o,g,h,b,_,y,k,C]}class n8 extends ke{constructor(e){super(),ve(this,e,t8,e8,be,{show:10,hide:0})}get show(){return this.$$.ctx[10]}get hide(){return this.$$.ctx[0]}}function Lb(n,e,t){const i=n.slice();return i[49]=e[t][0],i[50]=e[t][1],i}function i8(n){let e,t,i;function s(r){n[33](r)}let l={};return n[2]!==void 0&&(l.collection=n[2]),e=new rL({props:l}),ne.push(()=>pe(e,"collection",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};!t&&o[0]&4&&(t=!0,a.collection=r[2],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function s8(n){let e,t,i;function s(r){n[32](r)}let l={};return n[2]!==void 0&&(l.collection=n[2]),e=new $L({props:l}),ne.push(()=>pe(e,"collection",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};!t&&o[0]&4&&(t=!0,a.collection=r[2],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function Nb(n){let e,t,i,s;function l(o){n[34](o)}let r={};return n[2]!==void 0&&(r.collection=n[2]),t=new OL({props:r}),ne.push(()=>pe(t,"collection",l)),{c(){e=v("div"),V(t.$$.fragment),m(e,"class","tab-item active")},m(o,a){S(o,e,a),X(t,e,null),s=!0},p(o,a){const f={};!i&&a[0]&4&&(i=!0,f.collection=o[2],ye(()=>i=!1)),t.$set(f)},i(o){s||(D(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&w(e),q(t)}}}function xb(n){let e,t,i,s;function l(o){n[35](o)}let r={};return n[2]!==void 0&&(r.collection=n[2]),t=new HL({props:r}),ne.push(()=>pe(t,"collection",l)),{c(){e=v("div"),V(t.$$.fragment),m(e,"class","tab-item"),J(e,"active",n[3]===Wr)},m(o,a){S(o,e,a),X(t,e,null),s=!0},p(o,a){const f={};!i&&a[0]&4&&(i=!0,f.collection=o[2],ye(()=>i=!1)),t.$set(f),(!s||a[0]&8)&&J(e,"active",o[3]===Wr)},i(o){s||(D(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&w(e),q(t)}}}function l8(n){let e,t,i,s,l,r,o;const a=[s8,i8],f=[];function u(p,g){return p[2].$isView?0:1}i=u(n),s=f[i]=a[i](n);let d=n[3]===ra&&Nb(n),h=n[2].$isAuth&&xb(n);return{c(){e=v("div"),t=v("div"),s.c(),l=A(),d&&d.c(),r=A(),h&&h.c(),m(t,"class","tab-item"),J(t,"active",n[3]===ul),m(e,"class","tabs-content svelte-12y0yzb")},m(p,g){S(p,e,g),O(e,t),f[i].m(t,null),O(e,l),d&&d.m(e,null),O(e,r),h&&h.m(e,null),o=!0},p(p,g){let b=i;i=u(p),i===b?f[i].p(p,g):(ue(),I(f[b],1,1,()=>{f[b]=null}),ce(),s=f[i],s?s.p(p,g):(s=f[i]=a[i](p),s.c()),D(s,1),s.m(t,null)),(!o||g[0]&8)&&J(t,"active",p[3]===ul),p[3]===ra?d?(d.p(p,g),g[0]&8&&D(d,1)):(d=Nb(p),d.c(),D(d,1),d.m(e,r)):d&&(ue(),I(d,1,1,()=>{d=null}),ce()),p[2].$isAuth?h?(h.p(p,g),g[0]&4&&D(h,1)):(h=xb(p),h.c(),D(h,1),h.m(e,null)):h&&(ue(),I(h,1,1,()=>{h=null}),ce())},i(p){o||(D(s),D(d),D(h),o=!0)},o(p){I(s),I(d),I(h),o=!1},d(p){p&&w(e),f[i].d(),d&&d.d(),h&&h.d()}}}function Zb(n){let e,t,i,s,l,r,o;return r=new Bi({props:{class:"dropdown dropdown-right m-t-5",$$slots:{default:[r8]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=A(),i=v("button"),s=v("i"),l=A(),V(r.$$.fragment),m(e,"class","flex-fill"),m(s,"class","ri-more-line"),m(i,"type","button"),m(i,"aria-label","More"),m(i,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(a,f){S(a,e,f),S(a,t,f),S(a,i,f),O(i,s),O(i,l),X(r,i,null),o=!0},p(a,f){const u={};f[1]&4194304&&(u.$$scope={dirty:f,ctx:a}),r.$set(u)},i(a){o||(D(r.$$.fragment,a),o=!0)},o(a){I(r.$$.fragment,a),o=!1},d(a){a&&w(e),a&&w(t),a&&w(i),q(r)}}}function r8(n){let e,t,i,s,l;return{c(){e=v("button"),e.innerHTML=`<i class="ri-file-copy-line"></i> 
                        <span class="txt">Duplicate</span>`,t=A(),i=v("button"),i.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">Delete</span>`,m(e,"type","button"),m(e,"class","dropdown-item closable"),m(i,"type","button"),m(i,"class","dropdown-item txt-danger closable")},m(r,o){S(r,e,o),S(r,t,o),S(r,i,o),s||(l=[H(e,"click",n[24]),H(i,"click",Pi(ut(n[25])))],s=!0)},p:ee,d(r){r&&w(e),r&&w(t),r&&w(i),s=!1,Qe(l)}}}function Fb(n){let e,t,i,s;return i=new Bi({props:{class:"dropdown dropdown-right dropdown-nowrap m-t-5",$$slots:{default:[o8]},$$scope:{ctx:n}}}),{c(){e=v("i"),t=A(),V(i.$$.fragment),m(e,"class","ri-arrow-down-s-fill")},m(l,r){S(l,e,r),S(l,t,r),X(i,l,r),s=!0},p(l,r){const o={};r[0]&68|r[1]&4194304&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(D(i.$$.fragment,l),s=!0)},o(l){I(i.$$.fragment,l),s=!1},d(l){l&&w(e),l&&w(t),q(i,l)}}}function Xb(n){let e,t,i,s,l,r=n[50]+"",o,a,f,u,d;function h(){return n[27](n[49])}return{c(){e=v("button"),t=v("i"),s=A(),l=v("span"),o=W(r),a=W(" collection"),f=A(),m(t,"class",i=er(j.getCollectionTypeIcon(n[49]))+" svelte-12y0yzb"),m(l,"class","txt"),m(e,"type","button"),m(e,"class","dropdown-item closable"),J(e,"selected",n[49]==n[2].type)},m(p,g){S(p,e,g),O(e,t),O(e,s),O(e,l),O(l,o),O(l,a),O(e,f),u||(d=H(e,"click",h),u=!0)},p(p,g){n=p,g[0]&64&&i!==(i=er(j.getCollectionTypeIcon(n[49]))+" svelte-12y0yzb")&&m(t,"class",i),g[0]&64&&r!==(r=n[50]+"")&&re(o,r),g[0]&68&&J(e,"selected",n[49]==n[2].type)},d(p){p&&w(e),u=!1,d()}}}function o8(n){let e,t=Object.entries(n[6]),i=[];for(let s=0;s<t.length;s+=1)i[s]=Xb(Lb(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Se()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);S(s,e,l)},p(s,l){if(l[0]&131140){t=Object.entries(s[6]);let r;for(r=0;r<t.length;r+=1){const o=Lb(s,t,r);i[r]?i[r].p(o,l):(i[r]=Xb(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){At(i,s),s&&w(e)}}}function qb(n){let e;return{c(){e=v("div"),e.textContent="System collection",m(e,"class","help-block")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function a8(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y=(n[6][n[2].type]||"N/A")+"",k,C,$,T,P,M,Q,E,R,L=n[2].$isNew&&Fb(n),N=n[2].system&&qb();return{c(){e=v("label"),t=W("Name"),s=A(),l=v("input"),u=A(),d=v("div"),h=v("button"),p=v("span"),g=A(),b=v("span"),_=W("Type: "),k=W(y),C=A(),L&&L.c(),P=A(),N&&N.c(),M=Se(),m(e,"for",i=n[48]),m(l,"type","text"),m(l,"id",r=n[48]),l.required=!0,l.disabled=n[13],m(l,"spellcheck","false"),l.autofocus=o=n[2].$isNew,m(l,"placeholder",a=n[2].$isAuth?'eg. "users"':'eg. "posts"'),l.value=f=n[2].name,m(b,"class","txt"),m(h,"type","button"),m(h,"class",$="btn btn-sm p-r-10 p-l-10 "+(n[2].$isNew?"btn-outline":"btn-transparent")),h.disabled=T=!n[2].$isNew,m(d,"class","form-field-addon")},m(x,Z){S(x,e,Z),O(e,t),S(x,s,Z),S(x,l,Z),S(x,u,Z),S(x,d,Z),O(d,h),O(h,p),O(h,g),O(h,b),O(b,_),O(b,k),O(h,C),L&&L.m(h,null),S(x,P,Z),N&&N.m(x,Z),S(x,M,Z),Q=!0,n[2].$isNew&&l.focus(),E||(R=H(l,"input",n[26]),E=!0)},p(x,Z){(!Q||Z[1]&131072&&i!==(i=x[48]))&&m(e,"for",i),(!Q||Z[1]&131072&&r!==(r=x[48]))&&m(l,"id",r),(!Q||Z[0]&8192)&&(l.disabled=x[13]),(!Q||Z[0]&4&&o!==(o=x[2].$isNew))&&(l.autofocus=o),(!Q||Z[0]&4&&a!==(a=x[2].$isAuth?'eg. "users"':'eg. "posts"'))&&m(l,"placeholder",a),(!Q||Z[0]&4&&f!==(f=x[2].name)&&l.value!==f)&&(l.value=f),(!Q||Z[0]&68)&&y!==(y=(x[6][x[2].type]||"N/A")+"")&&re(k,y),x[2].$isNew?L?(L.p(x,Z),Z[0]&4&&D(L,1)):(L=Fb(x),L.c(),D(L,1),L.m(h,null)):L&&(ue(),I(L,1,1,()=>{L=null}),ce()),(!Q||Z[0]&4&&$!==($="btn btn-sm p-r-10 p-l-10 "+(x[2].$isNew?"btn-outline":"btn-transparent")))&&m(h,"class",$),(!Q||Z[0]&4&&T!==(T=!x[2].$isNew))&&(h.disabled=T),x[2].system?N||(N=qb(),N.c(),N.m(M.parentNode,M)):N&&(N.d(1),N=null)},i(x){Q||(D(L),Q=!0)},o(x){I(L),Q=!1},d(x){x&&w(e),x&&w(s),x&&w(l),x&&w(u),x&&w(d),L&&L.d(),x&&w(P),N&&N.d(x),x&&w(M),E=!1,R()}}}function Vb(n){let e,t,i,s,l,r;return{c(){e=v("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(o,a){S(o,e,a),s=!0,l||(r=Ae(t=Ye.call(null,e,n[11])),l=!0)},p(o,a){t&&fn(t.update)&&a[0]&2048&&t.update.call(null,o[11])},i(o){s||(o&&at(()=>{s&&(i||(i=Ue(e,_n,{duration:150,start:.7},!0)),i.run(1))}),s=!0)},o(o){o&&(i||(i=Ue(e,_n,{duration:150,start:.7},!1)),i.run(0)),s=!1},d(o){o&&w(e),o&&i&&i.end(),l=!1,r()}}}function jb(n){let e,t,i,s,l;return{c(){e=v("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){S(r,e,o),i=!0,s||(l=Ae(Ye.call(null,e,"Has errors")),s=!0)},i(r){i||(r&&at(()=>{i&&(t||(t=Ue(e,_n,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=Ue(e,_n,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(r){r&&w(e),r&&t&&t.end(),s=!1,l()}}}function Ub(n){var a,f,u;let e,t,i,s=!j.isEmpty((a=n[5])==null?void 0:a.options)&&!((u=(f=n[5])==null?void 0:f.options)!=null&&u.manageRule),l,r,o=s&&Wb();return{c(){e=v("button"),t=v("span"),t.textContent="Options",i=A(),o&&o.c(),m(t,"class","txt"),m(e,"type","button"),m(e,"class","tab-item"),J(e,"active",n[3]===Wr)},m(d,h){S(d,e,h),O(e,t),O(e,i),o&&o.m(e,null),l||(r=H(e,"click",n[31]),l=!0)},p(d,h){var p,g,b;h[0]&32&&(s=!j.isEmpty((p=d[5])==null?void 0:p.options)&&!((b=(g=d[5])==null?void 0:g.options)!=null&&b.manageRule)),s?o?h[0]&32&&D(o,1):(o=Wb(),o.c(),D(o,1),o.m(e,null)):o&&(ue(),I(o,1,1,()=>{o=null}),ce()),h[0]&8&&J(e,"active",d[3]===Wr)},d(d){d&&w(e),o&&o.d(),l=!1,r()}}}function Wb(n){let e,t,i,s,l;return{c(){e=v("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){S(r,e,o),i=!0,s||(l=Ae(Ye.call(null,e,"Has errors")),s=!0)},i(r){i||(r&&at(()=>{i&&(t||(t=Ue(e,_n,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=Ue(e,_n,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(r){r&&w(e),r&&t&&t.end(),s=!1,l()}}}function f8(n){var F,U,G,z,B,le,te,se;let e,t=n[2].$isNew?"New collection":"Edit collection",i,s,l,r,o,a,f,u,d,h,p,g=(F=n[2])!=null&&F.$isView?"Query":"Fields",b,_,y=!j.isEmpty(n[11]),k,C,$,T,P=!j.isEmpty((U=n[5])==null?void 0:U.listRule)||!j.isEmpty((G=n[5])==null?void 0:G.viewRule)||!j.isEmpty((z=n[5])==null?void 0:z.createRule)||!j.isEmpty((B=n[5])==null?void 0:B.updateRule)||!j.isEmpty((le=n[5])==null?void 0:le.deleteRule)||!j.isEmpty((se=(te=n[5])==null?void 0:te.options)==null?void 0:se.manageRule),M,Q,E,R,L=!n[2].$isNew&&!n[2].system&&Zb(n);o=new me({props:{class:"form-field collection-field-name required m-b-0 "+(n[13]?"disabled":""),name:"name",$$slots:{default:[a8,({uniqueId:Oe})=>({48:Oe}),({uniqueId:Oe})=>[0,Oe?131072:0]]},$$scope:{ctx:n}}});let N=y&&Vb(n),x=P&&jb(),Z=n[2].$isAuth&&Ub(n);return{c(){e=v("h4"),i=W(t),s=A(),L&&L.c(),l=A(),r=v("form"),V(o.$$.fragment),a=A(),f=v("input"),u=A(),d=v("div"),h=v("button"),p=v("span"),b=W(g),_=A(),N&&N.c(),k=A(),C=v("button"),$=v("span"),$.textContent="API Rules",T=A(),x&&x.c(),M=A(),Z&&Z.c(),m(e,"class","upsert-panel-title svelte-12y0yzb"),m(f,"type","submit"),m(f,"class","hidden"),m(f,"tabindex","-1"),m(r,"class","block"),m(p,"class","txt"),m(h,"type","button"),m(h,"class","tab-item"),J(h,"active",n[3]===ul),m($,"class","txt"),m(C,"type","button"),m(C,"class","tab-item"),J(C,"active",n[3]===ra),m(d,"class","tabs-header stretched")},m(Oe,$e){S(Oe,e,$e),O(e,i),S(Oe,s,$e),L&&L.m(Oe,$e),S(Oe,l,$e),S(Oe,r,$e),X(o,r,null),O(r,a),O(r,f),S(Oe,u,$e),S(Oe,d,$e),O(d,h),O(h,p),O(p,b),O(h,_),N&&N.m(h,null),O(d,k),O(d,C),O(C,$),O(C,T),x&&x.m(C,null),O(d,M),Z&&Z.m(d,null),Q=!0,E||(R=[H(r,"submit",ut(n[28])),H(h,"click",n[29]),H(C,"click",n[30])],E=!0)},p(Oe,$e){var He,Ce,Pe,lt,Qt,rt,Je,Tt;(!Q||$e[0]&4)&&t!==(t=Oe[2].$isNew?"New collection":"Edit collection")&&re(i,t),!Oe[2].$isNew&&!Oe[2].system?L?(L.p(Oe,$e),$e[0]&4&&D(L,1)):(L=Zb(Oe),L.c(),D(L,1),L.m(l.parentNode,l)):L&&(ue(),I(L,1,1,()=>{L=null}),ce());const Ze={};$e[0]&8192&&(Ze.class="form-field collection-field-name required m-b-0 "+(Oe[13]?"disabled":"")),$e[0]&8260|$e[1]&4325376&&(Ze.$$scope={dirty:$e,ctx:Oe}),o.$set(Ze),(!Q||$e[0]&4)&&g!==(g=(He=Oe[2])!=null&&He.$isView?"Query":"Fields")&&re(b,g),$e[0]&2048&&(y=!j.isEmpty(Oe[11])),y?N?(N.p(Oe,$e),$e[0]&2048&&D(N,1)):(N=Vb(Oe),N.c(),D(N,1),N.m(h,null)):N&&(ue(),I(N,1,1,()=>{N=null}),ce()),(!Q||$e[0]&8)&&J(h,"active",Oe[3]===ul),$e[0]&32&&(P=!j.isEmpty((Ce=Oe[5])==null?void 0:Ce.listRule)||!j.isEmpty((Pe=Oe[5])==null?void 0:Pe.viewRule)||!j.isEmpty((lt=Oe[5])==null?void 0:lt.createRule)||!j.isEmpty((Qt=Oe[5])==null?void 0:Qt.updateRule)||!j.isEmpty((rt=Oe[5])==null?void 0:rt.deleteRule)||!j.isEmpty((Tt=(Je=Oe[5])==null?void 0:Je.options)==null?void 0:Tt.manageRule)),P?x?$e[0]&32&&D(x,1):(x=jb(),x.c(),D(x,1),x.m(C,null)):x&&(ue(),I(x,1,1,()=>{x=null}),ce()),(!Q||$e[0]&8)&&J(C,"active",Oe[3]===ra),Oe[2].$isAuth?Z?Z.p(Oe,$e):(Z=Ub(Oe),Z.c(),Z.m(d,null)):Z&&(Z.d(1),Z=null)},i(Oe){Q||(D(L),D(o.$$.fragment,Oe),D(N),D(x),Q=!0)},o(Oe){I(L),I(o.$$.fragment,Oe),I(N),I(x),Q=!1},d(Oe){Oe&&w(e),Oe&&w(s),L&&L.d(Oe),Oe&&w(l),Oe&&w(r),q(o),Oe&&w(u),Oe&&w(d),N&&N.d(),x&&x.d(),Z&&Z.d(),E=!1,Qe(R)}}}function u8(n){let e,t,i,s,l,r=n[2].$isNew?"Create":"Save changes",o,a,f,u;return{c(){e=v("button"),t=v("span"),t.textContent="Cancel",i=A(),s=v("button"),l=v("span"),o=W(r),m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[9],m(l,"class","txt"),m(s,"type","button"),m(s,"class","btn btn-expanded"),s.disabled=a=!n[12]||n[9],J(s,"btn-loading",n[9])},m(d,h){S(d,e,h),O(e,t),S(d,i,h),S(d,s,h),O(s,l),O(l,o),f||(u=[H(e,"click",n[22]),H(s,"click",n[23])],f=!0)},p(d,h){h[0]&512&&(e.disabled=d[9]),h[0]&4&&r!==(r=d[2].$isNew?"Create":"Save changes")&&re(o,r),h[0]&4608&&a!==(a=!d[12]||d[9])&&(s.disabled=a),h[0]&512&&J(s,"btn-loading",d[9])},d(d){d&&w(e),d&&w(i),d&&w(s),f=!1,Qe(u)}}}function c8(n){let e,t,i,s,l={class:"overlay-panel-lg colored-header collection-panel",escClose:!1,overlayClose:!n[9],beforeHide:n[36],$$slots:{footer:[u8],header:[f8],default:[l8]},$$scope:{ctx:n}};e=new Fn({props:l}),n[37](e),e.$on("hide",n[38]),e.$on("show",n[39]);let r={};return i=new n8({props:r}),n[40](i),i.$on("confirm",n[41]),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment)},m(o,a){X(e,o,a),S(o,t,a),X(i,o,a),s=!0},p(o,a){const f={};a[0]&512&&(f.overlayClose=!o[9]),a[0]&1040&&(f.beforeHide=o[36]),a[0]&14956|a[1]&4194304&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};i.$set(u)},i(o){s||(D(e.$$.fragment,o),D(i.$$.fragment,o),s=!0)},o(o){I(e.$$.fragment,o),I(i.$$.fragment,o),s=!1},d(o){n[37](null),q(e,o),o&&w(t),n[40](null),q(i,o)}}}const ul="schema",ra="api_rules",Wr="options",d8="base",zb="auth",Bb="view";function od(n){return JSON.stringify(n)}function h8(n,e,t){let i,s,l,r;et(n,Gs,_e=>t(5,r=_e));const o={};o[d8]="Base",o[Bb]="View",o[zb]="Auth";const a=Lt();let f,u,d=null,h=new ci,p=!1,g=!1,b=ul,_=od(h),y="",k=!1,C="";function $(_e){t(3,b=_e)}function T(_e){return M(_e),t(10,g=!0),$(ul),f==null?void 0:f.show()}function P(){return f==null?void 0:f.hide()}async function M(_e){Mn({}),typeof _e<"u"?(t(20,d=_e),t(2,h=_e.$clone())):(t(20,d=null),t(2,h=new ci)),t(2,h.schema=h.schema||[],h),t(2,h.originalName=h.name||"",h),await Bn(),t(21,_=od(h))}function Q(){h.$isNew?E():u==null||u.show(d,h)}function E(){if(p)return;t(9,p=!0);const _e=R();let tt;h.$isNew?tt=de.collections.create(_e):tt=de.collections.update(h.id,_e),tt.then(Me=>{Tp(),w5(Me),k&&(tt=de.collection(C).getList(1,500),tt.then(kt=>{kt.items.forEach(async Yt=>{await de.collection(_e.name).create(Yt,{$autoCancel:!1})})})),t(10,g=!1),P(),Jt(h.$isNew?"Successfully created collection.":"Successfully updated collection."),a("save",{isNew:h.$isNew,collection:Me})}).catch(Me=>{de.error(Me)}).finally(()=>{t(9,p=!1)})}function R(){const _e=h.$export();_e.schema=_e.schema.slice(0);for(let tt=_e.schema.length-1;tt>=0;tt--)_e.schema[tt].toDelete&&_e.schema.splice(tt,1);return _e}function L(){d!=null&&d.id&&Wn(`Do you really want to delete collection "${d==null?void 0:d.name}" and all its records?`,()=>de.collections.delete(d==null?void 0:d.id).then(()=>{P(),Jt(`Successfully deleted collection "${d==null?void 0:d.name}".`),a("delete",d),S5(d)}).catch(_e=>{de.error(_e)}))}function N(_e){t(2,h.type=_e,h),Ts("schema")}function x(){s?Wn("You have unsaved changes. Do you really want to discard them?",()=>{Z()}):Z()}async function Z(){const _e=d==null?void 0:d.$clone();if(_e){if(C=_e.name,_e.id="",_e.created="",_e.updated="",_e.name+="_duplicate",!j.isEmpty(_e.schema))for(const tt of _e.schema)tt.id="";if(!j.isEmpty(_e.indexes))for(let tt=0;tt<_e.indexes.length;tt++){const Me=j.parseIndex(_e.indexes[tt]);Me.indexName="idx_"+j.randomString(7),Me.tableName=_e.name,_e.indexes[tt]=j.buildIndex(Me)}}k=!0,T(_e),await Bn(),t(21,_="")}const F=()=>P(),U=()=>Q(),G=()=>x(),z=()=>L(),B=_e=>{t(2,h.name=j.slugify(_e.target.value),h),_e.target.value=h.name},le=_e=>N(_e),te=()=>{l&&Q()},se=()=>$(ul),Oe=()=>$(ra),$e=()=>$(Wr);function Ze(_e){h=_e,t(2,h),t(20,d)}function He(_e){h=_e,t(2,h),t(20,d)}function Ce(_e){h=_e,t(2,h),t(20,d)}function Pe(_e){h=_e,t(2,h),t(20,d)}const lt=()=>s&&g?(Wn("You have unsaved changes. Do you really want to close the panel?",()=>{t(10,g=!1),P()}),!1):!0;function Qt(_e){ne[_e?"unshift":"push"](()=>{f=_e,t(7,f)})}function rt(_e){Fe.call(this,n,_e)}function Je(_e){Fe.call(this,n,_e)}function Tt(_e){ne[_e?"unshift":"push"](()=>{u=_e,t(8,u)})}const ge=()=>E();return n.$$.update=()=>{var _e,tt;n.$$.dirty[0]&32&&(r.schema||(_e=r.options)!=null&&_e.query?t(11,y=j.getNestedVal(r,"schema.message")||"Has errors"):t(11,y="")),n.$$.dirty[0]&4&&h.type===Bb&&(t(2,h.createRule=null,h),t(2,h.updateRule=null,h),t(2,h.deleteRule=null,h),t(2,h.indexes=[],h)),n.$$.dirty[0]&1048580&&h!=null&&h.name&&(d==null?void 0:d.name)!=(h==null?void 0:h.name)&&t(2,h.indexes=(tt=h.indexes)==null?void 0:tt.map(Me=>j.replaceIndexTableName(Me,h.name)),h),n.$$.dirty[0]&4&&t(13,i=!h.$isNew&&h.system),n.$$.dirty[0]&2097156&&t(4,s=_!=od(h)),n.$$.dirty[0]&20&&t(12,l=h.$isNew||s),n.$$.dirty[0]&12&&b===Wr&&h.type!==zb&&$(ul)},[$,P,h,b,s,r,o,f,u,p,g,y,l,i,Q,E,L,N,x,T,d,_,F,U,G,z,B,le,te,se,Oe,$e,Ze,He,Ce,Pe,lt,Qt,rt,Je,Tt,ge]}class nm extends ke{constructor(e){super(),ve(this,e,h8,c8,be,{changeTab:0,show:19,hide:1},null,[-1,-1])}get changeTab(){return this.$$.ctx[0]}get show(){return this.$$.ctx[19]}get hide(){return this.$$.ctx[1]}}function Yb(n,e,t){const i=n.slice();return i[15]=e[t],i}function Hb(n){let e,t=n[1].length&&Gb();return{c(){t&&t.c(),e=Se()},m(i,s){t&&t.m(i,s),S(i,e,s)},p(i,s){i[1].length?t||(t=Gb(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&w(e)}}}function Gb(n){let e;return{c(){e=v("p"),e.textContent="No collections found.",m(e,"class","txt-hint m-t-10 m-b-10 txt-center")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function Kb(n,e){let t,i,s,l,r,o=e[15].name+"",a,f,u,d,h,p;return{key:n,first:null,c(){var g;t=v("a"),i=v("i"),l=A(),r=v("span"),a=W(o),f=A(),m(i,"class",s=j.getCollectionTypeIcon(e[15].type)),m(r,"class","txt"),m(t,"href",u="/collections?collectionId="+e[15].id),m(t,"class","sidebar-list-item"),m(t,"title",d=e[15].name),J(t,"active",((g=e[5])==null?void 0:g.id)===e[15].id),this.first=t},m(g,b){S(g,t,b),O(t,i),O(t,l),O(t,r),O(r,a),O(t,f),h||(p=Ae(qn.call(null,t)),h=!0)},p(g,b){var _;e=g,b&8&&s!==(s=j.getCollectionTypeIcon(e[15].type))&&m(i,"class",s),b&8&&o!==(o=e[15].name+"")&&re(a,o),b&8&&u!==(u="/collections?collectionId="+e[15].id)&&m(t,"href",u),b&8&&d!==(d=e[15].name)&&m(t,"title",d),b&40&&J(t,"active",((_=e[5])==null?void 0:_.id)===e[15].id)},d(g){g&&w(t),h=!1,p()}}}function Jb(n){let e,t,i,s;return{c(){e=v("footer"),t=v("button"),t.innerHTML=`<i class="ri-add-line"></i> 
                <span class="txt">New collection</span>`,m(t,"type","button"),m(t,"class","btn btn-block btn-outline"),m(e,"class","sidebar-footer")},m(l,r){S(l,e,r),O(e,t),i||(s=H(t,"click",n[12]),i=!0)},p:ee,d(l){l&&w(e),i=!1,s()}}}function p8(n){let e,t,i,s,l,r,o,a,f,u,d,h=[],p=new Map,g,b,_,y,k,C,$=n[3];const T=E=>E[15].id;for(let E=0;E<$.length;E+=1){let R=Yb(n,$,E),L=T(R);p.set(L,h[E]=Kb(L,R))}let P=null;$.length||(P=Hb(n));let M=!n[7]&&Jb(n),Q={};return _=new nm({props:Q}),n[13](_),_.$on("save",n[14]),{c(){e=v("aside"),t=v("header"),i=v("div"),s=v("div"),l=v("button"),l.innerHTML='<i class="ri-close-line"></i>',r=A(),o=v("input"),a=A(),f=v("hr"),u=A(),d=v("div");for(let E=0;E<h.length;E+=1)h[E].c();P&&P.c(),g=A(),M&&M.c(),b=A(),V(_.$$.fragment),m(l,"type","button"),m(l,"class","btn btn-xs btn-transparent btn-circle btn-clear"),J(l,"hidden",!n[4]),m(s,"class","form-field-addon"),m(o,"type","text"),m(o,"placeholder","Search collections..."),m(i,"class","form-field search"),J(i,"active",n[4]),m(t,"class","sidebar-header"),m(f,"class","m-t-5 m-b-xs"),m(d,"class","sidebar-content"),J(d,"fade",n[6]),J(d,"sidebar-content-compact",n[3].length>20),m(e,"class","page-sidebar collection-sidebar")},m(E,R){S(E,e,R),O(e,t),O(t,i),O(i,s),O(s,l),O(i,r),O(i,o),fe(o,n[0]),O(e,a),O(e,f),O(e,u),O(e,d);for(let L=0;L<h.length;L+=1)h[L]&&h[L].m(d,null);P&&P.m(d,null),O(e,g),M&&M.m(e,null),S(E,b,R),X(_,E,R),y=!0,k||(C=[H(l,"click",n[10]),H(o,"input",n[11])],k=!0)},p(E,[R]){(!y||R&16)&&J(l,"hidden",!E[4]),R&1&&o.value!==E[0]&&fe(o,E[0]),(!y||R&16)&&J(i,"active",E[4]),R&42&&($=E[3],h=It(h,R,T,1,E,$,p,d,or,Kb,null,Yb),!$.length&&P?P.p(E,R):$.length?P&&(P.d(1),P=null):(P=Hb(E),P.c(),P.m(d,null))),(!y||R&64)&&J(d,"fade",E[6]),(!y||R&8)&&J(d,"sidebar-content-compact",E[3].length>20),E[7]?M&&(M.d(1),M=null):M?M.p(E,R):(M=Jb(E),M.c(),M.m(e,null));const L={};_.$set(L)},i(E){y||(D(_.$$.fragment,E),y=!0)},o(E){I(_.$$.fragment,E),y=!1},d(E){E&&w(e);for(let R=0;R<h.length;R+=1)h[R].d();P&&P.d(),M&&M.d(),E&&w(b),n[13](null),q(_,E),k=!1,Qe(C)}}}function m8(){setTimeout(()=>{const n=document.querySelector(".collection-sidebar .sidebar-list-item.active");n&&(n==null||n.scrollIntoView({block:"nearest"}))},0)}function g8(n,e,t){let i,s,l,r,o,a,f;et(n,Ps,k=>t(5,r=k)),et(n,As,k=>t(9,o=k)),et(n,ru,k=>t(6,a=k)),et(n,qr,k=>t(7,f=k));let u,d="";function h(k){Zn(Ps,r=k,r)}const p=()=>t(0,d="");function g(){d=this.value,t(0,d)}const b=()=>u==null?void 0:u.show();function _(k){ne[k?"unshift":"push"](()=>{u=k,t(2,u)})}const y=k=>{var C;(C=k.detail)!=null&&C.isNew&&k.detail.collection&&h(k.detail.collection)};return n.$$.update=()=>{n.$$.dirty&512&&o&&m8(),n.$$.dirty&1&&t(1,i=d.replace(/\s+/g,"").toLowerCase()),n.$$.dirty&1&&t(4,s=d!==""),n.$$.dirty&515&&t(3,l=o.filter(k=>k.id==d||k.name.replace(/\s+/g,"").toLowerCase().includes(i)))},[d,i,u,l,s,r,a,f,h,o,p,g,b,_,y]}class b8 extends ke{constructor(e){super(),ve(this,e,g8,p8,be,{})}}function e_(n,e,t){const i=n.slice();return i[14]=e[t][0],i[15]=e[t][1],i}function t_(n){n[18]=n[19].default}function n_(n,e,t){const i=n.slice();return i[14]=e[t][0],i[15]=e[t][1],i[21]=t,i}function i_(n){let e;return{c(){e=v("hr"),m(e,"class","m-t-sm m-b-sm")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function s_(n,e){let t,i=e[21]===Object.keys(e[6]).length,s,l,r=e[15].label+"",o,a,f,u,d=i&&i_();function h(){return e[9](e[14])}return{key:n,first:null,c(){t=Se(),d&&d.c(),s=A(),l=v("button"),o=W(r),a=A(),m(l,"type","button"),m(l,"class","sidebar-item"),J(l,"active",e[5]===e[14]),this.first=t},m(p,g){S(p,t,g),d&&d.m(p,g),S(p,s,g),S(p,l,g),O(l,o),O(l,a),f||(u=H(l,"click",h),f=!0)},p(p,g){e=p,g&8&&(i=e[21]===Object.keys(e[6]).length),i?d||(d=i_(),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null),g&8&&r!==(r=e[15].label+"")&&re(o,r),g&40&&J(l,"active",e[5]===e[14])},d(p){p&&w(t),d&&d.d(p),p&&w(s),p&&w(l),f=!1,u()}}}function l_(n){let e,t,i,s={ctx:n,current:null,token:null,hasCatch:!1,pending:y8,then:O8,catch:_8,value:19,blocks:[,,,]};return jm(t=n[15].component,s),{c(){e=Se(),s.block.c()},m(l,r){S(l,e,r),s.block.m(l,s.anchor=r),s.mount=()=>e.parentNode,s.anchor=e,i=!0},p(l,r){n=l,s.ctx=n,r&8&&t!==(t=n[15].component)&&jm(t,s)||z3(s,n,r)},i(l){i||(D(s.block),i=!0)},o(l){for(let r=0;r<3;r+=1){const o=s.blocks[r];I(o)}i=!1},d(l){l&&w(e),s.block.d(l),s.token=null,s=null}}}function _8(n){return{c:ee,m:ee,p:ee,i:ee,o:ee,d:ee}}function O8(n){t_(n);let e,t,i;return e=new n[18]({props:{collection:n[2]}}),{c(){V(e.$$.fragment),t=A()},m(s,l){X(e,s,l),S(s,t,l),i=!0},p(s,l){t_(s);const r={};l&4&&(r.collection=s[2]),e.$set(r)},i(s){i||(D(e.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),i=!1},d(s){q(e,s),s&&w(t)}}}function y8(n){return{c:ee,m:ee,p:ee,i:ee,o:ee,d:ee}}function r_(n,e){let t,i,s,l=e[5]===e[14]&&l_(e);return{key:n,first:null,c(){t=Se(),l&&l.c(),i=Se(),this.first=t},m(r,o){S(r,t,o),l&&l.m(r,o),S(r,i,o),s=!0},p(r,o){e=r,e[5]===e[14]?l?(l.p(e,o),o&40&&D(l,1)):(l=l_(e),l.c(),D(l,1),l.m(i.parentNode,i)):l&&(ue(),I(l,1,1,()=>{l=null}),ce())},i(r){s||(D(l),s=!0)},o(r){I(l),s=!1},d(r){r&&w(t),l&&l.d(r),r&&w(i)}}}function v8(n){let e,t,i,s=[],l=new Map,r,o,a=[],f=new Map,u,d=Object.entries(n[3]);const h=b=>b[14];for(let b=0;b<d.length;b+=1){let _=n_(n,d,b),y=h(_);l.set(y,s[b]=s_(y,_))}let p=Object.entries(n[3]);const g=b=>b[14];for(let b=0;b<p.length;b+=1){let _=e_(n,p,b),y=g(_);f.set(y,a[b]=r_(y,_))}return{c(){var b;e=v("div"),t=v("aside"),i=v("nav");for(let _=0;_<s.length;_+=1)s[_].c();r=A(),o=v("div");for(let _=0;_<a.length;_+=1)a[_].c();m(i,"class","sidebar-content"),m(t,"class","docs-sidebar"),J(t,"compact",(b=n[2])==null?void 0:b.$isAuth),m(o,"class","docs-content"),m(e,"class","docs-content-wrapper")},m(b,_){S(b,e,_),O(e,t),O(t,i);for(let y=0;y<s.length;y+=1)s[y]&&s[y].m(i,null);O(e,r),O(e,o);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(o,null);u=!0},p(b,_){var y;_&106&&(d=Object.entries(b[3]),s=It(s,_,h,1,b,d,l,i,or,s_,null,n_)),(!u||_&4)&&J(t,"compact",(y=b[2])==null?void 0:y.$isAuth),_&44&&(p=Object.entries(b[3]),ue(),a=It(a,_,g,1,b,p,f,o,hn,r_,null,e_),ce())},i(b){if(!u){for(let _=0;_<p.length;_+=1)D(a[_]);u=!0}},o(b){for(let _=0;_<a.length;_+=1)I(a[_]);u=!1},d(b){b&&w(e);for(let _=0;_<s.length;_+=1)s[_].d();for(let _=0;_<a.length;_+=1)a[_].d()}}}function k8(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<span class="txt">Close</span>',m(e,"type","button"),m(e,"class","btn btn-transparent")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[8]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function w8(n){let e,t,i={class:"docs-panel",$$slots:{footer:[k8],default:[v8]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[10](e),e.$on("hide",n[11]),e.$on("show",n[12]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&4194348&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[10](null),q(e,s)}}}function S8(n,e,t){const i={list:{label:"List/Search",component:_t(()=>import("./ListApiDocs-0407e8cb.js"),["./ListApiDocs-0407e8cb.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css","./ListApiDocs-68f52edd.css"],import.meta.url)},view:{label:"View",component:_t(()=>import("./ViewApiDocs-7ef608b2.js"),["./ViewApiDocs-7ef608b2.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-ea6bd558.js"],import.meta.url)},create:{label:"Create",component:_t(()=>import("./CreateApiDocs-0058b6a2.js"),["./CreateApiDocs-0058b6a2.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-ea6bd558.js"],import.meta.url)},update:{label:"Update",component:_t(()=>import("./UpdateApiDocs-c9e33eed.js"),["./UpdateApiDocs-c9e33eed.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-ea6bd558.js"],import.meta.url)},delete:{label:"Delete",component:_t(()=>import("./DeleteApiDocs-03a75548.js"),["./DeleteApiDocs-03a75548.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},realtime:{label:"Realtime",component:_t(()=>import("./RealtimeApiDocs-e85c7dc8.js"),["./RealtimeApiDocs-e85c7dc8.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css"],import.meta.url)}},s={"auth-with-password":{label:"Auth with password",component:_t(()=>import("./AuthWithPasswordDocs-641bf097.js"),["./AuthWithPasswordDocs-641bf097.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-ea6bd558.js"],import.meta.url)},"auth-with-oauth2":{label:"Auth with OAuth2",component:_t(()=>import("./AuthWithOAuth2Docs-1a6a6961.js"),["./AuthWithOAuth2Docs-1a6a6961.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-ea6bd558.js"],import.meta.url)},refresh:{label:"Auth refresh",component:_t(()=>import("./AuthRefreshDocs-5dae5d87.js"),["./AuthRefreshDocs-5dae5d87.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-ea6bd558.js"],import.meta.url)},"request-verification":{label:"Request verification",component:_t(()=>import("./RequestVerificationDocs-d3d4c125.js"),["./RequestVerificationDocs-d3d4c125.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-verification":{label:"Confirm verification",component:_t(()=>import("./ConfirmVerificationDocs-2a78c51d.js"),["./ConfirmVerificationDocs-2a78c51d.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"request-password-reset":{label:"Request password reset",component:_t(()=>import("./RequestPasswordResetDocs-8b384958.js"),["./RequestPasswordResetDocs-8b384958.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-password-reset":{label:"Confirm password reset",component:_t(()=>import("./ConfirmPasswordResetDocs-ada64f0f.js"),["./ConfirmPasswordResetDocs-ada64f0f.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"request-email-change":{label:"Request email change",component:_t(()=>import("./RequestEmailChangeDocs-e4e81a4d.js"),["./RequestEmailChangeDocs-e4e81a4d.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-email-change":{label:"Confirm email change",component:_t(()=>import("./ConfirmEmailChangeDocs-7eadbe38.js"),["./ConfirmEmailChangeDocs-7eadbe38.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"list-auth-methods":{label:"List auth methods",component:_t(()=>import("./AuthMethodsDocs-10e44023.js"),["./AuthMethodsDocs-10e44023.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-ea6bd558.js"],import.meta.url)},"list-linked-accounts":{label:"List OAuth2 accounts",component:_t(()=>import("./ListExternalAuthsDocs-6ba5fbc1.js"),["./ListExternalAuthsDocs-6ba5fbc1.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-ea6bd558.js"],import.meta.url)},"unlink-account":{label:"Unlink OAuth2 account",component:_t(()=>import("./UnlinkExternalAuthDocs-9e0e0996.js"),["./UnlinkExternalAuthDocs-9e0e0996.js","./SdkTabs-04dd5574.js","./SdkTabs-9b0b7a06.css"],import.meta.url)}};let l,r=new ci,o,a=[];a.length&&(o=Object.keys(a)[0]);function f(y){return t(2,r=y),d(Object.keys(a)[0]),l==null?void 0:l.show()}function u(){return l==null?void 0:l.hide()}function d(y){t(5,o=y)}const h=()=>u(),p=y=>d(y);function g(y){ne[y?"unshift":"push"](()=>{l=y,t(4,l)})}function b(y){Fe.call(this,n,y)}function _(y){Fe.call(this,n,y)}return n.$$.update=()=>{n.$$.dirty&12&&(r.$isAuth?(t(3,a=Object.assign({},i,s)),!(r!=null&&r.options.allowUsernameAuth)&&!(r!=null&&r.options.allowEmailAuth)&&delete a["auth-with-password"],r!=null&&r.options.allowOAuth2Auth||delete a["auth-with-oauth2"]):r.$isView?(t(3,a=Object.assign({},i)),delete a.create,delete a.update,delete a.delete,delete a.realtime):t(3,a=Object.assign({},i)))},[u,d,r,a,l,o,i,f,h,p,g,b,_]}class $8 extends ke{constructor(e){super(),ve(this,e,S8,w8,be,{show:7,hide:0,changeTab:1})}get show(){return this.$$.ctx[7]}get hide(){return this.$$.ctx[0]}get changeTab(){return this.$$.ctx[1]}}function C8(n){let e,t,i,s,l,r,o,a,f,u,d,h;return{c(){e=v("label"),t=v("i"),i=A(),s=v("span"),s.textContent="Username",r=A(),o=v("input"),m(t,"class",j.getFieldTypeIcon("user")),m(s,"class","txt"),m(e,"for",l=n[13]),m(o,"type","text"),m(o,"requried",a=!n[2]),m(o,"placeholder",f=n[2]?"Leave empty to auto generate...":n[4]),m(o,"id",u=n[13])},m(p,g){S(p,e,g),O(e,t),O(e,i),O(e,s),S(p,r,g),S(p,o,g),fe(o,n[0].username),d||(h=H(o,"input",n[5]),d=!0)},p(p,g){g&8192&&l!==(l=p[13])&&m(e,"for",l),g&4&&a!==(a=!p[2])&&m(o,"requried",a),g&4&&f!==(f=p[2]?"Leave empty to auto generate...":p[4])&&m(o,"placeholder",f),g&8192&&u!==(u=p[13])&&m(o,"id",u),g&1&&o.value!==p[0].username&&fe(o,p[0].username)},d(p){p&&w(e),p&&w(r),p&&w(o),d=!1,h()}}}function T8(n){let e,t,i,s,l,r,o,a,f,u,d=n[0].emailVisibility?"On":"Off",h,p,g,b,_,y,k,C;return{c(){var $;e=v("label"),t=v("i"),i=A(),s=v("span"),s.textContent="Email",r=A(),o=v("div"),a=v("button"),f=v("span"),u=W("Public: "),h=W(d),g=A(),b=v("input"),m(t,"class",j.getFieldTypeIcon("email")),m(s,"class","txt"),m(e,"for",l=n[13]),m(f,"class","txt"),m(a,"type","button"),m(a,"class",p="btn btn-sm btn-transparent "+(n[0].emailVisibility?"btn-success":"btn-hint")),m(o,"class","form-field-addon email-visibility-addon svelte-1751a4d"),m(b,"type","email"),b.autofocus=n[2],m(b,"autocomplete","off"),m(b,"id",_=n[13]),b.required=y=($=n[1].options)==null?void 0:$.requireEmail,m(b,"class","svelte-1751a4d")},m($,T){S($,e,T),O(e,t),O(e,i),O(e,s),S($,r,T),S($,o,T),O(o,a),O(a,f),O(f,u),O(f,h),S($,g,T),S($,b,T),fe(b,n[0].email),n[2]&&b.focus(),k||(C=[Ae(Ye.call(null,a,{text:"Make email public or private",position:"top-right"})),H(a,"click",n[6]),H(b,"input",n[7])],k=!0)},p($,T){var P;T&8192&&l!==(l=$[13])&&m(e,"for",l),T&1&&d!==(d=$[0].emailVisibility?"On":"Off")&&re(h,d),T&1&&p!==(p="btn btn-sm btn-transparent "+($[0].emailVisibility?"btn-success":"btn-hint"))&&m(a,"class",p),T&4&&(b.autofocus=$[2]),T&8192&&_!==(_=$[13])&&m(b,"id",_),T&2&&y!==(y=(P=$[1].options)==null?void 0:P.requireEmail)&&(b.required=y),T&1&&b.value!==$[0].email&&fe(b,$[0].email)},d($){$&&w(e),$&&w(r),$&&w(o),$&&w(g),$&&w(b),k=!1,Qe(C)}}}function o_(n){let e,t;return e=new me({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[P8,({uniqueId:i})=>({13:i}),({uniqueId:i})=>i?8192:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&24584&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function P8(n){let e,t,i,s,l,r,o,a;return{c(){e=v("input"),i=A(),s=v("label"),l=W("Change password"),m(e,"type","checkbox"),m(e,"id",t=n[13]),m(s,"for",r=n[13])},m(f,u){S(f,e,u),e.checked=n[3],S(f,i,u),S(f,s,u),O(s,l),o||(a=H(e,"change",n[8]),o=!0)},p(f,u){u&8192&&t!==(t=f[13])&&m(e,"id",t),u&8&&(e.checked=f[3]),u&8192&&r!==(r=f[13])&&m(s,"for",r)},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,a()}}}function a_(n){let e,t,i,s,l,r,o,a,f;return s=new me({props:{class:"form-field required",name:"password",$$slots:{default:[M8,({uniqueId:u})=>({13:u}),({uniqueId:u})=>u?8192:0]},$$scope:{ctx:n}}}),o=new me({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[A8,({uniqueId:u})=>({13:u}),({uniqueId:u})=>u?8192:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),i=v("div"),V(s.$$.fragment),l=A(),r=v("div"),V(o.$$.fragment),m(i,"class","col-sm-6"),m(r,"class","col-sm-6"),m(t,"class","grid"),J(t,"p-t-xs",n[3]),m(e,"class","block")},m(u,d){S(u,e,d),O(e,t),O(t,i),X(s,i,null),O(t,l),O(t,r),X(o,r,null),f=!0},p(u,d){const h={};d&24577&&(h.$$scope={dirty:d,ctx:u}),s.$set(h);const p={};d&24577&&(p.$$scope={dirty:d,ctx:u}),o.$set(p),(!f||d&8)&&J(t,"p-t-xs",u[3])},i(u){f||(D(s.$$.fragment,u),D(o.$$.fragment,u),u&&at(()=>{f&&(a||(a=Ue(e,gt,{duration:150},!0)),a.run(1))}),f=!0)},o(u){I(s.$$.fragment,u),I(o.$$.fragment,u),u&&(a||(a=Ue(e,gt,{duration:150},!1)),a.run(0)),f=!1},d(u){u&&w(e),q(s),q(o),u&&a&&a.end()}}}function M8(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("label"),t=v("i"),i=A(),s=v("span"),s.textContent="Password",r=A(),o=v("input"),m(t,"class","ri-lock-line"),m(s,"class","txt"),m(e,"for",l=n[13]),m(o,"type","password"),m(o,"autocomplete","new-password"),m(o,"id",a=n[13]),o.required=!0},m(d,h){S(d,e,h),O(e,t),O(e,i),O(e,s),S(d,r,h),S(d,o,h),fe(o,n[0].password),f||(u=H(o,"input",n[9]),f=!0)},p(d,h){h&8192&&l!==(l=d[13])&&m(e,"for",l),h&8192&&a!==(a=d[13])&&m(o,"id",a),h&1&&o.value!==d[0].password&&fe(o,d[0].password)},d(d){d&&w(e),d&&w(r),d&&w(o),f=!1,u()}}}function A8(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("label"),t=v("i"),i=A(),s=v("span"),s.textContent="Password confirm",r=A(),o=v("input"),m(t,"class","ri-lock-line"),m(s,"class","txt"),m(e,"for",l=n[13]),m(o,"type","password"),m(o,"autocomplete","new-password"),m(o,"id",a=n[13]),o.required=!0},m(d,h){S(d,e,h),O(e,t),O(e,i),O(e,s),S(d,r,h),S(d,o,h),fe(o,n[0].passwordConfirm),f||(u=H(o,"input",n[10]),f=!0)},p(d,h){h&8192&&l!==(l=d[13])&&m(e,"for",l),h&8192&&a!==(a=d[13])&&m(o,"id",a),h&1&&o.value!==d[0].passwordConfirm&&fe(o,d[0].passwordConfirm)},d(d){d&&w(e),d&&w(r),d&&w(o),f=!1,u()}}}function Q8(n){let e,t,i,s,l,r,o,a;return{c(){e=v("input"),i=A(),s=v("label"),l=W("Verified"),m(e,"type","checkbox"),m(e,"id",t=n[13]),m(s,"for",r=n[13])},m(f,u){S(f,e,u),e.checked=n[0].verified,S(f,i,u),S(f,s,u),O(s,l),o||(a=[H(e,"change",n[11]),H(e,"change",ut(n[12]))],o=!0)},p(f,u){u&8192&&t!==(t=f[13])&&m(e,"id",t),u&1&&(e.checked=f[0].verified),u&8192&&r!==(r=f[13])&&m(s,"for",r)},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,Qe(a)}}}function D8(n){var _;let e,t,i,s,l,r,o,a,f,u,d,h,p;i=new me({props:{class:"form-field "+(n[2]?"":"required"),name:"username",$$slots:{default:[C8,({uniqueId:y})=>({13:y}),({uniqueId:y})=>y?8192:0]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field "+((_=n[1].options)!=null&&_.requireEmail?"required":""),name:"email",$$slots:{default:[T8,({uniqueId:y})=>({13:y}),({uniqueId:y})=>y?8192:0]},$$scope:{ctx:n}}});let g=!n[2]&&o_(n),b=(n[2]||n[3])&&a_(n);return h=new me({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[Q8,({uniqueId:y})=>({13:y}),({uniqueId:y})=>y?8192:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),V(r.$$.fragment),o=A(),a=v("div"),g&&g.c(),f=A(),b&&b.c(),u=A(),d=v("div"),V(h.$$.fragment),m(t,"class","col-lg-6"),m(l,"class","col-lg-6"),m(a,"class","col-lg-12"),m(d,"class","col-lg-12"),m(e,"class","grid m-b-base")},m(y,k){S(y,e,k),O(e,t),X(i,t,null),O(e,s),O(e,l),X(r,l,null),O(e,o),O(e,a),g&&g.m(a,null),O(a,f),b&&b.m(a,null),O(e,u),O(e,d),X(h,d,null),p=!0},p(y,[k]){var P;const C={};k&4&&(C.class="form-field "+(y[2]?"":"required")),k&24581&&(C.$$scope={dirty:k,ctx:y}),i.$set(C);const $={};k&2&&($.class="form-field "+((P=y[1].options)!=null&&P.requireEmail?"required":"")),k&24583&&($.$$scope={dirty:k,ctx:y}),r.$set($),y[2]?g&&(ue(),I(g,1,1,()=>{g=null}),ce()):g?(g.p(y,k),k&4&&D(g,1)):(g=o_(y),g.c(),D(g,1),g.m(a,f)),y[2]||y[3]?b?(b.p(y,k),k&12&&D(b,1)):(b=a_(y),b.c(),D(b,1),b.m(a,null)):b&&(ue(),I(b,1,1,()=>{b=null}),ce());const T={};k&24581&&(T.$$scope={dirty:k,ctx:y}),h.$set(T)},i(y){p||(D(i.$$.fragment,y),D(r.$$.fragment,y),D(g),D(b),D(h.$$.fragment,y),p=!0)},o(y){I(i.$$.fragment,y),I(r.$$.fragment,y),I(g),I(b),I(h.$$.fragment,y),p=!1},d(y){y&&w(e),q(i),q(r),g&&g.d(),b&&b.d(),q(h)}}}function E8(n,e,t){let{collection:i=new ci}=e,{record:s=new Us}=e,{isNew:l=s.$isNew}=e,r=s.username||null,o=!1;function a(){s.username=this.value,t(0,s),t(3,o)}const f=()=>t(0,s.emailVisibility=!s.emailVisibility,s);function u(){s.email=this.value,t(0,s),t(3,o)}function d(){o=this.checked,t(3,o)}function h(){s.password=this.value,t(0,s),t(3,o)}function p(){s.passwordConfirm=this.value,t(0,s),t(3,o)}function g(){s.verified=this.checked,t(0,s),t(3,o)}const b=_=>{l||Wn("Do you really want to manually change the verified account state?",()=>{},()=>{t(0,s.verified=!_.target.checked,s)})};return n.$$set=_=>{"collection"in _&&t(1,i=_.collection),"record"in _&&t(0,s=_.record),"isNew"in _&&t(2,l=_.isNew)},n.$$.update=()=>{n.$$.dirty&1&&!s.username&&s.username!==null&&t(0,s.username=null,s),n.$$.dirty&8&&(o||(t(0,s.password=null,s),t(0,s.passwordConfirm=null,s),Ts("password"),Ts("passwordConfirm")))},[s,i,l,o,r,a,f,u,d,h,p,g,b]}class I8 extends ke{constructor(e){super(),ve(this,e,E8,D8,be,{collection:1,record:0,isNew:2})}}function R8(n){let e,t,i,s=[n[3]],l={};for(let r=0;r<s.length;r+=1)l=je(l,s[r]);return{c(){e=v("textarea"),$s(e,l),J(e,"svelte-1x1pbts",!0)},m(r,o){S(r,e,o),e.autofocus&&e.focus(),n[5](e),fe(e,n[0]),t||(i=[H(e,"input",n[6]),H(e,"keydown",n[2])],t=!0)},p(r,[o]){$s(e,l=Bt(s,[o&8&&r[3]])),o&1&&fe(e,r[0]),J(e,"svelte-1x1pbts",!0)},i:ee,o:ee,d(r){r&&w(e),n[5](null),t=!1,Qe(i)}}}function L8(n,e,t){const i=["value","maxHeight"];let s=ft(e,i),{value:l=""}=e,{maxHeight:r=200}=e,o,a;function f(){clearTimeout(a),a=setTimeout(()=>{o&&(t(1,o.style.height="",o),t(1,o.style.height=Math.min(o.scrollHeight,r)+"px",o))},0)}function u(p){if((p==null?void 0:p.code)==="Enter"&&!(p!=null&&p.shiftKey)&&!(p!=null&&p.isComposing)){p.preventDefault();const g=o.closest("form");g!=null&&g.requestSubmit&&g.requestSubmit()}}vn(()=>(f(),()=>clearTimeout(a)));function d(p){ne[p?"unshift":"push"](()=>{o=p,t(1,o)})}function h(){l=this.value,t(0,l)}return n.$$set=p=>{e=je(je({},e),$n(p)),t(3,s=ft(e,i)),"value"in p&&t(0,l=p.value),"maxHeight"in p&&t(4,r=p.maxHeight)},n.$$.update=()=>{n.$$.dirty&1&&typeof l!==void 0&&f()},[l,o,u,s,r,d,h]}class N8 extends ke{constructor(e){super(),ve(this,e,L8,R8,be,{value:0,maxHeight:4})}}function x8(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h;function p(b){n[2](b)}let g={id:n[3],required:n[1].required};return n[0]!==void 0&&(g.value=n[0]),u=new N8({props:g}),ne.push(()=>pe(u,"value",p)),{c(){e=v("label"),t=v("i"),s=A(),l=v("span"),o=W(r),f=A(),V(u.$$.fragment),m(t,"class",i=j.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[3])},m(b,_){S(b,e,_),O(e,t),O(e,s),O(e,l),O(l,o),S(b,f,_),X(u,b,_),h=!0},p(b,_){(!h||_&2&&i!==(i=j.getFieldTypeIcon(b[1].type)))&&m(t,"class",i),(!h||_&2)&&r!==(r=b[1].name+"")&&re(o,r),(!h||_&8&&a!==(a=b[3]))&&m(e,"for",a);const y={};_&8&&(y.id=b[3]),_&2&&(y.required=b[1].required),!d&&_&1&&(d=!0,y.value=b[0],ye(()=>d=!1)),u.$set(y)},i(b){h||(D(u.$$.fragment,b),h=!0)},o(b){I(u.$$.fragment,b),h=!1},d(b){b&&w(e),b&&w(f),q(u,b)}}}function Z8(n){let e,t;return e=new me({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[x8,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function F8(n,e,t){let{field:i=new di}=e,{value:s=void 0}=e;function l(r){s=r,t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class X8 extends ke{constructor(e){super(),ve(this,e,F8,Z8,be,{field:1,value:0})}}function q8(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h,p,g,b,_;return{c(){var y,k;e=v("label"),t=v("i"),s=A(),l=v("span"),o=W(r),f=A(),u=v("input"),m(t,"class",i=j.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[3]),m(u,"type","number"),m(u,"id",d=n[3]),u.required=h=n[1].required,m(u,"min",p=(y=n[1].options)==null?void 0:y.min),m(u,"max",g=(k=n[1].options)==null?void 0:k.max),m(u,"step","any")},m(y,k){S(y,e,k),O(e,t),O(e,s),O(e,l),O(l,o),S(y,f,k),S(y,u,k),fe(u,n[0]),b||(_=H(u,"input",n[2]),b=!0)},p(y,k){var C,$;k&2&&i!==(i=j.getFieldTypeIcon(y[1].type))&&m(t,"class",i),k&2&&r!==(r=y[1].name+"")&&re(o,r),k&8&&a!==(a=y[3])&&m(e,"for",a),k&8&&d!==(d=y[3])&&m(u,"id",d),k&2&&h!==(h=y[1].required)&&(u.required=h),k&2&&p!==(p=(C=y[1].options)==null?void 0:C.min)&&m(u,"min",p),k&2&&g!==(g=($=y[1].options)==null?void 0:$.max)&&m(u,"max",g),k&1&&Ct(u.value)!==y[0]&&fe(u,y[0])},d(y){y&&w(e),y&&w(f),y&&w(u),b=!1,_()}}}function V8(n){let e,t;return e=new me({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[q8,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function j8(n,e,t){let{field:i=new di}=e,{value:s=void 0}=e;function l(){s=Ct(this.value),t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class U8 extends ke{constructor(e){super(),ve(this,e,j8,V8,be,{field:1,value:0})}}function W8(n){let e,t,i,s,l=n[1].name+"",r,o,a,f;return{c(){e=v("input"),i=A(),s=v("label"),r=W(l),m(e,"type","checkbox"),m(e,"id",t=n[3]),m(s,"for",o=n[3])},m(u,d){S(u,e,d),e.checked=n[0],S(u,i,d),S(u,s,d),O(s,r),a||(f=H(e,"change",n[2]),a=!0)},p(u,d){d&8&&t!==(t=u[3])&&m(e,"id",t),d&1&&(e.checked=u[0]),d&2&&l!==(l=u[1].name+"")&&re(r,l),d&8&&o!==(o=u[3])&&m(s,"for",o)},d(u){u&&w(e),u&&w(i),u&&w(s),a=!1,f()}}}function z8(n){let e,t;return e=new me({props:{class:"form-field form-field-toggle "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[W8,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field form-field-toggle "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function B8(n,e,t){let{field:i=new di}=e,{value:s=!1}=e;function l(){s=this.checked,t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class Y8 extends ke{constructor(e){super(),ve(this,e,B8,z8,be,{field:1,value:0})}}function H8(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h,p,g;return{c(){e=v("label"),t=v("i"),s=A(),l=v("span"),o=W(r),f=A(),u=v("input"),m(t,"class",i=j.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[3]),m(u,"type","email"),m(u,"id",d=n[3]),u.required=h=n[1].required},m(b,_){S(b,e,_),O(e,t),O(e,s),O(e,l),O(l,o),S(b,f,_),S(b,u,_),fe(u,n[0]),p||(g=H(u,"input",n[2]),p=!0)},p(b,_){_&2&&i!==(i=j.getFieldTypeIcon(b[1].type))&&m(t,"class",i),_&2&&r!==(r=b[1].name+"")&&re(o,r),_&8&&a!==(a=b[3])&&m(e,"for",a),_&8&&d!==(d=b[3])&&m(u,"id",d),_&2&&h!==(h=b[1].required)&&(u.required=h),_&1&&u.value!==b[0]&&fe(u,b[0])},d(b){b&&w(e),b&&w(f),b&&w(u),p=!1,g()}}}function G8(n){let e,t;return e=new me({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[H8,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function K8(n,e,t){let{field:i=new di}=e,{value:s=void 0}=e;function l(){s=this.value,t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class J8 extends ke{constructor(e){super(),ve(this,e,K8,G8,be,{field:1,value:0})}}function e9(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h,p,g;return{c(){e=v("label"),t=v("i"),s=A(),l=v("span"),o=W(r),f=A(),u=v("input"),m(t,"class",i=j.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[3]),m(u,"type","url"),m(u,"id",d=n[3]),u.required=h=n[1].required},m(b,_){S(b,e,_),O(e,t),O(e,s),O(e,l),O(l,o),S(b,f,_),S(b,u,_),fe(u,n[0]),p||(g=H(u,"input",n[2]),p=!0)},p(b,_){_&2&&i!==(i=j.getFieldTypeIcon(b[1].type))&&m(t,"class",i),_&2&&r!==(r=b[1].name+"")&&re(o,r),_&8&&a!==(a=b[3])&&m(e,"for",a),_&8&&d!==(d=b[3])&&m(u,"id",d),_&2&&h!==(h=b[1].required)&&(u.required=h),_&1&&u.value!==b[0]&&fe(u,b[0])},d(b){b&&w(e),b&&w(f),b&&w(u),p=!1,g()}}}function t9(n){let e,t;return e=new me({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[e9,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function n9(n,e,t){let{field:i=new di}=e,{value:s=void 0}=e;function l(){s=this.value,t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class i9 extends ke{constructor(e){super(),ve(this,e,n9,t9,be,{field:1,value:0})}}function f_(n){let e,t,i,s;return{c(){e=v("div"),t=v("button"),t.innerHTML='<i class="ri-close-line"></i>',m(t,"type","button"),m(t,"class","link-hint clear-btn svelte-11df51y"),m(e,"class","form-field-addon")},m(l,r){S(l,e,r),O(e,t),i||(s=[Ae(Ye.call(null,t,"Clear")),H(t,"click",n[5])],i=!0)},p:ee,d(l){l&&w(e),i=!1,Qe(s)}}}function s9(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h,p,g,b,_=n[0]&&!n[1].required&&f_(n);function y($){n[6]($)}function k($){n[7]($)}let C={id:n[8],options:j.defaultFlatpickrOptions()};return n[2]!==void 0&&(C.value=n[2]),n[0]!==void 0&&(C.formattedValue=n[0]),h=new em({props:C}),ne.push(()=>pe(h,"value",y)),ne.push(()=>pe(h,"formattedValue",k)),h.$on("close",n[3]),{c(){e=v("label"),t=v("i"),s=A(),l=v("span"),o=W(r),a=W(" (UTC)"),u=A(),_&&_.c(),d=A(),V(h.$$.fragment),m(t,"class",i=er(j.getFieldTypeIcon(n[1].type))+" svelte-11df51y"),m(l,"class","txt"),m(e,"for",f=n[8])},m($,T){S($,e,T),O(e,t),O(e,s),O(e,l),O(l,o),O(l,a),S($,u,T),_&&_.m($,T),S($,d,T),X(h,$,T),b=!0},p($,T){(!b||T&2&&i!==(i=er(j.getFieldTypeIcon($[1].type))+" svelte-11df51y"))&&m(t,"class",i),(!b||T&2)&&r!==(r=$[1].name+"")&&re(o,r),(!b||T&256&&f!==(f=$[8]))&&m(e,"for",f),$[0]&&!$[1].required?_?_.p($,T):(_=f_($),_.c(),_.m(d.parentNode,d)):_&&(_.d(1),_=null);const P={};T&256&&(P.id=$[8]),!p&&T&4&&(p=!0,P.value=$[2],ye(()=>p=!1)),!g&&T&1&&(g=!0,P.formattedValue=$[0],ye(()=>g=!1)),h.$set(P)},i($){b||(D(h.$$.fragment,$),b=!0)},o($){I(h.$$.fragment,$),b=!1},d($){$&&w(e),$&&w(u),_&&_.d($),$&&w(d),q(h,$)}}}function l9(n){let e,t;return e=new me({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[s9,({uniqueId:i})=>({8:i}),({uniqueId:i})=>i?256:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&775&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function r9(n,e,t){let{field:i=new di}=e,{value:s=void 0}=e,l=s;function r(d){d.detail&&d.detail.length==3&&t(0,s=d.detail[1])}function o(){t(0,s="")}const a=()=>o();function f(d){l=d,t(2,l),t(0,s)}function u(d){s=d,t(0,s)}return n.$$set=d=>{"field"in d&&t(1,i=d.field),"value"in d&&t(0,s=d.value)},n.$$.update=()=>{n.$$.dirty&1&&s&&s.length>19&&t(0,s=s.substring(0,19)),n.$$.dirty&5&&l!=s&&t(2,l=s)},[s,i,l,r,o,a,f,u]}class o9 extends ke{constructor(e){super(),ve(this,e,r9,l9,be,{field:1,value:0})}}function u_(n){let e,t,i=n[1].options.maxSelect+"",s,l;return{c(){e=v("div"),t=W("Select up to "),s=W(i),l=W(" items."),m(e,"class","help-block")},m(r,o){S(r,e,o),O(e,t),O(e,s),O(e,l)},p(r,o){o&2&&i!==(i=r[1].options.maxSelect+"")&&re(s,i)},d(r){r&&w(e)}}}function a9(n){var k,C,$,T,P,M;let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h,p,g;function b(Q){n[3](Q)}let _={id:n[4],toggle:!n[1].required||n[2],multiple:n[2],closable:!n[2]||((k=n[0])==null?void 0:k.length)>=((C=n[1].options)==null?void 0:C.maxSelect),items:($=n[1].options)==null?void 0:$.values,searchable:((P=(T=n[1].options)==null?void 0:T.values)==null?void 0:P.length)>5};n[0]!==void 0&&(_.selected=n[0]),u=new tm({props:_}),ne.push(()=>pe(u,"selected",b));let y=((M=n[1].options)==null?void 0:M.maxSelect)>1&&u_(n);return{c(){e=v("label"),t=v("i"),s=A(),l=v("span"),o=W(r),f=A(),V(u.$$.fragment),h=A(),y&&y.c(),p=Se(),m(t,"class",i=j.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[4])},m(Q,E){S(Q,e,E),O(e,t),O(e,s),O(e,l),O(l,o),S(Q,f,E),X(u,Q,E),S(Q,h,E),y&&y.m(Q,E),S(Q,p,E),g=!0},p(Q,E){var L,N,x,Z,F,U;(!g||E&2&&i!==(i=j.getFieldTypeIcon(Q[1].type)))&&m(t,"class",i),(!g||E&2)&&r!==(r=Q[1].name+"")&&re(o,r),(!g||E&16&&a!==(a=Q[4]))&&m(e,"for",a);const R={};E&16&&(R.id=Q[4]),E&6&&(R.toggle=!Q[1].required||Q[2]),E&4&&(R.multiple=Q[2]),E&7&&(R.closable=!Q[2]||((L=Q[0])==null?void 0:L.length)>=((N=Q[1].options)==null?void 0:N.maxSelect)),E&2&&(R.items=(x=Q[1].options)==null?void 0:x.values),E&2&&(R.searchable=((F=(Z=Q[1].options)==null?void 0:Z.values)==null?void 0:F.length)>5),!d&&E&1&&(d=!0,R.selected=Q[0],ye(()=>d=!1)),u.$set(R),((U=Q[1].options)==null?void 0:U.maxSelect)>1?y?y.p(Q,E):(y=u_(Q),y.c(),y.m(p.parentNode,p)):y&&(y.d(1),y=null)},i(Q){g||(D(u.$$.fragment,Q),g=!0)},o(Q){I(u.$$.fragment,Q),g=!1},d(Q){Q&&w(e),Q&&w(f),q(u,Q),Q&&w(h),y&&y.d(Q),Q&&w(p)}}}function f9(n){let e,t;return e=new me({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[a9,({uniqueId:i})=>({4:i}),({uniqueId:i})=>i?16:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&55&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function u9(n,e,t){let i,{field:s=new di}=e,{value:l=void 0}=e;function r(o){l=o,t(0,l),t(2,i),t(1,s)}return n.$$set=o=>{"field"in o&&t(1,s=o.field),"value"in o&&t(0,l=o.value)},n.$$.update=()=>{var o;n.$$.dirty&2&&t(2,i=((o=s.options)==null?void 0:o.maxSelect)>1),n.$$.dirty&5&&typeof l>"u"&&t(0,l=i?[]:""),n.$$.dirty&7&&i&&Array.isArray(l)&&l.length>s.options.maxSelect&&t(0,l=l.slice(l.length-s.options.maxSelect))},[l,s,i,r]}class c9 extends ke{constructor(e){super(),ve(this,e,u9,f9,be,{field:1,value:0})}}class Ot{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let s=[];return this.decompose(0,e,s,2),i.length&&i.decompose(0,i.length,s,3),this.decompose(t,this.length,s,1),ms.from(s,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),ms.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),s=new Bo(this),l=new Bo(e);for(let r=t,o=t;;){if(s.next(r),l.next(r),r=0,s.lineBreak!=l.lineBreak||s.done!=l.done||s.value!=l.value)return!1;if(o+=s.value.length,s.done||o>=i)return!0}}iter(e=1){return new Bo(this,e)}iterRange(e,t=this.length){return new e$(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;i=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new t$(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ot.empty:e.length<=32?new cn(e):ms.from(cn.split(e,[]))}}class cn extends Ot{constructor(e,t=d9(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,s){for(let l=0;;l++){let r=this.text[l],o=s+r.length;if((t?i:o)>=e)return new h9(s,o,i,r);s=o+1,i++}}decompose(e,t,i,s){let l=e<=0&&t>=this.length?this:new cn(c_(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let r=i.pop(),o=qf(l.text,r.text.slice(),0,l.length);if(o.length<=32)i.push(new cn(o,r.length+l.length));else{let a=o.length>>1;i.push(new cn(o.slice(0,a)),new cn(o.slice(a)))}}else i.push(l)}replace(e,t,i){if(!(i instanceof cn))return super.replace(e,t,i);let s=qf(this.text,qf(i.text,c_(this.text,0,e)),t),l=this.length+i.length-(t-e);return s.length<=32?new cn(s,l):ms.from(cn.split(s,[]),l)}sliceString(e,t=this.length,i=`
`){let s="";for(let l=0,r=0;l<=t&&r<this.text.length;r++){let o=this.text[r],a=l+o.length;l>e&&r&&(s+=i),e<a&&t>l&&(s+=o.slice(Math.max(0,e-l),t-l)),l=a+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],s=-1;for(let l of e)i.push(l),s+=l.length+1,i.length==32&&(t.push(new cn(i,s)),i=[],s=-1);return s>-1&&t.push(new cn(i,s)),t}}class ms extends Ot{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,s){for(let l=0;;l++){let r=this.children[l],o=s+r.length,a=i+r.lines-1;if((t?a:o)>=e)return r.lineInner(e,t,i,s);s=o+1,i=a+1}}decompose(e,t,i,s){for(let l=0,r=0;r<=t&&l<this.children.length;l++){let o=this.children[l],a=r+o.length;if(e<=a&&t>=r){let f=s&((r<=e?1:0)|(a>=t?2:0));r>=e&&a<=t&&!f?i.push(o):o.decompose(e-r,t-r,i,f)}r=a+1}}replace(e,t,i){if(i.lines<this.lines)for(let s=0,l=0;s<this.children.length;s++){let r=this.children[s],o=l+r.length;if(e>=l&&t<=o){let a=r.replace(e-l,t-l,i),f=this.lines-r.lines+a.lines;if(a.lines<f>>5-1&&a.lines>f>>5+1){let u=this.children.slice();return u[s]=a,new ms(u,this.length-(t-e)+i.length)}return super.replace(l,o,a)}l=o+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let s="";for(let l=0,r=0;l<this.children.length&&r<=t;l++){let o=this.children[l],a=r+o.length;r>e&&l&&(s+=i),e<a&&t>r&&(s+=o.sliceString(e-r,t-r,i)),r=a+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof ms))return 0;let i=0,[s,l,r,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,l+=t){if(s==r||l==o)return i;let a=this.children[s],f=e.children[l];if(a!=f)return i+a.scanIdentical(f,t);i+=a.length+1}}static from(e,t=e.reduce((i,s)=>i+s.length+1,-1)){let i=0;for(let p of e)i+=p.lines;if(i<32){let p=[];for(let g of e)g.flatten(p);return new cn(p,t)}let s=Math.max(32,i>>5),l=s<<1,r=s>>1,o=[],a=0,f=-1,u=[];function d(p){let g;if(p.lines>l&&p instanceof ms)for(let b of p.children)d(b);else p.lines>r&&(a>r||!a)?(h(),o.push(p)):p instanceof cn&&a&&(g=u[u.length-1])instanceof cn&&p.lines+g.lines<=32?(a+=p.lines,f+=p.length+1,u[u.length-1]=new cn(g.text.concat(p.text),g.length+1+p.length)):(a+p.lines>s&&h(),a+=p.lines,f+=p.length+1,u.push(p))}function h(){a!=0&&(o.push(u.length==1?u[0]:ms.from(u,f)),f=-1,a=u.length=0)}for(let p of e)d(p);return h(),o.length==1?o[0]:new ms(o,t)}}Ot.empty=new cn([""],0);function d9(n){let e=-1;for(let t of n)e+=t.length+1;return e}function qf(n,e,t=0,i=1e9){for(let s=0,l=0,r=!0;l<n.length&&s<=i;l++){let o=n[l],a=s+o.length;a>=t&&(a>i&&(o=o.slice(0,i-s)),s<t&&(o=o.slice(t-s)),r?(e[e.length-1]+=o,r=!1):e.push(o)),s=a+1}return e}function c_(n,e,t){return qf(n,[""],e,t)}class Bo{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof cn?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,s=this.nodes[i],l=this.offsets[i],r=l>>1,o=s instanceof cn?s.text.length:s.children.length;if(r==(t>0?o:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((l&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof cn){let a=s.text[r+(t<0?-1:0)];if(this.offsets[i]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=s.children[r+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof cn?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class e${constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Bo(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=i?s:t<0?s.slice(s.length-i):s.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class t${constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:s}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ot.prototype[Symbol.iterator]=function(){return this.iter()},Bo.prototype[Symbol.iterator]=e$.prototype[Symbol.iterator]=t$.prototype[Symbol.iterator]=function(){return this});class h9{constructor(e,t,i,s){this.from=e,this.to=t,this.number=i,this.text=s}get length(){return this.to-this.from}}let Ir="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Ir.length;n++)Ir[n]+=Ir[n-1];function p9(n){for(let e=1;e<Ir.length;e+=2)if(Ir[e]>n)return Ir[e-1]<=n;return!1}function d_(n){return n>=127462&&n<=127487}const h_=8205;function ei(n,e,t=!0,i=!0){return(t?n$:m9)(n,e,i)}function n$(n,e,t){if(e==n.length)return e;e&&i$(n.charCodeAt(e))&&s$(n.charCodeAt(e-1))&&e--;let i=Rn(n,e);for(e+=Zi(i);e<n.length;){let s=Rn(n,e);if(i==h_||s==h_||t&&p9(s))e+=Zi(s),i=s;else if(d_(s)){let l=0,r=e-2;for(;r>=0&&d_(Rn(n,r));)l++,r-=2;if(l%2==0)break;e+=2}else break}return e}function m9(n,e,t){for(;e>0;){let i=n$(n,e-2,t);if(i<e)return i;e--}return 0}function i$(n){return n>=56320&&n<57344}function s$(n){return n>=55296&&n<56320}function Rn(n,e){let t=n.charCodeAt(e);if(!s$(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return i$(i)?(t-55296<<10)+(i-56320)+65536:t}function im(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Zi(n){return n<65536?1:2}const bh=/\r\n?|\n/;var Nn=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Nn||(Nn={}));class ws{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,s=0;t<this.sections.length;){let l=this.sections[t++],r=this.sections[t++];r<0?(e(i,s,l),s+=l):s+=r,i+=l}}iterChangedRanges(e,t=!1){_h(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?e.push(i,s):e.push(s,i)}return new ws(e)}composeDesc(e){return this.empty?e:e.empty?this:l$(this,e)}mapDesc(e,t=!1){return e.empty?this:Oh(this,e,t)}mapPos(e,t=-1,i=Nn.Simple){let s=0,l=0;for(let r=0;r<this.sections.length;){let o=this.sections[r++],a=this.sections[r++],f=s+o;if(a<0){if(f>e)return l+(e-s);l+=o}else{if(i!=Nn.Simple&&f>=e&&(i==Nn.TrackDel&&s<e&&f>e||i==Nn.TrackBefore&&s<e||i==Nn.TrackAfter&&f>e))return null;if(f>e||f==e&&t<0&&!o)return e==s||t<0?l:l+a;l+=a}s=f}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return l}touchesRange(e,t=e){for(let i=0,s=0;i<this.sections.length&&s<=t;){let l=this.sections[i++],r=this.sections[i++],o=s+l;if(r>=0&&s<=t&&o>=e)return s<e&&o>t?"cover":!0;s=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+i+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ws(e)}static create(e){return new ws(e)}}class wn extends ws{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return _h(this,(t,i,s,l,r)=>e=e.replace(s,s+(i-t),r),!1),e}mapDesc(e,t=!1){return Oh(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let s=0,l=0;s<t.length;s+=2){let r=t[s],o=t[s+1];if(o>=0){t[s]=o,t[s+1]=r;let a=s>>1;for(;i.length<a;)i.push(Ot.empty);i.push(r?e.slice(l,l+r):Ot.empty)}l+=r}return new wn(t,i)}compose(e){return this.empty?e:e.empty?this:l$(this,e,!0)}map(e,t=!1){return e.empty?this:Oh(this,e,t,!0)}iterChanges(e,t=!1){_h(this,e,t)}get desc(){return ws.create(this.sections)}filter(e){let t=[],i=[],s=[],l=new oa(this);e:for(let r=0,o=0;;){let a=r==e.length?1e9:e[r++];for(;o<a||o==a&&l.len==0;){if(l.done)break e;let u=Math.min(l.len,a-o);jn(s,u,-1);let d=l.ins==-1?-1:l.off==0?l.ins:0;jn(t,u,d),d>0&&cl(i,t,l.text),l.forward(u),o+=u}let f=e[r++];for(;o<f;){if(l.done)break e;let u=Math.min(l.len,f-o);jn(t,u,-1),jn(s,u,l.ins==-1?-1:l.off==0?l.ins:0),l.forward(u),o+=u}}return{changes:new wn(t,i),filtered:ws.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],s=this.sections[t+1];s<0?e.push(i):s==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let s=[],l=[],r=0,o=null;function a(u=!1){if(!u&&!s.length)return;r<t&&jn(s,t-r,-1);let d=new wn(s,l);o=o?o.compose(d.map(o)):d,s=[],l=[],r=0}function f(u){if(Array.isArray(u))for(let d of u)f(d);else if(u instanceof wn){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);a(),o=o?o.compose(u.map(o)):u}else{let{from:d,to:h=d,insert:p}=u;if(d>h||d<0||h>t)throw new RangeError(`Invalid change range ${d} to ${h} (in doc of length ${t})`);let g=p?typeof p=="string"?Ot.of(p.split(i||bh)):p:Ot.empty,b=g.length;if(d==h&&b==0)return;d<r&&a(),d>r&&jn(s,d-r,-1),jn(s,h-d,b),cl(l,s,g),r=h}}return f(e),a(!o),o}static empty(e){return new wn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")t.push(l,-1);else{if(!Array.isArray(l)||typeof l[0]!="number"||l.some((r,o)=>o&&typeof r!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(l.length==1)t.push(l[0],0);else{for(;i.length<s;)i.push(Ot.empty);i[s]=Ot.of(l.slice(1)),t.push(l[0],i[s].length)}}}return new wn(t,i)}static createSet(e,t){return new wn(e,t)}}function jn(n,e,t,i=!1){if(e==0&&t<=0)return;let s=n.length-2;s>=0&&t<=0&&t==n[s+1]?n[s]+=e:e==0&&n[s]==0?n[s+1]+=t:i?(n[s]+=e,n[s+1]+=t):n.push(e,t)}function cl(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(Ot.empty);n.push(t)}}function _h(n,e,t){let i=n.inserted;for(let s=0,l=0,r=0;r<n.sections.length;){let o=n.sections[r++],a=n.sections[r++];if(a<0)s+=o,l+=o;else{let f=s,u=l,d=Ot.empty;for(;f+=o,u+=a,a&&i&&(d=d.append(i[r-2>>1])),!(t||r==n.sections.length||n.sections[r+1]<0);)o=n.sections[r++],a=n.sections[r++];e(s,f,l,u,d),s=f,l=u}}}function Oh(n,e,t,i=!1){let s=[],l=i?[]:null,r=new oa(n),o=new oa(e);for(let a=-1;;)if(r.ins==-1&&o.ins==-1){let f=Math.min(r.len,o.len);jn(s,f,-1),r.forward(f),o.forward(f)}else if(o.ins>=0&&(r.ins<0||a==r.i||r.off==0&&(o.len<r.len||o.len==r.len&&!t))){let f=o.len;for(jn(s,o.ins,-1);f;){let u=Math.min(r.len,f);r.ins>=0&&a<r.i&&r.len<=u&&(jn(s,0,r.ins),l&&cl(l,s,r.text),a=r.i),r.forward(u),f-=u}o.next()}else if(r.ins>=0){let f=0,u=r.len;for(;u;)if(o.ins==-1){let d=Math.min(u,o.len);f+=d,u-=d,o.forward(d)}else if(o.ins==0&&o.len<u)u-=o.len,o.next();else break;jn(s,f,a<r.i?r.ins:0),l&&a<r.i&&cl(l,s,r.text),a=r.i,r.forward(r.len-u)}else{if(r.done&&o.done)return l?wn.createSet(s,l):ws.create(s);throw new Error("Mismatched change set lengths")}}function l$(n,e,t=!1){let i=[],s=t?[]:null,l=new oa(n),r=new oa(e);for(let o=!1;;){if(l.done&&r.done)return s?wn.createSet(i,s):ws.create(i);if(l.ins==0)jn(i,l.len,0,o),l.next();else if(r.len==0&&!r.done)jn(i,0,r.ins,o),s&&cl(s,i,r.text),r.next();else{if(l.done||r.done)throw new Error("Mismatched change set lengths");{let a=Math.min(l.len2,r.len),f=i.length;if(l.ins==-1){let u=r.ins==-1?-1:r.off?0:r.ins;jn(i,a,u,o),s&&u&&cl(s,i,r.text)}else r.ins==-1?(jn(i,l.off?0:l.len,a,o),s&&cl(s,i,l.textBit(a))):(jn(i,l.off?0:l.len,r.off?0:r.ins,o),s&&!r.off&&cl(s,i,r.text));o=(l.ins>a||r.ins>=0&&r.len>a)&&(o||i.length>f),l.forward2(a),r.forward(a)}}}}class oa{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Ot.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?Ot.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ul{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let i,s;return this.empty?i=s=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),i==this.from&&s==this.to?this:new Ul(i,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return he.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return he.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return he.range(e.anchor,e.head)}static create(e,t,i){return new Ul(e,t,i)}}class he{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:he.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new he([this.main],0)}addRange(e,t=!0){return he.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,he.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new he(e.ranges.map(t=>Ul.fromJSON(t)),e.main)}static single(e,t=e){return new he([he.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,s=0;s<e.length;s++){let l=e[s];if(l.empty?l.from<=i:l.from<i)return he.normalized(e.slice(),t);i=l.to}return new he(e,t)}static cursor(e,t=0,i,s){return Ul.create(e,e,(t==0?0:t<0?4:8)|(i==null?3:Math.min(2,i))|(s??33554431)<<5)}static range(e,t,i,s){let l=(i??33554431)<<5|(s==null?3:Math.min(2,s));return t<e?Ul.create(t,e,24|l):Ul.create(e,t,(t>e?4:0)|l)}static normalized(e,t=0){let i=e[t];e.sort((s,l)=>s.from-l.from),t=e.indexOf(i);for(let s=1;s<e.length;s++){let l=e[s],r=e[s-1];if(l.empty?l.from<=r.to:l.from<r.to){let o=r.from,a=Math.max(l.to,r.to);s<=t&&t--,e.splice(--s,2,l.anchor>l.head?he.range(a,o):he.range(o,a))}}return new he(e,t)}}function r$(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let sm=0;class We{constructor(e,t,i,s,l){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=s,this.id=sm++,this.default=e([]),this.extensions=typeof l=="function"?l(this):l}static define(e={}){return new We(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:lm),!!e.static,e.enables)}of(e){return new Vf([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Vf(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Vf(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function lm(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class Vf{constructor(e,t,i,s){this.dependencies=e,this.facet=t,this.type=i,this.value=s,this.id=sm++}dynamicSlot(e){var t;let i=this.value,s=this.facet.compareInput,l=this.id,r=e[l]>>1,o=this.type==2,a=!1,f=!1,u=[];for(let d of this.dependencies)d=="doc"?a=!0:d=="selection"?f=!0:((t=e[d.id])!==null&&t!==void 0?t:1)&1||u.push(e[d.id]);return{create(d){return d.values[r]=i(d),1},update(d,h){if(a&&h.docChanged||f&&(h.docChanged||h.selection)||yh(d,u)){let p=i(d);if(o?!p_(p,d.values[r],s):!s(p,d.values[r]))return d.values[r]=p,1}return 0},reconfigure:(d,h)=>{let p,g=h.config.address[l];if(g!=null){let b=wu(h,g);if(this.dependencies.every(_=>_ instanceof We?h.facet(_)===d.facet(_):_ instanceof Qn?h.field(_,!1)==d.field(_,!1):!0)||(o?p_(p=i(d),b,s):s(p=i(d),b)))return d.values[r]=b,0}else p=i(d);return d.values[r]=p,1}}}}function p_(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function yh(n,e){let t=!1;for(let i of e)Yo(n,i)&1&&(t=!0);return t}function g9(n,e,t){let i=t.map(a=>n[a.id]),s=t.map(a=>a.type),l=i.filter(a=>!(a&1)),r=n[e.id]>>1;function o(a){let f=[];for(let u=0;u<i.length;u++){let d=wu(a,i[u]);if(s[u]==2)for(let h of d)f.push(h);else f.push(d)}return e.combine(f)}return{create(a){for(let f of i)Yo(a,f);return a.values[r]=o(a),1},update(a,f){if(!yh(a,l))return 0;let u=o(a);return e.compare(u,a.values[r])?0:(a.values[r]=u,1)},reconfigure(a,f){let u=yh(a,i),d=f.config.facets[e.id],h=f.facet(e);if(d&&!u&&lm(t,d))return a.values[r]=h,0;let p=o(a);return e.compare(p,h)?(a.values[r]=h,0):(a.values[r]=p,1)}}}const m_=We.define({static:!0});class Qn{constructor(e,t,i,s,l){this.id=e,this.createF=t,this.updateF=i,this.compareF=s,this.spec=l,this.provides=void 0}static define(e){let t=new Qn(sm++,e.create,e.update,e.compare||((i,s)=>i===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(m_).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,s)=>{let l=i.values[t],r=this.updateF(l,s);return this.compareF(l,r)?0:(i.values[t]=r,1)},reconfigure:(i,s)=>s.config.address[this.id]!=null?(i.values[t]=s.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,m_.of({field:this,create:e})]}get extension(){return this}}const ql={lowest:4,low:3,default:2,high:1,highest:0};function $o(n){return e=>new o$(e,n)}const cr={highest:$o(ql.highest),high:$o(ql.high),default:$o(ql.default),low:$o(ql.low),lowest:$o(ql.lowest)};class o${constructor(e,t){this.inner=e,this.prec=t}}class dc{of(e){return new vh(this,e)}reconfigure(e){return dc.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class vh{constructor(e,t){this.compartment=e,this.inner=t}}class ku{constructor(e,t,i,s,l,r){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=s,this.staticValues=l,this.facets=r,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let s=[],l=Object.create(null),r=new Map;for(let h of b9(e,t,r))h instanceof Qn?s.push(h):(l[h.facet.id]||(l[h.facet.id]=[])).push(h);let o=Object.create(null),a=[],f=[];for(let h of s)o[h.id]=f.length<<1,f.push(p=>h.slot(p));let u=i==null?void 0:i.config.facets;for(let h in l){let p=l[h],g=p[0].facet,b=u&&u[h]||[];if(p.every(_=>_.type==0))if(o[g.id]=a.length<<1|1,lm(b,p))a.push(i.facet(g));else{let _=g.combine(p.map(y=>y.value));a.push(i&&g.compare(_,i.facet(g))?i.facet(g):_)}else{for(let _ of p)_.type==0?(o[_.id]=a.length<<1|1,a.push(_.value)):(o[_.id]=f.length<<1,f.push(y=>_.dynamicSlot(y)));o[g.id]=f.length<<1,f.push(_=>g9(_,g,p))}}let d=f.map(h=>h(o));return new ku(e,r,d,o,a,l)}}function b9(n,e,t){let i=[[],[],[],[],[]],s=new Map;function l(r,o){let a=s.get(r);if(a!=null){if(a<=o)return;let f=i[a].indexOf(r);f>-1&&i[a].splice(f,1),r instanceof vh&&t.delete(r.compartment)}if(s.set(r,o),Array.isArray(r))for(let f of r)l(f,o);else if(r instanceof vh){if(t.has(r.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(r.compartment)||r.inner;t.set(r.compartment,f),l(f,o)}else if(r instanceof o$)l(r.inner,r.prec);else if(r instanceof Qn)i[o].push(r),r.provides&&l(r.provides,o);else if(r instanceof Vf)i[o].push(r),r.facet.extensions&&l(r.facet.extensions,ql.default);else{let f=r.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${r}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);l(f,o)}}return l(n,ql.default),i.reduce((r,o)=>r.concat(o))}function Yo(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let s=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|s}function wu(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const a$=We.define(),f$=We.define({combine:n=>n.some(e=>e),static:!0}),u$=We.define({combine:n=>n.length?n[0]:void 0,static:!0}),c$=We.define(),d$=We.define(),h$=We.define(),p$=We.define({combine:n=>n.length?n[0]:!1});class Js{constructor(e,t){this.type=e,this.value=t}static define(){return new _9}}class _9{of(e){return new Js(this,e)}}class O9{constructor(e){this.map=e}of(e){return new nt(this,e)}}class nt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new nt(this.type,t)}is(e){return this.type==e}static define(e={}){return new O9(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let s of e){let l=s.map(t);l&&i.push(l)}return i}}nt.reconfigure=nt.define();nt.appendConfig=nt.define();class Sn{constructor(e,t,i,s,l,r){this.startState=e,this.changes=t,this.selection=i,this.effects=s,this.annotations=l,this.scrollIntoView=r,this._doc=null,this._state=null,i&&r$(i,t.newLength),l.some(o=>o.type==Sn.time)||(this.annotations=l.concat(Sn.time.of(Date.now())))}static create(e,t,i,s,l,r){return new Sn(e,t,i,s,l,r)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Sn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Sn.time=Js.define();Sn.userEvent=Js.define();Sn.addToHistory=Js.define();Sn.remote=Js.define();function y9(n,e){let t=[];for(let i=0,s=0;;){let l,r;if(i<n.length&&(s==e.length||e[s]>=n[i]))l=n[i++],r=n[i++];else if(s<e.length)l=e[s++],r=e[s++];else return t;!t.length||t[t.length-1]<l?t.push(l,r):t[t.length-1]<r&&(t[t.length-1]=r)}}function m$(n,e,t){var i;let s,l,r;return t?(s=e.changes,l=wn.empty(e.changes.length),r=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),l=n.changes.mapDesc(e.changes,!0),r=n.changes.compose(s)),{changes:r,selection:e.selection?e.selection.map(l):(i=n.selection)===null||i===void 0?void 0:i.map(s),effects:nt.mapEffects(n.effects,s).concat(nt.mapEffects(e.effects,l)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function kh(n,e,t){let i=e.selection,s=Rr(e.annotations);return e.userEvent&&(s=s.concat(Sn.userEvent.of(e.userEvent))),{changes:e.changes instanceof wn?e.changes:wn.of(e.changes||[],t,n.facet(u$)),selection:i&&(i instanceof he?i:he.single(i.anchor,i.head)),effects:Rr(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function g$(n,e,t){let i=kh(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let l=1;l<e.length;l++){e[l].filter===!1&&(t=!1);let r=!!e[l].sequential;i=m$(i,kh(n,e[l],r?i.changes.newLength:n.doc.length),r)}let s=Sn.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return k9(t?v9(s):s)}function v9(n){let e=n.startState,t=!0;for(let s of e.facet(c$)){let l=s(n);if(l===!1){t=!1;break}Array.isArray(l)&&(t=t===!0?l:y9(t,l))}if(t!==!0){let s,l;if(t===!1)l=n.changes.invertedDesc,s=wn.empty(e.doc.length);else{let r=n.changes.filter(t);s=r.changes,l=r.filtered.mapDesc(r.changes).invertedDesc}n=Sn.create(e,s,n.selection&&n.selection.map(l),nt.mapEffects(n.effects,l),n.annotations,n.scrollIntoView)}let i=e.facet(d$);for(let s=i.length-1;s>=0;s--){let l=i[s](n);l instanceof Sn?n=l:Array.isArray(l)&&l.length==1&&l[0]instanceof Sn?n=l[0]:n=g$(e,Rr(l),!1)}return n}function k9(n){let e=n.startState,t=e.facet(h$),i=n;for(let s=t.length-1;s>=0;s--){let l=t[s](n);l&&Object.keys(l).length&&(i=m$(i,kh(e,l,n.changes.newLength),!0))}return i==n?n:Sn.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const w9=[];function Rr(n){return n==null?w9:Array.isArray(n)?n:[n]}var Wt=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Wt||(Wt={}));const S9=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wh;try{wh=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function $9(n){if(wh)return wh.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||S9.test(t)))return!0}return!1}function C9(n){return e=>{if(!/\S/.test(e))return Wt.Space;if($9(e))return Wt.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Wt.Word;return Wt.Other}}class ht{constructor(e,t,i,s,l,r){this.config=e,this.doc=t,this.selection=i,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=l,r&&(r._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Yo(this,o<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Yo(this,i),wu(this,i)}update(...e){return g$(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:s}=t;for(let r of e.effects)r.is(dc.reconfigure)?(t&&(s=new Map,t.compartments.forEach((o,a)=>s.set(a,o)),t=null),s.set(r.value.compartment,r.value.extension)):r.is(nt.reconfigure)?(t=null,i=r.value):r.is(nt.appendConfig)&&(t=null,i=Rr(i).concat(r.value));let l;t?l=e.startState.values.slice():(t=ku.resolve(i,s,this),l=new ht(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(o,a)=>a.reconfigure(o,this),null).values),new ht(t,e.newDoc,e.newSelection,l,(r,o)=>o.update(r,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:he.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),s=this.changes(i.changes),l=[i.range],r=Rr(i.effects);for(let o=1;o<t.ranges.length;o++){let a=e(t.ranges[o]),f=this.changes(a.changes),u=f.map(s);for(let h=0;h<o;h++)l[h]=l[h].map(u);let d=s.mapDesc(f,!0);l.push(a.range.map(d)),s=s.compose(u),r=nt.mapEffects(r,u).concat(nt.mapEffects(Rr(a.effects),d))}return{changes:s,selection:he.create(l,t.mainIndex),effects:r}}changes(e=[]){return e instanceof wn?e:wn.of(e,this.doc.length,this.facet(ht.lineSeparator))}toText(e){return Ot.of(e.split(this.facet(ht.lineSeparator)||bh))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Yo(this,t),wu(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let s=e[i];s instanceof Qn&&this.config.address[s.id]!=null&&(t[i]=s.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i){for(let l in i)if(Object.prototype.hasOwnProperty.call(e,l)){let r=i[l],o=e[l];s.push(r.init(a=>r.spec.fromJSON(o,a)))}}return ht.create({doc:e.doc,selection:he.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=ku.resolve(e.extensions||[],new Map),i=e.doc instanceof Ot?e.doc:Ot.of((e.doc||"").split(t.staticFacet(ht.lineSeparator)||bh)),s=e.selection?e.selection instanceof he?e.selection:he.single(e.selection.anchor,e.selection.head):he.single(0);return r$(s,i.length),t.staticFacet(f$)||(s=s.asSingle()),new ht(t,i,s,t.dynamicSlots.map(()=>null),(l,r)=>r.create(l),null)}get tabSize(){return this.facet(ht.tabSize)}get lineBreak(){return this.facet(ht.lineSeparator)||`
`}get readOnly(){return this.facet(p$)}phrase(e,...t){for(let i of this.facet(ht.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,s)=>{if(s=="$")return"$";let l=+(s||1);return!l||l>t.length?i:t[l-1]})),e}languageDataAt(e,t,i=-1){let s=[];for(let l of this.facet(a$))for(let r of l(this,t,i))Object.prototype.hasOwnProperty.call(r,e)&&s.push(r[e]);return s}charCategorizer(e){return C9(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:s}=this.doc.lineAt(e),l=this.charCategorizer(e),r=e-i,o=e-i;for(;r>0;){let a=ei(t,r,!1);if(l(t.slice(a,r))!=Wt.Word)break;r=a}for(;o<s;){let a=ei(t,o);if(l(t.slice(o,a))!=Wt.Word)break;o=a}return r==o?null:he.range(r+i,o+i)}}ht.allowMultipleSelections=f$;ht.tabSize=We.define({combine:n=>n.length?n[0]:4});ht.lineSeparator=u$;ht.readOnly=p$;ht.phrases=We.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(s=>n[s]==e[s])}});ht.languageData=a$;ht.changeFilter=c$;ht.transactionFilter=d$;ht.transactionExtender=h$;dc.reconfigure=nt.define();function Ds(n,e,t={}){let i={};for(let s of n)for(let l of Object.keys(s)){let r=s[l],o=i[l];if(o===void 0)i[l]=r;else if(!(o===r||r===void 0))if(Object.hasOwnProperty.call(t,l))i[l]=t[l](o,r);else throw new Error("Config merge conflict for field "+l)}for(let s in e)i[s]===void 0&&(i[s]=e[s]);return i}class ir{eq(e){return this==e}range(e,t=e){return Sh.create(e,t,this)}}ir.prototype.startSide=ir.prototype.endSide=0;ir.prototype.point=!1;ir.prototype.mapMode=Nn.TrackDel;let Sh=class b${constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new b$(e,t,i)}};function $h(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class rm{constructor(e,t,i,s){this.from=e,this.to=t,this.value=i,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,s=0){let l=i?this.to:this.from;for(let r=s,o=l.length;;){if(r==o)return r;let a=r+o>>1,f=l[a]-e||(i?this.value[a].endSide:this.value[a].startSide)-t;if(a==r)return f>=0?r:o;f>=0?o=a:r=a+1}}between(e,t,i,s){for(let l=this.findIndex(t,-1e9,!0),r=this.findIndex(i,1e9,!1,l);l<r;l++)if(s(this.from[l]+e,this.to[l]+e,this.value[l])===!1)return!1}map(e,t){let i=[],s=[],l=[],r=-1,o=-1;for(let a=0;a<this.value.length;a++){let f=this.value[a],u=this.from[a]+e,d=this.to[a]+e,h,p;if(u==d){let g=t.mapPos(u,f.startSide,f.mapMode);if(g==null||(h=p=g,f.startSide!=f.endSide&&(p=t.mapPos(u,f.endSide),p<h)))continue}else if(h=t.mapPos(u,f.startSide),p=t.mapPos(d,f.endSide),h>p||h==p&&f.startSide>0&&f.endSide<=0)continue;(p-h||f.endSide-f.startSide)<0||(r<0&&(r=h),f.point&&(o=Math.max(o,p-h)),i.push(f),s.push(h-r),l.push(p-r))}return{mapped:i.length?new rm(s,l,i,o):null,pos:r}}}class Mt{constructor(e,t,i,s){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=s}static create(e,t,i,s){return new Mt(e,t,i,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:s=0,filterTo:l=this.length}=e,r=e.filter;if(t.length==0&&!r)return this;if(i&&(t=t.slice().sort($h)),this.isEmpty)return t.length?Mt.of(t):this;let o=new _$(this,null,-1).goto(0),a=0,f=[],u=new Ol;for(;o.value||a<t.length;)if(a<t.length&&(o.from-t[a].from||o.startSide-t[a].value.startSide)>=0){let d=t[a++];u.addInner(d.from,d.to,d.value)||f.push(d)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(o.chunkIndex)<t[a].from)&&(!r||s>this.chunkEnd(o.chunkIndex)||l<this.chunkPos[o.chunkIndex])&&u.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!r||s>o.to||l<o.from||r(o.from,o.to,o.value))&&(u.addInner(o.from,o.to,o.value)||f.push(Sh.create(o.from,o.to,o.value))),o.next());return u.finishInner(this.nextLayer.isEmpty&&!f.length?Mt.empty:this.nextLayer.update({add:f,filter:r,filterFrom:s,filterTo:l}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],s=-1;for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],a=this.chunk[r],f=e.touchesRange(o,o+a.length);if(f===!1)s=Math.max(s,a.maxPoint),t.push(a),i.push(e.mapPos(o));else if(f===!0){let{mapped:u,pos:d}=a.map(o,e);u&&(s=Math.max(s,u.maxPoint),t.push(u),i.push(d))}}let l=this.nextLayer.map(e);return t.length==0?l:new Mt(i,t,l||Mt.empty,s)}between(e,t,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],r=this.chunk[s];if(t>=l&&e<=l+r.length&&r.between(l,e-l,t-l,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return aa.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return aa.from(e).goto(t)}static compare(e,t,i,s,l=-1){let r=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=l),o=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=l),a=g_(r,o,i),f=new Co(r,a,l),u=new Co(o,a,l);i.iterGaps((d,h,p)=>b_(f,d,u,h,p,s)),i.empty&&i.length==0&&b_(f,0,u,0,0,s)}static eq(e,t,i=0,s){s==null&&(s=1e9-1);let l=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),r=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(l.length!=r.length)return!1;if(!l.length)return!0;let o=g_(l,r),a=new Co(l,o,0).goto(i),f=new Co(r,o,0).goto(i);for(;;){if(a.to!=f.to||!Ch(a.active,f.active)||a.point&&(!f.point||!a.point.eq(f.point)))return!1;if(a.to>s)return!0;a.next(),f.next()}}static spans(e,t,i,s,l=-1){let r=new Co(e,null,l).goto(t),o=t,a=r.openStart;for(;;){let f=Math.min(r.to,i);if(r.point){let u=r.activeForPoint(r.to),d=r.pointFrom<t?u.length+1:Math.min(u.length,a);s.point(o,f,r.point,u,d,r.pointRank),a=Math.min(r.openEnd(f),u.length)}else f>o&&(s.span(o,f,r.active,a),a=r.openEnd(f));if(r.to>i)return a+(r.point&&r.to>i?1:0);o=r.to,r.next()}}static of(e,t=!1){let i=new Ol;for(let s of e instanceof Sh?[e]:t?T9(e):e)i.add(s.from,s.to,s.value);return i.finish()}}Mt.empty=new Mt([],[],null,-1);function T9(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if($h(e,i)>0)return n.slice().sort($h);e=i}return n}Mt.empty.nextLayer=Mt.empty;class Ol{finishChunk(e){this.chunks.push(new rm(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Ol)).add(e,t,i)}addInner(e,t,i){let s=e-this.lastTo||i.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Mt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Mt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function g_(n,e,t){let i=new Map;for(let l of n)for(let r=0;r<l.chunk.length;r++)l.chunk[r].maxPoint<=0&&i.set(l.chunk[r],l.chunkPos[r]);let s=new Set;for(let l of e)for(let r=0;r<l.chunk.length;r++){let o=i.get(l.chunk[r]);o!=null&&(t?t.mapPos(o):o)==l.chunkPos[r]&&!(t!=null&&t.touchesRange(o,o+l.chunk[r].length))&&s.add(l.chunk[r])}return s}class _${constructor(e,t,i,s=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class aa{constructor(e){this.heap=e}static from(e,t=null,i=-1){let s=[];for(let l=0;l<e.length;l++)for(let r=e[l];!r.isEmpty;r=r.nextLayer)r.maxPoint>=i&&s.push(new _$(r,t,i,l));return s.length==1?s[0]:new aa(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)ad(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)ad(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),ad(this.heap,0)}}}function ad(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let s=n[i];if(i+1<n.length&&s.compare(n[i+1])>=0&&(s=n[i+1],i++),t.compare(s)<0)break;n[i]=t,n[e]=s,e=i}}class Co{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=aa.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){gf(this.active,e),gf(this.activeTo,e),gf(this.activeRank,e),this.minActive=__(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:s,rank:l}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=l;)t++;bf(this.active,t,i),bf(this.activeTo,t,s),bf(this.activeRank,t,l),e&&bf(e,t,this.cursor.from),this.minActive=__(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&gf(i,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let l=this.cursor.value;if(!l.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let s=i.length-1;s>=0&&i[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function b_(n,e,t,i,s,l){n.goto(e),t.goto(i);let r=i+s,o=i,a=i-e;for(;;){let f=n.to+a-t.to||n.endSide-t.endSide,u=f<0?n.to+a:t.to,d=Math.min(u,r);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Ch(n.activeForPoint(n.to),t.activeForPoint(t.to))||l.comparePoint(o,d,n.point,t.point):d>o&&!Ch(n.active,t.active)&&l.compareRange(o,d,n.active,t.active),u>r)break;o=u,f<=0&&n.next(),f>=0&&t.next()}}function Ch(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function gf(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function bf(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function __(n,e){let t=-1,i=1e9;for(let s=0;s<e.length;s++)(e[s]-i||n[s].endSide-n[t].endSide)<0&&(t=s,i=e[s]);return t}function Na(n,e,t=n.length){let i=0;for(let s=0;s<t;)n.charCodeAt(s)==9?(i+=e-i%e,s++):(i++,s=ei(n,s));return i}function Th(n,e,t,i){for(let s=0,l=0;;){if(l>=e)return s;if(s==n.length)break;l+=n.charCodeAt(s)==9?t-l%t:1,s=ei(n,s)}return i===!0?-1:n.length}const Ph="",O_=typeof Symbol>"u"?"__"+Ph:Symbol.for(Ph),Mh=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class yl{constructor(e,t){this.rules=[];let{finish:i}=t||{};function s(r){return/^@/.test(r)?[r]:r.split(/,\s*/)}function l(r,o,a,f){let u=[],d=/^@(\w+)\b/.exec(r[0]),h=d&&d[1]=="keyframes";if(d&&o==null)return a.push(r[0]+";");for(let p in o){let g=o[p];if(/&/.test(p))l(p.split(/,\s*/).map(b=>r.map(_=>b.replace(/&/,_))).reduce((b,_)=>b.concat(_)),g,a);else if(g&&typeof g=="object"){if(!d)throw new RangeError("The value of a property ("+p+") should be a primitive value.");l(s(p),g,u,h)}else g!=null&&u.push(p.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+g+";")}(u.length||h)&&a.push((i&&!d&&!f?r.map(i):r).join(", ")+" {"+u.join(" ")+"}")}for(let r in e)l(s(r),e[r],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=y_[O_]||1;return y_[O_]=e+1,Ph+e.toString(36)}static mount(e,t){(e[Mh]||new P9(e)).mount(Array.isArray(t)?t:[t])}}let v_=new Map;class P9{constructor(e){let t=e.ownerDocument||e,i=t.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=v_.get(t);if(s)return e.adoptedStyleSheets=[s.sheet,...e.adoptedStyleSheets],e[Mh]=s;this.sheet=new i.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],v_.set(t,this)}else{this.styleTag=t.createElement("style");let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[Mh]=this}mount(e){let t=this.sheet,i=0,s=0;for(let l=0;l<e.length;l++){let r=e[l],o=this.modules.indexOf(r);if(o<s&&o>-1&&(this.modules.splice(o,1),s--,o=-1),o==-1){if(this.modules.splice(s++,0,r),t)for(let a=0;a<r.rules.length;a++)t.insertRule(r.rules[a],i++)}else{for(;s<o;)i+=this.modules[s++].rules.length;i+=r.rules.length,s++}}if(!t){let l="";for(let r=0;r<this.modules.length;r++)l+=this.modules[r].getRules()+`
`;this.styleTag.textContent=l}}}var vl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},M9=typeof navigator<"u"&&/Mac/.test(navigator.platform),A9=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ln=0;Ln<10;Ln++)vl[48+Ln]=vl[96+Ln]=String(Ln);for(var Ln=1;Ln<=24;Ln++)vl[Ln+111]="F"+Ln;for(var Ln=65;Ln<=90;Ln++)vl[Ln]=String.fromCharCode(Ln+32),fa[Ln]=String.fromCharCode(Ln);for(var fd in vl)fa.hasOwnProperty(fd)||(fa[fd]=vl[fd]);function Q9(n){var e=M9&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||A9&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?fa:vl)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Su(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function zr(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function D9(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function jf(n,e){if(!e.anchorNode)return!1;try{return zr(n,e.anchorNode)}catch{return!1}}function Br(n){return n.nodeType==3?Yr(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function $u(n,e,t,i){return t?k_(n,e,t,i,-1)||k_(n,e,t,i,1):!1}function Cu(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function k_(n,e,t,i,s){for(;;){if(n==t&&e==i)return!0;if(e==(s<0?0:kl(n))){if(n.nodeName=="DIV")return!1;let l=n.parentNode;if(!l||l.nodeType!=1)return!1;e=Cu(n)+(s<0?0:1),n=l}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?kl(n):0}else return!1}}function kl(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function hc(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function E9(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function I9(n,e,t,i,s,l,r,o){let a=n.ownerDocument,f=a.defaultView||window;for(let u=n;u;)if(u.nodeType==1){let d,h=u==a.body;if(h)d=E9(f);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let b=u.getBoundingClientRect();d={left:b.left,right:b.left+u.clientWidth,top:b.top,bottom:b.top+u.clientHeight}}let p=0,g=0;if(s=="nearest")e.top<d.top?(g=-(d.top-e.top+r),t>0&&e.bottom>d.bottom+g&&(g=e.bottom-d.bottom+g+r)):e.bottom>d.bottom&&(g=e.bottom-d.bottom+r,t<0&&e.top-g<d.top&&(g=-(d.top+g-e.top+r)));else{let b=e.bottom-e.top,_=d.bottom-d.top;g=(s=="center"&&b<=_?e.top+b/2-_/2:s=="start"||s=="center"&&t<0?e.top-r:e.bottom-_+r)-d.top}if(i=="nearest"?e.left<d.left?(p=-(d.left-e.left+l),t>0&&e.right>d.right+p&&(p=e.right-d.right+p+l)):e.right>d.right&&(p=e.right-d.right+l,t<0&&e.left<d.left+p&&(p=-(d.left+p-e.left+l))):p=(i=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:i=="start"==o?e.left-l:e.right-(d.right-d.left)+l)-d.left,p||g)if(h)f.scrollBy(p,g);else{let b=0,_=0;if(g){let y=u.scrollTop;u.scrollTop+=g,_=u.scrollTop-y}if(p){let y=u.scrollLeft;u.scrollLeft+=p,b=u.scrollLeft-y}e={left:e.left-b,top:e.top-_,right:e.right-b,bottom:e.bottom-_},b&&Math.abs(b-p)<1&&(i="nearest"),_&&Math.abs(_-g)<1&&(s="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function R9(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class L9{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?kl(t):0),i,Math.min(e.focusOffset,i?kl(i):0))}set(e,t,i,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=s}}let yr=null;function O$(n){if(n.setActive)return n.setActive();if(yr)return n.focus(yr);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(yr==null?{get preventScroll(){return yr={preventScroll:!0},!0}}:void 0),!yr){yr=!1;for(let t=0;t<e.length;){let i=e[t++],s=e[t++],l=e[t++];i.scrollTop!=s&&(i.scrollTop=s),i.scrollLeft!=l&&(i.scrollLeft=l)}}}let w_;function Yr(n,e,t=e){let i=w_||(w_=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Lr(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},s=new KeyboardEvent("keydown",i);s.synthetic=!0,n.dispatchEvent(s);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,n.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function N9(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function y$(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function x9(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,kl(t));;)if(i){if(t.nodeType!=1)return!1;let s=t.childNodes[i-1];s.contentEditable=="false"?i--:(t=s,i=kl(t))}else{if(t==n)return!0;i=Cu(t),t=t.parentNode}}class xn{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new xn(e.parentNode,Cu(e),t)}static after(e,t){return new xn(e.parentNode,Cu(e)+1,t)}}const om=[];class qt{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.dirty&2){let i=this.dom,s=null,l;for(let r of this.children){if(r.dirty){if(!r.dom&&(l=s?s.nextSibling:i.firstChild)){let o=qt.get(l);(!o||!o.parent&&o.canReuseDOM(r))&&r.reuseDOM(l)}r.sync(e,t),r.dirty=0}if(l=s?s.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&l!=r.dom&&(t.written=!0),r.dom.parentNode==i)for(;l&&l!=r.dom;)l=S_(l);else i.insertBefore(r.dom,l);s=r.dom}for(l=s?s.nextSibling:i.firstChild,l&&t&&t.node==i&&(t.written=!0);l;)l=S_(l)}else if(this.dirty&1)for(let i of this.children)i.dirty&&(i.sync(e,t),i.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let s=kl(e)==0?0:t==0?-1:1;for(;;){let l=e.parentNode;if(l==this.dom)break;s==0&&l.firstChild!=l.lastChild&&(e==l.firstChild?s=-1:s=1),e=l}s<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!qt.get(i);)i=i.nextSibling;if(!i)return this.length;for(let s=0,l=0;;s++){let r=this.children[s];if(r.dom==i)return l;l+=r.length+r.breakAfter}}domBoundsAround(e,t,i=0){let s=-1,l=-1,r=-1,o=-1;for(let a=0,f=i,u=i;a<this.children.length;a++){let d=this.children[a],h=f+d.length;if(f<e&&h>t)return d.domBoundsAround(e,t,f);if(h>=e&&s==-1&&(s=a,l=f),f>t&&d.dom.parentNode==this.dom){r=a,o=u;break}u=h,f=h+d.breakAfter}return{from:l,to:o<0?i+this.length:o,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:r<this.children.length&&r>=0?this.children[r].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=om){this.markDirty();for(let s=e;s<t;s++){let l=this.children[s];l.parent==this&&l.destroy()}this.children.splice(e,t-e,...i);for(let s=0;s<i.length;s++)i[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new v$(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,s,l,r){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}qt.prototype.breakAfter=0;function S_(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class v${constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function k$(n,e,t,i,s,l,r,o,a){let{children:f}=n,u=f.length?f[e]:null,d=l.length?l[l.length-1]:null,h=d?d.breakAfter:r;if(!(e==i&&u&&!r&&!h&&l.length<2&&u.merge(t,s,l.length?d:null,t==0,o,a))){if(i<f.length){let p=f[i];p&&s<p.length?(e==i&&(p=p.split(s),s=0),!h&&d&&p.merge(0,s,d,!0,0,a)?l[l.length-1]=p:(s&&p.merge(0,s,null,!1,0,a),l.push(p))):p!=null&&p.breakAfter&&(d?d.breakAfter=1:r=1),i++}for(u&&(u.breakAfter=r,t>0&&(!r&&l.length&&u.merge(t,u.length,l[0],!1,o,0)?u.breakAfter=l.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,o,0),e++));e<i&&l.length;)if(f[i-1].become(l[l.length-1]))i--,l.pop(),a=l.length?0:o;else if(f[e].become(l[0]))e++,l.shift(),o=l.length?0:a;else break;!l.length&&e&&i<f.length&&!f[e-1].breakAfter&&f[i].merge(0,0,f[e-1],!1,o,a)&&e--,(e<i||l.length)&&n.replaceChildren(e,i,l)}}function w$(n,e,t,i,s,l){let r=n.childCursor(),{i:o,off:a}=r.findPos(t,1),{i:f,off:u}=r.findPos(e,-1),d=e-t;for(let h of i)d+=h.length;n.length+=d,k$(n,f,u,o,a,i,0,s,l)}let Si=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Ah=typeof document<"u"?document:{documentElement:{style:{}}};const Qh=/Edge\/(\d+)/.exec(Si.userAgent),S$=/MSIE \d/.test(Si.userAgent),Dh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Si.userAgent),pc=!!(S$||Dh||Qh),$_=!pc&&/gecko\/(\d+)/i.test(Si.userAgent),ud=!pc&&/Chrome\/(\d+)/.exec(Si.userAgent),C_="webkitFontSmoothing"in Ah.documentElement.style,$$=!pc&&/Apple Computer/.test(Si.vendor),T_=$$&&(/Mobile\/\w+/.test(Si.userAgent)||Si.maxTouchPoints>2);var ze={mac:T_||/Mac/.test(Si.platform),windows:/Win/.test(Si.platform),linux:/Linux|X11/.test(Si.platform),ie:pc,ie_version:S$?Ah.documentMode||6:Dh?+Dh[1]:Qh?+Qh[1]:0,gecko:$_,gecko_version:$_?+(/Firefox\/(\d+)/.exec(Si.userAgent)||[0,0])[1]:0,chrome:!!ud,chrome_version:ud?+ud[1]:0,ios:T_,android:/Android\b/.test(Si.userAgent),webkit:C_,safari:$$,webkit_version:C_?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Ah.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Z9=256;class sr extends qt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof sr)||this.length-(t-e)+i.length>Z9)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new sr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new xn(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Eh(this.dom,e,t)}}class Ys extends qt{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let s of t)s.setParent(this)}setAttrs(e){if(y$(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,s,l,r){return i&&(!(i instanceof Ys&&i.mark.eq(this.mark))||e&&l<=0||t<this.length&&r<=0)?!1:(w$(this,e,t,i?i.children:[],l-1,r-1),this.markDirty(),!0)}split(e){let t=[],i=0,s=-1,l=0;for(let o of this.children){let a=i+o.length;a>e&&t.push(i<e?o.split(e-i):o),s<0&&i>=e&&(s=l),i=a,l++}let r=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new Ys(this.mark,t,r)}domAtPos(e){return A$(this,e)}coordsAt(e,t){return D$(this,e,t)}}function Eh(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let s=e,l=e,r=0;e==0&&t<0||e==i&&t>=0?ze.chrome||ze.gecko||(e?(s--,r=1):l<i&&(l++,r=-1)):t<0?s--:l<i&&l++;let o=Yr(n,s,l).getClientRects();if(!o.length)return null;let a=o[(r?r<0:t>=0)?0:o.length-1];return ze.safari&&!r&&a.width==0&&(a=Array.prototype.find.call(o,f=>f.width)||a),r?hc(a,r<0):a||null}class dl extends qt{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||dl)(e,t,i)}split(e){let t=dl.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,s,l,r){return i&&(!(i instanceof dl)||!this.widget.compare(i.widget)||e>0&&l<=0||t<this.length&&r<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof dl&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ot.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,s=this.posAtStart;return i?i.slice(s,s+this.length):Ot.empty}domAtPos(e){return(this.length?e==0:this.side>0)?xn.before(this.dom):xn.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let r=this.side?this.side<0:e>0;for(let o=r?s.length-1:0;l=s[o],!(e>0?o==0:o==s.length-1||l.top<l.bottom);o+=r?-1:1);return this.length?l:hc(l,!r)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class C$ extends dl{domAtPos(e){let{topView:t,text:i}=this.widget;return t?Ih(e,0,t,i,this.length-t.length,(s,l)=>s.domAtPos(l),(s,l)=>new xn(s,Math.min(l,s.nodeValue.length))):new xn(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:s}=this.widget;return i?P$(e,t,i,s,this.length-i.length):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:s}=this.widget;return i?Ih(e,t,i,s,this.length-i.length,(l,r,o)=>l.coordsAt(r,o),(l,r,o)=>Eh(l,r,o)):Eh(s,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Ih(n,e,t,i,s,l,r){if(t instanceof Ys){for(let o=t.dom.firstChild;o;o=o.nextSibling){let a=qt.get(o);if(a){let f=zr(o,i),u=a.length+(f?s:0);if(n<u||n==u&&a.getSide()<=0)return f?Ih(n,e,a,i,s,l,r):l(a,n,e);n-=u}else{let f=T$(n,e,o,r);if(typeof f!="number")return f;n=f}}return l(t,t.length,-1)}else return t.dom==i?r(i,n,e):l(t,n,e)}function T$(n,e,t,i){if(t.nodeType==3){let s=t.nodeValue.length;if(n<=s)return i(t,n,e);n-=s}else if(t.nodeType==1&&t.contentEditable!="false")for(let s=t.firstChild;s;s=s.nextSibling){let l=T$(n,e,s,i);if(typeof l!="number")return l;n=l}return n}function P$(n,e,t,i,s){if(t instanceof Ys){let l=0;for(let r=t.dom.firstChild;r;r=r.nextSibling){let o=qt.get(r);if(o){let a=zr(r,i);if(zr(r,n))return l+(a?P$(n,e,o,i,s):o.localPosFromDOM(n,e));l+=o.length+(a?s:0)}else{let a=M$(n,e,r);if(a.result!=null)return l+a.result;l+=a.size}}}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}function M$(n,e,t){if(t.nodeType==3)return n==t?{result:e}:{size:t.nodeValue.length};if(t.nodeType==1&&t.contentEditable!="false"){let i=0;for(let s=t.firstChild,l=0;;s=s.nextSibling,l++){if(n==t&&l==e)return{result:i};if(!s)return{size:i};let r=M$(n,e,s);if(r.result!=null)return{result:e+r.result};i+=r.size}}else return t.contains(n)?{result:0}:{size:0}}class Hr extends qt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Hr&&e.side==this.side}split(){return new Hr(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?xn.before(this.dom):xn.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Ot.empty}get isHidden(){return!0}}sr.prototype.children=dl.prototype.children=Hr.prototype.children=om;function A$(n,e){let t=n.dom,{children:i}=n,s=0;for(let l=0;s<i.length;s++){let r=i[s],o=l+r.length;if(!(o==l&&r.getSide()<=0)){if(e>l&&e<o&&r.dom.parentNode==t)return r.domAtPos(e-l);if(e<=l)break;l=o}}for(let l=s;l>0;l--){let r=i[l-1];if(r.dom.parentNode==t)return r.domAtPos(r.length)}for(let l=s;l<i.length;l++){let r=i[l];if(r.dom.parentNode==t)return r.domAtPos(0)}return new xn(t,0)}function Q$(n,e,t){let i,{children:s}=n;t>0&&e instanceof Ys&&s.length&&(i=s[s.length-1])instanceof Ys&&i.mark.eq(e.mark)?Q$(i,e.children[0],t-1):(s.push(e),e.setParent(n)),n.length+=e.length}function D$(n,e,t){let i=null,s=-1,l=null,r=-1;function o(f,u){for(let d=0,h=0;d<f.children.length&&h<=u;d++){let p=f.children[d],g=h+p.length;g>=u&&(p.children.length?o(p,u-h):(!l||l.isHidden&&t>0)&&(g>u||h==g&&p.getSide()>0)?(l=p,r=u-h):(h<u||h==g&&p.getSide()<0&&!p.isHidden)&&(i=p,s=u-h)),h=g}}o(n,e);let a=(t<0?i:l)||i||l;return a?a.coordsAt(Math.max(0,a==i?s:r),t):F9(n)}function F9(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Br(e);return t[t.length-1]||null}function Rh(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function am(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let s of t)if(i.indexOf(s)==-1||n[s]!==e[s])return!1;return!0}function Lh(n,e,t){let i=null;if(e)for(let s in e)t&&s in t||n.removeAttribute(i=s);if(t)for(let s in t)e&&e[s]==t[s]||n.setAttribute(i=s,t[s]);return!!i}class Es{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get customView(){return null}get isHidden(){return!1}destroy(e){}}var tn=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(tn||(tn={}));class Be extends ir{constructor(e,t,i,s){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=s}get heightRelevant(){return!1}static mark(e){return new mc(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new wl(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,s;if(e.isBlockGap)i=-5e8,s=4e8;else{let{start:l,end:r}=E$(e,t);i=(l?t?-3e8:-1:5e8)-1,s=(r?t?2e8:1:-6e8)+1}return new wl(e,i,s,t,e.widget||null,!0)}static line(e){return new xa(e)}static set(e,t=!1){return Mt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Be.none=Mt.empty;class mc extends Be{constructor(e){let{start:t,end:i}=E$(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof mc&&this.tagName==e.tagName&&this.class==e.class&&am(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}mc.prototype.point=!1;class xa extends Be{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof xa&&this.spec.class==e.spec.class&&am(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}xa.prototype.mapMode=Nn.TrackBefore;xa.prototype.point=!0;class wl extends Be{constructor(e,t,i,s,l,r){super(t,i,l,e),this.block=s,this.isReplace=r,this.mapMode=s?t<=0?Nn.TrackBefore:Nn.TrackAfter:Nn.TrackDel}get type(){return this.startSide<this.endSide?tn.WidgetRange:this.startSide<=0?tn.WidgetBefore:tn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof wl&&X9(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}wl.prototype.point=!0;function E$(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function X9(n,e){return n==e||!!(n&&e&&n.compare(e))}function Nh(n,e,t,i=0){let s=t.length-1;s>=0&&t[s]+i>=n?t[s]=Math.max(t[s],e):t.push(n,e)}class ai extends qt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,s,l,r){if(i){if(!(i instanceof ai))return!1;this.dom||i.transferDOM(this)}return s&&this.setDeco(i?i.attrs:null),w$(this,e,t,i?i.children:[],l,r),!0}split(e){let t=new ai;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:s}=this.childPos(e);s&&(t.append(this.children[i].split(s),0),this.children[i].merge(s,this.children[i].length,null,!1,0,0),i++);for(let l=i;l<this.children.length;l++)t.append(this.children[l],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){am(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Q$(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Rh(t,this.attrs||{})),i&&(this.attrs=Rh({class:i},this.attrs||{}))}domAtPos(e){return A$(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var i;this.dom?this.dirty&4&&(y$(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Lh(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&qt.get(s)instanceof Ys;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((i=qt.get(s))===null||i===void 0?void 0:i.isEditable)==!1&&(!ze.ios||!this.children.some(l=>l instanceof sr))){let l=document.createElement("BR");l.cmIgnore=!0,this.dom.appendChild(l)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof sr)||/[^ -~]/.test(i.text))return null;let s=Br(i.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=D$(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:s}=this.parent.view.viewState,l=i.bottom-i.top;if(Math.abs(l-s.lineHeight)<2&&s.textHeight<l){let r=(l-s.textHeight)/2;return{top:i.top+r,bottom:i.bottom-r,left:i.left,right:i.left}}}return i}become(e){return!1}get type(){return tn.Text}static find(e,t){for(let i=0,s=0;i<e.children.length;i++){let l=e.children[i],r=s+l.length;if(r>=t){if(l instanceof ai)return l;if(r>t)break}s=r+l.breakAfter}return null}}class Gl extends qt{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,s,l,r){return i&&(!(i instanceof Gl)||!this.widget.compare(i.widget)||e>0&&l<=0||t<this.length&&r<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?xn.before(this.dom):xn.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Gl(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return om}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ot.empty}domBoundsAround(){return null}become(e){return e instanceof Gl&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class fm{constructor(e,t,i,s){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Gl&&e.type==tn.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new ai),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(_f(new Hr(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:l,lineBreak:r,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(r){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=l,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(_f(new sr(this.text.slice(this.textOff,this.textOff+s)),t),i),this.atCursorPos=!0,this.textOff+=s,e-=s,i=0}}span(e,t,i,s){this.buildText(t-e,i,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,i,s,l,r){if(this.disallowBlockEffectsFor[r]&&i instanceof wl){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(i instanceof wl)if(i.block){let{type:a}=i;a==tn.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Gl(i.widget||new P_("div"),o,a))}else{let a=dl.create(i.widget||new P_("span"),o,o?0:i.startSide),f=this.atCursorPos&&!a.isEditable&&l<=s.length&&(e<t||i.startSide>0),u=!a.isEditable&&(e<t||l>s.length||i.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!f&&!a.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),f&&(d.append(_f(new Hr(1),s),l),l=s.length+Math.max(0,l-s.length)),d.append(_f(a,s),l),this.atCursorPos=u,this.pendingBuffer=u?e<t||l>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=l)}static build(e,t,i,s,l){let r=new fm(e,t,i,l);return r.openEnd=Mt.spans(s,t,i,r),r.openStart<0&&(r.openStart=r.openEnd),r.finish(r.openEnd),r}}function _f(n,e){for(let t of e)n=new Ys(t,[n],n.length);return n}class P_ extends Es{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const I$=We.define(),R$=We.define(),L$=We.define(),N$=We.define(),xh=We.define(),x$=We.define(),Z$=We.define(),F$=We.define({combine:n=>n.some(e=>e)}),X$=We.define({combine:n=>n.some(e=>e)});class Tu{constructor(e,t="nearest",i="nearest",s=5,l=5){this.range=e,this.y=t,this.x=i,this.yMargin=s,this.xMargin=l}map(e){return e.empty?this:new Tu(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const M_=nt.define({map:(n,e)=>n.map(e)});function ji(n,e,t){let i=n.facet(N$);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const gc=We.define({combine:n=>n.length?n[0]:!0});let q9=0;const Ro=We.define();class On{constructor(e,t,i,s){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=s(this)}static define(e,t){const{eventHandlers:i,provide:s,decorations:l}=t||{};return new On(q9++,e,i,r=>{let o=[Ro.of(r)];return l&&o.push(ua.of(a=>{let f=a.plugin(r);return f?l(f):Be.none})),s&&o.push(s(r)),o})}static fromClass(e,t){return On.define(i=>new e(i),t)}}class cd{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(ji(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){ji(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){ji(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const q$=We.define(),um=We.define(),ua=We.define(),cm=We.define(),V$=We.define();function j$(n){let e=0,t=0,i=0,s=0;for(let l of n.state.facet(V$)){let r=l(n);r&&(r.left!=null&&(e=Math.max(e,r.left)),r.right!=null&&(t=Math.max(t,r.right)),r.top!=null&&(i=Math.max(i,r.top)),r.bottom!=null&&(s=Math.max(s,r.bottom)))}return{left:e,right:t,top:i,bottom:s}}const Lo=We.define();class Ss{constructor(e,t,i,s){this.fromA=e,this.toA=t,this.fromB=i,this.toB=s}join(e){return new Ss(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>i.toA)){if(s.toA<i.fromA)break;i=i.join(s),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let s=0,l=0,r=0,o=0;;s++){let a=s==e.length?null:e[s],f=r-o,u=a?a.fromB:1e9;for(;l<t.length&&t[l]<u;){let d=t[l],h=t[l+1],p=Math.max(o,d),g=Math.min(u,h);if(p<=g&&new Ss(p+f,g+f,p,g).addToSet(i),h>u)break;l+=2}if(!a)return i;new Ss(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),r=a.toA,o=a.toB}}}class Pu{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=wn.empty(this.startState.doc.length);for(let l of i)this.changes=this.changes.compose(l.changes);let s=[];this.changes.iterChangedRanges((l,r,o,a)=>s.push(new Ss(l,r,o,a))),this.changedRanges=s}static create(e,t,i){return new Pu(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var en=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(en||(en={}));const Zh=en.LTR,V9=en.RTL;function U$(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const j9=U$("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),U9=U$("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Fh=Object.create(null),fs=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Fh[e]=t,Fh[t]=-e}function W9(n){return n<=247?j9[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?U9[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:n==8204?256:1}const z9=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Nr{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?V9:Zh}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,s){let l=-1;for(let r=0;r<e.length;r++){let o=e[r];if(o.from<=t&&o.to>=t){if(o.level==i)return r;(l<0||(s!=0?s<0?o.from<t:o.to>t:e[l].level>o.level))&&(l=r)}}if(l<0)throw new RangeError("Index out of range");return l}}const Gt=[];function B9(n,e){let t=n.length,i=e==Zh?1:2,s=e==Zh?2:1;if(!n||i==1&&!z9.test(n))return W$(t);for(let r=0,o=i,a=i;r<t;r++){let f=W9(n.charCodeAt(r));f==512?f=o:f==8&&a==4&&(f=16),Gt[r]=f==4?2:f,f&7&&(a=f),o=f}for(let r=0,o=i,a=i;r<t;r++){let f=Gt[r];if(f==128)r<t-1&&o==Gt[r+1]&&o&24?f=Gt[r]=o:Gt[r]=256;else if(f==64){let u=r+1;for(;u<t&&Gt[u]==64;)u++;let d=r&&o==8||u<t&&Gt[u]==8?a==1?1:8:256;for(let h=r;h<u;h++)Gt[h]=d;r=u-1}else f==8&&a==1&&(Gt[r]=1);o=f,f&7&&(a=f)}for(let r=0,o=0,a=0,f,u,d;r<t;r++)if(u=Fh[f=n.charCodeAt(r)])if(u<0){for(let h=o-3;h>=0;h-=3)if(fs[h+1]==-u){let p=fs[h+2],g=p&2?i:p&4?p&1?s:i:0;g&&(Gt[r]=Gt[fs[h]]=g),o=h;break}}else{if(fs.length==189)break;fs[o++]=r,fs[o++]=f,fs[o++]=a}else if((d=Gt[r])==2||d==1){let h=d==i;a=h?0:1;for(let p=o-3;p>=0;p-=3){let g=fs[p+2];if(g&2)break;if(h)fs[p+2]|=2;else{if(g&4)break;fs[p+2]|=4}}}for(let r=0;r<t;r++)if(Gt[r]==256){let o=r+1;for(;o<t&&Gt[o]==256;)o++;let a=(r?Gt[r-1]:i)==1,f=(o<t?Gt[o]:i)==1,u=a==f?a?1:2:i;for(let d=r;d<o;d++)Gt[d]=u;r=o-1}let l=[];if(i==1)for(let r=0;r<t;){let o=r,a=Gt[r++]!=1;for(;r<t&&a==(Gt[r]!=1);)r++;if(a)for(let f=r;f>o;){let u=f,d=Gt[--f]!=2;for(;f>o&&d==(Gt[f-1]!=2);)f--;l.push(new Nr(f,u,d?2:1))}else l.push(new Nr(o,r,0))}else for(let r=0;r<t;){let o=r,a=Gt[r++]==2;for(;r<t&&a==(Gt[r]==2);)r++;l.push(new Nr(o,r,a?1:2))}return l}function W$(n){return[new Nr(0,n,0)]}let z$="";function Y9(n,e,t,i,s){var l;let r=i.head-n.from,o=-1;if(r==0){if(!s||!n.length)return null;e[0].level!=t&&(r=e[0].side(!1,t),o=0)}else if(r==n.length){if(s)return null;let h=e[e.length-1];h.level!=t&&(r=h.side(!0,t),o=e.length-1)}o<0&&(o=Nr.find(e,r,(l=i.bidiLevel)!==null&&l!==void 0?l:-1,i.assoc));let a=e[o];r==a.side(s,t)&&(a=e[o+=s?1:-1],r=a.side(!s,t));let f=s==(a.dir==t),u=ei(n.text,r,f);if(z$=n.text.slice(Math.min(r,u),Math.max(r,u)),u!=a.side(s,t))return he.cursor(u+n.from,f?-1:1,a.level);let d=o==(s?e.length-1:0)?null:e[o+(s?1:-1)];return!d&&a.level!=t?he.cursor(s?n.to:n.from,s?-1:1,t):d&&d.level<a.level?he.cursor(d.side(!s,t)+n.from,s?1:-1,d.level):he.cursor(u+n.from,s?-1:1,a.level)}const Sr="";class B${constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(ht.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Sr}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let s=e;;){this.findPointBefore(i,s);let l=this.text.length;this.readNode(s);let r=s.nextSibling;if(r==t)break;let o=qt.get(s),a=qt.get(r);(o&&a?o.breakAfter:(o?o.breakAfter:A_(s))||A_(r)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>l)&&this.lineBreak(),s=r}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let l=-1,r=1,o;if(this.lineSeparator?(l=t.indexOf(this.lineSeparator,i),r=this.lineSeparator.length):(o=s.exec(t))&&(l=o.index,r=o[0].length),this.append(t.slice(i,l<0?t.length:l)),l<0)break;if(this.lineBreak(),r>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=r-1);i=l+r}}readNode(e){if(e.cmIgnore)return;let t=qt.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let s=i.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}function A_(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class Q_{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class D_ extends qt{constructor(e){super(),this.view=e,this.compositionDeco=Be.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ai],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ss(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:r,toA:o})=>o<this.minWidthFrom||r>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Be.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=G9(this.view,e.changes)),(ze.ie||ze.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,s=this.updateDeco(),l=tN(i,s,e.changes);return t=Ss.extendWithRanges(t,l),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=ze.chrome||ze.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.dirty=0,l&&(l.written||i.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""});let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof Gl&&l.widget instanceof E_&&s.push(l.dom);i.updateGaps(s)}updateChildren(e,t){let i=this.childCursor(t);for(let s=e.length-1;;s--){let l=s>=0?e[s]:null;if(!l)break;let{fromA:r,toA:o,fromB:a,toB:f}=l,{content:u,breakAtStart:d,openStart:h,openEnd:p}=fm.build(this.view.state.doc,a,f,this.decorations,this.dynamicDecorationMap),{i:g,off:b}=i.findPos(o,1),{i:_,off:y}=i.findPos(r,-1);k$(this,_,y,g,b,u,d,h,p)}}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,s=i==this.dom,l=!s&&jf(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(s||t||l))return;let r=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,a=this.domAtPos(o.anchor),f=o.empty?a:this.domAtPos(o.head);if(ze.gecko&&o.empty&&!this.compositionDeco.size&&H9(a)){let d=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(d,a.node.childNodes[a.offset]||null)),a=f=new xn(d,0),r=!0}let u=this.view.observer.selectionRange;(r||!u.focusNode||!$u(a.node,a.offset,u.anchorNode,u.anchorOffset)||!$u(f.node,f.offset,u.focusNode,u.focusOffset))&&(this.view.observer.ignore(()=>{ze.android&&ze.chrome&&this.dom.contains(u.focusNode)&&nN(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Su(this.view.root);if(d)if(o.empty){if(ze.gecko){let h=J9(a.node,a.offset);if(h&&h!=3){let p=H$(a.node,a.offset,h==1?1:-1);p&&(a=new xn(p,h==1?0:p.nodeValue.length))}}d.collapse(a.node,a.offset),o.bidiLevel!=null&&u.cursorBidiLevel!=null&&(u.cursorBidiLevel=o.bidiLevel)}else if(d.extend){d.collapse(a.node,a.offset);try{d.extend(f.node,f.offset)}catch{}}else{let h=document.createRange();o.anchor>o.head&&([a,f]=[f,a]),h.setEnd(f.node,f.offset),h.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(h)}l&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(a,f)),this.impreciseAnchor=a.precise?null:new xn(u.anchorNode,u.anchorOffset),this.impreciseHead=f.precise?null:new xn(u.focusNode,u.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,i=Su(e.root),{anchorNode:s,anchorOffset:l}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let r=ai.find(this,t.head);if(!r)return;let o=r.posAtStart;if(t.head==o||t.head==o+r.length)return;let a=this.coordsAt(t.head,-1),f=this.coordsAt(t.head,1);if(!a||!f||a.bottom>f.top)return;let u=this.domAtPos(t.head+t.assoc);i.collapse(u.node,u.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&i.collapse(s,l)}nearest(e){for(let t=e;t;){let i=qt.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(i<s.length||s instanceof ai)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,s=this.children.length-1;;s--){let l=this.children[s],r=i-l.breakAfter-l.length;if(e>r||e==r&&l.type!=tn.WidgetBefore&&l.type!=tn.WidgetAfter&&(!s||t==2||this.children[s-1].breakAfter||this.children[s-1].type==tn.WidgetBefore&&t>-2))return l.coordsAt(e-r,t);i=r}}measureVisibleLineHeights(e){let t=[],{from:i,to:s}=e,l=this.view.contentDOM.clientWidth,r=l>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==en.LTR;for(let f=0,u=0;u<this.children.length;u++){let d=this.children[u],h=f+d.length;if(h>s)break;if(f>=i){let p=d.dom.getBoundingClientRect();if(t.push(p.height),r){let g=d.dom.lastChild,b=g?Br(g):[];if(b.length){let _=b[b.length-1],y=a?_.right-p.left:p.right-_.left;y>o&&(o=y,this.minWidth=l,this.minWidthFrom=f,this.minWidthTo=h)}}}f=h+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?en.RTL:en.LTR}measureTextSize(){for(let l of this.children)if(l instanceof ai){let r=l.measureTextSize();if(r)return r}let e=document.createElement("div"),t,i,s;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let l=Br(e.firstChild)[0];t=e.getBoundingClientRect().height,i=l?l.width/27:7,s=l?l.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new v$(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,s=0;;s++){let l=s==t.viewports.length?null:t.viewports[s],r=l?l.from-1:this.length;if(r>i){let o=t.lineBlockAt(r).bottom-t.lineBlockAt(i).top;e.push(Be.replace({widget:new E_(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,r))}if(!l)break;i=l.to+1}return Be.set(e)}updateDeco(){let e=this.view.state.facet(ua).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!i)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,s.left),top:Math.min(i.top,s.top),right:Math.max(i.right,s.right),bottom:Math.max(i.bottom,s.bottom)});let l=j$(this.view),r={left:i.left-l.left,top:i.top-l.top,right:i.right+l.right,bottom:i.bottom+l.bottom};I9(this.view.scrollDOM,r,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==en.LTR)}}function H9(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class E_ extends Es{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Y$(n){let e=n.observer.selectionRange,t=e.focusNode&&H$(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof ai){let s=t;for(;s.parentNode!=i.dom;)s=s.parentNode;let l=s.previousSibling;for(;l&&!qt.get(l);)l=l.previousSibling;let r=l?qt.get(l).posAtEnd:i.posAtStart;return{from:r,to:r,node:s,text:t}}else{for(;;){let{parent:l}=i;if(!l)return null;if(l instanceof ai)break;i=l}let s=i.posAtStart;return{from:s,to:s+i.length,node:i.dom,text:t}}}function G9(n,e){let t=Y$(n);if(!t)return Be.none;let{from:i,to:s,node:l,text:r}=t,o=e.mapPos(i,1),a=Math.max(o,e.mapPos(s,-1)),{state:f}=n,u=new B$([],f);l.nodeType==3?u.readTextNode(l):u.readRange(l.firstChild,null);let{text:d}=u;if(d.indexOf(Sr)>-1)return Be.none;if(a-o<d.length)if(f.doc.sliceString(o,Math.min(f.doc.length,o+d.length))==d)a=o+d.length;else if(f.doc.sliceString(Math.max(0,a-d.length),a)==d)o=a-d.length;else return Be.none;else if(f.doc.sliceString(o,a)!=d)return Be.none;let h=qt.get(l);return h instanceof C$?h=h.widget.topView:h&&(h.parent=null),Be.set(Be.replace({widget:new K9(l,r,h),inclusive:!0}).range(o,a))}class K9 extends Es{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return C$}}function H$(n,e,t){if(t<=0)for(let i=n,s=e;;){if(i.nodeType==3)return i;if(i.nodeType==1&&s>0)i=i.childNodes[s-1],s=kl(i);else break}if(t>=0)for(let i=n,s=e;;){if(i.nodeType==3)return i;if(i.nodeType==1&&s<i.childNodes.length&&t>=0)i=i.childNodes[s],s=0;else break}return null}function J9(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}class eN{constructor(){this.changes=[]}compareRange(e,t){Nh(e,t,this.changes)}comparePoint(e,t){Nh(e,t,this.changes)}}function tN(n,e,t){let i=new eN;return Mt.compare(n,e,t,i),i.changes}function nN(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function iN(n,e,t=1){let i=n.charCategorizer(e),s=n.doc.lineAt(e),l=e-s.from;if(s.length==0)return he.cursor(e);l==0?t=1:l==s.length&&(t=-1);let r=l,o=l;t<0?r=ei(s.text,l,!1):o=ei(s.text,l);let a=i(s.text.slice(r,o));for(;r>0;){let f=ei(s.text,r,!1);if(i(s.text.slice(f,r))!=a)break;r=f}for(;o<s.length;){let f=ei(s.text,o);if(i(s.text.slice(o,f))!=a)break;o=f}return he.range(r+s.from,o+s.from)}function sN(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function lN(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function dd(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function I_(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function R_(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function Xh(n,e,t){let i,s,l,r,o=!1,a,f,u,d;for(let g=n.firstChild;g;g=g.nextSibling){let b=Br(g);for(let _=0;_<b.length;_++){let y=b[_];s&&dd(s,y)&&(y=I_(R_(y,s.bottom),s.top));let k=sN(e,y),C=lN(t,y);if(k==0&&C==0)return g.nodeType==3?L_(g,e,t):Xh(g,e,t);if(!i||r>C||r==C&&l>k){i=g,s=y,l=k,r=C;let $=C?t<y.top?-1:1:k?e<y.left?-1:1:0;o=!$||($>0?_<b.length-1:_>0)}k==0?t>y.bottom&&(!u||u.bottom<y.bottom)?(a=g,u=y):t<y.top&&(!d||d.top>y.top)&&(f=g,d=y):u&&dd(u,y)?u=R_(u,y.bottom):d&&dd(d,y)&&(d=I_(d,y.top))}}if(u&&u.bottom>=t?(i=a,s=u):d&&d.top<=t&&(i=f,s=d),!i)return{node:n,offset:0};let h=Math.max(s.left,Math.min(s.right,e));if(i.nodeType==3)return L_(i,h,t);if(o&&i.contentEditable!="false")return Xh(i,h,t);let p=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(s.left+s.right)/2?1:0);return{node:n,offset:p}}function L_(n,e,t){let i=n.nodeValue.length,s=-1,l=1e9,r=0;for(let o=0;o<i;o++){let a=Yr(n,o,o+1).getClientRects();for(let f=0;f<a.length;f++){let u=a[f];if(u.top==u.bottom)continue;r||(r=e-u.left);let d=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&d<l){let h=e>=(u.left+u.right)/2,p=h;if((ze.chrome||ze.gecko)&&Yr(n,o).getBoundingClientRect().left==u.right&&(p=!h),d<=0)return{node:n,offset:o+(p?1:0)};s=o+(p?1:0),l=d}}}return{node:n,offset:s>-1?s:r>0?n.nodeValue.length:0}}function G$(n,e,t,i=-1){var s,l;let r=n.contentDOM.getBoundingClientRect(),o=r.top+n.viewState.paddingTop,a,{docHeight:f}=n.viewState,{x:u,y:d}=e,h=d-o;if(h<0)return 0;if(h>f)return n.state.doc.length;for(let $=n.defaultLineHeight/2,T=!1;a=n.elementAtHeight(h),a.type!=tn.Text;)for(;h=i>0?a.bottom+$:a.top-$,!(h>=0&&h<=f);){if(T)return t?null:0;T=!0,i=-i}d=o+h;let p=a.from;if(p<n.viewport.from)return n.viewport.from==0?0:t?null:N_(n,r,a,u,d);if(p>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:N_(n,r,a,u,d);let g=n.dom.ownerDocument,b=n.root.elementFromPoint?n.root:g,_=b.elementFromPoint(u,d);_&&!n.contentDOM.contains(_)&&(_=null),_||(u=Math.max(r.left+1,Math.min(r.right-1,u)),_=b.elementFromPoint(u,d),_&&!n.contentDOM.contains(_)&&(_=null));let y,k=-1;if(_&&((s=n.docView.nearest(_))===null||s===void 0?void 0:s.isEditable)!=!1){if(g.caretPositionFromPoint){let $=g.caretPositionFromPoint(u,d);$&&({offsetNode:y,offset:k}=$)}else if(g.caretRangeFromPoint){let $=g.caretRangeFromPoint(u,d);$&&({startContainer:y,startOffset:k}=$,(!n.contentDOM.contains(y)||ze.safari&&rN(y,k,u)||ze.chrome&&oN(y,k,u))&&(y=void 0))}}if(!y||!n.docView.dom.contains(y)){let $=ai.find(n.docView,p);if(!$)return h>a.top+a.height/2?a.to:a.from;({node:y,offset:k}=Xh($.dom,u,d))}let C=n.docView.nearest(y);if(!C)return null;if(C.isWidget&&((l=C.dom)===null||l===void 0?void 0:l.nodeType)==1){let $=C.dom.getBoundingClientRect();return e.y<$.top||e.y<=$.bottom&&e.x<=($.left+$.right)/2?C.posAtStart:C.posAtEnd}else return C.localPosFromDOM(y,k)+C.posAtStart}function N_(n,e,t,i,s){let l=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let o=Math.floor((s-t.top)/n.defaultLineHeight);l+=o*n.viewState.heightOracle.lineLength}let r=n.state.sliceDoc(t.from,t.to);return t.from+Th(r,l,n.state.tabSize)}function rN(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let s=n.nextSibling;s;s=s.nextSibling)if(s.nodeType!=1||s.nodeName!="BR")return!1;return Yr(n,i-1,i).getBoundingClientRect().left>t}function oN(n,e,t){if(e!=0)return!1;for(let s=n;;){let l=s.parentNode;if(!l||l.nodeType!=1||l.firstChild!=s)return!1;if(l.classList.contains("cm-line"))break;s=l}let i=n.nodeType==1?n.getBoundingClientRect():Yr(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function qh(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==tn.Text))return i}return t}function aN(n,e,t,i){let s=qh(n,e.head),l=!i||s.type!=tn.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(l){let r=n.dom.getBoundingClientRect(),o=n.textDirectionAt(s.from),a=n.posAtCoords({x:t==(o==en.LTR)?r.right-1:r.left+1,y:(l.top+l.bottom)/2});if(a!=null)return he.cursor(a,t?-1:1)}return he.cursor(t?s.to:s.from,t?-1:1)}function x_(n,e,t,i){let s=n.state.doc.lineAt(e.head),l=n.bidiSpans(s),r=n.textDirectionAt(s.from);for(let o=e,a=null;;){let f=Y9(s,l,r,o,t),u=z$;if(!f){if(s.number==(t?n.state.doc.lines:1))return o;u=`
`,s=n.state.doc.line(s.number+(t?1:-1)),l=n.bidiSpans(s),f=he.cursor(t?s.from:s.to)}if(a){if(!a(u))return o}else{if(!i)return f;a=i(u)}o=f}}function fN(n,e,t){let i=n.state.charCategorizer(e),s=i(t);return l=>{let r=i(l);return s==Wt.Space&&(s=r),s==r}}function uN(n,e,t,i){let s=e.head,l=t?1:-1;if(s==(t?n.state.doc.length:0))return he.cursor(s,e.assoc);let r=e.goalColumn,o,a=n.contentDOM.getBoundingClientRect(),f=n.coordsAtPos(s),u=n.documentTop;if(f)r==null&&(r=f.left-a.left),o=l<0?f.top:f.bottom;else{let p=n.viewState.lineBlockAt(s);r==null&&(r=Math.min(a.right-a.left,n.defaultCharacterWidth*(s-p.from))),o=(l<0?p.top:p.bottom)+u}let d=a.left+r,h=i??n.defaultLineHeight>>1;for(let p=0;;p+=10){let g=o+(h+p)*l,b=G$(n,{x:d,y:g},!1,l);if(g<a.top||g>a.bottom||(l<0?b<s:b>s))return he.cursor(b,e.assoc,void 0,r)}}function Uf(n,e,t){for(;;){let i=0;for(let s of n)s.between(e-1,e+1,(l,r,o)=>{if(e>l&&e<r){let a=i||t||(e-l<r-e?-1:1);e=a<0?l:r,i=a}});if(!i)return e}}function hd(n,e,t){let i=Uf(n.state.facet(cm).map(s=>s(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:he.cursor(i,i<t.from?1:-1)}class cN{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(i,s)=>{this.ignoreDuringComposition(s)||s.type=="keydown"&&this.keydown(e,s)||(this.mustFlushObserver(s)&&e.observer.forceFlush(),this.runCustomHandlers(s.type,e,s)?s.preventDefault():i(e,s))};for(let i in bn){let s=bn[i];e.contentDOM.addEventListener(i,l=>{Z_(e,l)&&t(s,l)},Vh[i]),this.registeredEvents.push(i)}e.scrollDOM.addEventListener("mousedown",i=>{if(i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(bn.mousedown,i),!i.defaultPrevented&&i.button==2)){let s=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=s,200)}}),e.scrollDOM.addEventListener("drop",i=>{i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(bn.drop,i)}),ze.chrome&&ze.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ze.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let s;this.customHandlers=[];for(let l of t)if(s=(i=l.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:l.value,handlers:s});for(let r in s)this.registeredEvents.indexOf(r)<0&&r!="scroll"&&(this.registeredEvents.push(r),e.contentDOM.addEventListener(r,o=>{Z_(e,o)&&this.runCustomHandlers(r,e,o)&&o.preventDefault()}))}}runCustomHandlers(e,t,i){for(let s of this.customHandlers){let l=s.handlers[e];if(l)try{if(l.call(s.plugin,i,t)||i.defaultPrevented)return!0}catch(r){ji(t.state,r)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let i of this.customHandlers){let s=i.handlers.scroll;if(s)try{s.call(i.plugin,t,e)}catch(l){ji(e.state,l)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&J$.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0),ze.android&&ze.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return ze.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((i=K$.find(s=>s.keyCode==t.keyCode))&&!t.ctrlKey||dN.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=i||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Lr(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ze.safari&&!ze.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const K$=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],dN="dthko",J$=[16,17,18,20,91,92,224,225],Of=6;function yf(n){return Math.max(0,n)*.7+8}class hN{constructor(e,t,i,s){this.view=e,this.style=i,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=R9(e.contentDOM),this.atoms=e.state.facet(cm).map(r=>r(e));let l=e.contentDOM.ownerDocument;l.addEventListener("mousemove",this.move=this.move.bind(this)),l.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(ht.allowMultipleSelections)&&pN(e,t),this.dragMove=mN(e,t),this.dragging=gN(e,t)&&iC(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let i=0,s=0,l=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},r=j$(this.view);e.clientX-r.left<=l.left+Of?i=-yf(l.left-e.clientX):e.clientX+r.right>=l.right-Of&&(i=yf(e.clientX-l.right)),e.clientY-r.top<=l.top+Of?s=-yf(l.top-e.clientY):e.clientY+r.bottom>=l.bottom-Of&&(s=yf(e.clientY-l.bottom)),this.setScrollSpeed(i,s)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let s=e.ranges[i],l=null;if(s.empty){let r=Uf(this.atoms,s.from,0);r!=s.from&&(l=he.cursor(r,-1))}else{let r=Uf(this.atoms,s.from,-1),o=Uf(this.atoms,s.to,1);(r!=s.from||o!=s.to)&&(l=he.range(s.from==s.anchor?r:o,s.from==s.head?r:o))}l&&(t||(t=e.ranges.slice()),t[i]=l)}return t?he.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection)||i.main.assoc!=t.state.selection.main.assoc)&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function pN(n,e){let t=n.state.facet(I$);return t.length?t[0](e):ze.mac?e.metaKey:e.ctrlKey}function mN(n,e){let t=n.state.facet(R$);return t.length?t[0](e):ze.mac?!e.altKey:!e.ctrlKey}function gN(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Su(n.root);if(!i||i.rangeCount==0)return!0;let s=i.getRangeAt(0).getClientRects();for(let l=0;l<s.length;l++){let r=s[l];if(r.left<=e.clientX&&r.right>=e.clientX&&r.top<=e.clientY&&r.bottom>=e.clientY)return!0}return!1}function Z_(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=qt.get(t))&&i.ignoreEvent(e))return!1;return!0}const bn=Object.create(null),Vh=Object.create(null),eC=ze.ie&&ze.ie_version<15||ze.ios&&ze.webkit_version<604;function bN(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),tC(n,t.value)},50)}function tC(n,e){let{state:t}=n,i,s=1,l=t.toText(e),r=l.lines==t.selection.ranges.length;if(jh!=null&&t.selection.ranges.every(a=>a.empty)&&jh==l.toString()){let a=-1;i=t.changeByRange(f=>{let u=t.doc.lineAt(f.from);if(u.from==a)return{range:f};a=u.from;let d=t.toText((r?l.line(s++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:d},range:he.cursor(f.from+d.length)}})}else r?i=t.changeByRange(a=>{let f=l.line(s++);return{changes:{from:a.from,to:a.to,insert:f.text},range:he.cursor(a.from+f.length)}}):i=t.replaceSelection(l);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}bn.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27&&(n.inputState.lastEscPress=Date.now())};bn.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};bn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Vh.touchstart=Vh.touchmove={passive:!0};bn.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let i of n.state.facet(L$))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=yN(n,e)),t){let i=n.root.activeElement!=n.contentDOM;n.inputState.startMouseSelection(new hN(n,e,t,i)),i&&n.observer.ignore(()=>O$(n.contentDOM)),n.inputState.mouseSelection&&n.inputState.mouseSelection.start(e)}};function F_(n,e,t,i){if(i==1)return he.cursor(e,t);if(i==2)return iN(n.state,e,t);{let s=ai.find(n.docView,e),l=n.state.doc.lineAt(s?s.posAtEnd:e),r=s?s.posAtStart:l.from,o=s?s.posAtEnd:l.to;return o<n.state.doc.length&&o==l.to&&o++,he.range(r,o)}}let nC=(n,e)=>n>=e.top&&n<=e.bottom,X_=(n,e,t)=>nC(e,t)&&n>=t.left&&n<=t.right;function _N(n,e,t,i){let s=ai.find(n.docView,e);if(!s)return 1;let l=e-s.posAtStart;if(l==0)return 1;if(l==s.length)return-1;let r=s.coordsAt(l,-1);if(r&&X_(t,i,r))return-1;let o=s.coordsAt(l,1);return o&&X_(t,i,o)?1:r&&nC(i,r)?-1:1}function q_(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:_N(n,t,e.clientX,e.clientY)}}const ON=ze.ie&&ze.ie_version<=11;let V_=null,j_=0,U_=0;function iC(n){if(!ON)return n.detail;let e=V_,t=U_;return V_=n,U_=Date.now(),j_=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(j_+1)%3:1}function yN(n,e){let t=q_(n,e),i=iC(e),s=n.state.selection;return{update(l){l.docChanged&&(t.pos=l.changes.mapPos(t.pos),s=s.map(l.changes))},get(l,r,o){let a=q_(n,l),f,u=F_(n,a.pos,a.bias,i);if(t.pos!=a.pos&&!r){let d=F_(n,t.pos,t.bias,i),h=Math.min(d.from,u.from),p=Math.max(d.to,u.to);u=h<u.from?he.range(h,p):he.range(p,h)}return r?s.replaceRange(s.main.extend(u.from,u.to)):o&&i==1&&s.ranges.length>1&&(f=vN(s,a.pos))?f:o?s.addRange(u):he.create([u])}}}function vN(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:s}=n.ranges[t];if(i<=e&&s>=e)return he.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}bn.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function W_(n,e,t,i){if(!t)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:l}=n.inputState,r=i&&l&&l.dragging&&l.dragMove?{from:l.dragging.from,to:l.dragging.to}:null,o={from:s,insert:t},a=n.state.changes(r?[r,o]:o);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(s,-1),head:a.mapPos(s,1)},userEvent:r?"move.drop":"input.drop"})}bn.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),s=0,l=()=>{++s==t.length&&W_(n,e,i.filter(r=>r!=null).join(n.state.lineBreak),!1)};for(let r=0;r<t.length;r++){let o=new FileReader;o.onerror=l,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[r]=o.result),l()},o.readAsText(t[r])}}else W_(n,e,e.dataTransfer.getData("Text"),!0)};bn.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=eC?null:e.clipboardData;t?(tC(n,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):bN(n)};function kN(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function wN(n){let e=[],t=[],i=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:l}of n.selection.ranges){let r=n.doc.lineAt(l);r.number>s&&(e.push(r.text),t.push({from:r.from,to:Math.min(n.doc.length,r.to+1)})),s=r.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let jh=null;bn.copy=bn.cut=(n,e)=>{let{text:t,ranges:i,linewise:s}=wN(n.state);if(!t&&!s)return;jh=s?t:null;let l=eC?null:e.clipboardData;l?(e.preventDefault(),l.clearData(),l.setData("text/plain",t)):kN(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};const sC=Js.define();function lC(n,e){let t=[];for(let i of n.facet(Z$)){let s=i(n,e);s&&t.push(s)}return t?n.update({effects:t,annotations:sC.of(!0)}):null}function rC(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=lC(n.state,e);t?n.dispatch(t):n.update([])}},10)}bn.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),rC(n)};bn.blur=n=>{n.observer.clearSelectionRange(),rC(n)};bn.compositionstart=bn.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};bn.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ze.chrome&&ze.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.compositionDeco.size&&n.update([])},50)};bn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};bn.beforeinput=(n,e)=>{var t;let i;if(ze.chrome&&ze.android&&(i=K$.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const z_=["pre-wrap","normal","pre-line","break-spaces"];class SN{constructor(e){this.lineWrapping=e,this.doc=Ot.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return z_.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let s=e[i];s<0?i++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,i,s,l,r){let o=z_.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.textHeight=s,this.lineLength=l,a){this.heightSamples={};for(let f=0;f<r.length;f++){let u=r[f];u<0?f++:this.heightSamples[Math.floor(u*10)]=!0}}return a}}class $N{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class gs{constructor(e,t,i,s,l){this.from=e,this.length=t,this.top=i,this.height=s,this._content=l}get type(){return typeof this._content=="number"?tn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof wl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new gs(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Vt=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Vt||(Vt={}));const Wf=.001;class ti{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Wf&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return ti.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,s){let l=this,r=i.doc;for(let o=s.length-1;o>=0;o--){let{fromA:a,toA:f,fromB:u,toB:d}=s[o],h=l.lineAt(a,Vt.ByPosNoHeight,i.setDoc(t),0,0),p=h.to>=f?h:l.lineAt(f,Vt.ByPosNoHeight,i,0,0);for(d+=p.to-f,f=p.to;o>0&&h.from<=s[o-1].toA;)a=s[o-1].fromA,u=s[o-1].fromB,o--,a<h.from&&(h=l.lineAt(a,Vt.ByPosNoHeight,i,0,0));u+=h.from-a,a=h.from;let g=dm.build(i.setDoc(r),e,u,d);l=l.replace(a,f,g)}return l.updateHeight(i,0)}static empty(){return new vi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,s=0,l=0;for(;;)if(t==i)if(s>l*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),i+=1+o.break,s-=o.size}else if(l>s*2){let o=e[i];o.break?e.splice(i,1,o.left,null,o.right):e.splice(i,1,o.left,o.right),i+=2+o.break,l-=o.size}else break;else if(s<l){let o=e[t++];o&&(s+=o.size)}else{let o=e[--i];o&&(l+=o.size)}let r=0;return e[t-1]==null?(r=1,t--):e[t]==null&&(r=1,i++),new CN(ti.of(e.slice(0,t)),r,ti.of(e.slice(i)))}}ti.prototype.size=1;class oC extends ti{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,s){return new gs(s,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,s,l){return this.blockAt(0,i,s,l)}forEachLine(e,t,i,s,l,r){e<=l+this.length&&t>=l&&r(this.blockAt(0,i,s,l))}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(e,s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class vi extends oC{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,s){return new gs(s,this.length,i,this.height,this.breaks)}replace(e,t,i){let s=i[0];return i.length==1&&(s instanceof vi||s instanceof In&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof In?s=new vi(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):ti.of(i)}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more?this.setHeight(e,s.heights[s.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class In extends ti{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,l=s-i+1,r,o=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*l);r=a/l,this.length>l+1&&(o=(this.height-a)/(this.length-l-1))}else r=this.height/l;return{firstLine:i,lastLine:s,perLine:r,perChar:o}}blockAt(e,t,i,s){let{firstLine:l,lastLine:r,perLine:o,perChar:a}=this.heightMetrics(t,s);if(t.lineWrapping){let f=s+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),u=t.doc.lineAt(f),d=o+u.length*a,h=Math.max(i,e-d/2);return new gs(u.from,u.length,h,d,0)}else{let f=Math.max(0,Math.min(r-l,Math.floor((e-i)/o))),{from:u,length:d}=t.doc.line(l+f);return new gs(u,d,i+o*f,o,0)}}lineAt(e,t,i,s,l){if(t==Vt.ByHeight)return this.blockAt(e,i,s,l);if(t==Vt.ByPosNoHeight){let{from:p,to:g}=i.doc.lineAt(e);return new gs(p,g-p,0,0,0)}let{firstLine:r,perLine:o,perChar:a}=this.heightMetrics(i,l),f=i.doc.lineAt(e),u=o+f.length*a,d=f.number-r,h=s+o*d+a*(f.from-l-d);return new gs(f.from,f.length,Math.max(s,Math.min(h,s+this.height-u)),u,0)}forEachLine(e,t,i,s,l,r){e=Math.max(e,l),t=Math.min(t,l+this.length);let{firstLine:o,perLine:a,perChar:f}=this.heightMetrics(i,l);for(let u=e,d=s;u<=t;){let h=i.doc.lineAt(u);if(u==e){let g=h.number-o;d+=a*g+f*(e-l-g)}let p=a+f*h.length;r(new gs(h.from,h.length,d,p,0)),d+=p,u=h.to+1}}replace(e,t,i){let s=this.length-t;if(s>0){let l=i[i.length-1];l instanceof In?i[i.length-1]=new In(l.length+s):i.push(null,new In(s-1))}if(e>0){let l=i[0];l instanceof In?i[0]=new In(e+l.length):i.unshift(new In(e-1),null)}return ti.of(i)}decomposeLeft(e,t){t.push(new In(e-1),null)}decomposeRight(e,t){t.push(null,new In(this.length-e-1))}updateHeight(e,t=0,i=!1,s){let l=t+this.length;if(s&&s.from<=t+this.length&&s.more){let r=[],o=Math.max(t,s.from),a=-1;for(s.from>t&&r.push(new In(s.from-t-1).updateHeight(e,t));o<=l&&s.more;){let u=e.doc.lineAt(o).length;r.length&&r.push(null);let d=s.heights[s.index++];a==-1?a=d:Math.abs(d-a)>=Wf&&(a=-2);let h=new vi(u,d);h.outdated=!1,r.push(h),o+=u+1}o<=l&&r.push(null,new In(l-o).updateHeight(e,o));let f=ti.of(r);return(a<0||Math.abs(f.height-this.height)>=Wf||Math.abs(a-this.heightMetrics(e,t).perLine)>=Wf)&&(e.heightChanged=!0),f}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class CN extends ti{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,s){let l=i+this.left.height;return e<l?this.left.blockAt(e,t,i,s):this.right.blockAt(e,t,l,s+this.left.length+this.break)}lineAt(e,t,i,s,l){let r=s+this.left.height,o=l+this.left.length+this.break,a=t==Vt.ByHeight?e<r:e<o,f=a?this.left.lineAt(e,t,i,s,l):this.right.lineAt(e,t,i,r,o);if(this.break||(a?f.to<o:f.from>o))return f;let u=t==Vt.ByPosNoHeight?Vt.ByPosNoHeight:Vt.ByPos;return a?f.join(this.right.lineAt(o,u,i,r,o)):this.left.lineAt(o,u,i,s,l).join(f)}forEachLine(e,t,i,s,l,r){let o=s+this.left.height,a=l+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,s,l,r),t>=a&&this.right.forEachLine(e,t,i,o,a,r);else{let f=this.lineAt(a,Vt.ByPos,i,s,l);e<f.from&&this.left.forEachLine(e,f.from-1,i,s,l,r),f.to>=e&&f.from<=t&&r(f),t>f.to&&this.right.forEachLine(f.to+1,t,i,o,a,r)}}replace(e,t,i){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,i));let l=[];e>0&&this.decomposeLeft(e,l);let r=l.length;for(let o of i)l.push(o);if(e>0&&B_(l,r-1),t<this.length){let o=l.length;this.decomposeRight(t,l),B_(l,o)}return ti.of(l)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,s=i+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?ti.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,s){let{left:l,right:r}=this,o=t+l.length+this.break,a=null;return s&&s.from<=t+l.length&&s.more?a=l=l.updateHeight(e,t,i,s):l.updateHeight(e,t,i),s&&s.from<=o+r.length&&s.more?a=r=r.updateHeight(e,o,i,s):r.updateHeight(e,o,i),a?this.balanced(l,r):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function B_(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof In&&(i=n[e+1])instanceof In&&n.splice(e-1,3,new In(t.length+1+i.length))}const TN=5;class dm{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof vi?s.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new vi(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let s=i.widget?i.widget.estimatedHeight:0,l=i.widget?i.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let r=t-e;i.block?this.addBlock(new oC(r,s,i)):(r||l||s>=TN)&&this.addLineDeco(s,l,r)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new vi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new In(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof vi)return e;let t=new vi(0,-1);return this.nodes.push(t),t}addBlock(e){var t;this.enterLine();let i=(t=e.deco)===null||t===void 0?void 0:t.type;i==tn.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,i!=tn.WidgetBefore&&(this.covering=e)}addLineDeco(e,t,i){let s=this.ensureLine();s.length+=i,s.collapsed+=i,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof vi)&&!this.isCovered?this.nodes.push(new vi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let s of this.nodes)s instanceof vi&&s.updateHeight(this.oracle,i),i+=s?s.length:1;return this.nodes}static build(e,t,i,s){let l=new dm(i,e);return Mt.spans(t,i,s,l,0),l.finish(i)}}function PN(n,e,t){let i=new MN;return Mt.compare(n,e,t,i,0),i.changes}class MN{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,s){(e<t||i&&i.heightRelevant||s&&s.heightRelevant)&&Nh(e,t,this.changes,5)}}function AN(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,s=i.defaultView||window,l=Math.max(0,t.left),r=Math.min(s.innerWidth,t.right),o=Math.max(0,t.top),a=Math.min(s.innerHeight,t.bottom);for(let f=n.parentNode;f&&f!=i.body;)if(f.nodeType==1){let u=f,d=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&d.overflow!="visible"){let h=u.getBoundingClientRect();l=Math.max(l,h.left),r=Math.min(r,h.right),o=Math.max(o,h.top),a=f==n.parentNode?h.bottom:Math.min(a,h.bottom)}f=d.position=="absolute"||d.position=="fixed"?u.offsetParent:u.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:l-t.left,right:Math.max(l,r)-t.left,top:o-(t.top+e),bottom:Math.max(o,a)-(t.top+e)}}function QN(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class pd{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],l=t[i];if(s.from!=l.from||s.to!=l.to||s.size!=l.size)return!1}return!0}draw(e){return Be.replace({widget:new DN(this.size,e)}).range(this.from,this.to)}}class DN extends Es{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Y_{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=H_,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=en.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(um).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new SN(t),this.stateDeco=e.facet(ua).filter(i=>typeof i!="function"),this.heightMap=ti.empty().applyChanges(this.stateDeco,Ot.empty,this.heightOracle.setDoc(e.doc),[new Ss(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Be.set(this.lineGaps.map(i=>i.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let s=i?t.head:t.anchor;if(!e.some(({from:l,to:r})=>s>=l&&s<=r)){let{from:l,to:r}=this.lineBlockAt(s);e.push(new vf(l,r))}}this.viewports=e.sort((i,s)=>i.from-s.from),this.scaler=this.heightMap.height<=7e6?H_:new RN(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:No(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(ua).filter(u=>typeof u!="function");let s=e.changedRanges,l=Ss.extendWithRanges(s,PN(i,this.stateDeco,e?e.changes:wn.empty(this.state.doc.length))),r=this.heightMap.height,o=this.scrolledToBottom?null:this.lineBlockAtHeight(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),l),this.heightMap.height!=r&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=l.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let f=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),f&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(X$)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),s=this.heightOracle,l=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?en.RTL:en.LTR;let r=this.heightOracle.mustRefreshForWrapping(l),o=t.getBoundingClientRect(),a=r||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let f=0,u=0,d=parseInt(i.paddingTop)||0,h=parseInt(i.paddingBottom)||0;(this.paddingTop!=d||this.paddingBottom!=h)&&(this.paddingTop=d,this.paddingBottom=h,f|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=8),this.scrollTop!=e.scrollDOM.scrollTop&&(this.scrollAnchorHeight=-1,this.scrollTop=e.scrollDOM.scrollTop),this.scrolledToBottom=this.scrollTop>e.scrollDOM.scrollHeight-e.scrollDOM.clientHeight-4;let p=(this.printing?QN:AN)(t,this.paddingTop),g=p.top-this.pixelViewport.top,b=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let _=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(_!=this.inView&&(this.inView=_,_&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let y=o.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,f|=8),a){let C=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(C)&&(r=!0),r||s.lineWrapping&&Math.abs(y-this.contentDOMWidth)>s.charWidth){let{lineHeight:$,charWidth:T,textHeight:P}=e.docView.measureTextSize();r=$>0&&s.refresh(l,$,T,P,y/T,C),r&&(e.docView.minWidth=0,f|=8)}g>0&&b>0?u=Math.max(g,b):g<0&&b<0&&(u=Math.min(g,b)),s.heightChanged=!1;for(let $ of this.viewports){let T=$.from==this.viewport.from?C:e.docView.measureVisibleLineHeights($);this.heightMap=(r?ti.empty().applyChanges(this.stateDeco,Ot.empty,this.heightOracle,[new Ss(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,r,new $N($.from,T))}s.heightChanged&&(f|=2)}let k=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return k&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(f&2||k)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(r?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,l=this.heightOracle,{visibleTop:r,visibleBottom:o}=this,a=new vf(s.lineAt(r-i*1e3,Vt.ByHeight,l,0,0).from,s.lineAt(o+(1-i)*1e3,Vt.ByHeight,l,0,0).to);if(t){let{head:f}=t.range;if(f<a.from||f>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=s.lineAt(f,Vt.ByPos,l,0,0),h;t.y=="center"?h=(d.top+d.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&f<a.from?h=d.top:h=d.bottom-u,a=new vf(s.lineAt(h-1e3/2,Vt.ByHeight,l,0,0).from,s.lineAt(h+u+1e3/2,Vt.ByHeight,l,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new vf(this.heightMap.lineAt(i,Vt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,Vt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,Vt.ByPos,this.heightOracle,0,0),{bottom:l}=this.heightMap.lineAt(t,Vt.ByPos,this.heightOracle,0,0),{visibleTop:r,visibleBottom:o}=this;return(e==0||s<=r-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||l>=o+Math.max(10,Math.min(i,250)))&&s>r-2*1e3&&l<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let s of e)t.touchesRange(s.from,s.to)||i.push(new pd(t.mapPos(s.from),t.mapPos(s.to),s.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,s=i?1e4:2e3,l=s>>1,r=s<<1;if(this.defaultTextDirection!=en.LTR&&!i)return[];let o=[],a=(f,u,d,h)=>{if(u-f<l)return;let p=this.state.selection.main,g=[p.from];p.empty||g.push(p.to);for(let _ of g)if(_>f&&_<u){a(f,_-10,d,h),a(_+10,u,d,h);return}let b=IN(e,_=>_.from>=d.from&&_.to<=d.to&&Math.abs(_.from-f)<l&&Math.abs(_.to-u)<l&&!g.some(y=>_.from<y&&_.to>y));if(!b){if(u<d.to&&t&&i&&t.visibleRanges.some(_=>_.from<=u&&_.to>=u)){let _=t.moveToLineBoundary(he.cursor(u),!1,!0).head;_>f&&(u=_)}b=new pd(f,u,this.gapSize(d,f,u,h))}o.push(b)};for(let f of this.viewportLines){if(f.length<r)continue;let u=EN(f.from,f.to,this.stateDeco);if(u.total<r)continue;let d=this.scrollTarget?this.scrollTarget.range.head:null,h,p;if(i){let g=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,_;if(d!=null){let y=wf(u,d),k=((this.visibleBottom-this.visibleTop)/2+g)/f.height;b=y-k,_=y+k}else b=(this.visibleTop-f.top-g)/f.height,_=(this.visibleBottom-f.top+g)/f.height;h=kf(u,b),p=kf(u,_)}else{let g=u.total*this.heightOracle.charWidth,b=s*this.heightOracle.charWidth,_,y;if(d!=null){let k=wf(u,d),C=((this.pixelViewport.right-this.pixelViewport.left)/2+b)/g;_=k-C,y=k+C}else _=(this.pixelViewport.left-b)/g,y=(this.pixelViewport.right+b)/g;h=kf(u,_),p=kf(u,y)}h>f.from&&a(f.from,h,f,u),p<f.to&&a(p,f.to,f,u)}return o}gapSize(e,t,i,s){let l=wf(s,i)-wf(s,t);return this.heightOracle.lineWrapping?e.height*l:s.total*this.heightOracle.charWidth*l}updateLineGaps(e){pd.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Be.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Mt.spans(e,this.viewport.from,this.viewport.to,{span(s,l){t.push({from:s,to:l})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((s,l)=>s.from!=t[l].from||s.to!=t[l].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||No(this.heightMap.lineAt(e,Vt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return No(this.heightMap.lineAt(this.scaler.fromDOM(e),Vt.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return No(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class vf{constructor(e,t){this.from=e,this.to=t}}function EN(n,e,t){let i=[],s=n,l=0;return Mt.spans(t,n,e,{span(){},point(r,o){r>s&&(i.push({from:s,to:r}),l+=r-s),s=o}},20),s<e&&(i.push({from:s,to:e}),l+=e-s),{total:l,ranges:i}}function kf({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let s=0;;s++){let{from:l,to:r}=e[s],o=r-l;if(i<=o)return l+i;i-=o}}function wf(n,e){let t=0;for(let{from:i,to:s}of n.ranges){if(e<=s){t+=e-i;break}t+=s-i}return t/n.total}function IN(n,e){for(let t of n)if(e(t))return t}const H_={toDOM(n){return n},fromDOM(n){return n},scale:1};class RN{constructor(e,t,i){let s=0,l=0,r=0;this.viewports=i.map(({from:o,to:a})=>{let f=t.lineAt(o,Vt.ByPos,e,0,0).top,u=t.lineAt(a,Vt.ByPos,e,0,0).bottom;return s+=u-f,{from:o,to:a,top:f,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let o of this.viewports)o.domTop=r+(o.top-l)*this.scale,r=o.domBottom=o.domTop+(o.bottom-o.top),l=o.bottom}toDOM(e){for(let t=0,i=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.top)return s+(e-i)*this.scale;if(e<=l.bottom)return l.domTop+(e-l.top);i=l.bottom,s=l.domBottom}}fromDOM(e){for(let t=0,i=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.domTop)return i+(e-s)/this.scale;if(e<=l.domBottom)return l.top+(e-l.domTop);i=l.bottom,s=l.domBottom}}}function No(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new gs(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(s=>No(s,e)):n._content)}const Sf=We.define({combine:n=>n.join(" ")}),Uh=We.define({combine:n=>n.indexOf(!0)>-1}),Wh=yl.newName(),aC=yl.newName(),fC=yl.newName(),uC={"&light":"."+aC,"&dark":"."+fC};function zh(n,e,t){return new yl(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,s=>{if(s=="&")return n;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):n+" "+i}})}const LN=zh("."+Wh,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},uC);class NN{constructor(e,t,i,s){this.typeOver=s,this.bounds=null,this.text="";let{impreciseHead:l,impreciseAnchor:r}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let o=l||r?[]:ZN(e),a=new B$(o,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=FN(o,this.bounds.from)}else{let o=e.observer.selectionRange,a=l&&l.node==o.focusNode&&l.offset==o.focusOffset||!zr(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),f=r&&r.node==o.anchorNode&&r.offset==o.anchorOffset||!zr(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset);this.newSel=he.single(f,a)}}}function cC(n,e){let t,{newSel:i}=e,s=n.state.selection.main,l=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:r,to:o}=e.bounds,a=s.from,f=null;(l===8||ze.android&&e.text.length<o-r)&&(a=s.to,f="end");let u=xN(n.state.doc.sliceString(r,o,Sr),e.text,a-r,f);u&&(ze.chrome&&l==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Sr+Sr&&u.toB--,t={from:r+u.from,to:r+u.toA,insert:Ot.of(e.text.slice(u.from,u.toB).split(Sr))})}else i&&(!n.hasFocus&&n.state.facet(gc)||i.main.eq(s))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!s.empty&&i&&i.main.empty?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,s.to))}:(ze.mac||ze.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=he.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:Ot.of([" "])}):ze.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=he.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:Ot.of([" "])}),t){let r=n.state;if(ze.ios&&n.inputState.flushIOSKey(n)||ze.android&&(t.from==s.from&&t.to==s.to&&t.insert.length==1&&t.insert.lines==2&&Lr(n.contentDOM,"Enter",13)||(t.from==s.from-1&&t.to==s.to&&t.insert.length==0||l==8&&t.insert.length<t.to-t.from)&&Lr(n.contentDOM,"Backspace",8)||t.from==s.from&&t.to==s.to+1&&t.insert.length==0&&Lr(n.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();if(n.state.facet(x$).some(u=>u(n,t.from,t.to,o)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let a;if(t.from>=s.from&&t.to<=s.to&&t.to-t.from>=(s.to-s.from)/3&&(!i||i.main.empty&&i.main.from==t.from+t.insert.length)&&n.inputState.composing<0){let u=s.from<t.from?r.sliceDoc(s.from,t.from):"",d=s.to>t.to?r.sliceDoc(t.to,s.to):"";a=r.replaceSelection(n.state.toText(u+t.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let u=r.changes(t),d=i&&i.main.to<=u.newLength?i.main:void 0;if(r.selection.ranges.length>1&&n.inputState.composing>=0&&t.to<=s.to&&t.to>=s.to-10){let h=n.state.sliceDoc(t.from,t.to),p=Y$(n)||n.state.doc.lineAt(s.head),g=s.to-t.to,b=s.to-s.from;a=r.changeByRange(_=>{if(_.from==s.from&&_.to==s.to)return{changes:u,range:d||_.map(u)};let y=_.to-g,k=y-h.length;if(_.to-_.from!=b||n.state.sliceDoc(k,y)!=h||p&&_.to>=p.from&&_.from<=p.to)return{range:_};let C=r.changes({from:k,to:y,insert:t.insert}),$=_.to-s.to;return{changes:C,range:d?he.range(Math.max(0,d.anchor+$),Math.max(0,d.head+$)):_.map(C)}})}else a={changes:u,selection:d&&r.selection.replaceRange(d)}}let f="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,f+=".compose",n.inputState.compositionFirstChange&&(f+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(a,{scrollIntoView:!0,userEvent:f}),!0}else if(i&&!i.main.eq(s)){let r=!1,o="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(r=!0),o=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:r,userEvent:o}),!0}else return!1}function xN(n,e,t,i){let s=Math.min(n.length,e.length),l=0;for(;l<s&&n.charCodeAt(l)==e.charCodeAt(l);)l++;if(l==s&&n.length==e.length)return null;let r=n.length,o=e.length;for(;r>0&&o>0&&n.charCodeAt(r-1)==e.charCodeAt(o-1);)r--,o--;if(i=="end"){let a=Math.max(0,l-Math.min(r,o));t-=r+a-l}if(r<l&&n.length<e.length){let a=t<=l&&t>=r?l-t:0;l-=a,o=l+(o-r),r=l}else if(o<l){let a=t<=l&&t>=o?l-t:0;l-=a,r=l+(r-o),o=l}return{from:l,toA:r,toB:o}}function ZN(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:l}=n.observer.selectionRange;return t&&(e.push(new Q_(t,i)),(s!=t||l!=i)&&e.push(new Q_(s,l))),e}function FN(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?he.single(t+e,i+e):null}const XN={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},md=ze.ie&&ze.ie_version<=11;class qN{constructor(e){this.view=e,this.active=!1,this.selectionRange=new L9,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(ze.ie&&ze.ie_version<=11||ze.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),md&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,s=this.selectionRange;if(i.state.facet(gc)?i.root.activeElement!=this.dom:!jf(i.dom,s))return;let l=s.anchorNode&&i.docView.nearest(s.anchorNode);if(l&&l.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ze.ie&&ze.ie_version<=11||ze.android&&ze.chrome)&&!i.state.selection.main.empty&&s.focusNode&&$u(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=ze.safari&&e.root.nodeType==11&&D9(this.dom.ownerDocument)==this.dom&&VN(this.view)||Su(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=jf(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&x9(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,XN),md&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),md&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let s=()=>{let l=this.delayedAndroidKey;l&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=l.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&l.force&&Lr(this.dom,l.key,l.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,s=!1;for(let l of e){let r=this.readMutation(l);r&&(r.typeOver&&(s=!0),t==-1?{from:t,to:i}=r:(t=Math.min(r.from,t),i=Math.max(r.to,i)))}return{from:t,to:i,typeOver:s}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),s=this.selectionChanged&&jf(this.dom,this.selectionRange);return e<0&&!s?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new NN(this.view,e,t,i))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let i=this.view.state,s=cC(this.view,t);return this.view.state==i&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=G_(t,e.previousSibling||e.target.previousSibling,-1),s=G_(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i,s;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect(),(s=this.resizeContent)===null||s===void 0||s.disconnect();for(let l of this.scrollTargets)l.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function G_(n,e,t){for(;e;){let i=qt.get(e);if(i&&i.parent==n)return i;let s=e.parentNode;e=s!=n.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function VN(n){let e=null;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,s=e.startOffset,l=e.endContainer,r=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return $u(o.node,o.offset,l,r)&&([i,s,l,r]=[l,r,i,s]),{anchorNode:i,anchorOffset:s,focusNode:l,focusOffset:r}}class Ve{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||N9(e.parent)||document,this.viewState=new Y_(e.state||ht.create(e)),this.plugins=this.state.facet(Ro).map(t=>new cd(t));for(let t of this.plugins)t.update(this);this.observer=new qN(this),this.inputState=new cN(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new D_(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){let t=e.length==1&&e[0]instanceof Sn?e[0]:this.state.update(...e);this._dispatch(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,s,l=this.state;for(let h of e){if(h.startState!=l)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");l=h.state}if(this.destroyed){this.viewState.state=l;return}let r=this.hasFocus,o=0,a=null;e.some(h=>h.annotation(sC))?(this.inputState.notifiedFocused=r,o=1):r!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=r,a=lC(l,r),a||(o=1));let f=this.observer.delayedAndroidKey,u=null;if(f?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(l.doc)||!this.state.selection.eq(l.selection))&&(u=null)):this.observer.clear(),l.facet(ht.phrases)!=this.state.facet(ht.phrases))return this.setState(l);s=Pu.create(this,l,e),s.flags|=o;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(d&&(d=d.map(h.changes)),h.scrollIntoView){let{main:p}=h.state.selection;d=new Tu(p.empty?p:he.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of h.effects)p.is(M_)&&(d=p.value)}this.viewState.update(s,d),this.bidiCache=Mu.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(Lo)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Sf)!=s.state.facet(Sf)&&(this.viewState.mustMeasureContent=!0),(t||i||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!s.empty)for(let h of this.state.facet(xh))h(s);(a||u)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),u&&!cC(this,u)&&f.force&&Lr(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Y_(e),this.plugins=e.facet(Ro).map(i=>new cd(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new D_(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ro),i=e.state.facet(Ro);if(t!=i){let s=[];for(let l of i){let r=t.indexOf(l);if(r<0)s.push(new cd(l));else{let o=this.plugins[r];o.mustUpdate=e,s.push(o)}}for(let l of this.plugins)l.mustUpdate!=e&&l.destroy(this);this.plugins=s,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;if(this.viewState.scrollAnchorHeight=-1,l<0||i.scrollTop!=this.viewState.scrollTop)if(i.scrollTop>i.scrollHeight-i.clientHeight-4)s=-1,l=this.viewState.heightMap.height;else{let r=this.viewState.lineBlockAtHeight(i.scrollTop);s=r.from,l=r.top}try{for(let r=0;;r++){this.updateState=1;let o=this.viewport,a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(r>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];a&4||([this.measureRequests,f]=[f,this.measureRequests]);let u=f.map(g=>{try{return g.read(this)}catch(b){return ji(this.state,b),K_}}),d=Pu.create(this,this.state,[]),h=!1,p=!1;d.flags|=a,t?t.flags|=a:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),h=this.docView.update(d));for(let g=0;g<f.length;g++)if(u[g]!=K_)try{let b=f[g];b.write&&b.write(u[g],this)}catch(b){ji(this.state,b)}if(this.viewState.editorHeight){if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,p=!0;else if(l>-1){let b=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;(b>1||b<-1)&&(i.scrollTop+=b,p=!0)}}if(h&&this.docView.updateSelection(!0),this.viewport.from==o.from&&this.viewport.to==o.to&&!p&&this.measureRequests.length==0)break;l=-1}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let r of this.state.facet(xh))r(t)}get themeClasses(){return Wh+" "+(this.state.facet(Uh)?fC:aC)+" "+this.state.facet(Sf)}updateAttrs(){let e=J_(this,q$,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(gc)?"true":"false",class:"cm-content",style:`${ze.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),J_(this,um,t);let i=this.observer.ignore(()=>{let s=Lh(this.contentDOM,this.contentAttrs,t),l=Lh(this.dom,this.editorAttrs,e);return s||l});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let s of i.effects)if(s.is(Ve.announce)){t&&(this.announceDOM.textContent=""),t=!1;let l=this.announceDOM.appendChild(document.createElement("div"));l.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(Lo),yl.mount(this.root,this.styleModules.concat(LN).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return hd(this,e,x_(this,e,t,i))}moveByGroup(e,t){return hd(this,e,x_(this,e,t,i=>fN(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return aN(this,e,t,i)}moveVertically(e,t,i){return hd(this,e,uN(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),G$(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(e),l=this.bidiSpans(s),r=l[Nr.find(l,e-s.from,-1,t)];return hc(i,r.dir==en.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(F$)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>jN)return W$(e.length);let t=this.textDirectionAt(e.from);for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t)return s.order;let i=B9(e.text,t);return this.bidiCache.push(new Mu(e.from,e.to,t,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ze.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{O$(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return M_.of(new Tu(typeof e=="number"?he.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return On.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=yl.newName(),s=[Sf.of(i),Lo.of(zh(`.${i}`,e))];return t&&t.dark&&s.push(Uh.of(!0)),s}static baseTheme(e){return cr.lowest(Lo.of(zh("."+Wh,e,uC)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),s=i&&qt.get(i)||qt.get(e);return((t=s==null?void 0:s.rootView)===null||t===void 0?void 0:t.view)||null}}Ve.styleModule=Lo;Ve.inputHandler=x$;Ve.focusChangeEffect=Z$;Ve.perLineTextDirection=F$;Ve.exceptionSink=N$;Ve.updateListener=xh;Ve.editable=gc;Ve.mouseSelectionStyle=L$;Ve.dragMovesSelection=R$;Ve.clickAddsSelectionRange=I$;Ve.decorations=ua;Ve.atomicRanges=cm;Ve.scrollMargins=V$;Ve.darkTheme=Uh;Ve.contentAttributes=um;Ve.editorAttributes=q$;Ve.lineWrapping=Ve.contentAttributes.of({class:"cm-lineWrapping"});Ve.announce=nt.define();const jN=4096,K_={};class Mu{constructor(e,t,i,s){this.from=e,this.to=t,this.dir=i,this.order=s}static update(e,t){if(t.empty)return e;let i=[],s=e.length?e[e.length-1].dir:en.LTR;for(let l=Math.max(0,e.length-10);l<e.length;l++){let r=e[l];r.dir==s&&!t.touchesRange(r.from,r.to)&&i.push(new Mu(t.mapPos(r.from,1),t.mapPos(r.to,-1),r.dir,r.order))}return i}}function J_(n,e,t){for(let i=n.state.facet(e),s=i.length-1;s>=0;s--){let l=i[s],r=typeof l=="function"?l(n):l;r&&Rh(r,t)}return t}const UN=ze.mac?"mac":ze.windows?"win":ze.linux?"linux":"key";function WN(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let s,l,r,o;for(let a=0;a<t.length-1;++a){const f=t[a];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))s=!0;else if(/^(c|ctrl|control)$/i.test(f))l=!0;else if(/^s(hift)?$/i.test(f))r=!0;else if(/^mod$/i.test(f))e=="mac"?o=!0:l=!0;else throw new Error("Unrecognized modifier name: "+f)}return s&&(i="Alt-"+i),l&&(i="Ctrl-"+i),o&&(i="Meta-"+i),r&&(i="Shift-"+i),i}function $f(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const zN=cr.default(Ve.domEventHandlers({keydown(n,e){return hC(dC(e.state),n,e,"editor")}})),Za=We.define({enables:zN}),eO=new WeakMap;function dC(n){let e=n.facet(Za),t=eO.get(e);return t||eO.set(e,t=HN(e.reduce((i,s)=>i.concat(s),[]))),t}function BN(n,e,t){return hC(dC(n.state),e,n,t)}let ol=null;const YN=4e3;function HN(n,e=UN){let t=Object.create(null),i=Object.create(null),s=(r,o)=>{let a=i[r];if(a==null)i[r]=o;else if(a!=o)throw new Error("Key binding "+r+" is used both as a regular binding and as a multi-stroke prefix")},l=(r,o,a,f)=>{var u,d;let h=t[r]||(t[r]=Object.create(null)),p=o.split(/ (?!$)/).map(_=>WN(_,e));for(let _=1;_<p.length;_++){let y=p.slice(0,_).join(" ");s(y,!0),h[y]||(h[y]={preventDefault:!0,run:[k=>{let C=ol={view:k,prefix:y,scope:r};return setTimeout(()=>{ol==C&&(ol=null)},YN),!0}]})}let g=p.join(" ");s(g,!1);let b=h[g]||(h[g]={preventDefault:!1,run:((d=(u=h._any)===null||u===void 0?void 0:u.run)===null||d===void 0?void 0:d.slice())||[]});a&&b.run.push(a),f&&(b.preventDefault=!0)};for(let r of n){let o=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let f of o){let u=t[f]||(t[f]=Object.create(null));u._any||(u._any={preventDefault:!1,run:[]});for(let d in u)u[d].run.push(r.any)}let a=r[e]||r.key;if(a)for(let f of o)l(f,a,r.run,r.preventDefault),r.shift&&l(f,"Shift-"+a,r.shift,r.preventDefault)}return t}function hC(n,e,t,i){let s=Q9(e),l=Rn(s,0),r=Zi(l)==s.length&&s!=" ",o="",a=!1;ol&&ol.view==t&&ol.scope==i&&(o=ol.prefix+" ",(a=J$.indexOf(e.keyCode)<0)&&(ol=null));let f=new Set,u=g=>{if(g){for(let b of g.run)if(!f.has(b)&&(f.add(b),b(t,e)))return!0;g.preventDefault&&(a=!0)}return!1},d=n[i],h,p;if(d){if(u(d[o+$f(s,e,!r)]))return!0;if(r&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ze.windows&&e.ctrlKey&&e.altKey)&&(h=vl[e.keyCode])&&h!=s){if(u(d[o+$f(h,e,!0)]))return!0;if(e.shiftKey&&(p=fa[e.keyCode])!=s&&p!=h&&u(d[o+$f(p,e,!1)]))return!0}else if(r&&e.shiftKey&&u(d[o+$f(s,e,!0)]))return!0;if(u(d._any))return!0}return a}class Fa{constructor(e,t,i,s,l){this.className=e,this.left=t,this.top=i,this.width=s,this.height=l}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let s=e.coordsAtPos(i.head,i.assoc||1);if(!s)return[];let l=pC(e);return[new Fa(t,s.left-l.left,s.top-l.top,null,s.bottom-s.top)]}else return GN(e,t,i)}}function pC(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==en.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function tO(n,e,t){let i=he.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(i,!0,!0).from),type:tn.Text}}function GN(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),s=Math.min(t.to,n.viewport.to),l=n.textDirection==en.LTR,r=n.contentDOM,o=r.getBoundingClientRect(),a=pC(n),f=r.querySelector(".cm-line"),u=f&&window.getComputedStyle(f),d=o.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=o.right-(u?parseInt(u.paddingRight):0),p=qh(n,i),g=qh(n,s),b=p.type==tn.Text?p:null,_=g.type==tn.Text?g:null;if(b&&(n.lineWrapping||p.widgetLineBreaks)&&(b=tO(n,i,b)),_&&(n.lineWrapping||g.widgetLineBreaks)&&(_=tO(n,s,_)),b&&_&&b.from==_.from)return k(C(t.from,t.to,b));{let T=b?C(t.from,null,b):$(p,!1),P=_?C(null,t.to,_):$(g,!0),M=[];return(b||p).to<(_||g).from-(b&&_?1:0)||p.widgetLineBreaks>1&&T.bottom+n.defaultLineHeight/2<P.top?M.push(y(d,T.bottom,h,P.top)):T.bottom<P.top&&n.elementAtHeight((T.bottom+P.top)/2).type==tn.Text&&(T.bottom=P.top=(T.bottom+P.top)/2),k(T).concat(M).concat(k(P))}function y(T,P,M,Q){return new Fa(e,T-a.left,P-a.top-.01,M-T,Q-P+.01)}function k({top:T,bottom:P,horizontal:M}){let Q=[];for(let E=0;E<M.length;E+=2)Q.push(y(M[E],T,M[E+1],P));return Q}function C(T,P,M){let Q=1e9,E=-1e9,R=[];function L(Z,F,U,G,z){let B=n.coordsAtPos(Z,Z==M.to?-2:2),le=n.coordsAtPos(U,U==M.from?2:-2);!B||!le||(Q=Math.min(B.top,le.top,Q),E=Math.max(B.bottom,le.bottom,E),z==en.LTR?R.push(l&&F?d:B.left,l&&G?h:le.right):R.push(!l&&G?d:le.left,!l&&F?h:B.right))}let N=T??M.from,x=P??M.to;for(let Z of n.visibleRanges)if(Z.to>N&&Z.from<x)for(let F=Math.max(Z.from,N),U=Math.min(Z.to,x);;){let G=n.state.doc.lineAt(F);for(let z of n.bidiSpans(G)){let B=z.from+G.from,le=z.to+G.from;if(B>=U)break;le>F&&L(Math.max(B,F),T==null&&B<=N,Math.min(le,U),P==null&&le>=x,z.dir)}if(F=G.to+1,F>=U)break}return R.length==0&&L(N,T==null,x,P==null,n.textDirection),{top:Q,bottom:E,horizontal:R}}function $(T,P){let M=o.top+(P?T.top:T.bottom);return{top:M,bottom:M,horizontal:[]}}}function KN(n,e){return n.constructor==e.constructor&&n.eq(e)}class JN{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(zf)!=e.state.facet(zf)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(zf);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!KN(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[i].constructor&&s.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const zf=We.define();function mC(n){return[On.define(e=>new JN(e,n)),zf.of(n)]}const gC=!ze.ios,ca=We.define({combine(n){return Ds(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function ex(n={}){return[ca.of(n),tx,nx,ix,X$.of(!0)]}function bC(n){return n.startState.facet(ca)!=n.state.facet(ca)}const tx=mC({above:!0,markers(n){let{state:e}=n,t=e.facet(ca),i=[];for(let s of e.selection.ranges){let l=s==e.selection.main;if(s.empty?!l||gC:t.drawRangeCursor){let r=l?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=s.empty?s:he.cursor(s.head,s.head>s.anchor?-1:1);for(let a of Fa.forRange(n,r,o))i.push(a)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=bC(n);return t&&nO(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){nO(e.state,n)},class:"cm-cursorLayer"});function nO(n,e){e.style.animationDuration=n.facet(ca).cursorBlinkRate+"ms"}const nx=mC({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Fa.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||bC(n)},class:"cm-selectionLayer"}),_C={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};gC&&(_C[".cm-line"].caretColor="transparent !important");const ix=cr.highest(Ve.theme(_C)),OC=nt.define({map(n,e){return n==null?null:e.mapPos(n)}}),xo=Qn.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(OC)?i.value:t,n)}}),sx=On.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(xo);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(xo)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let n=this.view.state.field(xo),e=n!=null&&this.view.coordsAtPos(n);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(n){this.cursor&&(n?(this.cursor.style.left=n.left+"px",this.cursor.style.top=n.top+"px",this.cursor.style.height=n.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(xo)!=n&&this.view.dispatch({effects:OC.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function lx(){return[xo,sx]}function iO(n,e,t,i,s){e.lastIndex=0;for(let l=n.iterRange(t,i),r=t,o;!l.next().done;r+=l.value.length)if(!l.lineBreak)for(;o=e.exec(l.value);)s(r+o.index,o)}function rx(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:s,to:l}of t)s=Math.max(n.state.doc.lineAt(s).from,s-e),l=Math.min(n.state.doc.lineAt(l).to,l+e),i.length&&i[i.length-1].to>=s?i[i.length-1].to=l:i.push({from:s,to:l});return i}class ox{constructor(e){const{regexp:t,decoration:i,decorate:s,boundary:l,maxLength:r=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,s)this.addMatch=(o,a,f,u)=>s(u,f,f+o[0].length,o,a);else if(typeof i=="function")this.addMatch=(o,a,f,u)=>{let d=i(o,a,f);d&&u(f,f+o[0].length,d)};else if(i)this.addMatch=(o,a,f,u)=>u(f,f+o[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=l,this.maxLength=r}createDeco(e){let t=new Ol,i=t.add.bind(t);for(let{from:s,to:l}of rx(e,this.maxLength))iO(e.state.doc,this.regexp,s,l,(r,o)=>this.addMatch(o,e,r,i));return t.finish()}updateDeco(e,t){let i=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((l,r,o,a)=>{a>e.view.viewport.from&&o<e.view.viewport.to&&(i=Math.min(o,i),s=Math.max(a,s))}),e.viewportChanged||s-i>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,t.map(e.changes),i,s):t}updateRange(e,t,i,s){for(let l of e.visibleRanges){let r=Math.max(l.from,i),o=Math.min(l.to,s);if(o>r){let a=e.state.doc.lineAt(r),f=a.to<o?e.state.doc.lineAt(o):a,u=Math.max(l.from,a.from),d=Math.min(l.to,f.to);if(this.boundary){for(;r>a.from;r--)if(this.boundary.test(a.text[r-1-a.from])){u=r;break}for(;o<f.to;o++)if(this.boundary.test(f.text[o-f.from])){d=o;break}}let h=[],p,g=(b,_,y)=>h.push(y.range(b,_));if(a==f)for(this.regexp.lastIndex=u-a.from;(p=this.regexp.exec(a.text))&&p.index<d-a.from;)this.addMatch(p,e,p.index+a.from,g);else iO(e.state.doc,this.regexp,u,d,(b,_)=>this.addMatch(_,e,b,g));t=t.update({filterFrom:u,filterTo:d,filter:(b,_)=>b<u||_>d,add:h})}}return t}}const Bh=/x/.unicode!=null?"gu":"g",ax=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Bh),fx={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let gd=null;function ux(){var n;if(gd==null&&typeof document<"u"&&document.body){let e=document.body.style;gd=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return gd||!1}const Bf=We.define({combine(n){let e=Ds(n,{render:null,specialChars:ax,addSpecialChars:null});return(e.replaceTabs=!ux())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Bh)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Bh)),e}});function cx(n={}){return[Bf.of(n),dx()]}let sO=null;function dx(){return sO||(sO=On.fromClass(class{constructor(n){this.view=n,this.decorations=Be.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Bf)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new ox({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:s}=t.state,l=Rn(e[0],0);if(l==9){let r=s.lineAt(i),o=t.state.tabSize,a=Na(r.text,o,i-r.from);return Be.replace({widget:new gx((o-a%o)*this.view.defaultCharacterWidth)})}return this.decorationCache[l]||(this.decorationCache[l]=Be.replace({widget:new mx(n,l)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Bf);n.startState.facet(Bf)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const hx="";function px(n){return n>=32?hx:n==10?"":String.fromCharCode(9216+n)}class mx extends Es{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=px(this.code),i=e.state.phrase("Control character")+" "+(fx[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,i,t);if(s)return s;let l=document.createElement("span");return l.textContent=t,l.title=i,l.setAttribute("aria-label",i),l.className="cm-specialChar",l}ignoreEvent(){return!1}}class gx extends Es{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function bx(){return Ox}const _x=Be.line({class:"cm-activeLine"}),Ox=On.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let s=n.lineBlockAt(i.head);s.from>e&&(t.push(_x.range(s.from)),e=s.from)}return Be.set(t)}},{decorations:n=>n.decorations});class yx extends Es{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?Br(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),s=hc(t[0],i.direction!="rtl"),l=parseInt(i.lineHeight);return s.bottom-s.top>l*1.5?{left:s.left,right:s.right,top:s.top,bottom:s.top+l}:s}ignoreEvent(){return!1}}function vx(n){return On.fromClass(class{constructor(e){this.view=e,this.placeholder=Be.set([Be.widget({widget:new yx(n),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?Be.none:this.placeholder}},{decorations:e=>e.decorations})}const Yh=2e3;function kx(n,e,t){let i=Math.min(e.line,t.line),s=Math.max(e.line,t.line),l=[];if(e.off>Yh||t.off>Yh||e.col<0||t.col<0){let r=Math.min(e.off,t.off),o=Math.max(e.off,t.off);for(let a=i;a<=s;a++){let f=n.doc.line(a);f.length<=o&&l.push(he.range(f.from+r,f.to+o))}}else{let r=Math.min(e.col,t.col),o=Math.max(e.col,t.col);for(let a=i;a<=s;a++){let f=n.doc.line(a),u=Th(f.text,r,n.tabSize,!0);if(u<0)l.push(he.cursor(f.to));else{let d=Th(f.text,o,n.tabSize);l.push(he.range(f.from+u,f.from+d))}}}return l}function wx(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function lO(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),s=t-i.from,l=s>Yh?-1:s==i.length?wx(n,e.clientX):Na(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:l,off:s}}function Sx(n,e){let t=lO(n,e),i=n.state.selection;return t?{update(s){if(s.docChanged){let l=s.changes.mapPos(s.startState.doc.line(t.line).from),r=s.state.doc.lineAt(l);t={line:r.number,col:t.col,off:Math.min(t.off,r.length)},i=i.map(s.changes)}},get(s,l,r){let o=lO(n,s);if(!o)return i;let a=kx(n.state,t,o);return a.length?r?he.create(a.concat(i.ranges)):he.create(a):i}}:null}function $x(n){let e=(n==null?void 0:n.eventFilter)||(t=>t.altKey&&t.button==0);return Ve.mouseSelectionStyle.of((t,i)=>e(i)?Sx(t,i):null)}const Cx={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Tx={style:"cursor: crosshair"};function Px(n={}){let[e,t]=Cx[n.key||"Alt"],i=On.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventHandlers:{keydown(s){this.set(s.keyCode==e||t(s))},keyup(s){(s.keyCode==e||!t(s))&&this.set(!1)},mousemove(s){this.set(t(s))}}});return[i,Ve.contentAttributes.of(s=>{var l;return!((l=s.plugin(i))===null||l===void 0)&&l.isDown?Tx:null})]}const Cf="-10000px";class yC{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s),this.tooltipViews=this.tooltips.map(i)}update(e){var t;let i=e.state.facet(this.facet),s=i.filter(r=>r);if(i===this.input){for(let r of this.tooltipViews)r.update&&r.update(e);return!1}let l=[];for(let r=0;r<s.length;r++){let o=s[r],a=-1;if(o){for(let f=0;f<this.tooltips.length;f++){let u=this.tooltips[f];u&&u.create==o.create&&(a=f)}if(a<0)l[r]=this.createTooltipView(o);else{let f=l[r]=this.tooltipViews[a];f.update&&f.update(e)}}}for(let r of this.tooltipViews)l.indexOf(r)<0&&(r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r));return this.input=i,this.tooltips=s,this.tooltipViews=l,!0}}function Mx(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const bd=We.define({combine:n=>{var e,t,i;return{position:ze.ios?"absolute":((e=n.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(s=>s.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(s=>s.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||Mx}}}),rO=new WeakMap,vC=On.fromClass(class{constructor(n){this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(bd);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new yC(n,hm,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(bd);if(i.position!=this.position){this.position=i.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Cf,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(n=t.destroy)===null||n===void 0||n.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(bd).tooltipSpace(this.view)}}writeMeasure(n){var e;let{editor:t,space:i}=n,s=[];for(let l=0;l<this.manager.tooltips.length;l++){let r=this.manager.tooltips[l],o=this.manager.tooltipViews[l],{dom:a}=o,f=n.pos[l],u=n.size[l];if(!f||f.bottom<=Math.max(t.top,i.top)||f.top>=Math.min(t.bottom,i.bottom)||f.right<Math.max(t.left,i.left)-.1||f.left>Math.min(t.right,i.right)+.1){a.style.top=Cf;continue}let d=r.arrow?o.dom.querySelector(".cm-tooltip-arrow"):null,h=d?7:0,p=u.right-u.left,g=(e=rO.get(o))!==null&&e!==void 0?e:u.bottom-u.top,b=o.offset||Qx,_=this.view.textDirection==en.LTR,y=u.width>i.right-i.left?_?i.left:i.right-u.width:_?Math.min(f.left-(d?14:0)+b.x,i.right-p):Math.max(i.left,f.left-p+(d?14:0)-b.x),k=!!r.above;!r.strictSide&&(k?f.top-(u.bottom-u.top)-b.y<i.top:f.bottom+(u.bottom-u.top)+b.y>i.bottom)&&k==i.bottom-f.bottom>f.top-i.top&&(k=!k);let C=(k?f.top-i.top:i.bottom-f.bottom)-h;if(C<g&&o.resize!==!1){if(C<this.view.defaultLineHeight){a.style.top=Cf;continue}rO.set(o,g),a.style.height=(g=C)+"px"}else a.style.height&&(a.style.height="");let $=k?f.top-g-h-b.y:f.bottom+h+b.y,T=y+p;if(o.overlap!==!0)for(let P of s)P.left<T&&P.right>y&&P.top<$+g&&P.bottom>$&&($=k?P.top-g-2-h:P.bottom+h+2);this.position=="absolute"?(a.style.top=$-n.parent.top+"px",a.style.left=y-n.parent.left+"px"):(a.style.top=$+"px",a.style.left=y+"px"),d&&(d.style.left=`${f.left+(_?b.x:-b.x)-(y+14-7)}px`),o.overlap!==!0&&s.push({left:y,top:$,right:T,bottom:$+g}),a.classList.toggle("cm-tooltip-above",k),a.classList.toggle("cm-tooltip-below",!k),o.positioned&&o.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Cf}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Ax=Ve.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Qx={x:0,y:0},hm=We.define({enables:[vC,Ax]}),Au=We.define();class pm{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new yC(e,Au,t=>this.createHostedView(t))}static create(e){return new pm(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}}const Dx=hm.compute([Au],n=>{let e=n.facet(Au).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:pm.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Ex{constructor(e,t,i,s,l){this.view=e,this.source=t,this.field=i,this.setHover=s,this.hoverTime=l,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let i=this.view.coordsAtPos(t);if(i==null||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let s=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(o=>o.from<=t&&o.to>=t),l=s&&s.dir==en.RTL?-1:1,r=this.source(this.view,t,e.x<i.left?-l:l);if(r!=null&&r.then){let o=this.pending={pos:t};r.then(a=>{this.pending==o&&(this.pending=null,a&&this.view.dispatch({effects:this.setHover.of(a)}))},a=>ji(this.view.state,a,"hover tooltip"))}else r&&this.view.dispatch({effects:this.setHover.of(r)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!oO(this.lastMove.target)||this.pending){let{pos:s}=i||this.pending,l=(t=i==null?void 0:i.end)!==null&&t!==void 0?t:s;(s==l?this.view.posAtCoords(this.lastMove)!=s:!Ix(this.view,s,l,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!oO(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function oO(n){for(let e=n;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function Ix(n,e,t,i,s,l){let r=document.createRange(),o=n.domAtPos(e),a=n.domAtPos(t);r.setEnd(a.node,a.offset),r.setStart(o.node,o.offset);let f=r.getClientRects();r.detach();for(let u=0;u<f.length;u++){let d=f[u];if(Math.max(d.top-s,s-d.bottom,d.left-i,i-d.right)<=l)return!0}return!1}function Rx(n,e={}){let t=nt.define(),i=Qn.define({create(){return null},update(s,l){if(s&&(e.hideOnChange&&(l.docChanged||l.selection)||e.hideOn&&e.hideOn(l,s)))return null;if(s&&l.docChanged){let r=l.changes.mapPos(s.pos,-1,Nn.TrackDel);if(r==null)return null;let o=Object.assign(Object.create(null),s);o.pos=r,s.end!=null&&(o.end=l.changes.mapPos(s.end)),s=o}for(let r of l.effects)r.is(t)&&(s=r.value),r.is(Lx)&&(s=null);return s},provide:s=>Au.from(s)});return[i,On.define(s=>new Ex(s,n,i,t,e.hoverTime||300)),Dx]}function kC(n,e){let t=n.plugin(vC);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const Lx=nt.define(),aO=We.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function da(n,e){let t=n.plugin(wC),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const wC=On.fromClass(class{constructor(n){this.input=n.state.facet(ha),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(aO);this.top=new Tf(n,!0,e.topContainer),this.bottom=new Tf(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(aO);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Tf(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Tf(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(ha);if(t!=this.input){let i=t.filter(a=>a),s=[],l=[],r=[],o=[];for(let a of i){let f=this.specs.indexOf(a),u;f<0?(u=a(n.view),o.push(u)):(u=this.panels[f],u.update&&u.update(n)),s.push(u),(u.top?l:r).push(u)}this.specs=i,this.panels=s,this.top.sync(l),this.bottom.sync(r);for(let a of o)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Ve.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Tf{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=fO(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=fO(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function fO(n){let e=n.nextSibling;return n.remove(),e}const ha=We.define({enables:wC});class Hs extends ir{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Hs.prototype.elementClass="";Hs.prototype.toDOM=void 0;Hs.prototype.mapMode=Nn.TrackBefore;Hs.prototype.startSide=Hs.prototype.endSide=-1;Hs.prototype.point=!0;const Yf=We.define(),Nx={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Mt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ho=We.define();function xx(n){return[SC(),Ho.of(Object.assign(Object.assign({},Nx),n))]}const Hh=We.define({combine:n=>n.some(e=>e)});function SC(n){let e=[Zx];return n&&n.fixed===!1&&e.push(Hh.of(!0)),e}const Zx=On.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(Ho).map(e=>new cO(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(Hh),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Hh)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Mt.iter(this.view.state.facet(Yf),this.view.viewport.from),i=[],s=this.gutters.map(l=>new Fx(l,this.view.viewport,-this.view.documentPadding.top));for(let l of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(l.type)){let r=!0;for(let o of l.type)if(o.type==tn.Text&&r){Gh(t,i,o.from);for(let a of s)a.line(this.view,o,i);r=!1}else if(o.widget)for(let a of s)a.widget(this.view,o)}else if(l.type==tn.Text){Gh(t,i,l.from);for(let r of s)r.line(this.view,l,i)}for(let l of s)l.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Ho),t=n.state.facet(Ho),i=n.docChanged||n.heightChanged||n.viewportChanged||!Mt.eq(n.startState.facet(Yf),n.state.facet(Yf),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(n)&&(i=!0);else{i=!0;let s=[];for(let l of t){let r=e.indexOf(l);r<0?s.push(new cO(this.view,l)):(this.gutters[r].update(n),s.push(this.gutters[r]))}for(let l of this.gutters)l.dom.remove(),s.indexOf(l)<0&&l.destroy();for(let l of s)this.dom.appendChild(l.dom);this.gutters=s}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>Ve.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==en.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function uO(n){return Array.isArray(n)?n:[n]}function Gh(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class Fx{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Mt.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:s}=this,l=t.top-this.height;if(this.i==s.elements.length){let r=new $C(e,t.height,l,i);s.elements.push(r),s.dom.appendChild(r.dom)}else s.elements[this.i].update(e,t.height,l,i);this.height=t.bottom,this.i++}line(e,t,i){let s=[];Gh(this.cursor,s,t.from),i.length&&(s=s.concat(i));let l=this.gutter.config.lineMarker(e,t,s);l&&s.unshift(l);let r=this.gutter;s.length==0&&!r.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t);i&&this.addElement(e,t,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class cO{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,s=>{let l=s.target,r;if(l!=this.dom&&this.dom.contains(l)){for(;l.parentNode!=this.dom;)l=l.parentNode;let a=l.getBoundingClientRect();r=(a.top+a.bottom)/2}else r=s.clientY;let o=e.lineBlockAtHeight(r-e.documentTop);t.domEventHandlers[i](e,o,s)&&s.preventDefault()});this.markers=uO(t.markers(e)),t.initialSpacer&&(this.spacer=new $C(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=uO(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let i=e.view.viewport;return!Mt.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class $C{constructor(e,t,i,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,s)}update(e,t,i,s){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),Xx(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let i="cm-gutterElement",s=this.dom.firstChild;for(let l=0,r=0;;){let o=r,a=l<t.length?t[l++]:null,f=!1;if(a){let u=a.elementClass;u&&(i+=" "+u);for(let d=r;d<this.markers.length;d++)if(this.markers[d].compare(a)){o=d,f=!0;break}}else o=this.markers.length;for(;r<o;){let u=this.markers[r++];if(u.toDOM){u.destroy(s);let d=s.nextSibling;s.remove(),s=d}}if(!a)break;a.toDOM&&(f?s=s.nextSibling:this.dom.insertBefore(a.toDOM(e),s)),f&&r++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function Xx(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const qx=We.define(),$r=We.define({combine(n){return Ds(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let s in t){let l=i[s],r=t[s];i[s]=l?(o,a,f)=>l(o,a,f)||r(o,a,f):r}return i}})}});class _d extends Hs{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Od(n,e){return n.state.facet($r).formatNumber(e,n.state)}const Vx=Ho.compute([$r],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(qx)},lineMarker(e,t,i){return i.some(s=>s.toDOM)?null:new _d(Od(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet($r)!=e.state.facet($r),initialSpacer(e){return new _d(Od(e,dO(e.state.doc.lines)))},updateSpacer(e,t){let i=Od(t.view,dO(t.view.state.doc.lines));return i==e.number?e:new _d(i)},domEventHandlers:n.facet($r).domEventHandlers}));function jx(n={}){return[$r.of(n),SC(),Vx]}function dO(n){let e=9;for(;e<n;)e=e*10+9;return e}const Ux=new class extends Hs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Wx=Yf.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.head).from;s>t&&(t=s,e.push(Ux.range(s)))}return Mt.of(e)});function zx(){return Wx}const CC=1024;let Bx=0;class Xi{constructor(e,t){this.from=e,this.to=t}}class st{constructor(e={}){this.id=Bx++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Yn.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}st.closedBy=new st({deserialize:n=>n.split(" ")});st.openedBy=new st({deserialize:n=>n.split(" ")});st.group=new st({deserialize:n=>n.split(" ")});st.contextHash=new st({perNode:!0});st.lookAhead=new st({perNode:!0});st.mounted=new st({perNode:!0});class Yx{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}}const Hx=Object.create(null);class Yn{constructor(e,t,i,s=0){this.name=e,this.props=t,this.id=i,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):Hx,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new Yn(e.name||"",t,e.id,i);if(e.props){for(let l of e.props)if(Array.isArray(l)||(l=l(s)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[l[0].id]=l[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(st.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let s of i.split(" "))t[s]=e[i];return i=>{for(let s=i.prop(st.group),l=-1;l<(s?s.length:0);l++){let r=t[l<0?i.name:s[l]];if(r)return r}}}}Yn.none=new Yn("",Object.create(null),0,8);class bc{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let s=null;for(let l of e){let r=l(i);r&&(s||(s=Object.assign({},i.props)),s[r[0].id]=r[1])}t.push(s?new Yn(i.name,s,i.id,i.flags):i)}return new bc(t)}}const Pf=new WeakMap,hO=new WeakMap;var jt;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(jt||(jt={}));class $t{constructor(e,t,i,s,l){if(this.type=e,this.children=t,this.positions=i,this.length=s,this.props=null,l&&l.length){this.props=Object.create(null);for(let[r,o]of l)this.props[typeof r=="number"?r:r.id]=o}}toString(){let e=this.prop(st.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let s=i.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new pa(this.topNode,e)}cursorAt(e,t=0,i=0){let s=Pf.get(this)||this.topNode,l=new pa(s);return l.moveTo(e,t),Pf.set(this,l._tree),l}get topNode(){return new Ui(this,0,0,null)}resolve(e,t=0){let i=Gr(Pf.get(this)||this.topNode,e,t,!1);return Pf.set(this,i),i}resolveInner(e,t=0){let i=Gr(hO.get(this)||this.topNode,e,t,!0);return hO.set(this,i),i}iterate(e){let{enter:t,leave:i,from:s=0,to:l=this.length}=e,r=e.mode||0,o=(r&jt.IncludeAnonymous)>0;for(let a=this.cursor(r|jt.IncludeAnonymous);;){let f=!1;if(a.from<=l&&a.to>=s&&(!o&&a.type.isAnonymous||t(a)!==!1)){if(a.firstChild())continue;f=!0}for(;f&&i&&(o||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:bm(Yn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,s)=>new $t(this.type,t,i,s,this.propValues),e.makeTree||((t,i,s)=>new $t(Yn.none,t,i,s)))}static build(e){return Kx(e)}}$t.empty=new $t(Yn.none,[],[],0);class mm{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new mm(this.buffer,this.index)}}class dr{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Yn.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],s=this.set.types[t],l=s.name;if(/\W/.test(l)&&!s.isError&&(l=JSON.stringify(l)),e+=4,i==e)return l;let r=[];for(;e<i;)r.push(this.childString(e)),e=this.buffer[e+3];return l+"("+r.join(",")+")"}findChild(e,t,i,s,l){let{buffer:r}=this,o=-1;for(let a=e;a!=t&&!(TC(l,s,r[a+1],r[a+2])&&(o=a,i>0));a=r[a+3]);return o}slice(e,t,i){let s=this.buffer,l=new Uint16Array(t-e),r=0;for(let o=e,a=0;o<t;){l[a++]=s[o++],l[a++]=s[o++]-i;let f=l[a++]=s[o++]-i;l[a++]=s[o++]-e,r=Math.max(r,f)}return new dr(l,r,this.set)}}function TC(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function PC(n,e){let t=n.childBefore(e);for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}function Gr(n,e,t,i){for(var s;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let r=!i&&n instanceof Ui&&n.index<0?null:n.parent;if(!r)return n;n=r}let l=i?0:jt.IgnoreOverlays;if(i)for(let r=n,o=r.parent;o;r=o,o=r.parent)r instanceof Ui&&r.index<0&&((s=o.enter(e,t,l))===null||s===void 0?void 0:s.from)!=r.from&&(n=o);for(;;){let r=n.enter(e,t,l);if(!r)return n;n=r}}class Ui{constructor(e,t,i,s){this._tree=e,this.from=t,this.index=i,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,s,l=0){for(let r=this;;){for(let{children:o,positions:a}=r._tree,f=t>0?o.length:-1;e!=f;e+=t){let u=o[e],d=a[e]+r.from;if(TC(s,i,d,d+u.length)){if(u instanceof dr){if(l&jt.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,t,i-d,s);if(h>-1)return new Os(new Gx(r,u,e,d),null,h)}else if(l&jt.IncludeAnonymous||!u.type.isAnonymous||gm(u)){let h;if(!(l&jt.IgnoreMounts)&&u.props&&(h=u.prop(st.mounted))&&!h.overlay)return new Ui(h.tree,d,e,r);let p=new Ui(u,d,e,r);return l&jt.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?u.children.length-1:0,t,i,s)}}}if(l&jt.IncludeAnonymous||!r.type.isAnonymous||(r.index>=0?e=r.index+t:e=t<0?-1:r._parent._tree.children.length,r=r._parent,!r))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let s;if(!(i&jt.IgnoreOverlays)&&(s=this._tree.prop(st.mounted))&&s.overlay){let l=e-this.from;for(let{from:r,to:o}of s.overlay)if((t>0?r<=l:r<l)&&(t<0?o>=l:o>l))return new Ui(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new pa(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Gr(this,e,t,!1)}resolveInner(e,t=0){return Gr(this,e,t,!0)}enterUnfinishedNodesBefore(e){return PC(this,e)}getChild(e,t=null,i=null){let s=Qu(this,e,t,i);return s.length?s[0]:null}getChildren(e,t=null,i=null){return Qu(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Du(this,e)}}function Qu(n,e,t,i){let s=n.cursor(),l=[];if(!s.firstChild())return l;if(t!=null){for(;!s.type.is(t);)if(!s.nextSibling())return l}for(;;){if(i!=null&&s.type.is(i))return l;if(s.type.is(e)&&l.push(s.node),!s.nextSibling())return i==null?l:[]}}function Du(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class Gx{constructor(e,t,i,s){this.parent=e,this.buffer=t,this.index=i,this.start=s}}class Os{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,i);return l<0?null:new Os(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&jt.ExcludeBuffers)return null;let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return l<0?null:new Os(this.context,this,l)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Os(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Os(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new pa(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,s=this.index+4,l=i.buffer[this.index+3];if(l>s){let r=i.buffer[this.index+1];e.push(i.slice(s,l,r)),t.push(0)}return new $t(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Gr(this,e,t,!1)}resolveInner(e,t=0){return Gr(this,e,t,!0)}enterUnfinishedNodesBefore(e){return PC(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let s=Qu(this,e,t,i);return s.length?s[0]:null}getChildren(e,t=null,i=null){return Qu(this,e,t,i)}get node(){return this}matchContext(e){return Du(this,e)}}class pa{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ui)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=i+s.buffer[e+1],this.to=i+s.buffer[e+2],!0}yield(e){return e?e instanceof Ui?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:s}=this.buffer,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,i);return l<0?!1:(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&jt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&jt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&jt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let s=i<0?0:this.stack[i]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(s)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(s.buffer.buffer[l+3]<this.index)return!1;({index:t,parent:i}=s)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let l=t+e,r=e<0?-1:i._tree.children.length;l!=r;l+=e){let o=i._tree.children[l];if(this.mode&jt.IncludeAnonymous||o instanceof dr||!o.type.isAnonymous||gm(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let s=this.index,l=this.stack.length;l>=0;){for(let r=e;r;r=r._parent)if(r.index==s){if(s==this.index)return r;t=r,i=l+1;break e}s=this.stack[--l]}for(let s=i;s<this.stack.length;s++)t=new Os(this.buffer,t,this.stack[s]);return this.bufferNode=new Os(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(s=!0)}for(;s&&t&&t(this),s=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,s=!0}}}matchContext(e){if(!this.buffer)return Du(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let s=e.length-1,l=this.stack.length-1;s>=0;l--){if(l<0)return Du(this.node,e,s);let r=i[t.buffer[this.stack[l]]];if(!r.isAnonymous){if(e[s]&&e[s]!=r.name)return!1;s--}}return!0}}function gm(n){return n.children.some(e=>e instanceof dr||!e.type.isAnonymous||gm(e))}function Kx(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:s=CC,reused:l=[],minRepeatType:r=i.types.length}=n,o=Array.isArray(t)?new mm(t,t.length):t,a=i.types,f=0,u=0;function d($,T,P,M,Q){let{id:E,start:R,end:L,size:N}=o,x=u;for(;N<0;)if(o.next(),N==-1){let z=l[E];P.push(z),M.push(R-$);return}else if(N==-3){f=E;return}else if(N==-4){u=E;return}else throw new RangeError(`Unrecognized record size: ${N}`);let Z=a[E],F,U,G=R-$;if(L-R<=s&&(U=b(o.pos-T,Q))){let z=new Uint16Array(U.size-U.skip),B=o.pos-U.size,le=z.length;for(;o.pos>B;)le=_(U.start,z,le);F=new dr(z,L-U.start,i),G=U.start-$}else{let z=o.pos-N;o.next();let B=[],le=[],te=E>=r?E:-1,se=0,Oe=L;for(;o.pos>z;)te>=0&&o.id==te&&o.size>=0?(o.end<=Oe-s&&(p(B,le,R,se,o.end,Oe,te,x),se=B.length,Oe=o.end),o.next()):d(R,z,B,le,te);if(te>=0&&se>0&&se<B.length&&p(B,le,R,se,R,Oe,te,x),B.reverse(),le.reverse(),te>-1&&se>0){let $e=h(Z);F=bm(Z,B,le,0,B.length,0,L-R,$e,$e)}else F=g(Z,B,le,L-R,x-L)}P.push(F),M.push(G)}function h($){return(T,P,M)=>{let Q=0,E=T.length-1,R,L;if(E>=0&&(R=T[E])instanceof $t){if(!E&&R.type==$&&R.length==M)return R;(L=R.prop(st.lookAhead))&&(Q=P[E]+R.length+L)}return g($,T,P,M,Q)}}function p($,T,P,M,Q,E,R,L){let N=[],x=[];for(;$.length>M;)N.push($.pop()),x.push(T.pop()+P-Q);$.push(g(i.types[R],N,x,E-Q,L-E)),T.push(Q-P)}function g($,T,P,M,Q=0,E){if(f){let R=[st.contextHash,f];E=E?[R].concat(E):[R]}if(Q>25){let R=[st.lookAhead,Q];E=E?[R].concat(E):[R]}return new $t($,T,P,M,E)}function b($,T){let P=o.fork(),M=0,Q=0,E=0,R=P.end-s,L={size:0,start:0,skip:0};e:for(let N=P.pos-$;P.pos>N;){let x=P.size;if(P.id==T&&x>=0){L.size=M,L.start=Q,L.skip=E,E+=4,M+=4,P.next();continue}let Z=P.pos-x;if(x<0||Z<N||P.start<R)break;let F=P.id>=r?4:0,U=P.start;for(P.next();P.pos>Z;){if(P.size<0)if(P.size==-3)F+=4;else break e;else P.id>=r&&(F+=4);P.next()}Q=U,M+=x,E+=F}return(T<0||M==$)&&(L.size=M,L.start=Q,L.skip=E),L.size>4?L:void 0}function _($,T,P){let{id:M,start:Q,end:E,size:R}=o;if(o.next(),R>=0&&M<r){let L=P;if(R>4){let N=o.pos-(R-4);for(;o.pos>N;)P=_($,T,P)}T[--P]=L,T[--P]=E-$,T[--P]=Q-$,T[--P]=M}else R==-3?f=M:R==-4&&(u=M);return P}let y=[],k=[];for(;o.pos>0;)d(n.start||0,n.bufferStart||0,y,k,-1);let C=(e=n.length)!==null&&e!==void 0?e:y.length?k[0]+y[0].length:0;return new $t(a[n.topID],y.reverse(),k.reverse(),C)}const pO=new WeakMap;function Hf(n,e){if(!n.isAnonymous||e instanceof dr||e.type!=n)return 1;let t=pO.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof $t)){t=1;break}t+=Hf(n,i)}pO.set(e,t)}return t}function bm(n,e,t,i,s,l,r,o,a){let f=0;for(let g=i;g<s;g++)f+=Hf(n,e[g]);let u=Math.ceil(f*1.5/8),d=[],h=[];function p(g,b,_,y,k){for(let C=_;C<y;){let $=C,T=b[C],P=Hf(n,g[C]);for(C++;C<y;C++){let M=Hf(n,g[C]);if(P+M>=u)break;P+=M}if(C==$+1){if(P>u){let M=g[$];p(M.children,M.positions,0,M.children.length,b[$]+k);continue}d.push(g[$])}else{let M=b[C-1]+g[C-1].length-T;d.push(bm(n,g,b,$,C,T,M,null,a))}h.push(T+k-l)}}return p(e,t,i,s,0),(o||a)(d,h,r)}class Jx{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof Os?this.setBuffer(e.context.buffer,e.index,t):e instanceof Ui&&this.map.set(e.tree,t)}get(e){return e instanceof Os?this.getBuffer(e.context.buffer,e.index):e instanceof Ui?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Ws{constructor(e,t,i,s,l=!1,r=!1){this.from=e,this.to=t,this.tree=i,this.offset=s,this.open=(l?1:0)|(r?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let s=[new Ws(0,e.length,e,0,!1,i)];for(let l of t)l.to>e.length&&s.push(l);return s}static applyChanges(e,t,i=128){if(!t.length)return e;let s=[],l=1,r=e.length?e[0]:null;for(let o=0,a=0,f=0;;o++){let u=o<t.length?t[o]:null,d=u?u.fromA:1e9;if(d-a>=i)for(;r&&r.from<d;){let h=r;if(a>=h.from||d<=h.to||f){let p=Math.max(h.from,a)-f,g=Math.min(h.to,d)-f;h=p>=g?null:new Ws(p,g,h.tree,h.offset+f,o>0,!!u)}if(h&&s.push(h),r.to>d)break;r=l<e.length?e[l++]:null}if(!u)break;a=u.toA,f=u.toA-u.toB}return s}}class _m{startParse(e,t,i){return typeof e=="string"&&(e=new e7(e)),i=i?i.length?i.map(s=>new Xi(s.from,s.to)):[new Xi(0,0)]:[new Xi(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let s=this.startParse(e,t,i);for(;;){let l=s.advance();if(l)return l}}}class e7{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function nH(n){return(e,t,i,s)=>new n7(e,n,t,i,s)}class mO{constructor(e,t,i,s,l){if(this.parser=e,this.parse=t,this.overlay=i,this.target=s,this.ranges=l,!l.length||l.some(r=>r.from>=r.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(l))}}class t7{constructor(e,t,i,s,l,r,o){this.parser=e,this.predicate=t,this.mounts=i,this.index=s,this.start=l,this.target=r,this.prev=o,this.depth=0,this.ranges=[]}}const Kh=new st({perNode:!0});class n7{constructor(e,t,i,s,l){this.nest=t,this.input=i,this.fragments=s,this.ranges=l,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let s of this.inner)s.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new $t(i.type,i.children,i.positions,i.length,i.propValues.concat([[Kh,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[st.mounted.id]=new Yx(t,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].ranges[0].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new l7(this.fragments),t=null,i=null,s=new pa(new Ui(this.baseTree,this.ranges[0].from,0,null),jt.IncludeAnonymous|jt.IgnoreMounts);e:for(let l,r;this.stoppedAt==null||s.from<this.stoppedAt;){let o=!0,a;if(e.hasNode(s)){if(t){let f=t.mounts.find(u=>u.frag.from<=s.from&&u.frag.to>=s.to&&u.mount.overlay);if(f)for(let u of f.mount.overlay){let d=u.from+f.pos,h=u.to+f.pos;d>=s.from&&h<=s.to&&!t.ranges.some(p=>p.from<h&&p.to>d)&&t.ranges.push({from:d,to:h})}}o=!1}else if(i&&(r=i7(i.ranges,s.from,s.to)))o=r!=2;else if(!s.type.isAnonymous&&s.from<s.to&&(l=this.nest(s,this.input))){s.tree||s7(s);let f=e.findMounts(s.from,l.parser);if(typeof l.overlay=="function")t=new t7(l.parser,l.overlay,f,this.inner.length,s.from,s.tree,t);else{let u=_O(this.ranges,l.overlay||[new Xi(s.from,s.to)]);u.length&&this.inner.push(new mO(l.parser,l.parser.startParse(this.input,OO(f,u),u),l.overlay?l.overlay.map(d=>new Xi(d.from-s.from,d.to-s.from)):null,s.tree,u)),l.overlay?u.length&&(i={ranges:u,depth:0,prev:i}):o=!1}}else t&&(a=t.predicate(s))&&(a===!0&&(a=new Xi(s.from,s.to)),a.from<a.to&&t.ranges.push(a));if(o&&s.firstChild())t&&t.depth++,i&&i.depth++;else for(;!s.nextSibling();){if(!s.parent())break e;if(t&&!--t.depth){let f=_O(this.ranges,t.ranges);f.length&&this.inner.splice(t.index,0,new mO(t.parser,t.parser.startParse(this.input,OO(t.mounts,f),f),t.ranges.map(u=>new Xi(u.from-t.start,u.to-t.start)),t.target,f)),t=t.prev}i&&!--i.depth&&(i=i.prev)}}}}function i7(n,e,t){for(let i of n){if(i.from>=t)break;if(i.to>e)return i.from<=e&&i.to>=t?2:1}return 0}function gO(n,e,t,i,s,l){if(e<t){let r=n.buffer[e+1];i.push(n.slice(e,t,r)),s.push(r-l)}}function s7(n){let{node:e}=n,t=0;do n.parent(),t++;while(!n.tree);let i=0,s=n.tree,l=0;for(;l=s.positions[i]+n.from,!(l<=e.from&&l+s.children[i].length>=e.to);i++);let r=s.children[i],o=r.buffer;function a(f,u,d,h,p){let g=f;for(;o[g+2]+l<=e.from;)g=o[g+3];let b=[],_=[];gO(r,f,g,b,_,h);let y=o[g+1],k=o[g+2],C=y+l==e.from&&k+l==e.to&&o[g]==e.type.id;return b.push(C?e.toTree():a(g+4,o[g+3],r.set.types[o[g]],y,k-y)),_.push(y-h),gO(r,o[g+3],u,b,_,h),new $t(d,b,_,p)}s.children[i]=a(0,o.length,Yn.none,0,r.length);for(let f=0;f<=t;f++)n.childAfter(e.from)}class bO{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(jt.IncludeAnonymous|jt.IgnoreMounts)}moveTo(e){let{cursor:t}=this,i=e-this.offset;for(;!this.done&&t.from<i;)t.to>=e&&t.enter(i,1,jt.IgnoreOverlays|jt.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof $t)t=t.children[0];else break}return!1}}let l7=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(t=i.tree.prop(Kh))!==null&&t!==void 0?t:i.to,this.inner=new bO(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(Kh))!==null&&e!==void 0?e:t.to,this.inner=new bO(t.tree,-t.offset)}}findMounts(e,t){var i;let s=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let l=this.inner.cursor.node;l;l=l.parent){let r=(i=l.tree)===null||i===void 0?void 0:i.prop(st.mounted);if(r&&r.parser==t)for(let o=this.fragI;o<this.fragments.length;o++){let a=this.fragments[o];if(a.from>=l.to)break;a.tree==this.curFrag.tree&&s.push({frag:a,pos:l.from-a.offset,mount:r})}}}return s}};function _O(n,e){let t=null,i=e;for(let s=1,l=0;s<n.length;s++){let r=n[s-1].to,o=n[s].from;for(;l<i.length;l++){let a=i[l];if(a.from>=o)break;a.to<=r||(t||(i=t=e.slice()),a.from<r?(t[l]=new Xi(a.from,r),a.to>o&&t.splice(l+1,0,new Xi(o,a.to))):a.to>o?t[l--]=new Xi(o,a.to):t.splice(l--,1))}}return i}function r7(n,e,t,i){let s=0,l=0,r=!1,o=!1,a=-1e9,f=[];for(;;){let u=s==n.length?1e9:r?n[s].to:n[s].from,d=l==e.length?1e9:o?e[l].to:e[l].from;if(r!=o){let h=Math.max(a,t),p=Math.min(u,d,i);h<p&&f.push(new Xi(h,p))}if(a=Math.min(u,d),a==1e9)break;u==a&&(r?(r=!1,s++):r=!0),d==a&&(o?(o=!1,l++):o=!0)}return f}function OO(n,e){let t=[];for(let{pos:i,mount:s,frag:l}of n){let r=i+(s.overlay?s.overlay[0].from:0),o=r+s.tree.length,a=Math.max(l.from,r),f=Math.min(l.to,o);if(s.overlay){let u=s.overlay.map(h=>new Xi(h.from+i,h.to+i)),d=r7(e,u,a,f);for(let h=0,p=a;;h++){let g=h==d.length,b=g?f:d[h].from;if(b>p&&t.push(new Ws(p,b,s.tree,-r,l.from>=p||l.openStart,l.to<=b||l.openEnd)),g)break;p=d[h].to}}else t.push(new Ws(a,f,s.tree,-r,l.from>=r||l.openStart,l.to<=o||l.openEnd))}return t}let o7=0;class ps{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=o7++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new ps([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new Eu;return t=>t.modified.indexOf(e)>-1?t:Eu.get(t.base||t,t.modified.concat(e).sort((i,s)=>i.id-s.id))}}let a7=0;class Eu{constructor(){this.instances=[],this.id=a7++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(o=>o.base==e&&f7(t,o.modified));if(i)return i;let s=[],l=new ps(s,e,t);for(let o of t)o.instances.push(l);let r=u7(t);for(let o of e.set)if(!o.modified.length)for(let a of r)s.push(Eu.get(o,a));return l}}function f7(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function u7(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,s=e.length;i<s;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function MC(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let s of t.split(" "))if(s){let l=[],r=2,o=s;for(let d=0;;){if(o=="..."&&d>0&&d+3==s.length){r=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!h)throw new RangeError("Invalid path: "+s);if(l.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),d+=h[0].length,d==s.length)break;let p=s[d++];if(d==s.length&&p=="!"){r=0;break}if(p!="/")throw new RangeError("Invalid path: "+s);o=s.slice(d)}let a=l.length-1,f=l[a];if(!f)throw new RangeError("Invalid path: "+s);let u=new Iu(i,r,a>0?l.slice(0,a):null);e[f]=u.sort(e[f])}}return AC.add(e)}const AC=new st;class Iu{constructor(e,t,i,s){this.tags=e,this.mode=t,this.context=i,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Iu.empty=new Iu([],2,null);function QC(n,e){let t=Object.create(null);for(let l of n)if(!Array.isArray(l.tag))t[l.tag.id]=l.class;else for(let r of l.tag)t[r.id]=l.class;let{scope:i,all:s=null}=e||{};return{style:l=>{let r=s;for(let o of l)for(let a of o.set){let f=t[a.id];if(f){r=r?r+" "+f:f;break}}return r},scope:i}}function c7(n,e){let t=null;for(let i of n){let s=i.style(e);s&&(t=t?t+" "+s:s)}return t}function d7(n,e,t,i=0,s=n.length){let l=new h7(i,Array.isArray(e)?e:[e],t);l.highlightRange(n.cursor(),i,s,"",l.highlighters),l.flush(s)}class h7{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,s,l){let{type:r,from:o,to:a}=e;if(o>=i||a<=t)return;r.isTop&&(l=this.highlighters.filter(p=>!p.scope||p.scope(r)));let f=s,u=p7(e)||Iu.empty,d=c7(l,u.tags);if(d&&(f&&(f+=" "),f+=d,u.mode==1&&(s+=(s?" ":"")+d)),this.startSpan(Math.max(t,o),f),u.opaque)return;let h=e.tree&&e.tree.prop(st.mounted);if(h&&h.overlay){let p=e.node.enter(h.overlay[0].from+o,1),g=this.highlighters.filter(_=>!_.scope||_.scope(h.tree.type)),b=e.firstChild();for(let _=0,y=o;;_++){let k=_<h.overlay.length?h.overlay[_]:null,C=k?k.from+o:a,$=Math.max(t,y),T=Math.min(i,C);if($<T&&b)for(;e.from<T&&(this.highlightRange(e,$,T,s,l),this.startSpan(Math.min(T,e.to),f),!(e.to>=C||!e.nextSibling())););if(!k||C>i)break;y=k.to+o,y>t&&(this.highlightRange(p.cursor(),Math.max(t,k.from+o),Math.min(i,y),"",g),this.startSpan(Math.min(i,y),f))}b&&e.parent()}else if(e.firstChild()){h&&(s="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,s,l),this.startSpan(Math.min(i,e.to),f)}while(e.nextSibling());e.parent()}}}function p7(n){let e=n.type.prop(AC);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Ie=ps.define,Mf=Ie(),sl=Ie(),yO=Ie(sl),vO=Ie(sl),ll=Ie(),Af=Ie(ll),yd=Ie(ll),hs=Ie(),Nl=Ie(hs),us=Ie(),cs=Ie(),Jh=Ie(),To=Ie(Jh),Qf=Ie(),oe={comment:Mf,lineComment:Ie(Mf),blockComment:Ie(Mf),docComment:Ie(Mf),name:sl,variableName:Ie(sl),typeName:yO,tagName:Ie(yO),propertyName:vO,attributeName:Ie(vO),className:Ie(sl),labelName:Ie(sl),namespace:Ie(sl),macroName:Ie(sl),literal:ll,string:Af,docString:Ie(Af),character:Ie(Af),attributeValue:Ie(Af),number:yd,integer:Ie(yd),float:Ie(yd),bool:Ie(ll),regexp:Ie(ll),escape:Ie(ll),color:Ie(ll),url:Ie(ll),keyword:us,self:Ie(us),null:Ie(us),atom:Ie(us),unit:Ie(us),modifier:Ie(us),operatorKeyword:Ie(us),controlKeyword:Ie(us),definitionKeyword:Ie(us),moduleKeyword:Ie(us),operator:cs,derefOperator:Ie(cs),arithmeticOperator:Ie(cs),logicOperator:Ie(cs),bitwiseOperator:Ie(cs),compareOperator:Ie(cs),updateOperator:Ie(cs),definitionOperator:Ie(cs),typeOperator:Ie(cs),controlOperator:Ie(cs),punctuation:Jh,separator:Ie(Jh),bracket:To,angleBracket:Ie(To),squareBracket:Ie(To),paren:Ie(To),brace:Ie(To),content:hs,heading:Nl,heading1:Ie(Nl),heading2:Ie(Nl),heading3:Ie(Nl),heading4:Ie(Nl),heading5:Ie(Nl),heading6:Ie(Nl),contentSeparator:Ie(hs),list:Ie(hs),quote:Ie(hs),emphasis:Ie(hs),strong:Ie(hs),link:Ie(hs),monospace:Ie(hs),strikethrough:Ie(hs),inserted:Ie(),deleted:Ie(),changed:Ie(),invalid:Ie(),meta:Qf,documentMeta:Ie(Qf),annotation:Ie(Qf),processingInstruction:Ie(Qf),definition:ps.defineModifier(),constant:ps.defineModifier(),function:ps.defineModifier(),standard:ps.defineModifier(),local:ps.defineModifier(),special:ps.defineModifier()};QC([{tag:oe.link,class:"tok-link"},{tag:oe.heading,class:"tok-heading"},{tag:oe.emphasis,class:"tok-emphasis"},{tag:oe.strong,class:"tok-strong"},{tag:oe.keyword,class:"tok-keyword"},{tag:oe.atom,class:"tok-atom"},{tag:oe.bool,class:"tok-bool"},{tag:oe.url,class:"tok-url"},{tag:oe.labelName,class:"tok-labelName"},{tag:oe.inserted,class:"tok-inserted"},{tag:oe.deleted,class:"tok-deleted"},{tag:oe.literal,class:"tok-literal"},{tag:oe.string,class:"tok-string"},{tag:oe.number,class:"tok-number"},{tag:[oe.regexp,oe.escape,oe.special(oe.string)],class:"tok-string2"},{tag:oe.variableName,class:"tok-variableName"},{tag:oe.local(oe.variableName),class:"tok-variableName tok-local"},{tag:oe.definition(oe.variableName),class:"tok-variableName tok-definition"},{tag:oe.special(oe.variableName),class:"tok-variableName2"},{tag:oe.definition(oe.propertyName),class:"tok-propertyName tok-definition"},{tag:oe.typeName,class:"tok-typeName"},{tag:oe.namespace,class:"tok-namespace"},{tag:oe.className,class:"tok-className"},{tag:oe.macroName,class:"tok-macroName"},{tag:oe.propertyName,class:"tok-propertyName"},{tag:oe.operator,class:"tok-operator"},{tag:oe.comment,class:"tok-comment"},{tag:oe.meta,class:"tok-meta"},{tag:oe.invalid,class:"tok-invalid"},{tag:oe.punctuation,class:"tok-punctuation"}]);var vd;const Wl=new st;function Om(n){return We.define({combine:n?e=>e.concat(n):void 0})}const ym=new st;class qi{constructor(e,t,i=[],s=""){this.data=e,this.name=s,ht.prototype.hasOwnProperty("tree")||Object.defineProperty(ht.prototype,"tree",{get(){return yn(this)}}),this.parser=t,this.extension=[Sl.of(this),ht.languageData.of((l,r,o)=>{let a=kO(l,r,o),f=a.type.prop(Wl);if(!f)return[];let u=l.facet(f),d=a.type.prop(ym);if(d){let h=a.resolve(r-a.from,o);for(let p of d)if(p.test(h,l)){let g=l.facet(p.facet);return p.type=="replace"?g:g.concat(u)}}return u})].concat(i)}isActiveAt(e,t,i=-1){return kO(e,t,i).type.prop(Wl)==this.data}findRegions(e){let t=e.facet(Sl);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],s=(l,r)=>{if(l.prop(Wl)==this.data){i.push({from:r,to:r+l.length});return}let o=l.prop(st.mounted);if(o){if(o.tree.prop(Wl)==this.data){if(o.overlay)for(let a of o.overlay)i.push({from:a.from+r,to:a.to+r});else i.push({from:r,to:r+l.length});return}else if(o.overlay){let a=i.length;if(s(o.tree,o.overlay[0].from+r),i.length>a)return}}for(let a=0;a<l.children.length;a++){let f=l.children[a];f instanceof $t&&s(f,l.positions[a]+r)}};return s(yn(e),0),i}get allowsNesting(){return!0}}qi.setState=nt.define();function kO(n,e,t){let i=n.facet(Sl),s=yn(n).topNode;if(!i||i.allowsNesting)for(let l=s;l;l=l.enter(e,t,jt.ExcludeBuffers))l.type.isTop&&(s=l);return s}class Ru extends qi{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=Om(e.languageData);return new Ru(t,e.parser.configure({props:[Wl.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Ru(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function yn(n){let e=n.field(qi.state,!1);return e?e.tree:$t.empty}class m7{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Po=null;class Kr{constructor(e,t,i=[],s,l,r,o,a){this.parser=e,this.state=t,this.fragments=i,this.tree=s,this.treeLen=l,this.viewport=r,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new Kr(e,t,[],$t.empty,0,i,[],null)}startParse(){return this.parser.startParse(new m7(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=$t.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Ws.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ws.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Po;Po=this;try{return e()}finally{Po=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=wO(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:s,treeLen:l,viewport:r,skipped:o}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((f,u,d,h)=>a.push({fromA:f,toA:u,fromB:d,toB:h})),i=Ws.applyChanges(i,a),s=$t.empty,l=0,r={from:e.mapPos(r.from,-1),to:e.mapPos(r.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let u=e.mapPos(f.from,1),d=e.mapPos(f.to,-1);u<d&&o.push({from:u,to:d})}}}return new Kr(this.parser,t,i,s,l,r,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:s,to:l}=this.skipped[i];s<e.to&&l>e.from&&(this.fragments=wO(this.fragments,s,l),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends _m{createParse(t,i,s){let l=s[0].from,r=s[s.length-1].to;return{parsedPos:l,advance(){let a=Po;if(a){for(let f of s)a.tempSkipped.push(f);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=r,new $t(Yn.none,[],[],r-l)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Po}}function wO(n,e,t){return Ws.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Jr{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Jr(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=Kr.create(e.facet(Sl).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Jr(i)}}qi.state=Qn.define({create:Jr.init,update(n,e){for(let t of e.effects)if(t.is(qi.setState))return t.value;return e.startState.facet(Sl)!=e.state.facet(Sl)?Jr.init(e.state):n.apply(e)}});let DC=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(DC=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const kd=typeof navigator<"u"&&(!((vd=navigator.scheduling)===null||vd===void 0)&&vd.isInputPending)?()=>navigator.scheduling.isInputPending():null,g7=On.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(qi.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(qi.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=DC(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:s}}=this.view,l=i.field(qi.state);if(l.tree==l.context.tree&&l.context.isDone(s+1e5))return;let r=Date.now()+Math.min(this.chunkBudget,100,e&&!kd?Math.max(25,e.timeRemaining()-5):1e9),o=l.context.treeLen<s&&i.doc.length>s+1e3,a=l.context.work(()=>kd&&kd()||Date.now()>r,s+(o?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:qi.setState.of(new Jr(l.context))})),this.chunkBudget>0&&!(a&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>ji(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Sl=We.define({combine(n){return n.length?n[0]:null},enables:n=>[qi.state,g7,Ve.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class b7{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const EC=We.define(),Xa=We.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function lr(n){let e=n.facet(Xa);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function ma(n,e){let t="",i=n.tabSize,s=n.facet(Xa)[0];if(s=="	"){for(;e>=i;)t+="	",e-=i;s=" "}for(let l=0;l<e;l++)t+=s;return t}function vm(n,e){n instanceof ht&&(n=new _c(n));for(let i of n.state.facet(EC)){let s=i(n,e);if(s!==void 0)return s}let t=yn(n.state);return t?_7(n,t,e):null}class _c{constructor(e,t={}){this.state=e,this.options=t,this.unit=lr(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:l}=this.options;return s!=null&&s>=i.from&&s<=i.to?l&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:i.text.slice(s-i.from),from:s}:{text:i.text.slice(0,s-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:s}=this.lineAt(e,t);return i.slice(e-s,Math.min(i.length,e+100-s))}column(e,t=1){let{text:i,from:s}=this.lineAt(e,t),l=this.countColumn(i,e-s),r=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return r>-1&&(l+=r-this.countColumn(i,i.search(/\S|$/))),l}countColumn(e,t=e.length){return Na(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:s}=this.lineAt(e,t),l=this.options.overrideIndentation;if(l){let r=l(s);if(r>-1)return r}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const IC=new st;function _7(n,e,t){return RC(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}function O7(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function y7(n){let e=n.type.prop(IC);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(st.closedBy))){let s=n.lastChild,l=s&&i.indexOf(s.name)>-1;return r=>LC(r,!0,1,void 0,l&&!O7(r)?s.from:void 0)}return n.parent==null?v7:null}function RC(n,e,t){for(;n;n=n.parent){let i=y7(n);if(i)return i(km.create(t,e,n))}return null}function v7(){return 0}class km extends _c{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.node=i}static create(e,t,i){return new km(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(k7(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?RC(e,this.pos,this.base):0}}function k7(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function w7(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let s=n.options.simulateBreak,l=n.state.doc.lineAt(t.from),r=s==null||s<=l.from?l.to:Math.min(l.to,s);for(let o=t.to;;){let a=e.childAfter(o);if(!a||a==i)return null;if(!a.type.isSkipped)return a.from<r?t:null;o=a.to}}function S7({closing:n,align:e=!0,units:t=1}){return i=>LC(i,e,t,n)}function LC(n,e,t,i,s){let l=n.textAfter,r=l.match(/^\s*/)[0].length,o=i&&l.slice(r,r+i.length)==i||s==n.pos+r,a=e?w7(n):null;return a?o?n.column(a.from):n.column(a.to):n.baseIndent+(o?0:n.unit*t)}const $7=n=>n.baseIndent;function wd({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const C7=200;function T7(){return ht.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,s=t.lineAt(i);if(i>s.from+C7)return n;let l=t.sliceString(s.from,i);if(!e.some(f=>f.test(l)))return n;let{state:r}=n,o=-1,a=[];for(let{head:f}of r.selection.ranges){let u=r.doc.lineAt(f);if(u.from==o)continue;o=u.from;let d=vm(r,u.from);if(d==null)continue;let h=/^\s*/.exec(u.text)[0],p=ma(r,d);h!=p&&a.push({from:u.from,to:u.from+h.length,insert:p})}return a.length?[n,{changes:a,sequential:!0}]:n})}const P7=We.define(),NC=new st;function M7(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function A7(n,e,t){let i=yn(n);if(i.length<t)return null;let s=i.resolveInner(t,1),l=null;for(let r=s;r;r=r.parent){if(r.to<=t||r.from>t)continue;if(l&&r.from<e)break;let o=r.type.prop(NC);if(o&&(r.to<i.length-50||i.length==n.doc.length||!Q7(r))){let a=o(r,n);a&&a.from<=t&&a.from>=e&&a.to>t&&(l=a)}}return l}function Q7(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Lu(n,e,t){for(let i of n.facet(P7)){let s=i(n,e,t);if(s)return s}return A7(n,e,t)}function xC(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Oc=nt.define({map:xC}),qa=nt.define({map:xC});function ZC(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const rr=Qn.define({create(){return Be.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)t.is(Oc)&&!D7(n,t.value.from,t.value.to)?n=n.update({add:[SO.range(t.value.from,t.value.to)]}):t.is(qa)&&(n=n.update({filter:(i,s)=>t.value.from!=i||t.value.to!=s,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(s,l)=>{s<i&&l>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(s,l)=>l<=i||s>=i}))}return n},provide:n=>Ve.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,s)=>{t.push(i,s)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],s=n[t++];if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(SO.range(i,s))}return Be.set(e,!0)}});function Nu(n,e,t){var i;let s=null;return(i=n.field(rr,!1))===null||i===void 0||i.between(e,t,(l,r)=>{(!s||s.from>l)&&(s={from:l,to:r})}),s}function D7(n,e,t){let i=!1;return n.between(e,e,(s,l)=>{s==e&&l==t&&(i=!0)}),i}function FC(n,e){return n.field(rr,!1)?e:e.concat(nt.appendConfig.of(VC()))}const E7=n=>{for(let e of ZC(n)){let t=Lu(n.state,e.from,e.to);if(t)return n.dispatch({effects:FC(n.state,[Oc.of(t),XC(n,t)])}),!0}return!1},I7=n=>{if(!n.state.field(rr,!1))return!1;let e=[];for(let t of ZC(n)){let i=Nu(n.state,t.from,t.to);i&&e.push(qa.of(i),XC(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function XC(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,s=n.state.doc.lineAt(e.to).number;return Ve.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${s}.`)}const R7=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let s=n.lineBlockAt(i),l=Lu(e,s.from,s.to);l&&t.push(Oc.of(l)),i=(l?n.lineBlockAt(l.to):s).to+1}return t.length&&n.dispatch({effects:FC(n.state,t)}),!!t.length},L7=n=>{let e=n.state.field(rr,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,s)=>{t.push(qa.of({from:i,to:s}))}),n.dispatch({effects:t}),!0},N7=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:E7},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:I7},{key:"Ctrl-Alt-[",run:R7},{key:"Ctrl-Alt-]",run:L7}],x7={placeholderDOM:null,placeholderText:""},qC=We.define({combine(n){return Ds(n,x7)}});function VC(n){let e=[rr,X7];return n&&e.push(qC.of(n)),e}const SO=Be.replace({widget:new class extends Es{toDOM(n){let{state:e}=n,t=e.facet(qC),i=l=>{let r=n.lineBlockAt(n.posAtDOM(l.target)),o=Nu(n.state,r.from,r.to);o&&n.dispatch({effects:qa.of(o)}),l.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(n,i);let s=document.createElement("span");return s.textContent=t.placeholderText,s.setAttribute("aria-label",e.phrase("folded code")),s.title=e.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}}}),Z7={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Sd extends Hs{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function F7(n={}){let e=Object.assign(Object.assign({},Z7),n),t=new Sd(e,!0),i=new Sd(e,!1),s=On.fromClass(class{constructor(r){this.from=r.viewport.from,this.markers=this.buildMarkers(r)}update(r){(r.docChanged||r.viewportChanged||r.startState.facet(Sl)!=r.state.facet(Sl)||r.startState.field(rr,!1)!=r.state.field(rr,!1)||yn(r.startState)!=yn(r.state)||e.foldingChanged(r))&&(this.markers=this.buildMarkers(r.view))}buildMarkers(r){let o=new Ol;for(let a of r.viewportLineBlocks){let f=Nu(r.state,a.from,a.to)?i:Lu(r.state,a.from,a.to)?t:null;f&&o.add(a.from,a.from,f)}return o.finish()}}),{domEventHandlers:l}=e;return[s,xx({class:"cm-foldGutter",markers(r){var o;return((o=r.plugin(s))===null||o===void 0?void 0:o.markers)||Mt.empty},initialSpacer(){return new Sd(e,!1)},domEventHandlers:Object.assign(Object.assign({},l),{click:(r,o,a)=>{if(l.click&&l.click(r,o,a))return!0;let f=Nu(r.state,o.from,o.to);if(f)return r.dispatch({effects:qa.of(f)}),!0;let u=Lu(r.state,o.from,o.to);return u?(r.dispatch({effects:Oc.of(u)}),!0):!1}})}),VC()]}const X7=Ve.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class yc{constructor(e,t){this.specs=e;let i;function s(o){let a=yl.newName();return(i||(i=Object.create(null)))["."+a]=o,a}const l=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,r=t.scope;this.scope=r instanceof qi?o=>o.prop(Wl)==r.data:r?o=>o==r:void 0,this.style=QC(e.map(o=>({tag:o.tag,class:o.class||s(Object.assign({},o,{tag:null}))})),{all:l}).style,this.module=i?new yl(i):null,this.themeType=t.themeType}static define(e,t){return new yc(e,t||{})}}const ep=We.define(),jC=We.define({combine(n){return n.length?[n[0]]:null}});function $d(n){let e=n.facet(ep);return e.length?e:n.facet(jC)}function q7(n,e){let t=[j7],i;return n instanceof yc&&(n.module&&t.push(Ve.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(jC.of(n)):i?t.push(ep.computeN([Ve.darkTheme],s=>s.facet(Ve.darkTheme)==(i=="dark")?[n]:[])):t.push(ep.of(n)),t}class V7{constructor(e){this.markCache=Object.create(null),this.tree=yn(e.state),this.decorations=this.buildDeco(e,$d(e.state))}update(e){let t=yn(e.state),i=$d(e.state),s=i!=$d(e.startState);t.length<e.view.viewport.to&&!s&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return Be.none;let i=new Ol;for(let{from:s,to:l}of e.visibleRanges)d7(this.tree,t,(r,o,a)=>{i.add(r,o,this.markCache[a]||(this.markCache[a]=Be.mark({class:a})))},s,l);return i.finish()}}const j7=cr.high(On.fromClass(V7,{decorations:n=>n.decorations})),U7=yc.define([{tag:oe.meta,color:"#404740"},{tag:oe.link,textDecoration:"underline"},{tag:oe.heading,textDecoration:"underline",fontWeight:"bold"},{tag:oe.emphasis,fontStyle:"italic"},{tag:oe.strong,fontWeight:"bold"},{tag:oe.strikethrough,textDecoration:"line-through"},{tag:oe.keyword,color:"#708"},{tag:[oe.atom,oe.bool,oe.url,oe.contentSeparator,oe.labelName],color:"#219"},{tag:[oe.literal,oe.inserted],color:"#164"},{tag:[oe.string,oe.deleted],color:"#a11"},{tag:[oe.regexp,oe.escape,oe.special(oe.string)],color:"#e40"},{tag:oe.definition(oe.variableName),color:"#00f"},{tag:oe.local(oe.variableName),color:"#30a"},{tag:[oe.typeName,oe.namespace],color:"#085"},{tag:oe.className,color:"#167"},{tag:[oe.special(oe.variableName),oe.macroName],color:"#256"},{tag:oe.definition(oe.propertyName),color:"#00c"},{tag:oe.comment,color:"#940"},{tag:oe.invalid,color:"#f00"}]),W7=Ve.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),UC=1e4,WC="()[]{}",zC=We.define({combine(n){return Ds(n,{afterCursor:!0,brackets:WC,maxScanDistance:UC,renderMatch:Y7})}}),z7=Be.mark({class:"cm-matchingBracket"}),B7=Be.mark({class:"cm-nonmatchingBracket"});function Y7(n){let e=[],t=n.matched?z7:B7;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const H7=Qn.define({create(){return Be.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(zC);for(let s of e.state.selection.ranges){if(!s.empty)continue;let l=ys(e.state,s.head,-1,i)||s.head>0&&ys(e.state,s.head-1,1,i)||i.afterCursor&&(ys(e.state,s.head,1,i)||s.head<e.state.doc.length&&ys(e.state,s.head+1,-1,i));l&&(t=t.concat(i.renderMatch(l,e.state)))}return Be.set(t,!0)},provide:n=>Ve.decorations.from(n)}),G7=[H7,W7];function K7(n={}){return[zC.of(n),G7]}const J7=new st;function tp(n,e,t){let i=n.prop(e<0?st.openedBy:st.closedBy);if(i)return i;if(n.name.length==1){let s=t.indexOf(n.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function np(n){let e=n.type.prop(J7);return e?e(n.node):n}function ys(n,e,t,i={}){let s=i.maxScanDistance||UC,l=i.brackets||WC,r=yn(n),o=r.resolveInner(e,t);for(let a=o;a;a=a.parent){let f=tp(a.type,t,l);if(f&&a.from<a.to){let u=np(a);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return eZ(n,e,t,a,u,f,l)}}return tZ(n,e,t,r,o.type,s,l)}function eZ(n,e,t,i,s,l,r){let o=i.parent,a={from:s.from,to:s.to},f=0,u=o==null?void 0:o.cursor();if(u&&(t<0?u.childBefore(i.from):u.childAfter(i.to)))do if(t<0?u.to<=i.from:u.from>=i.to){if(f==0&&l.indexOf(u.type.name)>-1&&u.from<u.to){let d=np(u);return{start:a,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(tp(u.type,t,r))f++;else if(tp(u.type,-t,r)){if(f==0){let d=np(u);return{start:a,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}f--}}while(t<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}function tZ(n,e,t,i,s,l,r){let o=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),a=r.indexOf(o);if(a<0||a%2==0!=t>0)return null;let f={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let h=0;!u.next().done&&h<=l;){let p=u.value;t<0&&(h+=p.length);let g=e+h*t;for(let b=t>0?0:p.length-1,_=t>0?p.length:-1;b!=_;b+=t){let y=r.indexOf(p[b]);if(!(y<0||i.resolveInner(g+b,1).type!=s))if(y%2==0==t>0)d++;else{if(d==1)return{start:f,end:{from:g+b,to:g+b+1},matched:y>>1==a>>1};d--}}t>0&&(h+=p.length)}return u.done?{start:f,matched:!1}:null}function $O(n,e,t,i=0,s=0){e==null&&(e=n.search(/[^\s\u00a0]/),e==-1&&(e=n.length));let l=s;for(let r=i;r<e;r++)n.charCodeAt(r)==9?l+=t-l%t:l++;return l}class BC{constructor(e,t,i,s){this.string=e,this.tabSize=t,this.indentUnit=i,this.overrideIndent=s,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),i;if(typeof e=="string"?i=t==e:i=t&&(e instanceof RegExp?e.test(t):e(t)),i)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=$O(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:$O(this.string,null,this.tabSize)}match(e,t,i){if(typeof e=="string"){let s=r=>i?r.toLowerCase():r,l=this.string.substr(this.pos,e.length);return s(l)==s(e)?(t!==!1&&(this.pos+=e.length),!0):null}else{let s=this.string.slice(this.pos).match(e);return s&&s.index>0?null:(s&&t!==!1&&(this.pos+=s[0].length),s)}}current(){return this.string.slice(this.start,this.pos)}}function nZ(n){return{name:n.name||"",token:n.token,blankLine:n.blankLine||(()=>{}),startState:n.startState||(()=>!0),copyState:n.copyState||iZ,indent:n.indent||(()=>null),languageData:n.languageData||{},tokenTable:n.tokenTable||Sm}}function iZ(n){if(typeof n!="object")return n;let e={};for(let t in n){let i=n[t];e[t]=i instanceof Array?i.slice():i}return e}const CO=new WeakMap;class YC extends qi{constructor(e){let t=Om(e.languageData),i=nZ(e),s,l=new class extends _m{createParse(r,o,a){return new lZ(s,r,o,a)}};super(t,l,[EC.of((r,o)=>this.getIndent(r,o))],e.name),this.topNode=aZ(t),s=this,this.streamParser=i,this.stateAfter=new st({perNode:!0}),this.tokenTable=e.tokenTable?new JC(i.tokenTable):oZ}static define(e){return new YC(e)}getIndent(e,t){let i=yn(e.state),s=i.resolve(t);for(;s&&s.type!=this.topNode;)s=s.parent;if(!s)return null;let l,{overrideIndentation:r}=e.options;r&&(l=CO.get(e.state),l!=null&&l<t-1e4&&(l=void 0));let o=wm(this,i,0,s.from,l??t),a,f;if(o?(f=o.state,a=o.pos+1):(f=this.streamParser.startState(e.unit),a=0),t-a>1e4)return null;for(;a<t;){let d=e.state.doc.lineAt(a),h=Math.min(t,d.to);if(d.length){let p=r?r(d.from):-1,g=new BC(d.text,e.state.tabSize,e.unit,p<0?void 0:p);for(;g.pos<h-d.from;)GC(this.streamParser.token,g,f)}else this.streamParser.blankLine(f,e.unit);if(h==t)break;a=d.to+1}let u=e.lineAt(t);return r&&l==null&&CO.set(e.state,u.from),this.streamParser.indent(f,/^\s*(.*)/.exec(u.text)[1],e)}get allowsNesting(){return!1}}function wm(n,e,t,i,s){let l=t>=i&&t+e.length<=s&&e.prop(n.stateAfter);if(l)return{state:n.streamParser.copyState(l),pos:t+e.length};for(let r=e.children.length-1;r>=0;r--){let o=e.children[r],a=t+e.positions[r],f=o instanceof $t&&a<s&&wm(n,o,a,i,s);if(f)return f}return null}function HC(n,e,t,i,s){if(s&&t<=0&&i>=e.length)return e;!s&&e.type==n.topNode&&(s=!0);for(let l=e.children.length-1;l>=0;l--){let r=e.positions[l],o=e.children[l],a;if(r<i&&o instanceof $t){if(!(a=HC(n,o,t-r,i-r,s)))break;return s?new $t(e.type,e.children.slice(0,l).concat(a),e.positions.slice(0,l+1),r+a.length):a}}return null}function sZ(n,e,t,i){for(let s of e){let l=s.from+(s.openStart?25:0),r=s.to-(s.openEnd?25:0),o=l<=t&&r>t&&wm(n,s.tree,0-s.offset,t,r),a;if(o&&(a=HC(n,s.tree,t+s.offset,o.pos+s.offset,!1)))return{state:o.state,tree:a}}return{state:n.streamParser.startState(i?lr(i):4),tree:$t.empty}}let lZ=class{constructor(e,t,i,s){this.lang=e,this.input=t,this.fragments=i,this.ranges=s,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=s[s.length-1].to;let l=Kr.get(),r=s[0].from,{state:o,tree:a}=sZ(e,i,r,l==null?void 0:l.state);this.state=o,this.parsedPos=this.chunkStart=r+a.length;for(let f=0;f<a.children.length;f++)this.chunks.push(a.children[f]),this.chunkPos.push(a.positions[f]);l&&this.parsedPos<l.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(lr(l.state)),l.skipUntilInView(this.parsedPos,l.viewport.from),this.parsedPos=l.viewport.from),this.moveRangeIndex()}advance(){let e=Kr.get(),t=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),i=Math.min(t,this.chunkStart+2048);for(e&&(i=Math.min(i,e.viewport.to));this.parsedPos<i;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=t?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,t),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let t=this.input.chunk(e);if(this.input.lineChunks)t==`
`&&(t="");else{let i=t.indexOf(`
`);i>-1&&(t=t.slice(0,i))}return e+t.length<=this.to?t:t.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,t=this.lineAfter(e),i=e+t.length;for(let s=this.rangeIndex;;){let l=this.ranges[s].to;if(l>=i||(t=t.slice(0,l-(i-t.length)),s++,s==this.ranges.length))break;let r=this.ranges[s].from,o=this.lineAfter(r);t+=o,i=r+o.length}return{line:t,end:i}}skipGapsTo(e,t,i){for(;;){let s=this.ranges[this.rangeIndex].to,l=e+t;if(i>0?s>l:s>=l)break;let r=this.ranges[++this.rangeIndex].from;t+=r-s}return t}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,t,i,s,l){if(this.ranges.length>1){l=this.skipGapsTo(t,l,1),t+=l;let r=this.chunk.length;l=this.skipGapsTo(i,l,-1),i+=l,s+=this.chunk.length-r}return this.chunk.push(e,t,i,s),l}parseLine(e){let{line:t,end:i}=this.nextLine(),s=0,{streamParser:l}=this.lang,r=new BC(t,e?e.state.tabSize:4,e?lr(e.state):2);if(r.eol())l.blankLine(this.state,r.indentUnit);else for(;!r.eol();){let o=GC(l.token,r,this.state);if(o&&(s=this.emitToken(this.lang.tokenTable.resolve(o),this.parsedPos+r.start,this.parsedPos+r.pos,4,s)),r.start>1e4)break}this.parsedPos=i,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=$t.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:rZ,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new $t(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new $t(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function GC(n,e,t){e.start=e.pos;for(let i=0;i<10;i++){let s=n(e,t);if(e.pos>e.start)return s}throw new Error("Stream parser failed to advance stream.")}const Sm=Object.create(null),ga=[Yn.none],rZ=new bc(ga),TO=[],KC=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])KC[n]=eT(Sm,e);class JC{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),KC)}resolve(e){return e?this.table[e]||(this.table[e]=eT(this.extra,e)):0}}const oZ=new JC(Sm);function Cd(n,e){TO.indexOf(n)>-1||(TO.push(n),console.warn(e))}function eT(n,e){let t=null;for(let l of e.split(".")){let r=n[l]||oe[l];r?typeof r=="function"?t?t=r(t):Cd(l,`Modifier ${l} used at start of tag`):t?Cd(l,`Tag ${l} used as modifier`):t=r:Cd(l,`Unknown highlighting tag ${l}`)}if(!t)return 0;let i=e.replace(/ /g,"_"),s=Yn.define({id:ga.length,name:i,props:[MC({[i]:t})]});return ga.push(s),s.id}function aZ(n){let e=Yn.define({id:ga.length,name:"Document",props:[Wl.add(()=>n)]});return ga.push(e),e}const fZ=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=Cm(n.state,t.from);return i.line?uZ(n):i.block?dZ(n):!1};function $m(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let s=n(e,t);return s?(i(t.update(s)),!0):!1}}const uZ=$m(mZ,0),cZ=$m(tT,0),dZ=$m((n,e)=>tT(n,e,pZ(e)),0);function Cm(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Mo=50;function hZ(n,{open:e,close:t},i,s){let l=n.sliceDoc(i-Mo,i),r=n.sliceDoc(s,s+Mo),o=/\s*$/.exec(l)[0].length,a=/^\s*/.exec(r)[0].length,f=l.length-o;if(l.slice(f-e.length,f)==e&&r.slice(a,a+t.length)==t)return{open:{pos:i-o,margin:o&&1},close:{pos:s+a,margin:a&&1}};let u,d;s-i<=2*Mo?u=d=n.sliceDoc(i,s):(u=n.sliceDoc(i,i+Mo),d=n.sliceDoc(s-Mo,s));let h=/^\s*/.exec(u)[0].length,p=/\s*$/.exec(d)[0].length,g=d.length-p-t.length;return u.slice(h,h+e.length)==e&&d.slice(g,g+t.length)==t?{open:{pos:i+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:s-p-t.length,margin:/\s/.test(d.charAt(g-1))?1:0}}:null}function pZ(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),s=t.to<=i.to?i:n.doc.lineAt(t.to),l=e.length-1;l>=0&&e[l].to>i.from?e[l].to=s.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:s.to})}return e}function tT(n,e,t=e.selection.ranges){let i=t.map(l=>Cm(e,l.from).block);if(!i.every(l=>l))return null;let s=t.map((l,r)=>hZ(e,i[r],l.from,l.to));if(n!=2&&!s.every(l=>l))return{changes:e.changes(t.map((l,r)=>s[r]?[]:[{from:l.from,insert:i[r].open+" "},{from:l.to,insert:" "+i[r].close}]))};if(n!=1&&s.some(l=>l)){let l=[];for(let r=0,o;r<s.length;r++)if(o=s[r]){let a=i[r],{open:f,close:u}=o;l.push({from:f.pos-a.open.length,to:f.pos+f.margin},{from:u.pos-u.margin,to:u.pos+a.close.length})}return{changes:l}}return null}function mZ(n,e,t=e.selection.ranges){let i=[],s=-1;for(let{from:l,to:r}of t){let o=i.length,a=1e9,f=Cm(e,l).line;if(f){for(let u=l;u<=r;){let d=e.doc.lineAt(u);if(d.from>s&&(l==r||r>d.from)){s=d.from;let h=/^\s*/.exec(d.text)[0].length,p=h==d.length,g=d.text.slice(h,h+f.length)==f?h:-1;h<d.text.length&&h<a&&(a=h),i.push({line:d,comment:g,token:f,indent:h,empty:p,single:!1})}u=d.to+1}if(a<1e9)for(let u=o;u<i.length;u++)i[u].indent<i[u].line.text.length&&(i[u].indent=a);i.length==o+1&&(i[o].single=!0)}}if(n!=2&&i.some(l=>l.comment<0&&(!l.empty||l.single))){let l=[];for(let{line:o,token:a,indent:f,empty:u,single:d}of i)(d||!u)&&l.push({from:o.from+f,insert:a+" "});let r=e.changes(l);return{changes:r,selection:e.selection.map(r,1)}}else if(n!=1&&i.some(l=>l.comment>=0)){let l=[];for(let{line:r,comment:o,token:a}of i)if(o>=0){let f=r.from+o,u=f+a.length;r.text[u-r.from]==" "&&u++,l.push({from:f,to:u})}return{changes:l}}return null}const ip=Js.define(),gZ=Js.define(),bZ=We.define(),nT=We.define({combine(n){return Ds(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,s)=>e(i,s)||t(i,s)})}});function _Z(n){let e=0;return n.iterChangedRanges((t,i)=>e=i),e}const iT=Qn.define({create(){return vs.empty},update(n,e){let t=e.state.facet(nT),i=e.annotation(ip);if(i){let a=e.docChanged?he.single(_Z(e.changes)):void 0,f=fi.fromTransaction(e,a),u=i.side,d=u==0?n.undone:n.done;return f?d=xu(d,d.length,t.minDepth,f):d=rT(d,e.startState.selection),new vs(u==0?i.rest:d,u==0?d:i.rest)}let s=e.annotation(gZ);if((s=="full"||s=="before")&&(n=n.isolate()),e.annotation(Sn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let l=fi.fromTransaction(e),r=e.annotation(Sn.time),o=e.annotation(Sn.userEvent);return l?n=n.addChanges(l,r,o,t,e):e.selection&&(n=n.addSelection(e.startState.selection,r,o,t.newGroupDelay)),(s=="full"||s=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new vs(n.done.map(fi.fromJSON),n.undone.map(fi.fromJSON))}});function OZ(n={}){return[iT,nT.of(n),Ve.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?sT:e.inputType=="historyRedo"?sp:null;return i?(e.preventDefault(),i(t)):!1}})]}function vc(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let s=t.field(iT,!1);if(!s)return!1;let l=s.pop(n,t,e);return l?(i(l),!0):!1}}const sT=vc(0,!1),sp=vc(1,!1),yZ=vc(0,!0),vZ=vc(1,!0);class fi{constructor(e,t,i,s,l){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=s,this.selectionsAfter=l}setSelAfter(e){return new fi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new fi(e.changes&&wn.fromJSON(e.changes),[],e.mapped&&ws.fromJSON(e.mapped),e.startSelection&&he.fromJSON(e.startSelection),e.selectionsAfter.map(he.fromJSON))}static fromTransaction(e,t){let i=Vi;for(let s of e.startState.facet(bZ)){let l=s(e);l.length&&(i=i.concat(l))}return!i.length&&e.changes.empty?null:new fi(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Vi)}static selection(e){return new fi(void 0,Vi,void 0,void 0,e)}}function xu(n,e,t,i){let s=e+1>t+20?e-t-1:0,l=n.slice(s,e);return l.push(i),l}function kZ(n,e){let t=[],i=!1;return n.iterChangedRanges((s,l)=>t.push(s,l)),e.iterChangedRanges((s,l,r,o)=>{for(let a=0;a<t.length;){let f=t[a++],u=t[a++];o>=f&&r<=u&&(i=!0)}}),i}function wZ(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function lT(n,e){return n.length?e.length?n.concat(e):n:e}const Vi=[],SZ=200;function rT(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-SZ));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),xu(n,n.length-1,1e9,t.setSelAfter(i)))}else return[fi.selection([e])]}function $Z(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Td(n,e){if(!n.length)return n;let t=n.length,i=Vi;for(;t;){let s=CZ(n[t-1],e,i);if(s.changes&&!s.changes.empty||s.effects.length){let l=n.slice(0,t);return l[t-1]=s,l}else e=s.mapped,t--,i=s.selectionsAfter}return i.length?[fi.selection(i)]:Vi}function CZ(n,e,t){let i=lT(n.selectionsAfter.length?n.selectionsAfter.map(o=>o.map(e)):Vi,t);if(!n.changes)return fi.selection(i);let s=n.changes.map(e),l=e.mapDesc(n.changes,!0),r=n.mapped?n.mapped.composeDesc(l):l;return new fi(s,nt.mapEffects(n.effects,e),r,n.startSelection.map(l),i)}const TZ=/^(input\.type|delete)($|\.)/;class vs{constructor(e,t,i=0,s=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=s}isolate(){return this.prevTime?new vs(this.done,this.undone):this}addChanges(e,t,i,s,l){let r=this.done,o=r[r.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!i||TZ.test(i))&&(!o.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(l,kZ(o.changes,e.changes))||i=="input.type.compose")?r=xu(r,r.length-1,s.minDepth,new fi(e.changes.compose(o.changes),lT(e.effects,o.effects),o.mapped,o.startSelection,Vi)):r=xu(r,r.length,s.minDepth,e),new vs(r,Vi,t,i)}addSelection(e,t,i,s){let l=this.done.length?this.done[this.done.length-1].selectionsAfter:Vi;return l.length>0&&t-this.prevTime<s&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&wZ(l[l.length-1],e)?this:new vs(rT(this.done,e),this.undone,t,i)}addMapping(e){return new vs(Td(this.done,e),Td(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let s=e==0?this.done:this.undone;if(s.length==0)return null;let l=s[s.length-1];if(i&&l.selectionsAfter.length)return t.update({selection:l.selectionsAfter[l.selectionsAfter.length-1],annotations:ip.of({side:e,rest:$Z(s)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(l.changes){let r=s.length==1?Vi:s.slice(0,s.length-1);return l.mapped&&(r=Td(r,l.mapped)),t.update({changes:l.changes,selection:l.startSelection,effects:l.effects,annotations:ip.of({side:e,rest:r}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}vs.empty=new vs(Vi,Vi);const PZ=[{key:"Mod-z",run:sT,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:sp,preventDefault:!0},{linux:"Ctrl-Shift-z",run:sp,preventDefault:!0},{key:"Mod-u",run:yZ,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:vZ,preventDefault:!0}];function ao(n,e){return he.create(n.ranges.map(e),n.mainIndex)}function Is(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ls({state:n,dispatch:e},t){let i=ao(n.selection,t);return i.eq(n.selection)?!1:(e(Is(n,i)),!0)}function kc(n,e){return he.cursor(e?n.to:n.from)}function oT(n,e){return ls(n,t=>t.empty?n.moveByChar(t,e):kc(t,e))}function Hn(n){return n.textDirectionAt(n.state.selection.main.head)==en.LTR}const aT=n=>oT(n,!Hn(n)),fT=n=>oT(n,Hn(n));function uT(n,e){return ls(n,t=>t.empty?n.moveByGroup(t,e):kc(t,e))}const MZ=n=>uT(n,!Hn(n)),AZ=n=>uT(n,Hn(n));function QZ(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function wc(n,e,t){let i=yn(n).resolveInner(e.head),s=t?st.closedBy:st.openedBy;for(let a=e.head;;){let f=t?i.childAfter(a):i.childBefore(a);if(!f)break;QZ(n,f,s)?i=f:a=t?f.to:f.from}let l=i.type.prop(s),r,o;return l&&(r=t?ys(n,i.from,1):ys(n,i.to,-1))&&r.matched?o=t?r.end.to:r.end.from:o=t?i.to:i.from,he.cursor(o,t?-1:1)}const DZ=n=>ls(n,e=>wc(n.state,e,!Hn(n))),EZ=n=>ls(n,e=>wc(n.state,e,Hn(n)));function cT(n,e){return ls(n,t=>{if(!t.empty)return kc(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const dT=n=>cT(n,!1),hT=n=>cT(n,!0);function pT(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,s;if(e){for(let l of n.state.facet(Ve.scrollMargins)){let r=l(n);r!=null&&r.top&&(t=Math.max(r==null?void 0:r.top,t)),r!=null&&r.bottom&&(i=Math.max(r==null?void 0:r.bottom,i))}s=n.scrollDOM.clientHeight-t-i}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function mT(n,e){let t=pT(n),{state:i}=n,s=ao(i.selection,r=>r.empty?n.moveVertically(r,e,t.height):kc(r,e));if(s.eq(i.selection))return!1;let l;if(t.selfScroll){let r=n.coordsAtPos(i.selection.main.head),o=n.scrollDOM.getBoundingClientRect(),a=o.top+t.marginTop,f=o.bottom-t.marginBottom;r&&r.top>a&&r.bottom<f&&(l=Ve.scrollIntoView(s.main.head,{y:"start",yMargin:r.top-a}))}return n.dispatch(Is(i,s),{effects:l}),!0}const PO=n=>mT(n,!1),lp=n=>mT(n,!0);function Ml(n,e,t){let i=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?i.to:i.from)&&(s=n.moveToLineBoundary(e,t,!1)),!t&&s.head==i.from&&i.length){let l=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;l&&e.head!=i.from+l&&(s=he.cursor(i.from+l))}return s}const IZ=n=>ls(n,e=>Ml(n,e,!0)),RZ=n=>ls(n,e=>Ml(n,e,!1)),LZ=n=>ls(n,e=>Ml(n,e,!Hn(n))),NZ=n=>ls(n,e=>Ml(n,e,Hn(n))),xZ=n=>ls(n,e=>he.cursor(n.lineBlockAt(e.head).from,1)),ZZ=n=>ls(n,e=>he.cursor(n.lineBlockAt(e.head).to,-1));function FZ(n,e,t){let i=!1,s=ao(n.selection,l=>{let r=ys(n,l.head,-1)||ys(n,l.head,1)||l.head>0&&ys(n,l.head-1,1)||l.head<n.doc.length&&ys(n,l.head+1,-1);if(!r||!r.end)return l;i=!0;let o=r.start.from==l.head?r.end.to:r.end.from;return t?he.range(l.anchor,o):he.cursor(o)});return i?(e(Is(n,s)),!0):!1}const XZ=({state:n,dispatch:e})=>FZ(n,e,!1);function Yi(n,e){let t=ao(n.state.selection,i=>{let s=e(i);return he.range(i.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Is(n.state,t)),!0)}function gT(n,e){return Yi(n,t=>n.moveByChar(t,e))}const bT=n=>gT(n,!Hn(n)),_T=n=>gT(n,Hn(n));function OT(n,e){return Yi(n,t=>n.moveByGroup(t,e))}const qZ=n=>OT(n,!Hn(n)),VZ=n=>OT(n,Hn(n)),jZ=n=>Yi(n,e=>wc(n.state,e,!Hn(n))),UZ=n=>Yi(n,e=>wc(n.state,e,Hn(n)));function yT(n,e){return Yi(n,t=>n.moveVertically(t,e))}const vT=n=>yT(n,!1),kT=n=>yT(n,!0);function wT(n,e){return Yi(n,t=>n.moveVertically(t,e,pT(n).height))}const MO=n=>wT(n,!1),AO=n=>wT(n,!0),WZ=n=>Yi(n,e=>Ml(n,e,!0)),zZ=n=>Yi(n,e=>Ml(n,e,!1)),BZ=n=>Yi(n,e=>Ml(n,e,!Hn(n))),YZ=n=>Yi(n,e=>Ml(n,e,Hn(n))),HZ=n=>Yi(n,e=>he.cursor(n.lineBlockAt(e.head).from)),GZ=n=>Yi(n,e=>he.cursor(n.lineBlockAt(e.head).to)),QO=({state:n,dispatch:e})=>(e(Is(n,{anchor:0})),!0),DO=({state:n,dispatch:e})=>(e(Is(n,{anchor:n.doc.length})),!0),EO=({state:n,dispatch:e})=>(e(Is(n,{anchor:n.selection.main.anchor,head:0})),!0),IO=({state:n,dispatch:e})=>(e(Is(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),KZ=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),JZ=({state:n,dispatch:e})=>{let t=$c(n).map(({from:i,to:s})=>he.range(i,Math.min(s+1,n.doc.length)));return e(n.update({selection:he.create(t),userEvent:"select"})),!0},eF=({state:n,dispatch:e})=>{let t=ao(n.selection,i=>{var s;let l=yn(n).resolveInner(i.head,1);for(;!(l.from<i.from&&l.to>=i.to||l.to>i.to&&l.from<=i.from||!(!((s=l.parent)===null||s===void 0)&&s.parent));)l=l.parent;return he.range(l.to,l.from)});return e(Is(n,t)),!0},tF=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=he.create([t.main]):t.main.empty||(i=he.create([he.cursor(t.main.head)])),i?(e(Is(n,i)),!0):!1};function Sc(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,s=i.changeByRange(l=>{let{from:r,to:o}=l;if(r==o){let a=e(r);a<r?(t="delete.backward",a=Df(n,a,!1)):a>r&&(t="delete.forward",a=Df(n,a,!0)),r=Math.min(r,a),o=Math.max(o,a)}else r=Df(n,r,!1),o=Df(n,o,!0);return r==o?{range:l}:{changes:{from:r,to:o},range:he.cursor(r)}});return s.changes.empty?!1:(n.dispatch(i.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Ve.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Df(n,e,t){if(n instanceof Ve)for(let i of n.state.facet(Ve.atomicRanges).map(s=>s(n)))i.between(e,e,(s,l)=>{s<e&&l>e&&(e=t?l:s)});return e}const ST=(n,e)=>Sc(n,t=>{let{state:i}=n,s=i.doc.lineAt(t),l,r;if(!e&&t>s.from&&t<s.from+200&&!/[^ \t]/.test(l=s.text.slice(0,t-s.from))){if(l[l.length-1]=="	")return t-1;let o=Na(l,i.tabSize),a=o%lr(i)||lr(i);for(let f=0;f<a&&l[l.length-1-f]==" ";f++)t--;r=t}else r=ei(s.text,t-s.from,e,e)+s.from,r==t&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);return r}),rp=n=>ST(n,!1),$T=n=>ST(n,!0),CT=(n,e)=>Sc(n,t=>{let i=t,{state:s}=n,l=s.doc.lineAt(i),r=s.charCategorizer(i);for(let o=null;;){if(i==(e?l.to:l.from)){i==t&&l.number!=(e?s.doc.lines:1)&&(i+=e?1:-1);break}let a=ei(l.text,i-l.from,e)+l.from,f=l.text.slice(Math.min(i,a)-l.from,Math.max(i,a)-l.from),u=r(f);if(o!=null&&u!=o)break;(f!=" "||i!=t)&&(o=u),i=a}return i}),TT=n=>CT(n,!1),nF=n=>CT(n,!0),PT=n=>Sc(n,e=>{let t=n.lineBlockAt(e).to;return e<t?t:Math.min(n.state.doc.length,e+1)}),iF=n=>Sc(n,e=>{let t=n.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)}),sF=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Ot.of(["",""])},range:he.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},lF=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let s=i.from,l=n.doc.lineAt(s),r=s==l.from?s-1:ei(l.text,s-l.from,!1)+l.from,o=s==l.to?s+1:ei(l.text,s-l.from,!0)+l.from;return{changes:{from:r,to:o,insert:n.doc.slice(s,o).append(n.doc.slice(r,s))},range:he.cursor(o)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function $c(n){let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.from),l=n.doc.lineAt(i.to);if(!i.empty&&i.to==l.from&&(l=n.doc.lineAt(i.to-1)),t>=s.number){let r=e[e.length-1];r.to=l.to,r.ranges.push(i)}else e.push({from:s.from,to:l.to,ranges:[i]});t=l.number+1}return e}function MT(n,e,t){if(n.readOnly)return!1;let i=[],s=[];for(let l of $c(n)){if(t?l.to==n.doc.length:l.from==0)continue;let r=n.doc.lineAt(t?l.to+1:l.from-1),o=r.length+1;if(t){i.push({from:l.to,to:r.to},{from:l.from,insert:r.text+n.lineBreak});for(let a of l.ranges)s.push(he.range(Math.min(n.doc.length,a.anchor+o),Math.min(n.doc.length,a.head+o)))}else{i.push({from:r.from,to:l.from},{from:l.to,insert:n.lineBreak+r.text});for(let a of l.ranges)s.push(he.range(a.anchor-o,a.head-o))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:he.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const rF=({state:n,dispatch:e})=>MT(n,e,!1),oF=({state:n,dispatch:e})=>MT(n,e,!0);function AT(n,e,t){if(n.readOnly)return!1;let i=[];for(let s of $c(n))t?i.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):i.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const aF=({state:n,dispatch:e})=>AT(n,e,!1),fF=({state:n,dispatch:e})=>AT(n,e,!0),uF=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes($c(e).map(({from:s,to:l})=>(s>0?s--:l<e.doc.length&&l++,{from:s,to:l}))),i=ao(e.selection,s=>n.moveVertically(s,!0)).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function cF(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=yn(n).resolveInner(e),i=t.childBefore(e),s=t.childAfter(e),l;return i&&s&&i.to<=e&&s.from>=e&&(l=i.type.prop(st.closedBy))&&l.indexOf(s.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(s.from).from?{from:i.to,to:s.from}:null}const dF=QT(!1),hF=QT(!0);function QT(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(s=>{let{from:l,to:r}=s,o=e.doc.lineAt(l),a=!n&&l==r&&cF(e,l);n&&(l=r=(r<=o.to?o:e.doc.lineAt(r)).to);let f=new _c(e,{simulateBreak:l,simulateDoubleBreak:!!a}),u=vm(f,l);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(l).text)[0].length);r<o.to&&/\s/.test(o.text[r-o.from]);)r++;a?{from:l,to:r}=a:l>o.from&&l<o.from+100&&!/\S/.test(o.text.slice(0,l))&&(l=o.from);let d=["",ma(e,u)];return a&&d.push(ma(e,f.lineIndent(o.from,-1))),{changes:{from:l,to:r,insert:Ot.of(d)},range:he.cursor(l+1+d[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Tm(n,e){let t=-1;return n.changeByRange(i=>{let s=[];for(let r=i.from;r<=i.to;){let o=n.doc.lineAt(r);o.number>t&&(i.empty||i.to>o.from)&&(e(o,s,i),t=o.number),r=o.to+1}let l=n.changes(s);return{changes:s,range:he.range(l.mapPos(i.anchor,1),l.mapPos(i.head,1))}})}const pF=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new _c(n,{overrideIndentation:l=>{let r=t[l];return r??-1}}),s=Tm(n,(l,r,o)=>{let a=vm(i,l.from);if(a==null)return;/\S/.test(l.text)||(a=0);let f=/^\s*/.exec(l.text)[0],u=ma(n,a);(f!=u||o.from<l.from+f.length)&&(t[l.from]=a,r.push({from:l.from,to:l.from+f.length,insert:u}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},DT=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Tm(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Xa)})}),{userEvent:"input.indent"})),!0),ET=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Tm(n,(t,i)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let l=Na(s,n.tabSize),r=0,o=ma(n,Math.max(0,l-lr(n)));for(;r<s.length&&r<o.length&&s.charCodeAt(r)==o.charCodeAt(r);)r++;i.push({from:t.from+r,to:t.from+s.length,insert:o.slice(r)})}),{userEvent:"delete.dedent"})),!0),mF=[{key:"Ctrl-b",run:aT,shift:bT,preventDefault:!0},{key:"Ctrl-f",run:fT,shift:_T},{key:"Ctrl-p",run:dT,shift:vT},{key:"Ctrl-n",run:hT,shift:kT},{key:"Ctrl-a",run:xZ,shift:HZ},{key:"Ctrl-e",run:ZZ,shift:GZ},{key:"Ctrl-d",run:$T},{key:"Ctrl-h",run:rp},{key:"Ctrl-k",run:PT},{key:"Ctrl-Alt-h",run:TT},{key:"Ctrl-o",run:sF},{key:"Ctrl-t",run:lF},{key:"Ctrl-v",run:lp}],gF=[{key:"ArrowLeft",run:aT,shift:bT,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:MZ,shift:qZ,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:LZ,shift:BZ,preventDefault:!0},{key:"ArrowRight",run:fT,shift:_T,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:AZ,shift:VZ,preventDefault:!0},{mac:"Cmd-ArrowRight",run:NZ,shift:YZ,preventDefault:!0},{key:"ArrowUp",run:dT,shift:vT,preventDefault:!0},{mac:"Cmd-ArrowUp",run:QO,shift:EO},{mac:"Ctrl-ArrowUp",run:PO,shift:MO},{key:"ArrowDown",run:hT,shift:kT,preventDefault:!0},{mac:"Cmd-ArrowDown",run:DO,shift:IO},{mac:"Ctrl-ArrowDown",run:lp,shift:AO},{key:"PageUp",run:PO,shift:MO},{key:"PageDown",run:lp,shift:AO},{key:"Home",run:RZ,shift:zZ,preventDefault:!0},{key:"Mod-Home",run:QO,shift:EO},{key:"End",run:IZ,shift:WZ,preventDefault:!0},{key:"Mod-End",run:DO,shift:IO},{key:"Enter",run:dF},{key:"Mod-a",run:KZ},{key:"Backspace",run:rp,shift:rp},{key:"Delete",run:$T},{key:"Mod-Backspace",mac:"Alt-Backspace",run:TT},{key:"Mod-Delete",mac:"Alt-Delete",run:nF},{mac:"Mod-Backspace",run:iF},{mac:"Mod-Delete",run:PT}].concat(mF.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),bF=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:DZ,shift:jZ},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:EZ,shift:UZ},{key:"Alt-ArrowUp",run:rF},{key:"Shift-Alt-ArrowUp",run:aF},{key:"Alt-ArrowDown",run:oF},{key:"Shift-Alt-ArrowDown",run:fF},{key:"Escape",run:tF},{key:"Mod-Enter",run:hF},{key:"Alt-l",mac:"Ctrl-l",run:JZ},{key:"Mod-i",run:eF,preventDefault:!0},{key:"Mod-[",run:ET},{key:"Mod-]",run:DT},{key:"Mod-Alt-\\",run:pF},{key:"Shift-Mod-k",run:uF},{key:"Shift-Mod-\\",run:XZ},{key:"Mod-/",run:fZ},{key:"Alt-A",run:cZ}].concat(gF),_F={key:"Tab",run:DT,shift:ET};function Nt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];typeof s=="string"?n.setAttribute(i,s):s!=null&&(n[i]=s)}e++}for(;e<arguments.length;e++)IT(n,arguments[e]);return n}function IT(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)IT(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const RO=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class eo{constructor(e,t,i=0,s=e.length,l,r){this.test=r,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,s),this.bufferStart=i,this.normalize=l?o=>l(RO(o)):RO,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Rn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=im(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Zi(e);let s=this.normalize(t);for(let l=0,r=i;;l++){let o=s.charCodeAt(l),a=this.match(o,r);if(a)return this.value=a,this;if(l==s.length-1)break;r==i&&l<t.length&&t.charCodeAt(l)==o&&r++}}}match(e,t){let i=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],r=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[s+1],to:t+1}:(this.matches[s]++,r=!0)),r||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:t+1}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferPos)&&(i=null),i}}typeof Symbol<"u"&&(eo.prototype[Symbol.iterator]=function(){return this});const RT={from:-1,to:-1,match:/.*/.exec("")},Pm="gm"+(/x/.unicode==null?"":"u");class LT{constructor(e,t,i,s=0,l=e.length){if(this.text=e,this.to=l,this.curLine="",this.done=!1,this.value=RT,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new NT(e,t,i,s,l);this.re=new RegExp(t,Pm+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let r=e.lineAt(s);this.curLineStart=r.from,this.matchPos=Zu(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,s=i+t[0].length;if(this.matchPos=Zu(this.text,s+(i==s?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<s||i>this.value.to)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Pd=new WeakMap;class xr{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let s=Pd.get(e);if(!s||s.from>=i||s.to<=t){let o=new xr(t,e.sliceString(t,i));return Pd.set(e,o),o}if(s.from==t&&s.to==i)return s;let{text:l,from:r}=s;return r>t&&(l=e.sliceString(t,r)+l,r=t),s.to<i&&(l+=e.sliceString(s.to,i)),Pd.set(e,new xr(r,l)),new xr(t,l.slice(t-r,i-r))}}class NT{constructor(e,t,i,s,l){this.text=e,this.to=l,this.done=!1,this.value=RT,this.matchPos=Zu(e,s),this.re=new RegExp(t,Pm+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=xr.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,s=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this.matchPos=Zu(this.text,s+(i==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=xr.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(LT.prototype[Symbol.iterator]=NT.prototype[Symbol.iterator]=function(){return this});function OF(n){try{return new RegExp(n,Pm),!0}catch{return!1}}function Zu(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function op(n){let e=Nt("input",{class:"cm-textfield",name:"line"}),t=Nt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:Fu.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Nt("label",n.state.phrase("Go to line"),": ",e)," ",Nt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!s)return;let{state:l}=n,r=l.doc.lineAt(l.selection.main.head),[,o,a,f,u]=s,d=f?+f.slice(1):0,h=a?+a:r.number;if(a&&u){let g=h/100;o&&(g=g*(o=="-"?-1:1)+r.number/l.doc.lines),h=Math.round(l.doc.lines*g)}else a&&o&&(h=h*(o=="-"?-1:1)+r.number);let p=l.doc.line(Math.max(1,Math.min(l.doc.lines,h)));n.dispatch({effects:Fu.of(!1),selection:he.cursor(p.from+Math.max(0,Math.min(d,p.length))),scrollIntoView:!0}),n.focus()}return{dom:t}}const Fu=nt.define(),LO=Qn.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Fu)&&(n=t.value);return n},provide:n=>ha.from(n,e=>e?op:null)}),yF=n=>{let e=da(n,op);if(!e){let t=[Fu.of(!0)];n.state.field(LO,!1)==null&&t.push(nt.appendConfig.of([LO,vF])),n.dispatch({effects:t}),e=da(n,op)}return e&&e.dom.querySelector("input").focus(),!0},vF=Ve.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),kF={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},xT=We.define({combine(n){return Ds(n,kF,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function wF(n){let e=[PF,TF];return n&&e.push(xT.of(n)),e}const SF=Be.mark({class:"cm-selectionMatch"}),$F=Be.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function NO(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=Wt.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=Wt.Word)}function CF(n,e,t,i){return n(e.sliceDoc(t,t+1))==Wt.Word&&n(e.sliceDoc(i-1,i))==Wt.Word}const TF=On.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(xT),{state:t}=n,i=t.selection;if(i.ranges.length>1)return Be.none;let s=i.main,l,r=null;if(s.empty){if(!e.highlightWordAroundCursor)return Be.none;let a=t.wordAt(s.head);if(!a)return Be.none;r=t.charCategorizer(s.head),l=t.sliceDoc(a.from,a.to)}else{let a=s.to-s.from;if(a<e.minSelectionLength||a>200)return Be.none;if(e.wholeWords){if(l=t.sliceDoc(s.from,s.to),r=t.charCategorizer(s.head),!(NO(r,t,s.from,s.to)&&CF(r,t,s.from,s.to)))return Be.none}else if(l=t.sliceDoc(s.from,s.to).trim(),!l)return Be.none}let o=[];for(let a of n.visibleRanges){let f=new eo(t.doc,l,a.from,a.to);for(;!f.next().done;){let{from:u,to:d}=f.value;if((!r||NO(r,t,u,d))&&(s.empty&&u<=s.from&&d>=s.to?o.push($F.range(u,d)):(u>=s.to||d<=s.from)&&o.push(SF.range(u,d)),o.length>e.maxMatches))return Be.none}}return Be.set(o)}},{decorations:n=>n.decorations}),PF=Ve.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),MF=({state:n,dispatch:e})=>{let{selection:t}=n,i=he.create(t.ranges.map(s=>n.wordAt(s.head)||he.cursor(s.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function AF(n,e){let{main:t,ranges:i}=n.selection,s=n.wordAt(t.head),l=s&&s.from==t.from&&s.to==t.to;for(let r=!1,o=new eo(n.doc,e,i[i.length-1].to);;)if(o.next(),o.done){if(r)return null;o=new eo(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),r=!0}else{if(r&&i.some(a=>a.from==o.value.from))continue;if(l){let a=n.wordAt(o.value.from);if(!a||a.from!=o.value.from||a.to!=o.value.to)continue}return o.value}}const QF=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(l=>l.from===l.to))return MF({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(l=>n.sliceDoc(l.from,l.to)!=i))return!1;let s=AF(n,i);return s?(e(n.update({selection:n.selection.addRange(he.range(s.from,s.to),!1),effects:Ve.scrollIntoView(s.to)})),!0):!1},fo=We.define({combine(n){return Ds(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new VF(e),scrollToMatch:e=>Ve.scrollIntoView(e)})}});class ZT{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||OF(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new RF(this):new EF(this)}getCursor(e,t=0,i){let s=e.doc?e:ht.create({doc:e});return i==null&&(i=s.doc.length),this.regexp?wr(this,s,t,i):kr(this,s,t,i)}}class FT{constructor(e){this.spec=e}}function kr(n,e,t,i){return new eo(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:s=>s.toLowerCase(),n.wholeWord?DF(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function DF(n,e){return(t,i,s,l)=>((l>t||l+s.length<i)&&(l=Math.max(0,t-2),s=n.sliceString(l,Math.min(n.length,i+2))),(e(Xu(s,t-l))!=Wt.Word||e(qu(s,t-l))!=Wt.Word)&&(e(qu(s,i-l))!=Wt.Word||e(Xu(s,i-l))!=Wt.Word))}class EF extends FT{constructor(e){super(e)}nextMatch(e,t,i){let s=kr(this.spec,e,i,e.doc.length).nextOverlapping();return s.done&&(s=kr(this.spec,e,0,t).nextOverlapping()),s.done?null:s.value}prevMatchInRange(e,t,i){for(let s=i;;){let l=Math.max(t,s-1e4-this.spec.unquoted.length),r=kr(this.spec,e,l,s),o=null;for(;!r.nextOverlapping().done;)o=r.value;if(o)return o;if(l==t)return null;s-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=kr(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let l=kr(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!l.next().done;)s(l.value.from,l.value.to)}}function wr(n,e,t,i){return new LT(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?IF(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function Xu(n,e){return n.slice(ei(n,e,!1),e)}function qu(n,e){return n.slice(e,ei(n,e))}function IF(n){return(e,t,i)=>!i[0].length||(n(Xu(i.input,i.index))!=Wt.Word||n(qu(i.input,i.index))!=Wt.Word)&&(n(qu(i.input,i.index+i[0].length))!=Wt.Word||n(Xu(i.input,i.index+i[0].length))!=Wt.Word)}class RF extends FT{nextMatch(e,t,i){let s=wr(this.spec,e,i,e.doc.length).next();return s.done&&(s=wr(this.spec,e,0,t).next()),s.done?null:s.value}prevMatchInRange(e,t,i){for(let s=1;;s++){let l=Math.max(t,i-s*1e4),r=wr(this.spec,e,l,i),o=null;for(;!r.next().done;)o=r.value;if(o&&(l==t||o.from>l+10))return o;if(l==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(t,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:t))}matchAll(e,t){let i=wr(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let l=wr(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!l.next().done;)s(l.value.from,l.value.to)}}const ba=nt.define(),Mm=nt.define(),ml=Qn.define({create(n){return new Md(ap(n).create(),null)},update(n,e){for(let t of e.effects)t.is(ba)?n=new Md(t.value.create(),n.panel):t.is(Mm)&&(n=new Md(n.query,t.value?Am:null));return n},provide:n=>ha.from(n,e=>e.panel)});class Md{constructor(e,t){this.query=e,this.panel=t}}const LF=Be.mark({class:"cm-searchMatch"}),NF=Be.mark({class:"cm-searchMatch cm-searchMatch-selected"}),xF=On.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(ml))}update(n){let e=n.state.field(ml);(e!=n.startState.field(ml)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Be.none;let{view:t}=this,i=new Ol;for(let s=0,l=t.visibleRanges,r=l.length;s<r;s++){let{from:o,to:a}=l[s];for(;s<r-1&&a>l[s+1].from-2*250;)a=l[++s].to;n.highlight(t.state,o,a,(f,u)=>{let d=t.state.selection.ranges.some(h=>h.from==f&&h.to==u);i.add(f,u,d?NF:LF)})}return i.finish()}},{decorations:n=>n.decorations});function Va(n){return e=>{let t=e.state.field(ml,!1);return t&&t.query.spec.valid?n(e,t):VT(e)}}const Vu=Va((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let s=he.single(i.from,i.to),l=n.state.facet(fo);return n.dispatch({selection:s,effects:[Qm(n,i),l.scrollToMatch(s.main,n)],userEvent:"select.search"}),qT(n),!0}),ju=Va((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,s=e.prevMatch(t,i,i);if(!s)return!1;let l=he.single(s.from,s.to),r=n.state.facet(fo);return n.dispatch({selection:l,effects:[Qm(n,s),r.scrollToMatch(l.main,n)],userEvent:"select.search"}),qT(n),!0}),ZF=Va((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:he.create(t.map(i=>he.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),FF=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:s}=t.main,l=[],r=0;for(let o=new eo(n.doc,n.sliceDoc(i,s));!o.next().done;){if(l.length>1e3)return!1;o.value.from==i&&(r=l.length),l.push(he.range(o.value.from,o.value.to))}return e(n.update({selection:he.create(l,r),userEvent:"select.search.matches"})),!0},xO=Va((n,{query:e})=>{let{state:t}=n,{from:i,to:s}=t.selection.main;if(t.readOnly)return!1;let l=e.nextMatch(t,i,i);if(!l)return!1;let r=[],o,a,f=[];if(l.from==i&&l.to==s&&(a=t.toText(e.getReplacement(l)),r.push({from:l.from,to:l.to,insert:a}),l=e.nextMatch(t,l.from,l.to),f.push(Ve.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+"."))),l){let u=r.length==0||r[0].from>=l.to?0:l.to-l.from-a.length;o=he.single(l.from-u,l.to-u),f.push(Qm(n,l)),f.push(t.facet(fo).scrollToMatch(o.main,n))}return n.dispatch({changes:r,selection:o,effects:f,userEvent:"input.replace"}),!0}),XF=Va((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(s=>{let{from:l,to:r}=s;return{from:l,to:r,insert:e.getReplacement(s)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:Ve.announce.of(i),userEvent:"input.replace.all"}),!0});function Am(n){return n.state.facet(fo).createPanel(n)}function ap(n,e){var t,i,s,l,r;let o=n.selection.main,a=o.empty||o.to>o.from+100?"":n.sliceDoc(o.from,o.to);if(e&&!a)return e;let f=n.facet(fo);return new ZT({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:f.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:f.caseSensitive,literal:(s=e==null?void 0:e.literal)!==null&&s!==void 0?s:f.literal,regexp:(l=e==null?void 0:e.regexp)!==null&&l!==void 0?l:f.regexp,wholeWord:(r=e==null?void 0:e.wholeWord)!==null&&r!==void 0?r:f.wholeWord})}function XT(n){let e=da(n,Am);return e&&e.dom.querySelector("[main-field]")}function qT(n){let e=XT(n);e&&e==n.root.activeElement&&e.select()}const VT=n=>{let e=n.state.field(ml,!1);if(e&&e.panel){let t=XT(n);if(t&&t!=n.root.activeElement){let i=ap(n.state,e.query.spec);i.valid&&n.dispatch({effects:ba.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[Mm.of(!0),e?ba.of(ap(n.state,e.query.spec)):nt.appendConfig.of(UF)]});return!0},jT=n=>{let e=n.state.field(ml,!1);if(!e||!e.panel)return!1;let t=da(n,Am);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Mm.of(!1)}),!0},qF=[{key:"Mod-f",run:VT,scope:"editor search-panel"},{key:"F3",run:Vu,shift:ju,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Vu,shift:ju,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:jT,scope:"editor search-panel"},{key:"Mod-Shift-l",run:FF},{key:"Alt-g",run:yF},{key:"Mod-d",run:QF,preventDefault:!0}];class VF{constructor(e){this.view=e;let t=this.query=e.state.field(ml).query.spec;this.commit=this.commit.bind(this),this.searchField=Nt("input",{value:t.search,placeholder:Oi(e,"Find"),"aria-label":Oi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Nt("input",{value:t.replace,placeholder:Oi(e,"Replace"),"aria-label":Oi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Nt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Nt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Nt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(s,l,r){return Nt("button",{class:"cm-button",name:s,onclick:l,type:"button"},r)}this.dom=Nt("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,i("next",()=>Vu(e),[Oi(e,"next")]),i("prev",()=>ju(e),[Oi(e,"previous")]),i("select",()=>ZF(e),[Oi(e,"all")]),Nt("label",null,[this.caseField,Oi(e,"match case")]),Nt("label",null,[this.reField,Oi(e,"regexp")]),Nt("label",null,[this.wordField,Oi(e,"by word")]),...e.state.readOnly?[]:[Nt("br"),this.replaceField,i("replace",()=>xO(e),[Oi(e,"replace")]),i("replaceAll",()=>XF(e),[Oi(e,"replace all")])],Nt("button",{name:"close",onclick:()=>jT(e),"aria-label":Oi(e,"close"),type:"button"},[""])])}commit(){let e=new ZT({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:ba.of(e)}))}keydown(e){BN(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?ju:Vu)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),xO(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(ba)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(fo).top}}function Oi(n,e){return n.state.phrase(e)}const Ef=30,If=/[\s\.,:;?!]/;function Qm(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),s=n.state.doc.lineAt(t).to,l=Math.max(i.from,e-Ef),r=Math.min(s,t+Ef),o=n.state.sliceDoc(l,r);if(l!=i.from){for(let a=0;a<Ef;a++)if(!If.test(o[a+1])&&If.test(o[a])){o=o.slice(a);break}}if(r!=s){for(let a=o.length-1;a>o.length-Ef;a--)if(!If.test(o[a-1])&&If.test(o[a])){o=o.slice(0,a);break}}return Ve.announce.of(`${n.state.phrase("current match")}. ${o} ${n.state.phrase("on line")} ${i.number}.`)}const jF=Ve.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),UF=[ml,cr.lowest(xF),jF];class UT{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=yn(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),s=t.text.slice(i-t.from,this.pos-t.from),l=s.search(zT(e,!1));return l<0?null:{from:i+l,to:this.pos,text:s.slice(l)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function ZO(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function WF(n){let e=Object.create(null),t=Object.create(null);for(let{label:s}of n){e[s[0]]=!0;for(let l=1;l<s.length;l++)t[s[l]]=!0}let i=ZO(e)+ZO(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function WT(n){let e=n.map(s=>typeof s=="string"?{label:s}:s),[t,i]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:WF(e);return s=>{let l=s.matchBefore(i);return l||s.explicit?{from:l?l.from:s.pos,options:e,validFor:t}:null}}function zF(n,e){return t=>{for(let i=yn(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(n.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class FO{constructor(e,t,i,s){this.completion=e,this.source=t,this.match=i,this.score=s}}function gl(n){return n.selection.main.from}function zT(n,e){var t;let{source:i}=n,s=e&&i[0]!="^",l=i[i.length-1]!="$";return!s&&!l?n:new RegExp(`${s?"^":""}(?:${i})${l?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const BT=Js.define();function BF(n,e,t,i){let{main:s}=n.selection,l=t-s.from,r=i-s.from;return Object.assign(Object.assign({},n.changeByRange(o=>o!=s&&t!=i&&n.sliceDoc(o.from+l,o.from+r)!=n.sliceDoc(t,i)?{range:o}:{changes:{from:o.from+l,to:i==s.from?o.to:o.from+r,insert:e},range:he.cursor(o.from+l+e.length)})),{userEvent:"input.complete"})}const XO=new WeakMap;function YF(n){if(!Array.isArray(n))return n;let e=XO.get(n);return e||XO.set(n,e=WT(n)),e}const Dm=nt.define(),_a=nt.define();class HF{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let i=Rn(e,t),s=Zi(i);this.chars.push(i);let l=e.slice(t,t+s),r=l.toUpperCase();this.folded.push(Rn(r==l?l.toLowerCase():r,0)),t+=s}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[-100];if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:s,precise:l,byWord:r}=this;if(t.length==1){let k=Rn(e,0),C=Zi(k),$=C==e.length?0:-100;if(k!=t[0])if(k==i[0])$+=-200;else return null;return[$,0,C]}let o=e.indexOf(this.pattern);if(o==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let a=t.length,f=0;if(o<0){for(let k=0,C=Math.min(e.length,200);k<C&&f<a;){let $=Rn(e,k);($==t[f]||$==i[f])&&(s[f++]=k),k+=Zi($)}if(f<a)return null}let u=0,d=0,h=!1,p=0,g=-1,b=-1,_=/[a-z]/.test(e),y=!0;for(let k=0,C=Math.min(e.length,200),$=0;k<C&&d<a;){let T=Rn(e,k);o<0&&(u<a&&T==t[u]&&(l[u++]=k),p<a&&(T==t[p]||T==i[p]?(p==0&&(g=k),b=k+1,p++):p=0));let P,M=T<255?T>=48&&T<=57||T>=97&&T<=122?2:T>=65&&T<=90?1:0:(P=im(T))!=P.toLowerCase()?1:P!=P.toUpperCase()?2:0;(!k||M==1&&_||$==0&&M!=0)&&(t[d]==T||i[d]==T&&(h=!0)?r[d++]=k:r.length&&(y=!1)),$=M,k+=Zi(T)}return d==a&&r[0]==0&&y?this.result(-100+(h?-200:0),r,e):p==a&&g==0?[-200-e.length+(b==e.length?0:-100),0,b]:o>-1?[-700-e.length,o,o+this.pattern.length]:p==a?[-200+-700-e.length,g,b]:d==a?this.result(-100+(h?-200:0)+-700+(y?0:-1100),r,e):t.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,t,i){let s=[e-i.length],l=1;for(let r of t){let o=r+(this.astral?Zi(Rn(i,r)):1);l>1&&s[l-1]==r?s[l-1]=o:(s[l++]=r,s[l++]=o)}return s}}const ui=We.define({combine(n){return Ds(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:GF,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>qO(e(i),t(i)),optionClass:(e,t)=>i=>qO(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})}});function qO(n,e){return n?e?n+" "+e:n:e}function GF(n,e,t,i,s){let l=n.textDirection==en.RTL,r=l,o=!1,a="top",f,u,d=e.left-s.left,h=s.right-e.right,p=i.right-i.left,g=i.bottom-i.top;if(r&&d<Math.min(p,h)?r=!1:!r&&h<Math.min(p,d)&&(r=!0),p<=(r?d:h))f=Math.max(s.top,Math.min(t.top,s.bottom-g))-e.top,u=Math.min(400,r?d:h);else{o=!0,u=Math.min(400,(l?e.right:s.right-e.left)-30);let b=s.bottom-e.bottom;b>=g||b>e.top?f=t.bottom-e.top:(a="bottom",f=e.bottom-t.top)}return{style:`${a}: ${f}px; max-width: ${u}px`,class:"cm-completionInfo-"+(o?l?"left-narrow":"right-narrow":r?"left":"right")}}function Rf(n,e="option"){return t=>{let i=t.state.field(wi,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(ui).interactionDelay)return!1;let s=1,l;e=="page"&&(l=kC(t,i.open.tooltip))&&(s=Math.max(2,Math.floor(l.dom.offsetHeight/l.dom.querySelector("li").offsetHeight)-1));let{length:r}=i.open.options,o=i.open.selected>-1?i.open.selected+s*(n?1:-1):n?0:r-1;return o<0?o=e=="page"?0:r-1:o>=r&&(o=e=="page"?r-1:0),t.dispatch({effects:GT.of(o)}),!0}}const KF=n=>{let e=n.state.field(wi,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<n.state.facet(ui).interactionDelay?!1:e.open.disabled?!0:YT(n,e.open.options[e.open.selected])},JF=n=>n.state.field(wi,!1)?(n.dispatch({effects:Dm.of(!0)}),!0):!1,eX=n=>{let e=n.state.field(wi,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:_a.of(null)}),!0)};class tX{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const VO=50,nX=50,iX=1e3,sX=On.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(wi).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(wi);if(!n.selectionSet&&!n.docChanged&&n.startState.field(wi)==e)return;let t=n.transactions.some(i=>(i.selection||i.docChanged)&&!fp(i));for(let i=0;i<this.running.length;i++){let s=this.running[i];if(t||s.updates.length+n.transactions.length>nX&&Date.now()-s.time>iX){for(let l of s.context.abortListeners)try{l()}catch(r){ji(this.view.state,r)}s.context.abortListeners=null,this.running.splice(i--,1)}else s.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(s=>s.active.source==i.source))?setTimeout(()=>this.startUpdate(),VO):-1,this.composing!=0)for(let i of n.transactions)fp(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(wi);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=gl(e),i=new UT(e,t,n.explicitPos==t),s=new tX(n,i);this.running.push(s),Promise.resolve(n.source(i)).then(l=>{s.context.aborted||(s.done=l||null,this.scheduleAccept())},l=>{this.view.dispatch({effects:_a.of(null)}),ji(this.view.state,l)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),VO))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(ui);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let r=new Zr(s.active.source,s.active.explicitPos,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:gl(s.updates.length?s.updates[0].startState:this.view.state));for(let o of s.updates)r=r.update(o,t);if(r.hasResult()){e.push(r);continue}}let l=this.view.state.field(wi).active.find(r=>r.source==s.active.source);if(l&&l.state==1)if(s.done==null){let r=new si(s.active.source,0);for(let o of s.updates)r=r.update(o,t);r.state!=1&&e.push(r)}else this.startQuery(l)}e.length&&this.view.dispatch({effects:HT.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(wi,!1);if(e&&e.tooltip&&this.view.state.facet(ui).closeOnBlur){let t=e.open&&kC(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&this.view.dispatch({effects:_a.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Dm.of(!1)}),20),this.composing=0}}});function YT(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(wi).active.find(s=>s.source==e.source);return i instanceof Zr?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},BF(n.state,t,i.from,i.to)),{annotations:BT.of(e.completion)})):t(n,e.completion,i.from,i.to),!0):!1}function lX(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,s){let l=document.createElement("span");l.className="cm-completionLabel";let{label:r}=t,o=0;for(let a=1;a<s.length;){let f=s[a++],u=s[a++];f>o&&l.appendChild(document.createTextNode(r.slice(o,f)));let d=l.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(r.slice(f,u))),d.className="cm-completionMatchedText",o=u}return o<r.length&&l.appendChild(document.createTextNode(r.slice(o))),l},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function jO(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let s=Math.floor(e/t);return{from:s*t,to:(s+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class rX{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfoReq={read:()=>this.measureInfo(),write:o=>this.placeInfo(o),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:l}=i.open,r=e.state.facet(ui);this.optionContent=lX(r),this.optionClass=r.optionClass,this.tooltipClass=r.tooltipClass,this.range=jO(s.length,l,r.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",o=>{for(let a=o.target,f;a&&a!=this.dom;a=a.parentNode)if(a.nodeName=="LI"&&(f=/-(\d+)$/.exec(a.id))&&+f[1]<s.length){YT(e,s[+f[1]]),o.preventDefault();return}}),this.dom.addEventListener("focusout",o=>{let a=e.state.field(this.stateField,!1);a&&a.tooltip&&e.state.facet(ui).closeOnBlur&&o.relatedTarget!=e.contentDOM&&e.dispatch({effects:_a.of(null)})}),this.list=this.dom.appendChild(this.createListBox(s,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var t,i,s;let l=e.state.field(this.stateField),r=e.startState.field(this.stateField);this.updateTooltipClass(e.state),l!=r&&(this.updateSel(),((t=l.open)===null||t===void 0?void 0:t.disabled)!=((i=r.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((s=l.open)===null||s===void 0)&&s.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=jO(t.options.length,t.selected,this.view.state.facet(ui).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(i);if(!l)return;"then"in l?l.then(r=>{r&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(r)}).catch(r=>ji(this.view.state,r,"completion info")):this.addInfoPane(l)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,s=this.range.from;i;i=i.nextSibling,s++)i.nodeName!="LI"||!i.id?s--:s==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&aX(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),l=this.space;if(!l){let r=this.dom.ownerDocument.defaultView||window;l={left:0,top:0,right:r.innerWidth,bottom:r.innerHeight}}return s.top>Math.min(l.bottom,t.bottom)-10||s.bottom<Math.max(l.top,t.top)+10?null:this.view.state.facet(ui).positionInfo(this.view,t,s,i,l)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions"));let l=null;for(let r=i.from;r<i.to;r++){let{completion:o,match:a}=e[r],{section:f}=o;if(f){let h=typeof f=="string"?f:f.name;if(h!=l&&(r>i.from||i.from==0))if(l=h,typeof f!="string"&&f.header)s.appendChild(f.header(f));else{let p=s.appendChild(document.createElement("completion-section"));p.textContent=h}}const u=s.appendChild(document.createElement("li"));u.id=t+"-"+r,u.setAttribute("role","option");let d=this.optionClass(o);d&&(u.className=d);for(let h of this.optionContent){let p=h(o,this.view.state,a);p&&u.appendChild(p)}}return i.from&&s.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}}function oX(n){return e=>new rX(e,n)}function aX(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<t.top?n.scrollTop-=t.top-i.top:i.bottom>t.bottom&&(n.scrollTop+=i.bottom-t.bottom)}function UO(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function fX(n,e){let t=[],i=null,s=a=>{t.push(a);let{section:f}=a.completion;if(f){i||(i=[]);let u=typeof f=="string"?f:f.name;i.some(d=>d.name==u)||i.push(typeof f=="string"?{name:u}:f)}};for(let a of n)if(a.hasResult())if(a.result.filter===!1){let f=a.result.getMatch;for(let u of a.result.options){let d=[1e9-t.length];if(f)for(let h of f(u))d.push(h);s(new FO(u,a.source,d,d[0]))}}else{let f=new HF(e.sliceDoc(a.from,a.to)),u;for(let d of a.result.options)(u=f.match(d.label))&&s(new FO(d,a.source,u,u[0]+(d.boost||0)))}if(i){let a=Object.create(null),f=0,u=(d,h)=>{var p,g;return((p=d.rank)!==null&&p!==void 0?p:1e9)-((g=h.rank)!==null&&g!==void 0?g:1e9)||(d.name<h.name?-1:1)};for(let d of i.sort(u))f-=1e5,a[d.name]=f;for(let d of t){let{section:h}=d.completion;h&&(d.score+=a[typeof h=="string"?h:h.name])}}let l=[],r=null,o=e.facet(ui).compareCompletions;for(let a of t.sort((f,u)=>u.score-f.score||o(f.completion,u.completion)))!r||r.label!=a.completion.label||r.detail!=a.completion.detail||r.type!=null&&a.completion.type!=null&&r.type!=a.completion.type||r.apply!=a.completion.apply?l.push(a):UO(a.completion)>UO(r)&&(l[l.length-1]=a),r=a.completion;return l}class Cr{constructor(e,t,i,s,l,r){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=s,this.selected=l,this.disabled=r}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Cr(this.options,WO(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,s,l){let r=fX(e,t);if(!r.length)return s&&e.some(a=>a.state==1)?new Cr(s.options,s.attrs,s.tooltip,s.timestamp,s.selected,!0):null;let o=t.facet(ui).selectOnOpen?0:-1;if(s&&s.selected!=o&&s.selected!=-1){let a=s.options[s.selected].completion;for(let f=0;f<r.length;f++)if(r[f].completion==a){o=f;break}}return new Cr(r,WO(i,o),{pos:e.reduce((a,f)=>f.hasResult()?Math.min(a,f.from):a,1e8),create:oX(wi),above:l.aboveCursor},s?s.timestamp:Date.now(),o,!1)}map(e){return new Cr(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Uu{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new Uu(dX,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(ui),l=(i.override||t.languageDataAt("autocomplete",gl(t)).map(YF)).map(o=>(this.active.find(f=>f.source==o)||new si(o,this.active.some(f=>f.state!=0)?1:0)).update(e,i));l.length==this.active.length&&l.every((o,a)=>o==this.active[a])&&(l=this.active);let r=this.open;r&&e.docChanged&&(r=r.map(e.changes)),e.selection||l.some(o=>o.hasResult()&&e.changes.touchesRange(o.from,o.to))||!uX(l,this.active)?r=Cr.build(l,t,this.id,r,i):r&&r.disabled&&!l.some(o=>o.state==1)&&(r=null),!r&&l.every(o=>o.state!=1)&&l.some(o=>o.hasResult())&&(l=l.map(o=>o.hasResult()?new si(o.source,0):o));for(let o of e.effects)o.is(GT)&&(r=r&&r.setSelected(o.value,this.id));return l==this.active&&r==this.open?this:new Uu(l,this.id,r)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:cX}}function uX(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let s=t==n.length,l=i==e.length;if(s||l)return s==l;if(n[t++].result!=e[i++].result)return!1}}const cX={"aria-autocomplete":"list"};function WO(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const dX=[];function fp(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class si{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=fp(e),s=this;i?s=s.handleUserEvent(e,i,t):e.docChanged?s=s.handleChange(e):e.selection&&s.state!=0&&(s=new si(s.source,0));for(let l of e.effects)if(l.is(Dm))s=new si(s.source,1,l.value?gl(e.state):-1);else if(l.is(_a))s=new si(s.source,0);else if(l.is(HT))for(let r of l.value)r.source==s.source&&(s=r);return s}handleUserEvent(e,t,i){return t=="delete"||!i.activateOnTyping?this.map(e.changes):new si(this.source,1)}handleChange(e){return e.changes.touchesRange(gl(e.startState))?new si(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new si(this.source,this.state,e.mapPos(this.explicitPos))}}class Zr extends si{constructor(e,t,i,s,l){super(e,2,t),this.result=i,this.from=s,this.to=l}hasResult(){return!0}handleUserEvent(e,t,i){var s;let l=e.changes.mapPos(this.from),r=e.changes.mapPos(this.to,1),o=gl(e.state);if((this.explicitPos<0?o<=l:o<this.from)||o>r||t=="delete"&&gl(e.startState)==this.from)return new si(this.source,t=="input"&&i.activateOnTyping?1:0);let a=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),f;return hX(this.result.validFor,e.state,l,r)?new Zr(this.source,a,this.result,l,r):this.result.update&&(f=this.result.update(this.result,l,r,new UT(e.state,o,a>=0)))?new Zr(this.source,a,f,f.from,(s=f.to)!==null&&s!==void 0?s:gl(e.state)):new si(this.source,1,a)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new si(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Zr(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function hX(n,e,t,i){if(!n)return!1;let s=e.sliceDoc(t,i);return typeof n=="function"?n(s,t,i,e):zT(n,!0).test(s)}const HT=nt.define({map(n,e){return n.map(t=>t.map(e))}}),GT=nt.define(),wi=Qn.define({create(){return Uu.start()},update(n,e){return n.update(e)},provide:n=>[hm.from(n,e=>e.tooltip),Ve.contentAttributes.from(n,e=>e.attrs)]}),KT=Ve.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class pX{constructor(e,t,i,s){this.field=e,this.line=t,this.from=i,this.to=s}}class Em{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,Nn.TrackDel),i=e.mapPos(this.to,1,Nn.TrackDel);return t==null||i==null?null:new Em(this.field,t,i)}}class Im{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],s=[t],l=e.doc.lineAt(t),r=/^\s*/.exec(l.text)[0];for(let a of this.lines){if(i.length){let f=r,u=/^\t*/.exec(a)[0].length;for(let d=0;d<u;d++)f+=e.facet(Xa);s.push(t+f.length-u),a=f+a.slice(u)}i.push(a),t+=a.length+1}let o=this.fieldPositions.map(a=>new Em(a.field,s[a.line]+a.from,s[a.line]+a.to));return{text:i,ranges:o}}static parse(e){let t=[],i=[],s=[],l;for(let r of e.split(/\r\n?|\n/)){for(;l=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(r);){let o=l[1]?+l[1]:null,a=l[2]||l[3]||"",f=-1;for(let u=0;u<t.length;u++)(o!=null?t[u].seq==o:a&&t[u].name==a)&&(f=u);if(f<0){let u=0;for(;u<t.length&&(o==null||t[u].seq!=null&&t[u].seq<o);)u++;t.splice(u,0,{seq:o,name:a}),f=u;for(let d of s)d.field>=f&&d.field++}s.push(new pX(f,i.length,l.index,l.index+a.length)),r=r.slice(0,l.index)+a+r.slice(l.index+l[0].length)}for(let o;o=/\\([{}])/.exec(r);){r=r.slice(0,o.index)+o[1]+r.slice(o.index+o[0].length);for(let a of s)a.line==i.length&&a.from>o.index&&(a.from--,a.to--)}i.push(r)}return new Im(i,s)}}let mX=Be.widget({widget:new class extends Es{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),gX=Be.mark({class:"cm-snippetField"});class uo{constructor(e,t){this.ranges=e,this.active=t,this.deco=Be.set(e.map(i=>(i.from==i.to?mX:gX).range(i.from,i.to)))}map(e){let t=[];for(let i of this.ranges){let s=i.map(e);if(!s)return null;t.push(s)}return new uo(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const ja=nt.define({map(n,e){return n&&n.map(e)}}),bX=nt.define(),Oa=Qn.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(ja))return t.value;if(t.is(bX)&&n)return new uo(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>Ve.decorations.from(n,e=>e?e.deco:Be.none)});function Rm(n,e){return he.create(n.filter(t=>t.field==e).map(t=>he.range(t.from,t.to)))}function _X(n){let e=Im.parse(n);return(t,i,s,l)=>{let{text:r,ranges:o}=e.instantiate(t.state,s),a={changes:{from:s,to:l,insert:Ot.of(r)},scrollIntoView:!0,annotations:i?BT.of(i):void 0};if(o.length&&(a.selection=Rm(o,0)),o.length>1){let f=new uo(o,0),u=a.effects=[ja.of(f)];t.state.field(Oa,!1)===void 0&&u.push(nt.appendConfig.of([Oa,wX,SX,KT]))}t.dispatch(t.state.update(a))}}function JT(n){return({state:e,dispatch:t})=>{let i=e.field(Oa,!1);if(!i||n<0&&i.active==0)return!1;let s=i.active+n,l=n>0&&!i.ranges.some(r=>r.field==s+n);return t(e.update({selection:Rm(i.ranges,s),effects:ja.of(l?null:new uo(i.ranges,s))})),!0}}const OX=({state:n,dispatch:e})=>n.field(Oa,!1)?(e(n.update({effects:ja.of(null)})),!0):!1,yX=JT(1),vX=JT(-1),kX=[{key:"Tab",run:yX,shift:vX},{key:"Escape",run:OX}],zO=We.define({combine(n){return n.length?n[0]:kX}}),wX=cr.highest(Za.compute([zO],n=>n.facet(zO)));function Ji(n,e){return Object.assign(Object.assign({},e),{apply:_X(n)})}const SX=Ve.domEventHandlers({mousedown(n,e){let t=e.state.field(Oa,!1),i;if(!t||(i=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let s=t.ranges.find(l=>l.from<=i&&l.to>=i);return!s||s.field==t.active?!1:(e.dispatch({selection:Rm(t.ranges,s.field),effects:ja.of(t.ranges.some(l=>l.field>s.field)?new uo(t.ranges,s.field):null)}),!0)}}),ya={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},zl=nt.define({map(n,e){let t=e.mapPos(n,-1,Nn.TrackAfter);return t??void 0}}),Lm=new class extends ir{};Lm.startSide=1;Lm.endSide=-1;const e3=Qn.define({create(){return Mt.empty},update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(i,-1)&&(n=Mt.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(zl)&&(n=n.update({add:[Lm.range(t.value,t.value+1)]}));return n}});function $X(){return[TX,e3]}const Ad="()[]{}<>";function t3(n){for(let e=0;e<Ad.length;e+=2)if(Ad.charCodeAt(e)==n)return Ad.charAt(e+1);return im(n<128?n:n+1)}function n3(n,e){return n.languageDataAt("closeBrackets",e)[0]||ya}const CX=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),TX=Ve.inputHandler.of((n,e,t,i)=>{if((CX?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let s=n.state.selection.main;if(i.length>2||i.length==2&&Zi(Rn(i,0))==1||e!=s.from||t!=s.to)return!1;let l=AX(n.state,i);return l?(n.dispatch(l),!0):!1}),PX=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=n3(n,n.selection.main.head).brackets||ya.brackets,s=null,l=n.changeByRange(r=>{if(r.empty){let o=QX(n.doc,r.head);for(let a of i)if(a==o&&Cc(n.doc,r.head)==t3(Rn(a,0)))return{changes:{from:r.head-a.length,to:r.head+a.length},range:he.cursor(r.head-a.length)}}return{range:s=r}});return s||e(n.update(l,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},MX=[{key:"Backspace",run:PX}];function AX(n,e){let t=n3(n,n.selection.main.head),i=t.brackets||ya.brackets;for(let s of i){let l=t3(Rn(s,0));if(e==s)return l==s?IX(n,s,i.indexOf(s+s+s)>-1,t):DX(n,s,l,t.before||ya.before);if(e==l&&i3(n,n.selection.main.from))return EX(n,s,l)}return null}function i3(n,e){let t=!1;return n.field(e3).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function Cc(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Zi(Rn(t,0)))}function QX(n,e){let t=n.sliceString(e-2,e);return Zi(Rn(t,0))==t.length?t:t.slice(1)}function DX(n,e,t,i){let s=null,l=n.changeByRange(r=>{if(!r.empty)return{changes:[{insert:e,from:r.from},{insert:t,from:r.to}],effects:zl.of(r.to+e.length),range:he.range(r.anchor+e.length,r.head+e.length)};let o=Cc(n.doc,r.head);return!o||/\s/.test(o)||i.indexOf(o)>-1?{changes:{insert:e+t,from:r.head},effects:zl.of(r.head+e.length),range:he.cursor(r.head+e.length)}:{range:s=r}});return s?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function EX(n,e,t){let i=null,s=n.changeByRange(l=>l.empty&&Cc(n.doc,l.head)==t?{changes:{from:l.head,to:l.head+t.length,insert:t},range:he.cursor(l.head+t.length)}:i={range:l});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function IX(n,e,t,i){let s=i.stringPrefixes||ya.stringPrefixes,l=null,r=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:zl.of(o.to+e.length),range:he.range(o.anchor+e.length,o.head+e.length)};let a=o.head,f=Cc(n.doc,a),u;if(f==e){if(BO(n,a))return{changes:{insert:e+e,from:a},effects:zl.of(a+e.length),range:he.cursor(a+e.length)};if(i3(n,a)){let h=t&&n.sliceDoc(a,a+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+h.length,insert:h},range:he.cursor(a+h.length)}}}else{if(t&&n.sliceDoc(a-2*e.length,a)==e+e&&(u=YO(n,a-2*e.length,s))>-1&&BO(n,u))return{changes:{insert:e+e+e+e,from:a},effects:zl.of(a+e.length),range:he.cursor(a+e.length)};if(n.charCategorizer(a)(f)!=Wt.Word&&YO(n,a,s)>-1&&!RX(n,a,e,s))return{changes:{insert:e+e,from:a},effects:zl.of(a+e.length),range:he.cursor(a+e.length)}}return{range:l=o}});return l?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function BO(n,e){let t=yn(n).resolveInner(e+1);return t.parent&&t.from==e}function RX(n,e,t,i){let s=yn(n).resolveInner(e,-1),l=i.reduce((r,o)=>Math.max(r,o.length),0);for(let r=0;r<5;r++){let o=n.sliceDoc(s.from,Math.min(s.to,s.from+t.length+l)),a=o.indexOf(t);if(!a||a>-1&&i.indexOf(o.slice(0,a))>-1){let u=s.firstChild;for(;u&&u.from==s.from&&u.to-u.from>t.length+a;){if(n.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let f=s.to==e&&s.parent;if(!f)break;s=f}return!1}function YO(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=Wt.Word)return e;for(let s of t){let l=e-s.length;if(n.sliceDoc(l,e)==s&&i(n.sliceDoc(l-1,l))!=Wt.Word)return l}return-1}function LX(n={}){return[wi,ui.of(n),sX,NX,KT]}const s3=[{key:"Ctrl-Space",run:JF},{key:"Escape",run:eX},{key:"ArrowDown",run:Rf(!0)},{key:"ArrowUp",run:Rf(!1)},{key:"PageDown",run:Rf(!0,"page")},{key:"PageUp",run:Rf(!1,"page")},{key:"Enter",run:KF}],NX=cr.highest(Za.computeN([ui],n=>n.facet(ui).defaultKeymap?[s3]:[]));class xX{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Vl{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let s=e,l=i.facet(o3).markerFilter;l&&(s=l(s));let r=Be.set(s.map(o=>o.from==o.to||o.from==o.to-1&&i.doc.lineAt(o.from).to==o.from?Be.widget({widget:new zX(o),diagnostic:o}).range(o.from):Be.mark({attributes:{class:"cm-lintRange cm-lintRange-"+o.severity},diagnostic:o}).range(o.from,o.to)),!0);return new Vl(r,t,to(r))}}function to(n,e=null,t=0){let i=null;return n.between(t,1e9,(s,l,{spec:r})=>{if(!(e&&r.diagnostic!=e))return i=new xX(s,l,r.diagnostic),!1}),i}function ZX(n,e){let t=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(i=>i.is(l3))||n.changes.touchesRange(t.from,t.to))}function FX(n,e){return n.field(Ci,!1)?e:e.concat(nt.appendConfig.of(HX))}const l3=nt.define(),Nm=nt.define(),r3=nt.define(),Ci=Qn.define({create(){return new Vl(Be.none,null,null)},update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),i=null;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);i=to(t,n.selected.diagnostic,s)||to(t,null,s)}n=new Vl(t,n.panel,i)}for(let t of e.effects)t.is(l3)?n=Vl.init(t.value,n.panel,e.state):t.is(Nm)?n=new Vl(n.diagnostics,t.value?Tc.open:null,n.selected):t.is(r3)&&(n=new Vl(n.diagnostics,n.panel,t.value));return n},provide:n=>[ha.from(n,e=>e.panel),Ve.decorations.from(n,e=>e.diagnostics)]}),XX=Be.mark({class:"cm-lintRange cm-lintRange-active"});function qX(n,e,t){let{diagnostics:i}=n.state.field(Ci),s=[],l=2e8,r=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(a,f,{spec:u})=>{e>=a&&e<=f&&(a==f||(e>a||t>0)&&(e<f||t<0))&&(s.push(u.diagnostic),l=Math.min(a,l),r=Math.max(f,r))});let o=n.state.facet(o3).tooltipFilter;return o&&(s=o(s)),s.length?{pos:l,end:r,above:n.state.doc.lineAt(l).to<r,create(){return{dom:VX(n,s)}}}:null}function VX(n,e){return Nt("ul",{class:"cm-tooltip-lint"},e.map(t=>f3(n,t,!1)))}const jX=n=>{let e=n.state.field(Ci,!1);(!e||!e.panel)&&n.dispatch({effects:FX(n.state,[Nm.of(!0)])});let t=da(n,Tc.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},HO=n=>{let e=n.state.field(Ci,!1);return!e||!e.panel?!1:(n.dispatch({effects:Nm.of(!1)}),!0)},UX=n=>{let e=n.state.field(Ci,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},WX=[{key:"Mod-Shift-m",run:jX,preventDefault:!0},{key:"F8",run:UX}],o3=We.define({combine(n){return Object.assign({sources:n.map(e=>e.source)},Ds(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function a3(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let s=t[i];if(/[a-zA-Z]/.test(s)&&!e.some(l=>l.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function f3(n,e,t){var i;let s=t?a3(e.actions):[];return Nt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Nt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((l,r)=>{let o=!1,a=h=>{if(h.preventDefault(),o)return;o=!0;let p=to(n.state.field(Ci).diagnostics,e);p&&l.apply(n,p.from,p.to)},{name:f}=l,u=s[r]?f.indexOf(s[r]):-1,d=u<0?f:[f.slice(0,u),Nt("u",f.slice(u,u+1)),f.slice(u+1)];return Nt("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${f}${u<0?"":` (access key "${s[r]})"`}.`},d)}),e.source&&Nt("div",{class:"cm-diagnosticSource"},e.source))}class zX extends Es{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Nt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class GO{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=f3(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Tc{constructor(e){this.view=e,this.items=[];let t=s=>{if(s.keyCode==27)HO(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:l}=this.items[this.selectedIndex],r=a3(l.actions);for(let o=0;o<r.length;o++)if(r[o].toUpperCase().charCodeAt(0)==s.keyCode){let a=to(this.view.state.field(Ci).diagnostics,l);a&&l.actions[o].apply(e,a.from,a.to)}}else return;s.preventDefault()},i=s=>{for(let l=0;l<this.items.length;l++)this.items[l].dom.contains(s.target)&&this.moveSelection(l)};this.list=Nt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=Nt("div",{class:"cm-panel-lint"},this.list,Nt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>HO(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Ci).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Ci),i=0,s=!1,l=null;for(e.between(0,this.view.state.doc.length,(r,o,{spec:a})=>{let f=-1,u;for(let d=i;d<this.items.length;d++)if(this.items[d].diagnostic==a.diagnostic){f=d;break}f<0?(u=new GO(this.view,a.diagnostic),this.items.splice(i,0,u),s=!0):(u=this.items[f],f>i&&(this.items.splice(i,f-i),s=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),l=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new GO(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),l?(this.list.setAttribute("aria-activedescendant",l.id),this.view.requestMeasure({key:this,read:()=>({sel:l.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:r,panel:o})=>{r.top<o.top?this.list.scrollTop-=o.top-r.top:r.bottom>o.bottom&&(this.list.scrollTop+=r.bottom-o.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Ci),i=to(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:r3.of(i)})}static open(e){return new Tc(e)}}function BX(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Qd(n){return BX(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const YX=Ve.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Qd("#d11")},".cm-lintRange-warning":{backgroundImage:Qd("orange")},".cm-lintRange-info":{backgroundImage:Qd("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),HX=[Ci,Ve.decorations.compute([Ci],n=>{let{selected:e,panel:t}=n.field(Ci);return!e||!t||e.from==e.to?Be.none:Be.set([XX.range(e.from,e.to)])}),Rx(qX,{hideOn:ZX}),YX],GX=(()=>[jx(),zx(),cx(),OZ(),F7(),ex(),lx(),ht.allowMultipleSelections.of(!0),T7(),q7(U7,{fallback:!0}),K7(),$X(),LX(),$x(),Px(),bx(),wF(),Za.of([...MX,...bF,...qF,...PZ,...N7,...s3,...WX])])();function KX(n,e,t=!1){let i;return function(...l){const r=this;i?clearTimeout(i):t&&n.apply(r,l),i=setTimeout(o,e||100);function o(){t||n.apply(r,l),i=null}}}function JX(n){let e,t,i,s,l,r;return{c(){e=v("div"),t=v("div"),t.innerHTML=`<div class="scm-loading__spinner svelte-kcx0g9"></div> 
            <p class="scm-loading__text svelte-kcx0g9">Loading editor...</p>`,i=A(),s=v("pre"),l=W(n[0]),m(t,"class","scm-waiting__loading scm-loading svelte-kcx0g9"),m(s,"class","scm-pre cm-editor svelte-kcx0g9"),m(e,"class",r="scm-waiting "+n[1]+" svelte-kcx0g9")},m(o,a){S(o,e,a),O(e,t),O(e,i),O(e,s),O(s,l)},p(o,a){a&1&&re(l,o[0]),a&2&&r!==(r="scm-waiting "+o[1]+" svelte-kcx0g9")&&m(e,"class",r)},d(o){o&&w(e)}}}function eq(n){let e,t;return{c(){e=v("div"),m(e,"class",t="codemirror-wrapper "+n[1]+" svelte-kcx0g9")},m(i,s){S(i,e,s),n[17](e)},p(i,s){s&2&&t!==(t="codemirror-wrapper "+i[1]+" svelte-kcx0g9")&&m(e,"class",t)},d(i){i&&w(e),n[17](null)}}}function tq(n){let e;function t(l,r){return l[3]?eq:JX}let s=t(n)(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,[r]){s.p(l,r)},i:ee,o:ee,d(l){s.d(l),l&&w(e)}}}function nq(n,e,t){let i,{class:s=""}=e,{value:l=""}=e,{basic:r=!0}=e,{lang:o=void 0}=e,{theme:a=void 0}=e,{extensions:f=[]}=e,{useTab:u=!0}=e,{tabSize:d=2}=e,{styles:h=void 0}=e,{lineWrapping:p=!1}=e,{editable:g=!0}=e,{readonly:b=!1}=e,{placeholder:_=void 0}=e;const y=typeof window<"u",k=Lt();let C,$,T=!1,P=!1,M=!0,Q=!0;vn(()=>t(15,$=E())),Sa(()=>$==null?void 0:$.destroy());function E(){const G=KX(N,300);return new Ve({parent:C,state:x(l),dispatch(z){$.update([z]),!T&&z.docChanged&&G()}})}function R(){if(M){M=!1;return}$.dispatch({effects:nt.reconfigure.of(i)})}function L(G){if(Q){Q=!1;return}if(P){P=!1;return}T=!0,$.setState(x(G)),T=!1}function N(){const G=$.state.doc.toString();G!==l&&(P=!0,t(0,l=G),k("change",l))}function x(G){return ht.create({doc:G??void 0,extensions:i})}function Z(G,z,B,le,te,se,Oe,$e){const Ze=[Xa.of(" ".repeat(B)),Ve.editable.of(se),ht.readOnly.of(Oe)];return G&&Ze.push(GX),z&&Ze.push(Za.of([_F])),te&&Ze.push(vx(te)),$e&&Ze.push($e),le&&Ze.push(Ve.lineWrapping),Ze}function F(G,z){const B=[];return z&&B.push(Ve.theme(z)),G&&B.push(G),B}function U(G){ne[G?"unshift":"push"](()=>{C=G,t(2,C)})}return n.$$set=G=>{"class"in G&&t(1,s=G.class),"value"in G&&t(0,l=G.value),"basic"in G&&t(4,r=G.basic),"lang"in G&&t(5,o=G.lang),"theme"in G&&t(6,a=G.theme),"extensions"in G&&t(7,f=G.extensions),"useTab"in G&&t(8,u=G.useTab),"tabSize"in G&&t(9,d=G.tabSize),"styles"in G&&t(10,h=G.styles),"lineWrapping"in G&&t(11,p=G.lineWrapping),"editable"in G&&t(12,g=G.editable),"readonly"in G&&t(13,b=G.readonly),"placeholder"in G&&t(14,_=G.placeholder)},n.$$.update=()=>{n.$$.dirty&32752&&t(16,i=[...Z(r,u,d,p,_,g,b,o),...F(a,h),...f]),n.$$.dirty&32769&&$&&L(l),n.$$.dirty&98304&&$&&i&&R()},[l,s,C,y,r,o,a,f,u,d,h,p,g,b,_,$,i,U]}class iq extends ke{constructor(e){super(),ve(this,e,nq,tq,be,{class:1,value:0,basic:4,lang:5,theme:6,extensions:7,useTab:8,tabSize:9,styles:10,lineWrapping:11,editable:12,readonly:13,placeholder:14})}}class Wu{constructor(e,t,i,s,l,r,o,a,f,u=0,d){this.p=e,this.stack=t,this.state=i,this.reducePos=s,this.pos=l,this.score=r,this.buffer=o,this.bufferBase=a,this.curContext=f,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let s=e.parser.context;return new Wu(e,[],t,i,i,0,[],0,s?new KO(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,s=e&65535,{parser:l}=this.p,r=l.dynamicPrecedence(s);if(r&&(this.score+=r),i==0){this.pushState(l.getGoto(this.state,s,!0),this.reducePos),s<l.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,4,!0),this.reduceContext(s,this.reducePos);return}let o=this.stack.length-(i-1)*3-(e&262144?6:0),a=o?this.stack[o-2]:this.p.ranges[0].from,f=this.reducePos-a;f>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=f));let u=o?this.stack[o-1]:0,d=this.bufferBase+this.buffer.length-u;if(s<l.minRepeatTerm||e&131072){let h=l.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,a,h,d+4,!0)}if(e&262144)this.state=this.stack[o];else{let h=this.stack[o-3];this.state=l.getGoto(h,s,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(s,a)}storeNode(e,t,i,s=4,l=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let r=this,o=this.buffer.length;if(o==0&&r.parent&&(o=r.bufferBase-r.parent.bufferBase,r=r.parent),o>0&&r.buffer[o-4]==0&&r.buffer[o-1]>-1){if(t==i)return;if(r.buffer[o-2]>=t){r.buffer[o-2]=i;return}}}if(!l||this.pos==i)this.buffer.push(e,t,i,s);else{let r=this.buffer.length;if(r>0&&this.buffer[r-4]!=0)for(;r>0&&this.buffer[r-2]>i;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,s>4&&(s-=4);this.buffer[r]=e,this.buffer[r+1]=t,this.buffer[r+2]=i,this.buffer[r+3]=s}}shift(e,t,i){let s=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,s),t<=this.p.parser.maxNode&&this.buffer.push(t,s,i,4);else{let l=e,{parser:r}=this.p;(i>this.pos||t<=r.maxNode)&&(this.pos=i,r.stateFlag(l,1)||(this.reducePos=i)),this.pushState(l,s),this.shiftContext(t,s),t<=r.maxNode&&this.buffer.push(t,s,i,4)}}apply(e,t,i){e&65536?this.reduce(e):this.shift(e,t,i)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(i,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new Wu(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new sq(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let l=0,r;l<t.length;l+=2)(r=t[l+1])!=this.state&&this.p.parser.hasAction(r,e)&&s.push(t[l],r);if(this.stack.length<120)for(let l=0;s.length<8&&l<t.length;l+=2){let r=t[l+1];s.some((o,a)=>a&1&&o==r)||s.push(t[l],r)}t=s}let i=[];for(let s=0;s<t.length&&i.length<4;s+=2){let l=t[s+1];if(l==this.state)continue;let r=this.split();r.pushState(l,this.pos),r.storeNode(0,r.pos,r.pos,4,!0),r.shiftContext(t[s],this.pos),r.score-=200,i.push(r)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,s=t&65535,l=this.stack.length-i*3;if(l<0||e.getGoto(this.stack[l],s,!1)<0){let r=this.findForcedReduction();if(r==null)return!1;t=r}this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(s,l)=>{if(!t.includes(s))return t.push(s),e.allActions(s,r=>{if(!(r&393216))if(r&65536){let o=(r>>19)-l;if(o>1){let a=r&65535,f=this.stack.length-o*3;if(f>=0&&e.getGoto(this.stack[f],a,!1)>=0)return o<<19|65536|a}}else{let o=i(r,l+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new KO(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class KO{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var JO;(function(n){n[n.Insert=200]="Insert",n[n.Delete=190]="Delete",n[n.Reduce=100]="Reduce",n[n.MaxNext=4]="MaxNext",n[n.MaxInsertStackDepth=300]="MaxInsertStackDepth",n[n.DampenInsertStackDepth=120]="DampenInsertStackDepth",n[n.MinBigReduction=2e3]="MinBigReduction"})(JO||(JO={}));class sq{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class zu{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new zu(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new zu(this.stack,this.pos,this.index)}}function Zo(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,s=0;i<n.length;){let l=0;for(;;){let r=n.charCodeAt(i++),o=!1;if(r==126){l=65535;break}r>=92&&r--,r>=34&&r--;let a=r-32;if(a>=46&&(a-=46,o=!0),l+=a,o)break;l*=46}t?t[s++]=l:t=new e(l)}return t}class Gf{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const ey=new Gf;class lq{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ey,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,s=this.rangeIndex,l=this.pos+e;for(;l<i.from;){if(!s)return null;let r=this.ranges[--s];l-=i.from-r.to,i=r}for(;t<0?l>i.to:l>=i.to;){if(s==this.ranges.length-1)return null;let r=this.ranges[++s];l+=r.from-i.to,i=r}return l}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,s;if(t>=0&&t<this.chunk.length)i=this.pos+e,s=this.chunk.charCodeAt(t);else{let l=this.resolveOffset(e,1);if(l==null)return-1;if(i=l,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let r=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++r];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),s=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),s}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=ey,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(i+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return i}}class Fr{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;u3(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Fr.prototype.contextual=Fr.prototype.fallback=Fr.prototype.extend=!1;class up{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?Zo(e):e}token(e,t){let i=e.pos,s=0;for(;u3(this.data,e,t,0,this.data,this.precTable),!(e.token.value>-1);){if(this.elseToken==null)return;if(e.next<0)break;e.advance(),e.reset(e.pos,e.token),s++}s&&(e.reset(i,e.token),e.acceptToken(this.elseToken,s))}}up.prototype.contextual=Fr.prototype.fallback=Fr.prototype.extend=!1;class xm{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function u3(n,e,t,i,s,l){let r=0,o=1<<i,{dialect:a}=t.p.parser;e:for(;o&n[r];){let f=n[r+1];for(let p=r+3;p<f;p+=2)if((n[p+1]&o)>0){let g=n[p];if(a.allows(g)&&(e.token.value==-1||e.token.value==g||rq(g,e.token.value,s,l))){e.acceptToken(g);break}}let u=e.next,d=0,h=n[r+2];if(e.next<0&&h>d&&n[f+h*3-3]==65535&&n[f+h*3-3]==65535){r=n[f+h*3-1];continue e}for(;d<h;){let p=d+h>>1,g=f+p+(p<<1),b=n[g],_=n[g+1]||65536;if(u<b)h=p;else if(u>=_)d=p+1;else{r=n[g+2],e.advance();continue e}}break}}function ty(n,e,t){for(let i=e,s;(s=n[i])!=65535;i++)if(s==t)return i-e;return-1}function rq(n,e,t,i){let s=ty(t,i,e);return s<0||ty(t,i,n)<s}const es=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let Dd=null;var ny;(function(n){n[n.Margin=25]="Margin"})(ny||(ny={}));function iy(n,e,t){let i=n.cursor(jt.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class oq{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?iy(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?iy(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],s=this.index[t];if(s==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let l=i.children[s],r=this.start[t]+i.positions[s];if(r>e)return this.nextStart=r,null;if(l instanceof $t){if(r==e){if(r<this.safeFrom)return null;let o=r+l.length;if(o<=this.safeTo){let a=l.prop(st.lookAhead);if(!a||o+a<this.fragment.to)return l}}this.index[t]++,r+l.length>=Math.max(this.safeFrom,e)&&(this.trees.push(l),this.start.push(r),this.index.push(0))}else this.index[t]++,this.nextStart=r+l.length}}}class aq{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Gf)}getActions(e){let t=0,i=null,{parser:s}=e.p,{tokenizers:l}=s,r=s.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,a=0;for(let f=0;f<l.length;f++){if(!(1<<f&r))continue;let u=l[f],d=this.tokens[f];if(!(i&&!u.fallback)&&((u.contextual||d.start!=e.pos||d.mask!=r||d.context!=o)&&(this.updateCachedToken(d,u,e),d.mask=r,d.context=o),d.lookAhead>d.end+25&&(a=Math.max(d.lookAhead,a)),d.value!=0)){let h=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!u.extend&&(i=d,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),!i&&e.pos==this.stream.end&&(i=new Gf,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Gf,{pos:i,p:s}=e;return t.start=i,t.end=Math.min(i+1,s.stream.end),t.value=i==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,i){let s=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(s,e),i),e.value>-1){let{parser:l}=i.p;for(let r=0;r<l.specialized.length;r++)if(l.specialized[r]==e.value){let o=l.specializers[r](this.stream.read(e.start,e.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){o&1?e.extended=o>>1:e.value=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,i,s){for(let l=0;l<s;l+=3)if(this.actions[l]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=i,s}addActions(e,t,i,s){let{state:l}=e,{parser:r}=e.p,{data:o}=r;for(let a=0;a<2;a++)for(let f=r.stateSlot(l,a?2:1);;f+=3){if(o[f]==65535)if(o[f+1]==1)f=Xs(o,f+2);else{s==0&&o[f+1]==2&&(s=this.putAction(Xs(o,f+2),t,i,s));break}o[f]==t&&(s=this.putAction(Xs(o,f+1),t,i,s))}return s}}var sy;(function(n){n[n.Distance=5]="Distance",n[n.MaxRemainingPerStep=3]="MaxRemainingPerStep",n[n.MinBufferLengthPrune=500]="MinBufferLengthPrune",n[n.ForceReduceLimit=10]="ForceReduceLimit",n[n.CutDepth=15e3]="CutDepth",n[n.CutTo=9e3]="CutTo",n[n.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",n[n.MaxStackCount=12]="MaxStackCount"})(sy||(sy={}));class fq{constructor(e,t,i,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new lq(t,s),this.tokens=new aq(e,this.stream),this.topTerm=e.top[1];let{from:l}=s[0];this.stacks=[Wu.start(this,e.top[0],l)],this.fragments=i.length&&this.stream.end-l>e.bufferLength*4?new oq(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],s,l;if(this.bigReductionCount>300&&e.length==1){let[r]=e;for(;r.forceReduce()&&r.stack.length&&r.stack[r.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let r=0;r<e.length;r++){let o=e[r];for(;;){if(this.tokens.mainToken=null,o.pos>t)i.push(o);else{if(this.advanceStack(o,i,e))continue;{s||(s=[],l=[]),s.push(o);let a=this.tokens.getMainToken(o);l.push(a.value,a.end)}}break}}if(!i.length){let r=s&&dq(s);if(r)return this.stackToTree(r);if(this.parser.strict)throw es&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let r=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,l,i);if(r)return this.stackToTree(r.forceAll())}if(this.recovering){let r=this.recovering==1?1:this.recovering*3;if(i.length>r)for(i.sort((o,a)=>a.score-o.score);i.length>r;)i.pop();i.some(o=>o.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let r=0;r<i.length-1;r++){let o=i[r];for(let a=r+1;a<i.length;a++){let f=i[a];if(o.sameState(f)||o.buffer.length>500&&f.buffer.length>500)if((o.score-f.score||o.buffer.length-f.buffer.length)>0)i.splice(a--,1);else{i.splice(r--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let r=1;r<i.length;r++)i[r].pos<this.minStackPos&&(this.minStackPos=i[r].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let s=e.pos,{parser:l}=this,r=es?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,u=f?e.curContext.hash:0;for(let d=this.fragments.nodeAt(s);d;){let h=this.parser.nodeSet.types[d.type.id]==d.type?l.getGoto(e.state,d.type.id):-1;if(h>-1&&d.length&&(!f||(d.prop(st.contextHash)||0)==u))return e.useNode(d,h),es&&console.log(r+this.stackID(e)+` (via reuse of ${l.getName(d.type.id)})`),!0;if(!(d instanceof $t)||d.children.length==0||d.positions[0]>0)break;let p=d.children[0];if(p instanceof $t&&d.positions[0]==0)d=p;else break}}let o=l.stateSlot(e.state,4);if(o>0)return e.reduce(o),es&&console.log(r+this.stackID(e)+` (via always-reduce ${l.getName(o&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let f=0;f<a.length;){let u=a[f++],d=a[f++],h=a[f++],p=f==a.length||!i,g=p?e:e.split();if(g.apply(u,d,h),es&&console.log(r+this.stackID(g)+` (via ${u&65536?`reduce of ${l.getName(u&65535)}`:"shift"} for ${l.getName(d)} @ ${s}${g==e?"":", split"})`),p)return!0;g.pos>s?t.push(g):i.push(g)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return ly(e,t),!0}}runRecovery(e,t,i){let s=null,l=!1;for(let r=0;r<e.length;r++){let o=e[r],a=t[r<<1],f=t[(r<<1)+1],u=es?this.stackID(o)+" -> ":"";if(o.deadEnd&&(l||(l=!0,o.restart(),es&&console.log(u+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let d=o.split(),h=u;for(let p=0;d.forceReduce()&&p<10&&(es&&console.log(h+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,i));p++)es&&(h=this.stackID(d)+" -> ");for(let p of o.recoverByInsert(a))es&&console.log(u+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,i);this.stream.end>o.pos?(f==o.pos&&(f++,a=0),o.recoverByDelete(a,f),es&&console.log(u+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),ly(o,i)):(!s||s.score<o.score)&&(s=o)}return s}stackToTree(e){return e.close(),$t.build({buffer:zu.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Dd||(Dd=new WeakMap)).get(e);return t||Dd.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function ly(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class uq{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const Ed=n=>n;class cq{constructor(e){this.start=e.start,this.shift=e.shift||Ed,this.reduce=e.reduce||Ed,this.reuse=e.reuse||Ed,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Bu extends _m{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let o=0;o<e.repeatNodeCount;o++)t.push("");let i=Object.keys(e.topRules).map(o=>e.topRules[o][1]),s=[];for(let o=0;o<t.length;o++)s.push([]);function l(o,a,f){s[o].push([a,a.deserialize(String(f))])}if(e.nodeProps)for(let o of e.nodeProps){let a=o[0];typeof a=="string"&&(a=st[a]);for(let f=1;f<o.length;){let u=o[f++];if(u>=0)l(u,a,o[f++]);else{let d=o[f+-u];for(let h=-u;h>0;h--)l(o[f++],a,d);f++}}}this.nodeSet=new bc(t.map((o,a)=>Yn.define({name:a>=this.minRepeatTerm?void 0:o,id:a,props:s[a],top:i.indexOf(a)>-1,error:a==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(a)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=CC;let r=Zo(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(ry),this.states=Zo(e.states,Uint32Array),this.data=Zo(e.stateData),this.goto=Zo(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new Fr(r,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let s=new fq(this,e,t,i);for(let l of this.wrappers)s=l(s,e,t,i);return s}getGoto(e,t,i=!1){let s=this.goto;if(t>=s[0])return-1;for(let l=s[t+1];;){let r=s[l++],o=r&1,a=s[l++];if(o&&i)return a;for(let f=l+(r>>1);l<f;l++)if(s[l]==e)return a;if(o)return-1}}hasAction(e,t){let i=this.data;for(let s=0;s<2;s++)for(let l=this.stateSlot(e,s?2:1),r;;l+=3){if((r=i[l])==65535)if(i[l+1]==1)r=i[l=Xs(i,l+2)];else{if(i[l+1]==2)return Xs(i,l+2);break}if(r==t||r==0)return Xs(i,l+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),s=i?t(i):void 0;for(let l=this.stateSlot(e,1);s==null;l+=3){if(this.data[l]==65535)if(this.data[l+1]==1)l=Xs(this.data,l+2);else break;s=t(Xs(this.data,l+1))}return s}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Xs(this.data,i+2);else break;if(!(this.data[i+2]&1)){let s=this.data[i+1];t.some((l,r)=>r&1&&l==s)||t.push(this.data[i],s)}}return t}configure(e){let t=Object.assign(Object.create(Bu.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let s=e.tokenizers.find(l=>l.from==i);return s?s.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,s)=>{let l=e.specializers.find(o=>o.from==i.external);if(!l)return i;let r=Object.assign(Object.assign({},i),{external:l.to});return t.specializers[s]=ry(r),r})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let l of e.split(" ")){let r=t.indexOf(l);r>=0&&(i[r]=!0)}let s=null;for(let l=0;l<t.length;l++)if(!i[l])for(let r=this.dialects[t[l]],o;(o=this.data[r++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[o]=1;return new uq(e,i,s)}static deserialize(e){return new Bu(e)}}function Xs(n,e){return n[e]|n[e+1]<<16}function dq(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function ry(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const oy=302,ay=1,hq=2,fy=303,pq=305,mq=306,gq=3,bq=4,_q=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],c3=125,Oq=59,uy=47,yq=42,vq=43,kq=45,wq=new cq({start:!1,shift(n,e){return e==gq||e==bq||e==pq?n:e==mq},strict:!1}),Sq=new xm((n,e)=>{let{next:t}=n;(t==c3||t==-1||e.context)&&e.canShift(fy)&&n.acceptToken(fy)},{contextual:!0,fallback:!0}),$q=new xm((n,e)=>{let{next:t}=n,i;_q.indexOf(t)>-1||t==uy&&((i=n.peek(1))==uy||i==yq)||t!=c3&&t!=Oq&&t!=-1&&!e.context&&e.canShift(oy)&&n.acceptToken(oy)},{contextual:!0}),Cq=new xm((n,e)=>{let{next:t}=n;if((t==vq||t==kq)&&(n.advance(),t==n.next)){n.advance();let i=!e.context&&e.canShift(ay);n.acceptToken(i?ay:hq)}},{contextual:!0}),Tq=MC({"get set async static":oe.modifier,"for while do if else switch try catch finally return throw break continue default case":oe.controlKeyword,"in of await yield void typeof delete instanceof":oe.operatorKeyword,"let var const function class extends":oe.definitionKeyword,"import export from":oe.moduleKeyword,"with debugger as new":oe.keyword,TemplateString:oe.special(oe.string),super:oe.atom,BooleanLiteral:oe.bool,this:oe.self,null:oe.null,Star:oe.modifier,VariableName:oe.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":oe.function(oe.variableName),VariableDefinition:oe.definition(oe.variableName),Label:oe.labelName,PropertyName:oe.propertyName,PrivatePropertyName:oe.special(oe.propertyName),"CallExpression/MemberExpression/PropertyName":oe.function(oe.propertyName),"FunctionDeclaration/VariableDefinition":oe.function(oe.definition(oe.variableName)),"ClassDeclaration/VariableDefinition":oe.definition(oe.className),PropertyDefinition:oe.definition(oe.propertyName),PrivatePropertyDefinition:oe.definition(oe.special(oe.propertyName)),UpdateOp:oe.updateOperator,LineComment:oe.lineComment,BlockComment:oe.blockComment,Number:oe.number,String:oe.string,Escape:oe.escape,ArithOp:oe.arithmeticOperator,LogicOp:oe.logicOperator,BitOp:oe.bitwiseOperator,CompareOp:oe.compareOperator,RegExp:oe.regexp,Equals:oe.definitionOperator,Arrow:oe.function(oe.punctuation),": Spread":oe.punctuation,"( )":oe.paren,"[ ]":oe.squareBracket,"{ }":oe.brace,"InterpolationStart InterpolationEnd":oe.special(oe.brace),".":oe.derefOperator,", ;":oe.separator,"@":oe.meta,TypeName:oe.typeName,TypeDefinition:oe.definition(oe.typeName),"type enum interface implements namespace module declare":oe.definitionKeyword,"abstract global Privacy readonly override":oe.modifier,"is keyof unique infer":oe.operatorKeyword,JSXAttributeValue:oe.attributeValue,JSXText:oe.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":oe.angleBracket,"JSXIdentifier JSXNameSpacedName":oe.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":oe.attributeName,"JSXBuiltin/JSXIdentifier":oe.standard(oe.tagName)}),Pq={__proto__:null,export:14,as:19,from:27,default:30,async:35,function:36,extends:46,this:50,true:58,false:58,null:70,void:74,typeof:78,super:96,new:130,delete:146,yield:155,await:159,class:164,public:221,private:221,protected:221,readonly:223,instanceof:242,satisfies:245,in:246,const:248,import:280,keyof:335,unique:339,infer:345,is:381,abstract:401,implements:403,type:405,let:408,var:410,interface:417,enum:421,namespace:427,module:429,declare:433,global:437,for:456,of:465,while:468,with:472,do:476,if:480,else:482,switch:486,case:492,try:498,catch:502,finally:506,return:510,throw:514,break:518,continue:522,debugger:526},Mq={__proto__:null,async:117,get:119,set:121,declare:181,public:183,private:183,protected:183,static:185,abstract:187,override:189,readonly:195,accessor:197,new:385},Aq={__proto__:null,"<":137},Qq=Bu.deserialize({version:14,states:"$6[O`QUOOO%QQUOOO'TQWOOP(bOSOOO*pQ(CjO'#CfO*wOpO'#CgO+VO!bO'#CgO+eO07`O'#DZO-vQUO'#DaO.WQUO'#DlO%QQUO'#DvO0[QUO'#EOOOQ(CY'#EW'#EWO0uQSO'#ETOOQO'#Ei'#EiOOQO'#Ib'#IbO0}QSO'#GkO1YQSO'#EhO1_QSO'#EhO3aQ(CjO'#JcO6QQ(CjO'#JdO6nQSO'#FWO6sQ#tO'#FoOOQ(CY'#F`'#F`O7OO&jO'#F`O7^Q,UO'#FvO8tQSO'#FuOOQ(CY'#Jd'#JdOOQ(CW'#Jc'#JcOOQQ'#KO'#KOO8yQSO'#IOO9OQ(C[O'#IPOOQQ'#JP'#JPOOQQ'#IT'#ITQ`QUOOO%QQUO'#DnO9WQUO'#DzO%QQUO'#D|O9_QSO'#GkO9dQ,UO'#ClO9rQSO'#EgO9}QSO'#ErO:SQ,UO'#F_O:qQSO'#GkO:vQSO'#GoO;RQSO'#GoO;aQSO'#GrO;aQSO'#GsO;aQSO'#GuO9_QSO'#GxO<QQSO'#G{O=cQSO'#CbO=sQSO'#HXO={QSO'#H_O={QSO'#HaO`QUO'#HcO={QSO'#HeO={QSO'#HhO>QQSO'#HnO>VQ(C]O'#HtO%QQUO'#HvO>bQ(C]O'#HxO>mQ(C]O'#HzO9OQ(C[O'#H|O>xQ(CjO'#CfO?zQWO'#DfQOQSOOO@bQSO'#EPO9dQ,UO'#EgO@mQSO'#EgO@xQ`O'#F_OOQQ'#Cd'#CdOOQ(CW'#Dk'#DkOOQ(CW'#Jg'#JgO%QQUO'#JgOOQO'#Jk'#JkOOQO'#I_'#I_OAxQWO'#E`OOQ(CW'#E_'#E_OBtQ(C`O'#E`OCOQWO'#ESOOQO'#Jj'#JjOCdQWO'#JkODqQWO'#ESOCOQWO'#E`PEOO?MpO'#C`POOO)CDn)CDnOOOO'#IU'#IUOEZOpO,59ROOQ(CY,59R,59ROOOO'#IV'#IVOEiO!bO,59RO%QQUO'#D]OOOO'#IX'#IXOEwO07`O,59uOOQ(CY,59u,59uOFVQUO'#IYOFjQSO'#JeOHlQbO'#JeO+sQUO'#JeOHsQSO,59{OIZQSO'#EiOIhQSO'#JsOIsQSO'#JrOIsQSO'#JrOI{QSO,5;VOJQQSO'#JqOOQ(CY,5:W,5:WOJXQUO,5:WOLYQ(CjO,5:bOLyQSO,5:jOMdQ(C[O'#JpOMkQSO'#JoO:vQSO'#JoONPQSO'#JoONXQSO,5;UON^QSO'#JoO!!fQbO'#JdOOQ(CY'#Cf'#CfO%QQUO'#EOO!#UQ`O,5:oOOQO'#Jl'#JlOOQO-E<`-E<`O9_QSO,5=VO!#lQSO,5=VO!#qQUO,5;SO!%tQ,UO'#EdO!'XQSO,5;SO!(qQ,UO'#DpO!(xQUO'#DuO!)SQWO,5;]O!)[QWO,5;]O%QQUO,5;]OOQQ'#FO'#FOOOQQ'#FQ'#FQO%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^OOQQ'#FU'#FUO!)jQUO,5;oOOQ(CY,5;t,5;tOOQ(CY,5;u,5;uO!+mQSO,5;uOOQ(CY,5;v,5;vO%QQUO'#IfO!+uQ(C[O,5<cO!%tQ,UO,5;^O!,dQ,UO,5;^O%QQUO,5;rO!,kQ#tO'#FeO!-hQ#tO'#JwO!-SQ#tO'#JwO!-oQ#tO'#JwOOQO'#Jw'#JwO!.TQ#tO,5;}OOOO,5<Z,5<ZO!.fQUO'#FqOOOO'#Ie'#IeO7OO&jO,5;zO!.mQ#tO'#FsOOQ(CY,5;z,5;zO!/^Q7[O'#CrOOQ(CY'#Cv'#CvO!/qQSO'#CvO!/vO07`O'#CzO!0dQ,UO,5<`O!0kQSO,5<bO!2QQMhO'#GQO!2_QSO'#GRO!2dQSO'#GRO!2iQMhO'#GVO!3hQWO'#GZO!4ZQ7[O'#J^OOQ(CY'#J^'#J^O!4eQSO'#J]O!4sQSO'#J[O!4{QSO'#CqOOQ(CY'#Ct'#CtOOQ(CY'#DO'#DOOOQ(CY'#DQ'#DQO0xQSO'#DSO!'^Q,UO'#FxO!'^Q,UO'#FzO!5TQSO'#F|O!5YQSO'#F}O!2dQSO'#GTO!'^Q,UO'#GYO!5_QSO'#EjO!5|QSO,5<aO`QUO,5>jOOQQ'#JX'#JXOOQQ,5>k,5>kOOQQ-E<R-E<RO!7{Q(CjO,5:YO!:iQ(CjO,5:fO%QQUO,5:fO!=SQ(CjO,5:hOOQ(CW'#Co'#CoO!=sQ,UO,5=VO!>RQ(C[O'#JYO8tQSO'#JYO!>dQ(C[O,59WO!>oQWO,59WO!>wQ,UO,59WO9dQ,UO,59WO!?SQSO,5;SO!?[QSO'#HWO!?mQSO'#KSO%QQUO,5;wO!?uQWO,5;yO!?zQSO,5=qO!@PQSO,5=qO!@UQSO,5=qO9OQ(C[O,5=qO!@dQSO'#EkO!A^QWO'#ElOOQ(CW'#Jq'#JqO!AeQ(C[O'#KPO9OQ(C[O,5=ZO;aQSO,5=aOOQO'#Cr'#CrO!ApQWO,5=^O!AxQ,UO,5=_O!BTQSO,5=aO!BYQ`O,5=dO>QQSO'#G}O9_QSO'#HPO!BbQSO'#HPO9dQ,UO'#HRO!BgQSO'#HROOQQ,5=g,5=gO!BlQSO'#HSO!BtQSO'#ClO!ByQSO,58|O!CTQSO,58|O!E]QUO,58|OOQQ,58|,58|O!EjQ(C[O,58|O%QQUO,58|O!EuQUO'#HZOOQQ'#H['#H[OOQQ'#H]'#H]O`QUO,5=sO!FVQSO,5=sO`QUO,5=yO`QUO,5={O!F[QSO,5=}O`QUO,5>PO!FaQSO,5>SO!FfQUO,5>YOOQQ,5>`,5>`O%QQUO,5>`O9OQ(C[O,5>bOOQQ,5>d,5>dO!JmQSO,5>dOOQQ,5>f,5>fO!JmQSO,5>fOOQQ,5>h,5>hO!JrQWO'#DXO%QQUO'#JgO!KaQWO'#JgO!LOQWO'#DgO!LaQWO'#DgO!NrQUO'#DgO!NyQSO'#JfO# RQSO,5:QO# WQSO'#EmO# fQSO'#JtO# nQSO,5;WO# sQWO'#DgO#!QQWO'#EROOQ(CY,5:k,5:kO%QQUO,5:kO#!XQSO,5:kO>QQSO,5;RO!>oQWO,5;RO!>wQ,UO,5;RO9dQ,UO,5;RO#!aQSO,5@RO#!fQ!LQO,5:oOOQO-E<]-E<]O##lQ(C`O,5:zOCOQWO,5:nO##vQWO,5:nOCOQWO,5:zO!>dQ(C[O,5:nOOQ(CW'#Ec'#EcOOQO,5:z,5:zO%QQUO,5:zO#$TQ(C[O,5:zO#$`Q(C[O,5:zO!>oQWO,5:nOOQO,5;Q,5;QO#$nQ(C[O,5:zPOOO'#IS'#ISP#%SO?MpO,58zPOOO,58z,58zOOOO-E<S-E<SOOQ(CY1G.m1G.mOOOO-E<T-E<TO#%_Q`O,59wOOOO-E<V-E<VOOQ(CY1G/a1G/aO#%dQbO,5>tO+sQUO,5>tOOQO,5>z,5>zO#%nQUO'#IYOOQO-E<W-E<WO#%{QSO,5@PO#&TQbO,5@PO#&[QSO,5@^OOQ(CY1G/g1G/gO%QQUO,5@_O#&dQSO'#I`OOQO-E<^-E<^O#&[QSO,5@^OOQ(CW1G0q1G0qOOQ(CY1G/r1G/rOOQ(CY1G0U1G0UO%QQUO,5@[O#&xQ(C[O,5@[O#'ZQ(C[O,5@[O#'bQSO,5@ZO:vQSO,5@ZO#'jQSO,5@ZO#'xQSO'#IcO#'bQSO,5@ZOOQ(CW1G0p1G0pO!)SQWO,5:qO!)_QWO,5:qOOQO,5:s,5:sO#(jQSO,5:sO#(rQ,UO1G2qO9_QSO1G2qOOQ(CY1G0n1G0nO#)QQ(CjO1G0nO#*VQ(ChO,5;OOOQ(CY'#GP'#GPO#*sQ(CjO'#J^O!#qQUO1G0nO#,{Q,UO'#JhO#-VQSO,5:[O#-[QbO'#JiO%QQUO'#JiO#-fQSO,5:aOOQ(CY'#DX'#DXOOQ(CY1G0w1G0wO%QQUO1G0wOOQ(CY1G1a1G1aO#-kQSO1G0wO#0SQ(CjO1G0xO#0ZQ(CjO1G0xO#2tQ(CjO1G0xO#2{Q(CjO1G0xO#5VQ(CjO1G0xO#5mQ(CjO1G0xO#8gQ(CjO1G0xO#8nQ(CjO1G0xO#;XQ(CjO1G0xO#;`Q(CjO1G0xO#=WQ(CjO1G0xO#@WQ$IUO'#CfO#BUQ$IUO1G1ZO#B]Q$IUO'#JdO!+pQSO1G1aO#BmQ(CjO,5?QOOQ(CW-E<d-E<dO#CaQ(CjO1G0xOOQ(CY1G0x1G0xO#ElQ(CjO1G1^O#F`Q#tO,5<RO#FhQ#tO,5<SO#FpQ#tO'#FjO#GXQSO'#FiOOQO'#Jx'#JxOOQO'#Id'#IdO#G^Q#tO1G1iOOQ(CY1G1i1G1iOOOO1G1t1G1tO#GoQ$IUO'#JcO#GyQSO,5<]O!)jQUO,5<]OOOO-E<c-E<cOOQ(CY1G1f1G1fO#HOQWO'#JwOOQ(CY,5<_,5<_O#HWQWO,5<_OOQ(CY,59b,59bO!%tQ,UO'#C|OOOO'#IW'#IWO#H]O07`O,59fOOQ(CY,59f,59fO%QQUO1G1zO!5YQSO'#IhO#HhQSO,5<sOOQ(CY,5<p,5<pOOQO'#Gf'#GfO!'^Q,UO,5=POOQO'#Gh'#GhO!'^Q,UO,5=RO!%tQ,UO,5=TOOQO1G1|1G1|O#HvQ`O'#CoO#IZQ`O,5<lO#IbQSO'#J{O9_QSO'#J{O#IpQSO,5<nO!'^Q,UO,5<mO#IuQSO'#GSO#JQQSO,5<mO#JVQ`O'#GPO#JdQ`O'#J|O#JnQSO'#J|O!%tQ,UO'#J|O#JsQSO,5<qO#JxQWO'#G[O!3cQWO'#G[O#KZQSO'#G^O#K`QSO'#G`O!2dQSO'#GcO#KeQ(C[O'#IjO#KpQWO,5<uOOQ(CY,5<u,5<uO#KwQWO'#G[O#LVQWO'#G]O#L_QWO'#G]OOQ(CY,5=U,5=UO!'^Q,UO,5?wO!'^Q,UO,5?wO#LdQSO'#IkO#LoQSO,5?vO#LwQSO,59]O#MhQ,UO,59nOOQ(CY,59n,59nO#NZQ,UO,5<dO#N|Q,UO,5<fO?rQSO,5<hOOQ(CY,5<i,5<iO$ WQSO,5<oO$ ]Q,UO,5<tO$ mQSO'#JoO!#qQUO1G1{O$ rQSO1G1{OOQQ1G4U1G4UOOQ(CY1G/t1G/tO!+mQSO1G/tO$#qQ(CjO1G0QOOQQ1G2q1G2qO!%tQ,UO1G2qO%QQUO1G2qO$$bQSO1G2qO$$mQ,UO'#EdOOQ(CW,5?t,5?tO$$wQ(C[O,5?tOOQQ1G.r1G.rO!>dQ(C[O1G.rO!>oQWO1G.rO!>wQ,UO1G.rO$%YQSO1G0nO$%_QSO'#CfO$%jQSO'#KTO$%rQSO,5=rO$%wQSO'#KTO$%|QSO'#KTO$&XQSO'#IsO$&gQSO,5@nO$&oQbO1G1cOOQ(CY1G1e1G1eO9_QSO1G3]O?rQSO1G3]O$&vQSO1G3]O$&{QSO1G3]OOQQ1G3]1G3]O:vQSO'#JrO:vQSO'#EmO%QQUO'#EmO:vQSO'#ImO$'QQ(C[O,5@kOOQQ1G2u1G2uO!BTQSO1G2{O!%tQ,UO1G2xO$']QSO1G2xOOQQ1G2y1G2yO!%tQ,UO1G2yO$'bQSO1G2yO$'jQWO'#GwOOQQ1G2{1G2{O!3cQWO'#IoO!BYQ`O1G3OOOQQ1G3O1G3OOOQQ,5=i,5=iO$'rQ,UO,5=kO9_QSO,5=kO#K`QSO,5=mO8tQSO,5=mO!>oQWO,5=mO!>wQ,UO,5=mO9dQ,UO,5=mO$(QQSO'#KRO$(]QSO,5=nOOQQ1G.h1G.hO$(bQ(C[O1G.hO?rQSO1G.hO$(mQSO1G.hO9OQ(C[O1G.hO$*rQbO,5@pO$+SQSO,5@pO$+_QUO,5=uO$+fQSO,5=uO:vQSO,5@pOOQQ1G3_1G3_O`QUO1G3_OOQQ1G3e1G3eOOQQ1G3g1G3gO={QSO1G3iO$+kQUO1G3kO$/lQUO'#HjOOQQ1G3n1G3nO$/yQSO'#HpO>QQSO'#HrOOQQ1G3t1G3tO$0RQUO1G3tO9OQ(C[O1G3zOOQQ1G3|1G3|OOQ(CW'#GW'#GWO9OQ(C[O1G4OO9OQ(C[O1G4QO$4VQSO,5@RO!)jQUO,5;XO:vQSO,5;XO>QQSO,5:RO!)jQUO,5:RO!>oQWO,5:RO$4[Q$IUO,5:ROOQO,5;X,5;XO$4fQWO'#IZO$4|QSO,5@QOOQ(CY1G/l1G/lO$5UQWO'#IaO$5`QSO,5@`OOQ(CW1G0r1G0rO!LaQWO,5:ROOQO'#I^'#I^O$5hQWO,5:mOOQ(CY,5:m,5:mO#![QSO1G0VOOQ(CY1G0V1G0VO%QQUO1G0VOOQ(CY1G0m1G0mO>QQSO1G0mO!>oQWO1G0mO!>wQ,UO1G0mOOQ(CW1G5m1G5mO!>dQ(C[O1G0YOOQO1G0f1G0fO%QQUO1G0fO$5oQ(C[O1G0fO$5zQ(C[O1G0fO!>oQWO1G0YOCOQWO1G0YO$6YQ(C[O1G0fOOQO1G0Y1G0YO$6nQ(CjO1G0fPOOO-E<Q-E<QPOOO1G.f1G.fOOOO1G/c1G/cO$6xQ`O,5<cO$7QQbO1G4`OOQO1G4f1G4fO%QQUO,5>tO$7[QSO1G5kO$7dQSO1G5xO$7lQbO1G5yO:vQSO,5>zO$7vQ(CjO1G5vO%QQUO1G5vO$8WQ(C[O1G5vO$8iQSO1G5uO$8iQSO1G5uO:vQSO1G5uO$8qQSO,5>}O:vQSO,5>}OOQO,5>},5>}O$9VQSO,5>}O$ mQSO,5>}OOQO-E<a-E<aOOQO1G0]1G0]OOQO1G0_1G0_O!+pQSO1G0_OOQQ7+(]7+(]O!%tQ,UO7+(]O%QQUO7+(]O$9eQSO7+(]O$9pQ,UO7+(]O$:OQ(CjO,59nO$<WQ(CjO,5<dO$>cQ(CjO,5<fO$@nQ(CjO,5<tOOQ(CY7+&Y7+&YO$CPQ(CjO7+&YO$CsQ,UO'#I[O$C}QSO,5@SOOQ(CY1G/v1G/vO$DVQUO'#I]O$DdQSO,5@TO$DlQbO,5@TOOQ(CY1G/{1G/{O$DvQSO7+&cOOQ(CY7+&c7+&cO$D{Q$IUO,5:bO%QQUO7+&uO$EVQ$IUO,5:YO$EdQ$IUO,5:fO$EnQ$IUO,5:hOOQ(CY7+&{7+&{OOQO1G1m1G1mOOQO1G1n1G1nO$ExQ#tO,5<UO!)jQUO,5<TOOQO-E<b-E<bOOQ(CY7+'T7+'TOOOO7+'`7+'`OOOO1G1w1G1wO$FTQSO1G1wOOQ(CY1G1y1G1yO$FYQ`O,59hOOOO-E<U-E<UOOQ(CY1G/Q1G/QO$FaQ(CjO7+'fOOQ(CY,5?S,5?SO$GTQSO,5?SOOQ(CY1G2_1G2_P$GYQSO'#IhPOQ(CY-E<f-E<fO$G|Q,UO1G2kO$HoQ,UO1G2mO$HyQ`O1G2oOOQ(CY1G2W1G2WO$IQQSO'#IgO$I`QSO,5@gO$I`QSO,5@gO$IhQSO,5@gO$IsQSO,5@gOOQO1G2Y1G2YO$JRQ,UO1G2XO!'^Q,UO1G2XO$JcQMhO'#IiO$JsQSO,5@hO!%tQ,UO,5@hO$J{Q`O,5@hOOQ(CY1G2]1G2]OOQ(CW,5<v,5<vOOQ(CW,5<w,5<wO$ mQSO,5<wOBoQSO,5<wO!>oQWO,5<vOOQO'#G_'#G_O$KVQSO,5<xOOQ(CW,5<z,5<zO$ mQSO,5<}OOQO,5?U,5?UOOQO-E<h-E<hOOQ(CY1G2a1G2aO!3cQWO,5<vO$K_QSO,5<wO#KZQSO,5<xO!3cQWO,5<wO$KjQ,UO1G5cO$KtQ,UO1G5cOOQO,5?V,5?VOOQO-E<i-E<iOOQO1G.w1G.wO!?uQWO,59pO%QQUO,59pO$LRQSO1G2SO!'^Q,UO1G2ZO$LWQ(CjO7+'gOOQ(CY7+'g7+'gO!#qQUO7+'gOOQ(CY7+%`7+%`O$LzQ`O'#J}O#![QSO7+(]O$MUQbO7+(]O$9hQSO7+(]O$M]Q(ChO'#CfO$MpQ(ChO,5<{O$NbQSO,5<{OOQ(CW1G5`1G5`OOQQ7+$^7+$^O!>dQ(C[O7+$^O!>oQWO7+$^O!#qQUO7+&YO$NgQSO'#IrO$N{QSO,5@oOOQO1G3^1G3^O9_QSO,5@oO$N{QSO,5@oO% TQSO,5@oOOQO,5?_,5?_OOQO-E<q-E<qOOQ(CY7+&}7+&}O% YQSO7+(wO9OQ(C[O7+(wO9_QSO7+(wO?rQSO7+(wO% _QSO,5;XOOQ(CW,5?X,5?XOOQ(CW-E<k-E<kOOQQ7+(g7+(gO% dQ(ChO7+(dO!%tQ,UO7+(dO% nQ`O7+(eOOQQ7+(e7+(eO!%tQ,UO7+(eO% uQSO'#KQO%!QQSO,5=cOOQO,5?Z,5?ZOOQO-E<m-E<mOOQQ7+(j7+(jO%#aQWO'#HQOOQQ1G3V1G3VO!%tQ,UO1G3VO%QQUO1G3VO%#hQSO1G3VO%#sQ,UO1G3VO9OQ(C[O1G3XO#K`QSO1G3XO8tQSO1G3XO!>oQWO1G3XO!>wQ,UO1G3XO%$RQSO'#IqO%$^QSO,5@mO%$fQWO,5@mOOQ(CW1G3Y1G3YOOQQ7+$S7+$SO?rQSO7+$SO9OQ(C[O7+$SO%$qQSO7+$SO%QQUO1G6[O%QQUO1G6]O%$vQUO1G3aO%$}QSO1G3aO%%SQUO1G3aO%%ZQ(C[O1G6[OOQQ7+(y7+(yO9OQ(C[O7+)TO`QUO7+)VOOQQ'#KW'#KWOOQQ'#It'#ItO%%eQUO,5>UOOQQ,5>U,5>UO%QQUO'#HkO%%rQSO'#HmOOQQ,5>[,5>[O:vQSO,5>[OOQQ,5>^,5>^OOQQ7+)`7+)`OOQQ7+)f7+)fOOQQ7+)j7+)jOOQQ7+)l7+)lO%%wQWO1G5mO%&]Q$IUO1G0sO%&gQSO1G0sOOQO1G/m1G/mO%&rQ$IUO1G/mO>QQSO1G/mO!)jQUO'#DgOOQO,5>u,5>uOOQO-E<X-E<XOOQO,5>{,5>{OOQO-E<_-E<_O!>oQWO1G/mOOQO-E<[-E<[OOQ(CY1G0X1G0XOOQ(CY7+%q7+%qO#![QSO7+%qOOQ(CY7+&X7+&XO>QQSO7+&XO!>oQWO7+&XOOQO7+%t7+%tO$6nQ(CjO7+&QOOQO7+&Q7+&QO%QQUO7+&QO%&|Q(C[O7+&QO!>dQ(C[O7+%tO!>oQWO7+%tO%'XQ(C[O7+&QO%'gQ(CjO7++bO%QQUO7++bO%'wQSO7++aO%'wQSO7++aOOQO1G4i1G4iO:vQSO1G4iO%(PQSO1G4iOOQO7+%y7+%yO#![QSO<<KwO$MUQbO<<KwO%(_QSO<<KwOOQQ<<Kw<<KwO!%tQ,UO<<KwO%QQUO<<KwO%(gQSO<<KwO%(rQ(CjO1G2kO%*}Q(CjO1G2mO%-YQ(CjO1G2XO%/kQ,UO,5>vOOQO-E<Y-E<YO%/uQbO,5>wO%QQUO,5>wOOQO-E<Z-E<ZO%0PQSO1G5oOOQ(CY<<I}<<I}O%0XQ$IUO1G0nO%2cQ$IUO1G0xO%2jQ$IUO1G0xO%4nQ$IUO1G0xO%4uQ$IUO1G0xO%6jQ$IUO1G0xO%7QQ$IUO1G0xO%9eQ$IUO1G0xO%9lQ$IUO1G0xO%;pQ$IUO1G0xO%;wQ$IUO1G0xO%=oQ$IUO1G0xO%>SQ(CjO<<JaO%?XQ$IUO1G0xO%@}Q$IUO'#J^O%CQQ$IUO1G1^O%C_Q$IUO1G0QO!)jQUO'#FlOOQO'#Jy'#JyOOQO1G1p1G1pO%CiQSO1G1oO%CnQ$IUO,5?QOOOO7+'c7+'cOOOO1G/S1G/SOOQ(CY1G4n1G4nO!'^Q,UO7+(ZO%CxQSO,5?RO9_QSO,5?ROOQO-E<e-E<eO%DWQSO1G6RO%DWQSO1G6RO%D`QSO1G6RO%DkQ,UO7+'sO%D{Q`O,5?TO%EVQSO,5?TO!%tQ,UO,5?TOOQO-E<g-E<gO%E[Q`O1G6SO%EfQSO1G6SOOQ(CW1G2c1G2cO$ mQSO1G2cOOQ(CW1G2b1G2bO%EnQSO1G2dO!%tQ,UO1G2dOOQ(CW1G2i1G2iO!>oQWO1G2bOBoQSO1G2cO%EsQSO1G2dO%E{QSO1G2cO!'^Q,UO7+*}OOQ(CY1G/[1G/[O%FWQSO1G/[OOQ(CY7+'n7+'nO%F]Q,UO7+'uO%FmQ(CjO<<KROOQ(CY<<KR<<KRO!%tQ,UO'#IlO%GaQSO,5@iO!%tQ,UO1G2gOOQQ<<Gx<<GxO!>dQ(C[O<<GxO%GiQ(CjO<<ItOOQ(CY<<It<<ItOOQO,5?^,5?^O%H]QSO,5?^O$%|QSO,5?^OOQO-E<p-E<pO%HbQSO1G6ZO%HbQSO1G6ZO9_QSO1G6ZO?rQSO<<LcOOQQ<<Lc<<LcO%HjQSO<<LcO9OQ(C[O<<LcO%HoQSO1G0sOOQQ<<LO<<LOO% dQ(ChO<<LOOOQQ<<LP<<LPO% nQ`O<<LPO%HtQWO'#InO%IPQSO,5@lO!)jQUO,5@lOOQQ1G2}1G2}O%IXQUO'#JgOOQO'#Ip'#IpO9OQ(C[O'#IpO%IcQWO,5=lOOQQ,5=l,5=lO%IjQWO'#E`O%JOQSO7+(qO%JTQSO7+(qOOQQ7+(q7+(qO!%tQ,UO7+(qO%QQUO7+(qO%J]QSO7+(qOOQQ7+(s7+(sO9OQ(C[O7+(sO#K`QSO7+(sO8tQSO7+(sO!>oQWO7+(sO%JhQSO,5?]OOQO-E<o-E<oOOQO'#HT'#HTO%JsQSO1G6XO9OQ(C[O<<GnOOQQ<<Gn<<GnO?rQSO<<GnO%J{QSO7++vO%KQQSO7++wOOQQ7+({7+({O%KVQSO7+({O%K[QUO7+({O%KcQSO7+({O%QQUO7++vO%QQUO7++wOOQQ<<Lo<<LoOOQQ<<Lq<<LqOOQQ-E<r-E<rOOQQ1G3p1G3pO%KhQSO,5>VOOQQ,5>X,5>XO%KmQSO1G3vO:vQSO7+&_O!)jQUO7+&_OOQO7+%X7+%XO%KrQ$IUO1G5yO>QQSO7+%XOOQ(CY<<I]<<I]OOQ(CY<<Is<<IsO>QQSO<<IsOOQO<<Il<<IlO$6nQ(CjO<<IlO%QQUO<<IlOOQO<<I`<<I`O!>dQ(C[O<<I`O%K|Q(C[O<<IlO%LXQ(CjO<<N|O%LiQSO<<N{OOQO7+*T7+*TO:vQSO7+*TOOQQANAcANAcO%LqQSOANAcO!%tQ,UOANAcO#![QSOANAcO$MUQbOANAcO%QQUOANAcO%LyQ(CjO7+'sO& [Q(CjO7+'uO&#mQbO1G4cO&#wQ$IUO7+&YO&$UQ$IUO,59nO&&XQ$IUO,5<dO&([Q$IUO,5<fO&*_Q$IUO,5<tO&,TQ$IUO7+'fO&,bQ$IUO7+'gO&,oQSO,5<WOOQO7+'Z7+'ZO&,tQ,UO<<KuOOQO1G4m1G4mO&,{QSO1G4mO&-WQSO1G4mO&-fQSO7++mO&-fQSO7++mO!%tQ,UO1G4oO&-nQ`O1G4oO&-xQSO7++nOOQ(CW7+'}7+'}O$ mQSO7+(OO&.QQ`O7+(OOOQ(CW7+'|7+'|O$ mQSO7+'}O&.XQSO7+(OO!%tQ,UO7+(OOBoQSO7+'}O&.^Q,UO<<NiOOQ(CY7+$v7+$vO&.hQ`O,5?WOOQO-E<j-E<jO&.rQ(ChO7+(ROOQQAN=dAN=dO9_QSO1G4xOOQO1G4x1G4xO&/SQSO1G4xO&/XQSO7++uO&/XQSO7++uO9OQ(C[OANA}O?rQSOANA}OOQQANA}ANA}OOQQANAjANAjOOQQANAkANAkO&/aQSO,5?YOOQO-E<l-E<lO&/lQ$IUO1G6WO&1|QbO'#CfOOQO,5?[,5?[OOQO-E<n-E<nOOQQ1G3W1G3WO%IXQUO,5<xOOQQ<<L]<<L]O!%tQ,UO<<L]O%JOQSO<<L]O&2WQSO<<L]O%QQUO<<L]OOQQ<<L_<<L_O9OQ(C[O<<L_O#K`QSO<<L_O8tQSO<<L_O&2`QWO1G4wO&2kQSO7++sOOQQAN=YAN=YO9OQ(C[OAN=YOOQQ<= b<= bOOQQ<= c<= cOOQQ<<Lg<<LgO&2sQSO<<LgO&2xQUO<<LgO&3PQSO<= bO&3UQSO<= cOOQQ1G3q1G3qO>QQSO7+)bO&3ZQSO<<IyO&3fQ$IUO<<IyOOQO<<Hs<<HsOOQ(CYAN?_AN?_OOQOAN?WAN?WO$6nQ(CjOAN?WOOQOAN>zAN>zO%QQUOAN?WOOQO<<Mo<<MoOOQQG26}G26}O!%tQ,UOG26}O#![QSOG26}O&3pQSOG26}O$MUQbOG26}O&3xQ$IUO<<JaO&4VQ$IUO1G2XO&5{Q$IUO1G2kO&8OQ$IUO1G2mO&:RQ$IUO<<KRO&:`Q$IUO<<ItOOQO1G1r1G1rO!'^Q,UOANAaOOQO7+*X7+*XO&:mQSO7+*XO&:xQSO<= XO&;QQ`O7+*ZOOQ(CW<<Kj<<KjO$ mQSO<<KjOOQ(CW<<Ki<<KiO&;[Q`O<<KjO$ mQSO<<KiOOQO7+*d7+*dO9_QSO7+*dO&;cQSO<= aOOQQG27iG27iO9OQ(C[OG27iO!)jQUO1G4tO&;kQSO7++rO%JOQSOANAwOOQQANAwANAwO!%tQ,UOANAwO&;sQSOANAwOOQQANAyANAyO9OQ(C[OANAyO#K`QSOANAyOOQO'#HU'#HUOOQO7+*c7+*cOOQQG22tG22tOOQQANBRANBRO&;{QSOANBROOQQAND|AND|OOQQAND}AND}OOQQ<<L|<<L|O!)jQUOAN?eOOQOG24rG24rO$6nQ(CjOG24rO#![QSOLD,iOOQQLD,iLD,iO!%tQ,UOLD,iO&<QQSOLD,iO&<YQ$IUO7+'sO&>OQ$IUO7+'uO&?tQ,UOG26{OOQO<<Ms<<MsOOQ(CWANAUANAUO$ mQSOANAUOOQ(CWANATANATOOQO<<NO<<NOOOQQLD-TLD-TO&@UQ$IUO7+*`OOQQG27cG27cO%JOQSOG27cO!%tQ,UOG27cOOQQG27eG27eO9OQ(C[OG27eOOQQG27mG27mO&@`Q$IUOG25POOQOLD*^LD*^OOQQ!$(!T!$(!TO#![QSO!$(!TO!%tQ,UO!$(!TO&@jQ(CjOG26{OOQ(CWG26pG26pOOQQLD,}LD,}O%JOQSOLD,}OOQQLD-PLD-POOQQ!)9Eo!)9EoO#![QSO!)9EoOOQQ!$(!i!$(!iOOQQ!.K;Z!.K;ZO&B{Q$IUOG26{O!)jQUO'#DvO0uQSO'#ETO&DqQbO'#JcO!)jQUO'#DnO&DxQUO'#DzO!)jQUO'#D|O&EPQbO'#CfO&GgQbO'#CfO&GwQUO,5;SO!)jQUO,5;^O!)jQUO,5;^O!)jQUO,5;^O!)jQUO,5;^O!)jQUO,5;^O!)jQUO,5;^O!)jQUO,5;^O!)jQUO,5;^O!)jQUO,5;^O!)jQUO,5;^O!)jQUO,5;^O!)jQUO'#IfO&IzQSO,5<cO&JSQ,UO,5;^O&KgQ,UO,5;^O!)jQUO,5;rO0xQSO'#DSO0xQSO'#DSO!%tQ,UO'#FxO&JSQ,UO'#FxO!%tQ,UO'#FzO&JSQ,UO'#FzO!%tQ,UO'#GYO&JSQ,UO'#GYO!)jQUO,5:fO!)jQUO,5@_O&GwQUO1G0nO&KnQ$IUO'#CfO!)jQUO1G1zO!%tQ,UO,5=PO&JSQ,UO,5=PO!%tQ,UO,5=RO&JSQ,UO,5=RO!%tQ,UO,5<mO&JSQ,UO,5<mO&GwQUO1G1{O!)jQUO7+&uO!%tQ,UO1G2XO&JSQ,UO1G2XO!%tQ,UO1G2ZO&JSQ,UO1G2ZO&GwQUO7+'gO&GwQUO7+&YO!%tQ,UOANAaO&JSQ,UOANAaO&KxQSO'#EhO&K}QSO'#EhO&LVQSO'#FWO&L[QSO'#ErO&LaQSO'#JsO&LlQSO'#JqO&LwQSO,5;SO&L|Q,UO,5<`O&MTQSO'#GRO&MYQSO'#GRO&M_QSO,5<aO&MgQSO,5;SO&MoQ$IUO1G1ZO&MvQSO,5<mO&M{QSO,5<mO&NQQSO,5<oO&NVQSO,5<oO&N[QSO1G1{O&NaQSO1G0nO&NfQ,UO<<KuO&NmQ,UO<<KuO7^Q,UO'#FvO8tQSO'#FuO@mQSO'#EgO!)jQUO,5;oO!2dQSO'#GRO!2dQSO'#GRO!2dQSO'#GTO!2dQSO'#GTO!'^Q,UO7+(ZO!'^Q,UO7+(ZO$HyQ`O1G2oO$HyQ`O1G2oO!%tQ,UO,5=TO!%tQ,UO,5=T",stateData:"' v~O'mOS'nOSROS'oRQ~OPYOQYOV!TO^pOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O#p}O$QzO$UfO%`{O%b!OO%d|O%e|O%h!PO%j!QO%m!RO%n!RO%p!SO%|!UO&S!VO&U!WO&W!XO&Y!YO&]!ZO&c![O&i!]O&k!^O&m!_O&o!`O&q!aO'tSO'vTO'yUO(RVO(a[O(niO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO't!bO'vTO'yUO(RVO(a[O(niO~O^!sOl!kO|!lO![!uO!]!rO!^!rO!x9mO!|!mO!}!mO#O!tO#P!mO#Q!mO#T!vO#U!vO'u!iO'vTO'yUO(U!jO(a!pO~O'o!wO~OPYXXYX^YXkYXyYXzYX|YX!VYX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX'kYX(RYX(bYX(iYX(jYX~O!a$zX~P(gO[!yO'v!{O'w!yO'x!{O~O[!|O'x!{O'y!{O'z!|O~Oq#OO!O#PO(S#PO(T#RO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO't9rO'vTO'yUO(RVO(a[O(niO~O!U#VO!V#SO!S(XP!S(fP~P+sO!W#_O~P`OPYOQYOa!gOb!fOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO'vTO'yUO(RVO(a[O(niO~Oi#iO!U#eO!x]O#b#hO#c#eO't9sO!g(cP~P._O!h#kO't#jO~O!t#oO!x]O%`#pO~O#d#qO~O!a#rO#d#qO~OP$YOX$aOk#}Oy#vOz#wO|#xO!V$^O!e$PO!f#tO!h#uO!l$YO#g#{O#h#|O#i#|O#j#|O#k$OO#l$PO#m$PO#n$`O#o$PO#q$QO#s$SO#u$UO#v$VO(RVO(b$WO(i#yO(j#zO~O^(VX'k(VX'i(VX!g(VX!S(VX!X(VX%a(VX!a(VX~P1gO#X$bO#{$bOP(WXX(WXk(WXy(WXz(WX|(WX!V(WX!e(WX!h(WX!l(WX#g(WX#h(WX#i(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#q(WX#s(WX#u(WX#v(WX(R(WX(b(WX(i(WX(j(WX!X(WX%a(WX~O^(WX!f(WX'k(WX'i(WX!S(WX!g(WXo(WX!a(WX~P3}O#X$bO~O$W$dO$Y$cO$a$iO~O!X$jO$UfO$d$kO$f$mO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#c%YO$Q%VO$m%TO$o%UO$r%WO't$oO'vTO'yUO'}%OO(R$rOd(OP~O!h%ZO~O!a%]O~O^%^O'k%^O~O'u!iO~P%QO't%eO~O!h%ZO't%eO'u!iO'}%OO~Ob%lO!h%ZO't%eO~O#o$PO~Oy%qO!X%nO!h%pO%b%tO't%eO'u!iO'vTO'yUO](vP~O!t#oO~O|%vO!X%wO't%eO~O|%vO!X%wO%j%{O't%eO~O't%|O~O#p}O%b!OO%d|O%e|O%h!PO%j!QO%m!RO%n!RO~Oa&VOb&UO!t&SO%`&TO%r&RO~P;fOa&YObwO!X&XO!tvO!x]O#p}O%`{O%d|O%e|O%h!PO%j!QO%m!RO%n!RO%p!SO~O_&]O#X&`O%b&ZO'u!iO~P<eO!h&aO!q&eO~O!h#kO~O!XXO~O^%^O'j&mO'k%^O~O^%^O'j&pO'k%^O~O^%^O'j&rO'k%^O~O'iYX!SYXoYX!gYX&QYX!XYX%aYX!aYX~P(gO!['PO!]&xO!^&xO'u!iO'vTO'yUO~Ol&vO|&uO!U&yO(U&tO!W(YP!W(hP~P?fOg'SO!X'QO't%eO~Ob'XO!h%ZO't%eO~Oy%qO!h%pO~Ol!kO|!lO!x9mO!|!mO!}!mO#P!mO#Q!mO'u!iO'vTO'yUO(U!jO(a!pO~O!['_O!]'^O!^'^O#O!mO#T'`O#U'`O~PAQO^%^O!a#rO!h%ZO'k%^O'}%OO(b'bO~O!l'fO#X'dO~PB`Ol!kO|!lO'vTO'yUO(U!jO(a!pO~O!XXOl(_X|(_X![(_X!](_X!^(_X!x(_X!|(_X!}(_X#O(_X#P(_X#Q(_X#T(_X#U(_X'u(_X'v(_X'y(_X(U(_X(a(_X~O!]'^O!^'^O'u!iO~PCOO'p'jO'q'jO'r'lO~O[!yO'v'nO'w!yO'x'nO~O[!|O'x'nO'y'nO'z!|O~Oq#OO!O#PO(S#PO(T'rO~O!U'tO!S&|X!S'SX!V&|X!V'SX~P+sO!V'vO!S(XX~OP$YOX$aOk#}Oy#vOz#wO|#xO!V'vO!e$PO!f#tO!h#uO!l$YO#g#{O#h#|O#i#|O#j#|O#k$OO#l$PO#m$PO#n$`O#o$PO#q$QO#s$SO#u$UO#v$VO(RVO(b$WO(i#yO(j#zO~O!S(XX~PFrO!S'{O~O!S(eX!V(eX!a(eX!g(eX(b(eX~O#X(eX#d#]X!W(eX~PHxO#X'|O!S(gX!V(gX~O!V'}O!S(fX~O!S(QO~O#X$bO~PHxO!W(RO~P`Oy#vOz#wO|#xO!f#tO!h#uO(RVOP!jaX!jak!ja!V!ja!e!ja!l!ja#g!ja#h!ja#i!ja#j!ja#k!ja#l!ja#m!ja#n!ja#o!ja#q!ja#s!ja#u!ja#v!ja(b!ja(i!ja(j!ja~O^!ja'k!ja'i!ja!S!ja!g!jao!ja!X!ja%a!ja!a!ja~PJ`O!g(SO~O!a#rO#X(TO(b'bO!V(dX^(dX'k(dX~O!g(dX~PMOO|%vO!X%wO!x]O#b(YO#c(XO't%eO~O!V(ZO!g(cX~O!g(]O~O|%vO!X%wO#c(XO't%eO~OP(WXX(WXk(WXy(WXz(WX|(WX!V(WX!e(WX!f(WX!h(WX!l(WX#g(WX#h(WX#i(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#q(WX#s(WX#u(WX#v(WX(R(WX(b(WX(i(WX(j(WX~O!a#rO!g(WX~PNlOy(^Oz(_O!f#tO!h#uO!x!wa|!wa~O!t!wa%`!wa!X!wa#b!wa#c!wa't!wa~P!!pO!t(cO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO't!bO'vTO'yUO(RVO(a[O(niO~Oi%POk$qOl$pOm$pOs%QOu%ROw:VO|$xO!X$yO!c;aO!h$uO#c:]O$Q%VO$m:XO$o:ZO$r%WO't(gO'vTO'yUO'}%OO(R$rO~O#d(iO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#c%YO$Q%VO$m%TO$o%UO$r%WO't(gO'vTO'yUO'}%OO(R$rO~Od([P~P!'^O!U(mO!g(]P~P%QO(U(oO(a[O~O|(qO!h#uO(U(oO(a[O~OP9lOQ9lOa;]Ob!fOikOk9lOlkOmkOskOu9lOw9lO|WO!QkO!RkO!X!cO!c9oO!hZO!k9lO!l9lO!m9lO!o9pO!q9qO!t!eO$Q!hO$UfO't)PO'vTO'yUO(RVO(a[O(n;ZO~Oz)SO!h#uO~O!V$^O^$ka'k$ka'i$ka!g$ka!S$ka!X$ka%a$ka!a$ka~O#p)WO~P!%tOy)ZO!a)YO!X$XX$T$XX$W$XX$Y$XX$a$XX~O!a)YO!X(kX$T(kX$W(kX$Y(kX$a(kX~Oy)ZO~P!-SOy)ZO!X(kX$T(kX$W(kX$Y(kX$a(kX~O!X)]O$T)aO$W)[O$Y)[O$a)bO~O!U)eO~P!)jO$W$dO$Y$cO$a)iO~Og$sXy$sX|$sX!f$sX(i$sX(j$sX~OdfXd$sXgfX!VfX#XfX~P!.xOl)kO~Oq)lO(S)mO(T)oO~Og)xOy)qO|)rO(i)tO(j)vO~Od)pO~P!0ROd)yO~Oi%POk$qOl$pOm$pOs%QOu%ROw:VO|$xO!X$yO!c;aO!h$uO#c:]O$Q%VO$m:XO$o:ZO$r%WO'vTO'yUO'}%OO(R$rO~O!U)}O't)zO!g(oP~P!0pO#d*PO~O!h*QO~O!U*VO't*SO!S(pP~P!0pOk*cO|*ZO![*aO!]*YO!^*YO!h*QO#T*bO%W*]O'u!iO(U!jO~O!W*`O~P!2vO!f#tOg(QXy(QX|(QX(i(QX(j(QX!V(QX#X(QX~Od(QX#y(QX~P!3oOg*fO#X*eOd(PX!V(PX~O!V*gOd(OX~O't%|Od(OP~O!h*nO~O't(gO~Oi*rO|%vO!U#eO!X%wO!x]O#b#hO#c#eO't%eO!g(cP~O!a#rO#d*sO~OP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#g#{O#h#|O#i#|O#j#|O#k$OO#l$PO#m$PO#n$`O#o$PO#q$QO#s$SO#u$UO#v$VO(RVO(b$WO(i#yO(j#zO~O^!ba!V!ba'k!ba'i!ba!S!ba!g!bao!ba!X!ba%a!ba!a!ba~P!6UOy#vOz#wO|#xO!f#tO!h#uO(RVOP!naX!nak!na!V!na!e!na!l!na#g!na#h!na#i!na#j!na#k!na#l!na#m!na#n!na#o!na#q!na#s!na#u!na#v!na(b!na(i!na(j!na~O^!na'k!na'i!na!S!na!g!nao!na!X!na%a!na!a!na~P!8oOy#vOz#wO|#xO!f#tO!h#uO(RVOP!paX!pak!pa!V!pa!e!pa!l!pa#g!pa#h!pa#i!pa#j!pa#k!pa#l!pa#m!pa#n!pa#o!pa#q!pa#s!pa#u!pa#v!pa(b!pa(i!pa(j!pa~O^!pa'k!pa'i!pa!S!pa!g!pao!pa!X!pa%a!pa!a!pa~P!;YOg*{O!X'QO%a*zO'}%OO~O!a*}O^'|X!X'|X'k'|X!V'|X~O^%^O!XXO'k%^O~O!h%ZO'}%OO~O!h%ZO't%eO'}%OO~O!a#rO#d(iO~O%b+ZO't+VO'vTO'yUO!W(wP~O!V+[O](vX~O(U(oO~OX+`O~O]+aO~O!X%nO't%eO'u!iO](vP~O|%vO!U+eO!V'}O!X%wO't%eO!S(fP~Ol&|O|+gO!U+fO'vTO'yUO(U(oO~O!W(hP~P!@xO!V+hO^(sX'k(sX~O#X+lO'}%OO~Og+oO!X$yO'}%OO~O!X+qO~Oy+sO!XXO~O!t+xO~Ob+}O~O't#jO!W(uP~Ob%lO~O%b!OO't%|O~P<eOX,TO],SO~OPYOQYOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O$UfO%`{O'vTO'yUO(RVO(a[O(niO~O!X!cO$Q!hO't!bO~P!C]O],SO^%^O'k%^O~O^,XO#p,ZO%d,ZO%e,ZO~P%QO!h&aO~O&S,`O~O!X,bO~O&e,dO&g,eOP&baQ&baV&ba^&baa&bab&bai&bak&bal&bam&bas&bau&baw&ba|&ba!Q&ba!R&ba!X&ba!c&ba!h&ba!k&ba!l&ba!m&ba!o&ba!q&ba!t&ba!x&ba#p&ba$Q&ba$U&ba%`&ba%b&ba%d&ba%e&ba%h&ba%j&ba%m&ba%n&ba%p&ba%|&ba&S&ba&U&ba&W&ba&Y&ba&]&ba&c&ba&i&ba&k&ba&m&ba&o&ba&q&ba'i&ba't&ba'v&ba'y&ba(R&ba(a&ba(n&ba!W&ba&Z&ba_&ba&`&ba~O't,jO~O!V{X!V!_X!W{X!W!_X!a{X!a!_X!h!_X#X{X'}!_X~O!a,oO#X,nO!V#aX!V(ZX!W#aX!W(ZX!a(ZX!h(ZX'}(ZX~O!a,qO!h%ZO'}%OO!V!ZX!W!ZX~Ol!kO|!lO'vTO'yUO(U!jO~OP9lOQ9lOa;]Ob!fOikOk9lOlkOmkOskOu9lOw9lO|WO!QkO!RkO!X!cO!c9oO!hZO!k9lO!l9lO!m9lO!o9pO!q9qO!t!eO$Q!hO$UfO'vTO'yUO(RVO(a[O(n;ZO~O't:bO~P!LrO!V,uO!W(YX~O!W,wO~O!a,oO#X,nO!V#aX!W#aX~O!V,xO!W(hX~O!W,zO~O!],{O!^,{O'u!iO~P!LaO!W-OO~P'TOg-RO!X'QO~O!S-WO~Ol!wa![!wa!]!wa!^!wa!|!wa!}!wa#O!wa#P!wa#Q!wa#T!wa#U!wa'u!wa'v!wa'y!wa(U!wa(a!wa~P!!pO!l-]O#X-ZO~PB`O!]-_O!^-_O'u!iO~PCOO^%^O#X-ZO'k%^O~O^%^O!a#rO#X-ZO'k%^O~O^%^O!a#rO!l-]O#X-ZO'k%^O(b'bO~O'p'jO'q'jO'r-dO~Oo-eO~O!S&|a!V&|a~P!6UO!U-iO!S&|X!V&|X~P%QO!V'vO!S(Xa~O!S(Xa~PFrO!V'}O!S(fa~O|%vO!U-mO!X%wO't%eO!S'SX!V'SX~O#X-oO!V(da!g(da^(da'k(da~O!a#rO~P#&xO!V(ZO!g(ca~O|%vO!X%wO#c-sO't%eO~Oi-xO|%vO!U-uO!X%wO!x]O#b-wO#c-uO't%eO!V'VX!g'VX~Oz-|O!h#uO~Og.PO!X'QO%a.OO'}%OO~O^#[i!V#[i'k#[i'i#[i!S#[i!g#[io#[i!X#[i%a#[i!a#[i~P!6UOg;gOy)qO|)rO(i)tO(j)vO~O#d#Wa^#Wa#X#Wa'k#Wa!V#Wa!g#Wa!X#Wa!S#Wa~P#)tO#d(QXP(QXX(QX^(QXk(QXz(QX!e(QX!h(QX!l(QX#g(QX#h(QX#i(QX#j(QX#k(QX#l(QX#m(QX#n(QX#o(QX#q(QX#s(QX#u(QX#v(QX'k(QX(R(QX(b(QX!g(QX!S(QX'i(QXo(QX!X(QX%a(QX!a(QX~P!3oO!V.YOd([X~P!0ROd.[O~O!V.]O!g(]X~P!6UO!g.`O~O!S.bO~OP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(RVOX#fi^#fik#fi!V#fi!e#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'k#fi(b#fi(i#fi(j#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O#g#fi~P#-pO#g#{O~P#-pOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#g#{O#h#|O#i#|O#j#|O(RVOX#fi^#fi!V#fi!e#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'k#fi(b#fi(i#fi(j#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~Ok#fi~P#0bOk#}O~P#0bOP$YOk#}Oy#vOz#wO|#xO!f#tO!h#uO!l$YO#g#{O#h#|O#i#|O#j#|O#k$OO(RVO^#fi!V#fi#q#fi#s#fi#u#fi#v#fi'k#fi(b#fi(i#fi(j#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~OX#fi!e#fi#l#fi#m#fi#n#fi#o#fi~P#3SOX$aO!e$PO#l$PO#m$PO#n$`O#o$PO~P#3SOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#g#{O#h#|O#i#|O#j#|O#k$OO#l$PO#m$PO#n$`O#o$PO#q$QO(RVO^#fi!V#fi#s#fi#u#fi#v#fi'k#fi(b#fi(j#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O(i#fi~P#6TO(i#yO~P#6TOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#g#{O#h#|O#i#|O#j#|O#k$OO#l$PO#m$PO#n$`O#o$PO#q$QO#s$SO(RVO(i#yO^#fi!V#fi#u#fi#v#fi'k#fi(b#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O(j#fi~P#8uO(j#zO~P#8uOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#g#{O#h#|O#i#|O#j#|O#k$OO#l$PO#m$PO#n$`O#o$PO#q$QO#s$SO#u$UO(RVO(i#yO(j#zO~O^#fi!V#fi#v#fi'k#fi(b#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~P#;gOPYXXYXkYXyYXzYX|YX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(RYX(bYX(iYX(jYX!VYX!WYX~O#yYX~P#>QOP$YOX:TOk9wOy#vOz#wO|#xO!e9yO!f#tO!h#uO!l$YO#g9uO#h9vO#i9vO#j9vO#k9xO#l9yO#m9yO#n:SO#o9yO#q9zO#s9|O#u:OO#v:PO(RVO(b$WO(i#yO(j#zO~O#y.dO~P#@_O#X:UO#{:UO#y(WX!W(WX~PNlO^'Ya!V'Ya'k'Ya'i'Ya!g'Ya!S'Yao'Ya!X'Ya%a'Ya!a'Ya~P!6UOP#fiX#fi^#fik#fiz#fi!V#fi!e#fi!f#fi!h#fi!l#fi#g#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'k#fi(R#fi(b#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~P#)tO^#zi!V#zi'k#zi'i#zi!S#zi!g#zio#zi!X#zi%a#zi!a#zi~P!6UO$W.iO$Y.iO~O$W.jO$Y.jO~O!a)YO#X.kO!X$^X$T$^X$W$^X$Y$^X$a$^X~O!U.lO~O!X)]O$T.nO$W)[O$Y)[O$a.oO~O!V:QO!W(VX~P#@_O!W.pO~O!a)YO$a(kX~O$a.rO~Oq)lO(S)mO(T.uO~Ol.xO!S.yO'vTO'yUO~O!VcX!acX!gcX!g$sX(bcX~P!.xO!g/PO~P#)tO!V/QO!a#rO(b'bO!g(oX~O!g/VO~O!U)}O't%eO!g(oP~O#d/XO~O!S$sX!V$sX!a$zX~P!.xO!V/YO!S(pX~P#)tO!a/[O~O!S/^O~Ok/bO!a#rO!h%ZO'}%OO(b'bO~O't/dO~O!a*}O~O^%^O!V/hO'k%^O~O!W/jO~P!2vO!]/kO!^/kO'u!iO(U!jO~O|/mO(U!jO~O#T/nO~O't%|Od'_X!V'_X~O!V*gOd(Oa~Od/sO~Oy/tOz/tO|/uOgva(iva(jva!Vva#Xva~Odva#yva~P#L|Oy)qO|)rOg$la(i$la(j$la!V$la#X$la~Od$la#y$la~P#MrOy)qO|)rOg$na(i$na(j$na!V$na#X$na~Od$na#y$na~P#NeO#d/wO~Od$|a!V$|a#X$|a#y$|a~P!0RO!a#rO~O#d/zO~Oy#vOz#wO|#xO!f#tO!h#uO(RVOP!niX!nik!ni!V!ni!e!ni!l!ni#g!ni#h!ni#i!ni#j!ni#k!ni#l!ni#m!ni#n!ni#o!ni#q!ni#s!ni#u!ni#v!ni(b!ni(i!ni(j!ni~O^!ni'k!ni'i!ni!S!ni!g!nio!ni!X!ni%a!ni!a!ni~P$ wOg.PO!X'QO%a.OO~Oi0RO't0QO~P!0sO!a*}O^'|a!X'|a'k'|a!V'|a~O#d0XO~OXYX!VcX!WcX~O!V0YO!W(wX~O!W0[O~OX0]O~O't+VO'vTO'yUO~O!X%nO't%eO]'gX!V'gX~O!V+[O](va~O!g0bO~P!6UOX0eO~O]0fO~O!V+hO^(sa'k(sa~O#X0lO~Og0oO!X$yO~O(U(oO!W(tP~Og0xO!X0uO%a0wO'}%OO~OX1SO!V1QO!W(uX~O!W1TO~O]1VO^%^O'k%^O~O't#jO'vTO'yUO~O#X$bO#{$bOP(WXX(WXk(WXy(WXz(WX|(WX!V(WX!e(WX!h(WX!l(WX#g(WX#h(WX#i(WX#j(WX#k(WX#l(WX#m(WX#n(WX#q(WX#s(WX#u(WX#v(WX(R(WX(b(WX(i(WX(j(WX~O#o1YO&Q1ZO^(WX!f(WX~P$(xO#X$bO#o1YO&Q1ZO~O^1[O~P%QO^1^O~O&Z1bOP&XiQ&XiV&Xi^&Xia&Xib&Xii&Xik&Xil&Xim&Xis&Xiu&Xiw&Xi|&Xi!Q&Xi!R&Xi!X&Xi!c&Xi!h&Xi!k&Xi!l&Xi!m&Xi!o&Xi!q&Xi!t&Xi!x&Xi#p&Xi$Q&Xi$U&Xi%`&Xi%b&Xi%d&Xi%e&Xi%h&Xi%j&Xi%m&Xi%n&Xi%p&Xi%|&Xi&S&Xi&U&Xi&W&Xi&Y&Xi&]&Xi&c&Xi&i&Xi&k&Xi&m&Xi&o&Xi&q&Xi'i&Xi't&Xi'v&Xi'y&Xi(R&Xi(a&Xi(n&Xi!W&Xi_&Xi&`&Xi~O_1hO!W1fO&`1gO~P`O!XXO!h1jO~O&g,eOP&biQ&biV&bi^&bia&bib&bii&bik&bil&bim&bis&biu&biw&bi|&bi!Q&bi!R&bi!X&bi!c&bi!h&bi!k&bi!l&bi!m&bi!o&bi!q&bi!t&bi!x&bi#p&bi$Q&bi$U&bi%`&bi%b&bi%d&bi%e&bi%h&bi%j&bi%m&bi%n&bi%p&bi%|&bi&S&bi&U&bi&W&bi&Y&bi&]&bi&c&bi&i&bi&k&bi&m&bi&o&bi&q&bi'i&bi't&bi'v&bi'y&bi(R&bi(a&bi(n&bi!W&bi&Z&bi_&bi&`&bi~O!S1pO~O!V!Za!W!Za~P#@_Ol!kO|!lO!U1vO(U!jO!V&}X!W&}X~P?fO!V,uO!W(Ya~O!V'TX!W'TX~P!@xO!V,xO!W(ha~O!W1}O~P'TO^%^O#X2WO'k%^O~O^%^O!a#rO#X2WO'k%^O~O^%^O!a#rO!l2[O#X2WO'k%^O(b'bO~O^%^O'k%^O~P!6UO!V$^Oo$ka~O!S&|i!V&|i~P!6UO!V'vO!S(Xi~O!V'}O!S(fi~O!S(gi!V(gi~P!6UO!V(di!g(di^(di'k(di~P!6UO#X2^O!V(di!g(di^(di'k(di~O!V(ZO!g(ci~O|%vO!X%wO!x]O#b2cO#c2bO't%eO~O|%vO!X%wO#c2bO't%eO~Og2jO!X'QO%a2iO~Og2jO!X'QO%a2iO'}%OO~O#dvaPvaXva^vakva!eva!fva!hva!lva#gva#hva#iva#jva#kva#lva#mva#nva#ova#qva#sva#uva#vva'kva(Rva(bva!gva!Sva'ivaova!Xva%ava!ava~P#L|O#d$laP$laX$la^$lak$laz$la!e$la!f$la!h$la!l$la#g$la#h$la#i$la#j$la#k$la#l$la#m$la#n$la#o$la#q$la#s$la#u$la#v$la'k$la(R$la(b$la!g$la!S$la'i$lao$la!X$la%a$la!a$la~P#MrO#d$naP$naX$na^$nak$naz$na!e$na!f$na!h$na!l$na#g$na#h$na#i$na#j$na#k$na#l$na#m$na#n$na#o$na#q$na#s$na#u$na#v$na'k$na(R$na(b$na!g$na!S$na'i$nao$na!X$na%a$na!a$na~P#NeO#d$|aP$|aX$|a^$|ak$|az$|a!V$|a!e$|a!f$|a!h$|a!l$|a#g$|a#h$|a#i$|a#j$|a#k$|a#l$|a#m$|a#n$|a#o$|a#q$|a#s$|a#u$|a#v$|a'k$|a(R$|a(b$|a!g$|a!S$|a'i$|a#X$|ao$|a!X$|a%a$|a!a$|a~P#)tO^#[q!V#[q'k#[q'i#[q!S#[q!g#[qo#[q!X#[q%a#[q!a#[q~P!6UOd'OX!V'OX~P!'^O!V.YOd([a~O!U2rO!V'PX!g'PX~P%QO!V.]O!g(]a~O!V.]O!g(]a~P!6UO!S2uO~O#y!ja!W!ja~PJ`O#y!ba!V!ba!W!ba~P#@_O#y!na!W!na~P!8oO#y!pa!W!pa~P!;YO!X3XO$UfO$_3YO~O!W3^O~Oo3_O~P#)tO^$hq!V$hq'k$hq'i$hq!S$hq!g$hqo$hq!X$hq%a$hq!a$hq~P!6UO!S3`O~Ol.xO'vTO'yUO~Oy)qO|)rO(j)vOg%Xi(i%Xi!V%Xi#X%Xi~Od%Xi#y%Xi~P$GeOy)qO|)rOg%Zi(i%Zi(j%Zi!V%Zi#X%Zi~Od%Zi#y%Zi~P$HWO(b$WO~P#)tO!U3cO't%eO!V'ZX!g'ZX~O!V/QO!g(oa~O!V/QO!a#rO!g(oa~O!V/QO!a#rO(b'bO!g(oa~Od$ui!V$ui#X$ui#y$ui~P!0RO!U3kO't*SO!S']X!V']X~P!0pO!V/YO!S(pa~O!V/YO!S(pa~P#)tO!a#rO#o3sO~Ok3vO!a#rO(b'bO~Od(Pi!V(Pi~P!0RO#X3yOd(Pi!V(Pi~P!0RO!g3|O~O^$iq!V$iq'k$iq'i$iq!S$iq!g$iqo$iq!X$iq%a$iq!a$iq~P!6UO!V4QO!X(qX~P#)tO!f#tO~P3}O^$sX!X$sX%UYX'k$sX!V$sX~P!.xO%U4SO^hXghXyhX|hX!XhX'khX(ihX(jhX!VhX~O%U4SO~O%b4ZO't+VO'vTO'yUO!V'fX!W'fX~O!V0YO!W(wa~OX4_O~O]4`O~O!S4dO~O^%^O'k%^O~P#)tO!X$yO~P#)tO!V4iO#X4kO!W(tX~O!W4lO~Ol!kO|4mO![!uO!]!rO!^!rO!x9mO!|!mO!}!mO#O!mO#P!mO#Q!mO#T4rO#U!vO'u!iO'vTO'yUO(U!jO(a!pO~O!W4qO~P%!VOg4wO!X0uO%a4vO~Og4wO!X0uO%a4vO'}%OO~O't#jO!V'eX!W'eX~O!V1QO!W(ua~O'vTO'yUO(U5QO~O]5UO~O!g5XO~P%QO^5ZO~O^5ZO~P%QO#o5]O&Q5^O~PMOO_1hO!W5bO&`1gO~P`O!a5dO~O!a5fO!V(Zi!W(Zi!a(Zi!h(Zi'}(Zi~O!V#ai!W#ai~P#@_O#X5gO!V#ai!W#ai~O!V!Zi!W!Zi~P#@_O^%^O#X5pO'k%^O~O^%^O!a#rO#X5pO'k%^O~O!V(dq!g(dq^(dq'k(dq~P!6UO!V(ZO!g(cq~O|%vO!X%wO#c5wO't%eO~O!X'QO%a5zO~Og5}O!X'QO%a5zO~O#d%XiP%XiX%Xi^%Xik%Xiz%Xi!e%Xi!f%Xi!h%Xi!l%Xi#g%Xi#h%Xi#i%Xi#j%Xi#k%Xi#l%Xi#m%Xi#n%Xi#o%Xi#q%Xi#s%Xi#u%Xi#v%Xi'k%Xi(R%Xi(b%Xi!g%Xi!S%Xi'i%Xio%Xi!X%Xi%a%Xi!a%Xi~P$GeO#d%ZiP%ZiX%Zi^%Zik%Ziz%Zi!e%Zi!f%Zi!h%Zi!l%Zi#g%Zi#h%Zi#i%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#q%Zi#s%Zi#u%Zi#v%Zi'k%Zi(R%Zi(b%Zi!g%Zi!S%Zi'i%Zio%Zi!X%Zi%a%Zi!a%Zi~P$HWO#d$uiP$uiX$ui^$uik$uiz$ui!V$ui!e$ui!f$ui!h$ui!l$ui#g$ui#h$ui#i$ui#j$ui#k$ui#l$ui#m$ui#n$ui#o$ui#q$ui#s$ui#u$ui#v$ui'k$ui(R$ui(b$ui!g$ui!S$ui'i$ui#X$uio$ui!X$ui%a$ui!a$ui~P#)tOd'Oa!V'Oa~P!0RO!V'Pa!g'Pa~P!6UO!V.]O!g(]i~O#y#[i!V#[i!W#[i~P#@_OP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(RVOX#fik#fi!e#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(b#fi(i#fi(j#fi!V#fi!W#fi~O#g#fi~P%0fO#g9uO~P%0fOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#g9uO#h9vO#i9vO#j9vO(RVOX#fi!e#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(b#fi(i#fi(j#fi!V#fi!W#fi~Ok#fi~P%2qOk9wO~P%2qOP$YOk9wOy#vOz#wO|#xO!f#tO!h#uO!l$YO#g9uO#h9vO#i9vO#j9vO#k9xO(RVO#q#fi#s#fi#u#fi#v#fi#y#fi(b#fi(i#fi(j#fi!V#fi!W#fi~OX#fi!e#fi#l#fi#m#fi#n#fi#o#fi~P%4|OX:TO!e9yO#l9yO#m9yO#n:SO#o9yO~P%4|OP$YOX:TOk9wOy#vOz#wO|#xO!e9yO!f#tO!h#uO!l$YO#g9uO#h9vO#i9vO#j9vO#k9xO#l9yO#m9yO#n:SO#o9yO#q9zO(RVO#s#fi#u#fi#v#fi#y#fi(b#fi(j#fi!V#fi!W#fi~O(i#fi~P%7hO(i#yO~P%7hOP$YOX:TOk9wOy#vOz#wO|#xO!e9yO!f#tO!h#uO!l$YO#g9uO#h9vO#i9vO#j9vO#k9xO#l9yO#m9yO#n:SO#o9yO#q9zO#s9|O(RVO(i#yO#u#fi#v#fi#y#fi(b#fi!V#fi!W#fi~O(j#fi~P%9sO(j#zO~P%9sOP$YOX:TOk9wOy#vOz#wO|#xO!e9yO!f#tO!h#uO!l$YO#g9uO#h9vO#i9vO#j9vO#k9xO#l9yO#m9yO#n:SO#o9yO#q9zO#s9|O#u:OO(RVO(i#yO(j#zO~O#v#fi#y#fi(b#fi!V#fi!W#fi~P%<OO^#wy!V#wy'k#wy'i#wy!S#wy!g#wyo#wy!X#wy%a#wy!a#wy~P!6UOg;hOy)qO|)rO(i)tO(j)vO~OP#fiX#fik#fiz#fi!e#fi!f#fi!h#fi!l#fi#g#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(R#fi(b#fi!V#fi!W#fi~P%>vO!f#tOP(QXX(QXg(QXk(QXy(QXz(QX|(QX!e(QX!h(QX!l(QX#g(QX#h(QX#i(QX#j(QX#k(QX#l(QX#m(QX#n(QX#o(QX#q(QX#s(QX#u(QX#v(QX#y(QX(R(QX(b(QX(i(QX(j(QX!V(QX!W(QX~O#y#zi!V#zi!W#zi~P#@_O#y!ni!W!ni~P$ wO!W6ZO~O!V'Ya!W'Ya~P#@_O!a#rO(b'bO!V'Za!g'Za~O!V/QO!g(oi~O!V/QO!a#rO!g(oi~Od$uq!V$uq#X$uq#y$uq~P!0RO!S']a!V']a~P#)tO!a6bO~O!V/YO!S(pi~P#)tO!V/YO!S(pi~O!S6fO~O!a#rO#o6kO~Ok6lO!a#rO(b'bO~O!S6nO~Od$wq!V$wq#X$wq#y$wq~P!0RO^$iy!V$iy'k$iy'i$iy!S$iy!g$iyo$iy!X$iy%a$iy!a$iy~P!6UO!V4QO!X(qa~O^#[y!V#[y'k#[y'i#[y!S#[y!g#[yo#[y!X#[y%a#[y!a#[y~P!6UOX6sO~O!V0YO!W(wi~O]6yO~O!a5fO~O(U(oO!V'bX!W'bX~O!V4iO!W(ta~OikO't7QO~P._O!W7TO~P%!VOl!kO|7UO'vTO'yUO(U!jO(a!pO~O!X0uO~O!X0uO%a7WO~Og7ZO!X0uO%a7WO~OX7`O!V'ea!W'ea~O!V1QO!W(ui~O!g7dO~O!g7eO~O!g7fO~O!g7fO~P%QO^7hO~O!a7kO~O!g7lO~O!V(gi!W(gi~P#@_O^%^O#X7tO'k%^O~O!V(dy!g(dy^(dy'k(dy~P!6UO!V(ZO!g(cy~O!X'QO%a7wO~O#d$uqP$uqX$uq^$uqk$uqz$uq!V$uq!e$uq!f$uq!h$uq!l$uq#g$uq#h$uq#i$uq#j$uq#k$uq#l$uq#m$uq#n$uq#o$uq#q$uq#s$uq#u$uq#v$uq'k$uq(R$uq(b$uq!g$uq!S$uq'i$uq#X$uqo$uq!X$uq%a$uq!a$uq~P#)tO#d$wqP$wqX$wq^$wqk$wqz$wq!V$wq!e$wq!f$wq!h$wq!l$wq#g$wq#h$wq#i$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#q$wq#s$wq#u$wq#v$wq'k$wq(R$wq(b$wq!g$wq!S$wq'i$wq#X$wqo$wq!X$wq%a$wq!a$wq~P#)tO!V'Pi!g'Pi~P!6UO#y#[q!V#[q!W#[q~P#@_Oy/tOz/tO|/uOPvaXvagvakva!eva!fva!hva!lva#gva#hva#iva#jva#kva#lva#mva#nva#ova#qva#sva#uva#vva#yva(Rva(bva(iva(jva!Vva!Wva~Oy)qO|)rOP$laX$lag$lak$laz$la!e$la!f$la!h$la!l$la#g$la#h$la#i$la#j$la#k$la#l$la#m$la#n$la#o$la#q$la#s$la#u$la#v$la#y$la(R$la(b$la(i$la(j$la!V$la!W$la~Oy)qO|)rOP$naX$nag$nak$naz$na!e$na!f$na!h$na!l$na#g$na#h$na#i$na#j$na#k$na#l$na#m$na#n$na#o$na#q$na#s$na#u$na#v$na#y$na(R$na(b$na(i$na(j$na!V$na!W$na~OP$|aX$|ak$|az$|a!e$|a!f$|a!h$|a!l$|a#g$|a#h$|a#i$|a#j$|a#k$|a#l$|a#m$|a#n$|a#o$|a#q$|a#s$|a#u$|a#v$|a#y$|a(R$|a(b$|a!V$|a!W$|a~P%>vO#y$hq!V$hq!W$hq~P#@_O#y$iq!V$iq!W$iq~P#@_O!W8RO~O#y8SO~P!0RO!a#rO!V'Zi!g'Zi~O!a#rO(b'bO!V'Zi!g'Zi~O!V/QO!g(oq~O!S']i!V']i~P#)tO!V/YO!S(pq~O!S8YO~P#)tO!S8YO~Od(Py!V(Py~P!0RO!V'`a!X'`a~P#)tO^%Tq!X%Tq'k%Tq!V%Tq~P#)tOX8_O~O!V0YO!W(wq~O#X8cO!V'ba!W'ba~O!V4iO!W(ti~P#@_OPYXXYXkYXyYXzYX|YX!SYX!VYX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(RYX(bYX(iYX(jYX~O!a%RX#o%RX~P&/vO!X0uO%a8gO~O'vTO'yUO(U8lO~O!V1QO!W(uq~O!g8oO~O!g8oO~P%QO!g8qO~O!g8rO~O#X8tO!V#ay!W#ay~O!V#ay!W#ay~P#@_O!X'QO%a8yO~O#y#wy!V#wy!W#wy~P#@_OP$uiX$uik$uiz$ui!e$ui!f$ui!h$ui!l$ui#g$ui#h$ui#i$ui#j$ui#k$ui#l$ui#m$ui#n$ui#o$ui#q$ui#s$ui#u$ui#v$ui#y$ui(R$ui(b$ui!V$ui!W$ui~P%>vOy)qO|)rO(j)vOP%XiX%Xig%Xik%Xiz%Xi!e%Xi!f%Xi!h%Xi!l%Xi#g%Xi#h%Xi#i%Xi#j%Xi#k%Xi#l%Xi#m%Xi#n%Xi#o%Xi#q%Xi#s%Xi#u%Xi#v%Xi#y%Xi(R%Xi(b%Xi(i%Xi!V%Xi!W%Xi~Oy)qO|)rOP%ZiX%Zig%Zik%Ziz%Zi!e%Zi!f%Zi!h%Zi!l%Zi#g%Zi#h%Zi#i%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#q%Zi#s%Zi#u%Zi#v%Zi#y%Zi(R%Zi(b%Zi(i%Zi(j%Zi!V%Zi!W%Zi~O#y$iy!V$iy!W$iy~P#@_O#y#[y!V#[y!W#[y~P#@_O!a#rO!V'Zq!g'Zq~O!V/QO!g(oy~O!S']q!V']q~P#)tO!S9QO~P#)tO!V0YO!W(wy~O!V4iO!W(tq~O!X0uO%a9XO~O!g9[O~O!X'QO%a9aO~OP$uqX$uqk$uqz$uq!e$uq!f$uq!h$uq!l$uq#g$uq#h$uq#i$uq#j$uq#k$uq#l$uq#m$uq#n$uq#o$uq#q$uq#s$uq#u$uq#v$uq#y$uq(R$uq(b$uq!V$uq!W$uq~P%>vOP$wqX$wqk$wqz$wq!e$wq!f$wq!h$wq!l$wq#g$wq#h$wq#i$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#q$wq#s$wq#u$wq#v$wq#y$wq(R$wq(b$wq!V$wq!W$wq~P%>vOd%]!Z!V%]!Z#X%]!Z#y%]!Z~P!0RO!V'bq!W'bq~P#@_O!V#a!Z!W#a!Z~P#@_O#d%]!ZP%]!ZX%]!Z^%]!Zk%]!Zz%]!Z!V%]!Z!e%]!Z!f%]!Z!h%]!Z!l%]!Z#g%]!Z#h%]!Z#i%]!Z#j%]!Z#k%]!Z#l%]!Z#m%]!Z#n%]!Z#o%]!Z#q%]!Z#s%]!Z#u%]!Z#v%]!Z'k%]!Z(R%]!Z(b%]!Z!g%]!Z!S%]!Z'i%]!Z#X%]!Zo%]!Z!X%]!Z%a%]!Z!a%]!Z~P#)tOP%]!ZX%]!Zk%]!Zz%]!Z!e%]!Z!f%]!Z!h%]!Z!l%]!Z#g%]!Z#h%]!Z#i%]!Z#j%]!Z#k%]!Z#l%]!Z#m%]!Z#n%]!Z#o%]!Z#q%]!Z#s%]!Z#u%]!Z#v%]!Z#y%]!Z(R%]!Z(b%]!Z!V%]!Z!W%]!Z~P%>vOo(VX~P1gO'u!iO~P!)jO!ScX!VcX#XcX~P&/vOPYXXYXkYXyYXzYX|YX!VYX!VcX!eYX!fYX!hYX!lYX#XYX#XcX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(RYX(bYX(iYX(jYX~O!acX!gYX!gcX(bcX~P&E^OP9lOQ9lOa;]Ob!fOikOk9lOlkOmkOskOu9lOw9lO|WO!QkO!RkO!XXO!c9oO!hZO!k9lO!l9lO!m9lO!o9pO!q9qO!t!eO$Q!hO$UfO't)PO'vTO'yUO(RVO(a[O(n;ZO~O!V:QO!W$ka~Oi%POk$qOl$pOm$pOs%QOu%ROw:WO|$xO!X$yO!c;bO!h$uO#c:^O$Q%VO$m:YO$o:[O$r%WO't(gO'vTO'yUO'}%OO(R$rO~O#p)WO~P&JSO!WYX!WcX~P&E^O#d9tO~O!a#rO#d9tO~O#X:UO~O#o9yO~O#X:`O!V(gX!W(gX~O#X:UO!V(eX!W(eX~O#d:aO~Od:cO~P!0RO#d:hO~O#d:iO~O!a#rO#d:jO~O!a#rO#d:aO~O#y:kO~P#@_O#d:lO~O#d:mO~O#d:nO~O#d:oO~O#d:pO~O#d:qO~O#y:rO~P!0RO#y:sO~P!0RO$U~!f!|!}#P#Q#T#b#c#n(n$m$o$r%U%`%a%b%h%j%m%n%p%r~'oR$U(n#h!R'm'u#il#g#jky'n(U'n't$W$Y$W~",goto:"$%Z({PPPP(|P)PP)aP*p.rPPPP5SPP5iP;d>iP>|P>|PPP>|P@lP>|P>|P>|P@pPP@uPA`PFUPPPFYPPPPFYIXPPPI_JYPFYPLgPPPPNuFYPPPFYPFYP!#TFYP!&g!'i!'rP!(e!(i!(ePPPPP!+r!'iPP!,`!-YP!/|FYFY!0R!3Z!7n!7n!;cPPP!;jFYPPPPPPPPPPP!>uP!@WPPFY!AePFYPFYFYFYFYPFY!BwPP!E}P!IPP!IT!I_!Ic!IcP!EzP!Ig!IgP!LiP!LmFYFY!Ls# t>|P>|P>|>|P##O>|>|#$x>|#'V>|#(y>|>|#)g#+c#+c#+g#+o#+c#+wP#+cP>|#,a>|#-i>|>|5SPPP#.tPP#/^#/^P#/^P#/s#/^PP#/yP#/pP#/p#0]#/p#0w#0}5P)P#1Q)PP#1X#1X#1XP)PP)PP)PP)PPP)PP#1_#1bP#1b)PP#1fP#1iP)PP)PP)PP)PP)PP)P)PPP#1o#1u#2P#2V#2]#2c#2i#2w#2}#3T#3_#3e#3o#4O#4U#4u#5X#5_#5e#5s#6Y#7j#7x#8O#8U#8[#8b#8l#8r#8x#9S#9f#9lPPPPPPPPPP#9rPPPPPPP#:f#=mP#>|#?T#?]PPPP#Cg#F]#Lr#Lu#Lx#Mq#Mt#Mw#NO#NWPP#N^#Nb$ Z$!Z$!_$!sPP$!w$!}$#RP$#U$#Y$#]$$R$$i$$n$$q$$t$$z$$}$%R$%VR!xRmpOXr!X#`%]&d&f&g&i,],b1b1eY!rQ'Q,}0u4pQ%ctQ%kwQ%rzQ&[!TS&x!c,uQ'W!fS'^!o!uS*Y$y*_Q+T%lQ+b%tQ+|&UQ,{'PQ-V'XQ-_'_Q/k*aQ1P+}R:_9p$zdOPWXYZrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'd't'v'|(T(i(m(q)p*s+g,X,],b-R-Z-i-o.].d/u/z0X0x1Y1Z1[1^1b1e1g2W2^2r4m4w5Z5]5^5p7U7Z7h7tS#m]9m!r)R$X$j&y)e,n,q.l1v3X4k5g8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^Q*j%SQ+Y%nQ,O&XQ,V&aQ.S:VQ0O*{Q0S*}Q0_+ZQ1X,TQ2f.PQ4Y0YQ5O1QQ5|2jQ6S:WQ6u4ZR7z5}&xkOPWXYZrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'd't'v'|(T(i(m(q)e)p*s*{+g,X,],b,n,q-R-Z-i-o.P.].d.l/u/z0X0x1Y1Z1[1^1b1e1g1v2W2^2j2r3X4k4m4w5Z5]5^5g5p5}7U7Z7h7t8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^t!kQ!o!r!u!v&x'P'Q'^'_'`,u,{,}-_0u4p4r$Y$pi#r#t$`$a$u$x%T%U%Y)l)u)w)x*P*V*e*f*z*}+l+o.O.Y/X/Y/[/w0l0o0w2i3a3k3s3y4Q4S4v5z6b6k7W7w8S8g8y9X9a:S:T:X:Y:Z:[:]:^:d:e:f:g:h:i:l:m:n:o:r:s;Z;c;d;g;hQ%uzQ&v!cS&|%w,xQ+Y%nS.x)r.zQ/v*nQ0_+ZQ0d+aQ1W,SQ1X,TQ4Y0YQ4c0fQ5R1SQ5S1VQ6u4ZQ6x4`Q7c5UQ8b6yR8m7`pmOXr!T!X#`%]&Z&d&f&g&i,],b1b1eR,Q&]&r^OPXYrstux!X!^!g!l#O#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u'S'd'v'|(T(i(m(q)e)p*s*{+g,X,],b,n,q-R-Z-i-o.P.].d.l/u/z0X0x1Y1Z1[1^1b1e1g1v2W2^2j2r3X4k4m4w5Z5]5^5g5p5}7U7Z7h7t8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;];^[#XWZ#S#V&y'tQ%fvQ%jwS%oz%t!U%x|}#d#e#h%Z%v'}(X(Y(Z+e+f+h,Z,o-m-s-t-u-w1j2b2c5f5wQ&Q!RQ'T!eQ'V!fQ(b#oS)|$u*QS+S%k%lQ+W%nQ+w&SQ+{&US-U'W'XQ.R(cQ/U)}Q0W+TQ0^+ZQ0`+[Q0c+`Q0z+xS1O+|+}Q2S-VQ3b/QQ4X0YQ4]0]Q4b0eQ4}1PQ6_3cQ6t4ZQ6w4_Q8^6sR9S8_v$wi#t%T%U%Y)u)w*P*e*f.Y/X/w3a3y8S;Z;c;d!S%hw!f!q%j%k%l&w'V'W'X']'g*X+S+T,r-U-V-^/c0W1{2S2Z3uQ*|%fQ+m%}Q+p&OQ+z&UQ.Q(bQ0y+wU0}+{+|+}Q2k.RQ4x0zS4|1O1PQ7_4}!z;_#r$`$a$u$x)l)x*V*z*}+l+o.O/Y/[0l0o0w2i3k3s4Q4S4v5z6b6k7W7w8g8y9X9a:X:Z:]:d:f:h:l:n:r;g;hg;`:S:T:Y:[:^:e:g:i:m:o:sW$|i%O*g;ZS%}!O&ZQ&O!PQ&P!QR+k%{$Z${i#r#t$`$a$u$x%T%U%Y)l)u)w)x*P*V*e*f*z*}+l+o.O.Y/X/Y/[/w0l0o0w2i3a3k3s3y4Q4S4v5z6b6k7W7w8S8g8y9X9a:S:T:X:Y:Z:[:]:^:d:e:f:g:h:i:l:m:n:o:r:s;Z;c;d;g;hT)m$r)nV*k%S:V:WU&|!c%w,xS(p#v#wQ+_%qS-z(^(_Q0p+qQ3z/tR6}4i&xkOPWXYZrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'd't'v'|(T(i(m(q)e)p*s*{+g,X,],b,n,q-R-Z-i-o.P.].d.l/u/z0X0x1Y1Z1[1^1b1e1g1v2W2^2j2r3X4k4m4w5Z5]5^5g5p5}7U7Z7h7t8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^$i$]c#U#a%a%b%d's'y(e(l(t(u(v(w(x(y(z({(|(})O)Q)T)X)c*x+^,s-b-g-l-n.X._.c.e.f.g.v/x1q1t2U2]2q2v2w2x2y2z2{2|2}3O3P3Q3R3S3V3W3]4O4V5i5o5t6Q6R6W6X7P7n7r7{8P8Q8v9U9]9n;QT#PV#Q&ykOPWXYZrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'd't'v'|(T(i(m(q)e)p*s*{+g,X,],b,n,q-R-Z-i-o.P.].d.l/u/z0X0x1Y1Z1[1^1b1e1g1v2W2^2j2r3X4k4m4w5Z5]5^5g5p5}7U7Z7h7t8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^Q&z!cR1w,uv!kQ!c!o!r!u!v&x'P'Q'^'_'`,u,{,}-_0u4p4rS*X$y*_S/c*Y*aQ/l*bQ0r+sQ3u/kR3x/nlpOXr!X#`%]&d&f&g&i,],b1b1eQ&k![Q'h!tS(d#q9tQ+Q%iQ+u&QQ+v&RQ-S'UQ-a'aS.W(i:aS/y*s:jQ0U+RQ0t+tQ1i,dQ1k,eQ1s,pQ2Q-TQ2T-XS4P/z:pQ4T0VS4W0X:qQ5h1uQ5l2RQ5q2YQ6r4UQ7o5jQ7p5mQ7s5rR8s7l$d$[c#U#a%b%d's'y(e(l(t(u(v(w(x(y(z({(|(})O)Q)T)X)c*x+^,s-b-g-l-n.X._.c.f.g.v/x1q1t2U2]2q2v2w2x2y2z2{2|2}3O3P3Q3R3S3V3W3]4O4V5i5o5t6Q6R6W6X7P7n7r7{8P8Q8v9U9]9n;QS(a#l'ZU*d$z(h3US*w%a.eQ2g0OQ5y2fQ7y5|R8z7z$d$Zc#U#a%b%d's'y(e(l(t(u(v(w(x(y(z({(|(})O)Q)T)X)c*x+^,s-b-g-l-n.X._.c.f.g.v/x1q1t2U2]2q2v2w2x2y2z2{2|2}3O3P3Q3R3S3V3W3]4O4V5i5o5t6Q6R6W6X7P7n7r7{8P8Q8v9U9]9n;QS(`#l'ZS(r#w$[S*v%a.eS-{(_(aQ.h)SQ/{*wR2d-|&xkOPWXYZrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'd't'v'|(T(i(m(q)e)p*s*{+g,X,],b,n,q-R-Z-i-o.P.].d.l/u/z0X0x1Y1Z1[1^1b1e1g1v2W2^2j2r3X4k4m4w5Z5]5^5g5p5}7U7Z7h7t8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^S#m]9mQ&f!VQ&g!WQ&i!YQ&j!ZR1a,`Q'R!eQ*y%fQ-Q'TS-}(b*|Q2O-PW2h.Q.R/}0PQ5k2PU5x2e2g2kS7v5y5{S8x7x7yS9_8w8zQ9g9`R9j9hU!sQ'Q,}T4n0u4p!O_OXZ`r!T!X#`#d%Z%]&Z&]&d&f&g&i(Z,],b-t1b1e]!mQ!o'Q,}0u4pT#m]9m%UyOPWXYZrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'd't'v'|(T(i(m(q)p*s*{+g,X,],b-R-Z-i-o.P.].d/u/z0X0x1Y1Z1[1^1b1e1g2W2^2j2r4m4w5Z5]5^5p5}7U7Z7h7tS(p#v#wS-z(^(_!s:w$X$j&y)e,n,q.l1v3X4k5g8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^Y!qQ'Q,}0u4pQ']!oS'g!r!uS'i!v4rS-^'^'_Q-`'`R2Z-_Q'f!qS(V#c1_S-]']'iQ/T)|Q/a*XQ2[-`Q3g/US3p/b/lQ6^3bS6i3v3xQ8U6_R8]6lQ#sbQ'e!qS(U#c1_S(W#i*rQ*t%[Q+O%gQ+U%mU-[']'f'iQ-p(VQ/S)|Q/`*XQ/f*[Q0T+PQ0{+yS2X-]-`Q2a-xS3f/T/US3o/a/lQ3r/eQ3t/gQ4z0|Q5s2[Q6]3bQ6a3gS6e3p3xQ6j3wQ7]4{S8T6^6_Q8X6fQ8Z6iQ8j7^Q9O8UQ9P8YQ9R8]Q9Z8kQ9c9QQ:z:uQ;V;OR;W;PV!sQ'Q,}%UaOPWXYZrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'd't'v'|(T(i(m(q)p*s*{+g,X,],b-R-Z-i-o.P.].d/u/z0X0x1Y1Z1[1^1b1e1g2W2^2j2r4m4w5Z5]5^5p5}7U7Z7h7tS#sx!g!r:t$X$j&y)e,n,q.l1v3X4k5g8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^R:z;]%UbOPWXYZrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'd't'v'|(T(i(m(q)p*s*{+g,X,],b-R-Z-i-o.P.].d/u/z0X0x1Y1Z1[1^1b1e1g2W2^2j2r4m4w5Z5]5^5p5}7U7Z7h7tQ%[j!S%gw!f!q%j%k%l&w'V'W'X']'g*X+S+T,r-U-V-^/c0W1{2S2Z3uS%mx!gQ+P%hQ+y&UW0|+z+{+|+}U4{0}1O1PS7^4|4}Q8k7_!r:u$X$j&y)e,n,q.l1v3X4k5g8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^Q;O;[R;P;]$xeOPXYrstu!X!^!l#O#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'd'v'|(T(i(m(q)p*s*{+g,X,],b-R-Z-i-o.P.].d/u/z0X0x1Y1Z1[1^1b1e1g2W2^2j2r4m4w5Z5]5^5p5}7U7Z7h7tY#^WZ#S#V't!U%x|}#d#e#h%Z%v'}(X(Y(Z+e+f+h,Z,o-m-s-t-u-w1j2b2c5f5wQ,W&a!p:v$X$j)e,n,q.l1v3X4k5g8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^R:y&yS&}!c%wR1y,x$zdOPWXYZrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'd't'v'|(T(i(m(q)p*s+g,X,],b-R-Z-i-o.].d/u/z0X0x1Y1Z1[1^1b1e1g2W2^2r4m4w5Z5]5^5p7U7Z7h7t!r)R$X$j&y)e,n,q.l1v3X4k5g8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^Q,V&aQ0O*{Q2f.PQ5|2jR7z5}!f$Rc#U%a's'y(e(l({(|(})O)T)X+^-b-g-l-n.X._.v/x2U2]2q3S4O4V5o5t6Q7r8v9n!T9{)Q)c,s.e1q1t2v3O3P3Q3R3V3]5i6R6W6X7P7n7{8P8Q9U9];Q!b$Tc#U%a's'y(e(l(})O)T)X+^-b-g-l-n.X._.v/x2U2]2q3S4O4V5o5t6Q7r8v9n!P9})Q)c,s.e1q1t2v3Q3R3V3]5i6R6W6X7P7n7{8P8Q9U9];Q!^$Xc#U%a's'y(e(l)T)X+^-b-g-l-n.X._.v/x2U2]2q3S4O4V5o5t6Q7r8v9nQ3a/Oz;^)Q)c,s.e1q1t2v3V3]5i6R6W6X7P7n7{8P8Q9U9];QQ;c;eR;d;f&xkOPWXYZrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'd't'v'|(T(i(m(q)e)p*s*{+g,X,],b,n,q-R-Z-i-o.P.].d.l/u/z0X0x1Y1Z1[1^1b1e1g1v2W2^2j2r3X4k4m4w5Z5]5^5g5p5}7U7Z7h7t8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^S$kh$lR3Y.k'PgOPWXYZhrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'd't'v'|(T(i(m(q)e)p*s*{+g,X,],b,n,q-R-Z-i-o.P.].d.k.l/u/z0X0x1Y1Z1[1^1b1e1g1v2W2^2j2r3X4k4m4w5Z5]5^5g5p5}7U7Z7h7t8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^T$gf$mQ$efS)[$h)`R)h$mT$ff$mT)^$h)`'PhOPWXYZhrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'd't'v'|(T(i(m(q)e)p*s*{+g,X,],b,n,q-R-Z-i-o.P.].d.k.l/u/z0X0x1Y1Z1[1^1b1e1g1v2W2^2j2r3X4k4m4w5Z5]5^5g5p5}7U7Z7h7t8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^T$kh$lQ$nhR)g$l%UjOPWXYZrstu!X!^!l#O#S#V#`#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'd't'v'|(T(i(m(q)p*s*{+g,X,],b-R-Z-i-o.P.].d/u/z0X0x1Y1Z1[1^1b1e1g2W2^2j2r4m4w5Z5]5^5p5}7U7Z7h7t!s;[$X$j&y)e,n,q.l1v3X4k5g8c8t9l9o9p9q9t9u9v9w9x9y9z9{9|9}:O:P:Q:U:_:`:a:c:j:k:p:q;^#alOPXZr!X!^!l#O#`#k#x$j%]&]&`&a&d&f&g&i&m&u'S(q)e*{+g,X,],b-R.P.l/u0x1Y1Z1[1^1b1e1g2j3X4m4w5Z5]5^5}7U7Z7hv$zi#t%T%U%Y)u)w*P*e*f.Y/X/w3a3y8S;Z;c;d!z(h#r$`$a$u$x)l)x*V*z*}+l+o.O/Y/[0l0o0w2i3k3s4Q4S4v5z6b6k7W7w8g8y9X9a:X:Z:]:d:f:h:l:n:r;g;hQ*o%WQ.w)qg3U:S:T:Y:[:^:e:g:i:m:o:sv$vi#t%T%U%Y)u)w*P*e*f.Y/X/w3a3y8S;Z;c;dQ*R$wS*[$y*_Q*p%XQ/g*]!z:|#r$`$a$u$x)l)x*V*z*}+l+o.O/Y/[0l0o0w2i3k3s4Q4S4v5z6b6k7W7w8g8y9X9a:X:Z:]:d:f:h:l:n:r;g;hf:}:S:T:Y:[:^:e:g:i:m:o:sQ;R;_Q;S;`Q;T;aR;U;bv$zi#t%T%U%Y)u)w*P*e*f.Y/X/w3a3y8S;Z;c;d!z(h#r$`$a$u$x)l)x*V*z*}+l+o.O/Y/[0l0o0w2i3k3s4Q4S4v5z6b6k7W7w8g8y9X9a:X:Z:]:d:f:h:l:n:r;g;hg3U:S:T:Y:[:^:e:g:i:m:o:slnOXr!X#`%]&d&f&g&i,],b1b1eQ*U$xQ,k&pQ,l&rR3j/Y$Y${i#r#t$`$a$u$x%T%U%Y)l)u)w)x*P*V*e*f*z*}+l+o.O.Y/X/Y/[/w0l0o0w2i3a3k3s3y4Q4S4v5z6b6k7W7w8S8g8y9X9a:S:T:X:Y:Z:[:]:^:d:e:f:g:h:i:l:m:n:o:r:s;Z;c;d;g;hQ+n&OQ0n+pQ4g0mR6|4hT*^$y*_S*^$y*_T4o0u4pS/e*Z4mT3w/m7UQ+O%gQ/f*[Q0T+PQ0{+yQ4z0|Q7]4{Q8j7^R9Z8kn)u$s(j*q/W/o/p2o3h3}6[6m8}:{;X;Y!W:d(f)V){*T.V.s/O/]/|0k0m2n3i3m4f4h6O6P6c6g6o6q8W8[9b;e;f]:e3T6V7|8{8|9kp)w$s(j*q.|/W/o/p2o3h3}6[6m8}:{;X;Y!Y:f(f)V){*T.V.s/O/]/|0k0m2l2n3i3m4f4h6O6P6c6g6o6q8W8[9b;e;f_:g3T6V7|7}8{8|9kpmOXr!T!X#`%]&Z&d&f&g&i,],b1b1eQ&W!SR,X&apmOXr!T!X#`%]&Z&d&f&g&i,],b1b1eR&W!SQ+r&PR0j+kqmOXr!T!X#`%]&Z&d&f&g&i,],b1b1eQ0v+wS4u0y0zU7V4s4t4xS8f7X7YS9V8e8hQ9d9WR9i9eQ&_!TR,R&ZR5R1SS%oz%tR0`+[Q&d!UR,]&eR,c&jT1c,b1eR,g&kQ,f&kR1l,gQ'k!wR-c'kQrOQ#`XT%`r#`Q!zTR'm!zQ!}UR'o!}Q)n$rR.t)nQ#QVR'q#QQ#TWU'w#T'x-jQ'x#UR-j'yQ,v&zR1x,vQ.Z(jR2p.ZQ.^(lS2s.^2tR2t._Q,}'QR1|,}Y!oQ'Q,}0u4pR'[!oS#ZW%vU(O#Z(P-kQ(P#[R-k'zQ,y&}R1z,yr`OXr!T!X#`%]&Z&]&d&f&g&i,],b1b1eS#dZ%ZU#n`#d-tR-t(ZQ([#fQ-q(WW-y([-q2_5uQ2_-rR5u2`Q)`$hR.m)`Q$lhR)f$lQ$_cU)U$_-f:RQ-f9nR:R)cQ/R)|W3d/R3e6`8VU3e/S/T/US6`3f3gR8V6a#m)s$s(f(j)V){*T*l*m*q.T.U.V.s.|.}/O/W/]/o/p/|0k0m2l2m2n2o3T3h3i3m3}4f4h6O6P6T6U6V6[6c6g6m6o6q7|7}8O8W8[8{8|8}9b9k:{;X;Y;e;fQ/Z*TU3l/Z3n6dQ3n/]R6d3mQ*_$yR/i*_Q*h$}R/r*hQ4R/|R6p4RQ+i%yR0i+iQ4j0pS7O4j8dR8d7PQ+t&QR0s+tQ4p0uR7S4pQ1R,OS5P1R7aR7a5RQ0Z+WW4[0Z4^6v8`Q4^0^Q6v4]R8`6wQ+]%oR0a+]Q1e,bR5a1eWqOXr#`Q&h!XQ*u%]Q,[&dQ,^&fQ,_&gQ,a&iQ1`,]S1c,b1eR5`1bQ%_oQ&l!]Q&o!_Q&q!`Q&s!aQ'c!qQ+Q%iQ+d%uQ+j%zQ,Q&_Q,i&nW-Y']'e'f'iQ-a'aQ/h*^Q0U+RS1U,R,UQ1m,hQ1n,kQ1o,lQ2T-XW2V-[-]-`-bQ4T0VQ4a0dQ4e0kQ4y0{Q5T1WQ5_1aU5n2U2X2[Q5q2YQ6r4UQ6z4cQ6{4fQ7R4oQ7[4zQ7b5SS7q5o5sQ7s5rQ8a6xQ8i7]Q8n7cQ8u7rQ9T8bQ9Y8jQ9^8vR9f9ZQ%iwQ'U!fQ'a!qU+R%j%k%lQ,p&wU-T'V'W'XS-X']'gQ/_*XS0V+S+TQ1u,rS2R-U-VQ2Y-^Q3q/cQ4U0WQ5j1{Q5m2SQ5r2ZR6h3uS$ti;ZR*i%OU$}i%O;ZR/q*gQ$siS(f#r*}Q(j#tS)V$`$aQ){$uQ*T$xQ*l%TQ*m%UQ*q%YQ.T:XQ.U:ZQ.V:]Q.s)lQ.|)uQ.})wQ/O)xQ/W*PQ/]*VQ/o*eQ/p*fh/|*z.O0w2i4v5z7W7w8g8y9X9aQ0k+lQ0m+oQ2l:dQ2m:fQ2n:hQ2o.YS3T:S:TQ3h/XQ3i/YQ3m/[Q3}/wQ4f0lQ4h0oQ6O:lQ6P:nQ6T:YQ6U:[Q6V:^Q6[3aQ6c3kQ6g3sQ6m3yQ6o4QQ6q4SQ7|:iQ7}:eQ8O:gQ8W6bQ8[6kQ8{:mQ8|:oQ8}8SQ9b:rQ9k:sQ:{;ZQ;X;cQ;Y;dQ;e;gR;f;hloOXr!X#`%]&d&f&g&i,],b1b1eQ!dPS#bZ#kQ&n!^U'Y!l4m7UQ'p#OQ(s#xQ)d$jS,U&]&`Q,Y&aQ,h&mQ,m&uQ-P'SQ.a(qQ.q)eQ0P*{Q0g+gQ1],XQ2P-RQ2g.PQ3[.lQ3{/uQ4t0xQ5V1YQ5W1ZQ5Y1[Q5[1^Q5c1gQ5y2jQ6Y3XQ7Y4wQ7g5ZQ7i5]Q7j5^Q7y5}Q8h7ZR8p7h#UcOPXZr!X!^!l#`#k#x%]&]&`&a&d&f&g&i&m&u'S(q*{+g,X,],b-R.P/u0x1Y1Z1[1^1b1e1g2j4m4w5Z5]5^5}7U7Z7hQ#UWQ#aYQ%asQ%btQ%duS's#S'vQ'y#VQ(e#qQ(l#uQ(t#{Q(u#|Q(v#}Q(w$OQ(x$PQ(y$QQ(z$RQ({$SQ(|$TQ(}$UQ)O$VQ)Q$XQ)T$^Q)X$bW)c$j)e.l3XQ*x%cQ+^%pS,s&y1vQ-b'dS-g't-iQ-l'|Q-n(TQ.X(iQ._(mQ.c9lQ.e9oQ.f9pQ.g9qQ.v)pQ/x*sQ1q,nQ1t,qQ2U-ZQ2]-oQ2q.]Q2v9tQ2w9uQ2x9vQ2y9wQ2z9xQ2{9yQ2|9zQ2}9{Q3O9|Q3P9}Q3Q:OQ3R:PQ3S.dQ3V:UQ3W:_Q3]:QQ4O/zQ4V0XQ5i:`Q5o2WQ5t2^Q6Q2rQ6R:aQ6W:cQ6X:jQ7P4kQ7n5gQ7r5pQ7{:kQ8P:pQ8Q:qQ8v7tQ9U8cQ9]8tQ9n#OR;Q;^R#WWR&{!cY!qQ'Q,}0u4pS&w!c,uQ']!oS'g!r!uS'i!v4rS,r&x'PS-^'^'_Q-`'`Q1{,{R2Z-_R(k#tR(n#uQ!dQT,|'Q,}]!nQ!o'Q,}0u4pQ#l]R'Z9mT#gZ%ZS#fZ%ZU%y|},ZU(W#d#e#hS-r(X(YQ-v(ZQ0h+hQ2`-sU2a-t-u-wS5v2b2cR7u5w`#YW#S#V%v't'}+e-mt#cZ|}#d#e#h%Z(X(Y(Z+h-s-t-u-w2b2c5wQ1_,ZQ1r,oQ5e1jQ7m5fT:x&y+fT#]W%vS#[W%vS'u#S'}S'z#V+eS,t&y+fT-h't-mT'O!c%wQ$hfR)j$mT)_$h)`R3Z.kT*O$u*QR*W$xQ/}*zQ2e.OQ4s0wQ5{2iQ7X4vQ7x5zQ8e7WQ8w7wQ9W8gQ9`8yQ9e9XR9h9alpOXr!X#`%]&d&f&g&i,],b1b1eQ&^!TR,Q&ZV%z|},ZR0q+qR,P&XQ%szR+c%tR+X%nT&b!U&eT&c!U&eT1d,b1e",nodeNames:" ArithOp ArithOp LineComment BlockComment Script ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:364,context:wq,nodeProps:[["group",-26,6,14,16,62,199,203,206,207,209,212,215,225,227,233,235,237,239,242,248,254,256,258,260,262,264,265,"Statement",-32,10,11,25,28,29,35,45,48,49,51,56,64,72,76,78,80,81,103,104,113,114,131,134,136,137,138,139,141,142,162,163,165,"Expression",-23,24,26,30,34,36,38,166,168,170,171,173,174,175,177,178,179,181,182,183,193,195,197,198,"Type",-3,84,96,102,"ClassItem"],["openedBy",31,"InterpolationStart",50,"[",54,"{",69,"(",143,"JSXStartTag",155,"JSXStartTag JSXStartCloseTag"],["closedBy",33,"InterpolationEnd",44,"]",55,"}",70,")",144,"JSXSelfCloseEndTag JSXEndTag",160,"JSXEndTag"]],propSources:[Tq],skippedNodes:[0,3,4,268],repeatNodeCount:33,tokenData:"$>y(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tu>PuvBavwDxwxGgxyMvyz! Qz{!![{|!%O|}!&]}!O!%O!O!P!'g!P!Q!1w!Q!R#0t!R![#3T![!]#@T!]!^#Aa!^!_#Bk!_!`#GS!`!a#In!a!b#N{!b!c$$z!c!}>P!}#O$&U#O#P$'`#P#Q$,w#Q#R$.R#R#S>P#S#T$/`#T#o$0j#o#p$4z#p#q$5p#q#r$7Q#r#s$8^#s$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$I|>P$I|$I}$<s$I}$JO$<s$JO$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(n%d_$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$d&j'z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$d&j'wpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'wpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$d&j'wp'z!b'm(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'x#S$d&j'n(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$d&j'wp'z!b'n(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$d&j!l$Ip'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#q$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#q$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'v$(n$d&j'z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$d&j'z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$d&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$_#t$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$_#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$_#t$d&j'z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$_#t'z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hg$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|<[i$d&j(a!L^'wp'z!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!Q%Z!Q![<P![!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|=|P;=`<%l<P(CS>`k$d&j'wp'z!b(U!LY't&;d$W#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P+d@`k$d&j'wp'z!b$W#tOY%ZYZ&cZr%Zrs&}st%Ztu@Tuw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![@T![!^%Z!^!_*g!_!c%Z!c!}@T!}#O%Z#O#P&c#P#R%Z#R#S@T#S#T%Z#T#o@T#o#p*g#p$g%Z$g;'S@T;'S;=`BT<%lO@T+dBWP;=`<%l@T(CSB^P;=`<%l>P%#SBl`$d&j'wp'z!b#i$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SCy_$d&j#{$Id'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfETa(j%<v$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sv%ZvwFYwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SFe`$d&j#u$Id'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2bGp_'y$)`$d&j'wpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo*QHv_$d&j'wpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo)`IzX$d&jOwIuwx6cx!^Iu!^!_Jg!_#oIu#o#pJg#p;'SIu;'S;=`KP<%lOIu#tJjTOwJgwx7]x;'SJg;'S;=`Jy<%lOJg#tJ|P;=`<%lJg)`KSP;=`<%lIu*QK`]$_#t$d&j'wpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$fL^Z'wpOYLXYZJgZrLXrsJgswLXwxMPx#OLX#O#PJg#P;'SLX;'S;=`Mj<%lOLX$fMWU$_#t'wpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$fMmP;=`<%lLX*QMsP;=`<%lHo(*QNR_!h(!b$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l! ]_!gM|$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!!ib$d&j'wp'z!b'u#)d#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!#q{!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!#|`$d&j'wp'z!b#g$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!%Z`$d&j'wp'z!bk&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!&h_!V&;l$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!'rc$d&j'wp'z!by'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!(}!P!Q%Z!Q![!+g![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!)Wa$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!*]!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!*h_!UMt$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!+rg$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!+g![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S!+g#S#X%Z#X#Y!-Z#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!-dg$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!.{|}%Z}!O!.{!O!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!/Uc$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!0lc$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!2Sf$d&j'wp'z!b#h$IdOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}xz!3hz{#$s{!P!3h!P!Q#&Y!Q!^!3h!^!_!Mh!_!`#-x!`!a#/_!a!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(r!3sb$d&j'wp'z!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(Q!5U`$d&j'z!b!RSOY!4{YZ&cZw!4{wx!6Wx!P!4{!P!Q!=o!Q!^!4{!^!_!?g!_!}!4{!}#O!Bn#O#P!<w#P#o!4{#o#p!?g#p;'S!4{;'S;=`!Cw<%lO!4{&n!6_^$d&j!RSOY!6WYZ&cZ!P!6W!P!Q!7Z!Q!^!6W!^!_!8g!_!}!6W!}#O!;U#O#P!<w#P#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!7ba$d&j!RSO!^&c!_#Z&c#Z#[!7Z#[#]&c#]#^!7Z#^#a&c#a#b!7Z#b#g&c#g#h!7Z#h#i&c#i#j!7Z#j#m&c#m#n!7Z#n#o&c#p;'S&c;'S;=`&w<%lO&cS!8lX!RSOY!8gZ!P!8g!P!Q!9X!Q!}!8g!}#O!9p#O#P!:o#P;'S!8g;'S;=`!;O<%lO!8gS!9^U!RS#Z#[!9X#]#^!9X#a#b!9X#g#h!9X#i#j!9X#m#n!9XS!9sVOY!9pZ#O!9p#O#P!:Y#P#Q!8g#Q;'S!9p;'S;=`!:i<%lO!9pS!:]SOY!9pZ;'S!9p;'S;=`!:i<%lO!9pS!:lP;=`<%l!9pS!:rSOY!8gZ;'S!8g;'S;=`!;O<%lO!8gS!;RP;=`<%l!8g&n!;Z[$d&jOY!;UYZ&cZ!^!;U!^!_!9p!_#O!;U#O#P!<P#P#Q!6W#Q#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<UX$d&jOY!;UYZ&cZ!^!;U!^!_!9p!_#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<tP;=`<%l!;U&n!<|X$d&jOY!6WYZ&cZ!^!6W!^!_!8g!_#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!=lP;=`<%l!6W(Q!=xi$d&j'z!b!RSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!=o#[#]&}#]#^!=o#^#a&}#a#b!=o#b#g&}#g#h!=o#h#i&}#i#j!=o#j#m&}#m#n!=o#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!?nZ'z!b!RSOY!?gZw!?gwx!8gx!P!?g!P!Q!@a!Q!}!?g!}#O!Ap#O#P!:o#P;'S!?g;'S;=`!Bh<%lO!?g!f!@hb'z!b!RSOY'}Zw'}x#O'}#P#Z'}#Z#[!@a#[#]'}#]#^!@a#^#a'}#a#b!@a#b#g'}#g#h!@a#h#i'}#i#j!@a#j#m'}#m#n!@a#n;'S'};'S;=`(f<%lO'}!f!AuX'z!bOY!ApZw!Apwx!9px#O!Ap#O#P!:Y#P#Q!?g#Q;'S!Ap;'S;=`!Bb<%lO!Ap!f!BeP;=`<%l!Ap!f!BkP;=`<%l!?g(Q!Bu^$d&j'z!bOY!BnYZ&cZw!Bnwx!;Ux!^!Bn!^!_!Ap!_#O!Bn#O#P!<P#P#Q!4{#Q#o!Bn#o#p!Ap#p;'S!Bn;'S;=`!Cq<%lO!Bn(Q!CtP;=`<%l!Bn(Q!CzP;=`<%l!4{'`!DW`$d&j'wp!RSOY!C}YZ&cZr!C}rs!6Ws!P!C}!P!Q!EY!Q!^!C}!^!_!GQ!_!}!C}!}#O!JX#O#P!<w#P#o!C}#o#p!GQ#p;'S!C};'S;=`!Kb<%lO!C}'`!Eci$d&j'wp!RSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!EY#[#](r#]#^!EY#^#a(r#a#b!EY#b#g(r#g#h!EY#h#i(r#i#j!EY#j#m(r#m#n!EY#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!GXZ'wp!RSOY!GQZr!GQrs!8gs!P!GQ!P!Q!Gz!Q!}!GQ!}#O!IZ#O#P!:o#P;'S!GQ;'S;=`!JR<%lO!GQt!HRb'wp!RSOY)rZr)rs#O)r#P#Z)r#Z#[!Gz#[#])r#]#^!Gz#^#a)r#a#b!Gz#b#g)r#g#h!Gz#h#i)r#i#j!Gz#j#m)r#m#n!Gz#n;'S)r;'S;=`*Z<%lO)rt!I`X'wpOY!IZZr!IZrs!9ps#O!IZ#O#P!:Y#P#Q!GQ#Q;'S!IZ;'S;=`!I{<%lO!IZt!JOP;=`<%l!IZt!JUP;=`<%l!GQ'`!J`^$d&j'wpOY!JXYZ&cZr!JXrs!;Us!^!JX!^!_!IZ!_#O!JX#O#P!<P#P#Q!C}#Q#o!JX#o#p!IZ#p;'S!JX;'S;=`!K[<%lO!JX'`!K_P;=`<%l!JX'`!KeP;=`<%l!C}(r!Ksk$d&j'wp'z!b!RSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[!Kh#[#]%Z#]#^!Kh#^#a%Z#a#b!Kh#b#g%Z#g#h!Kh#h#i%Z#i#j!Kh#j#m%Z#m#n!Kh#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W!Mq]'wp'z!b!RSOY!MhZr!Mhrs!?gsw!Mhwx!GQx!P!Mh!P!Q!Nj!Q!}!Mh!}#O#!U#O#P!:o#P;'S!Mh;'S;=`##U<%lO!Mh#W!Nse'wp'z!b!RSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[!Nj#[#]*g#]#^!Nj#^#a*g#a#b!Nj#b#g*g#g#h!Nj#h#i*g#i#j!Nj#j#m*g#m#n!Nj#n;'S*g;'S;=`+Z<%lO*g#W#!]Z'wp'z!bOY#!UZr#!Urs!Apsw#!Uwx!IZx#O#!U#O#P!:Y#P#Q!Mh#Q;'S#!U;'S;=`##O<%lO#!U#W##RP;=`<%l#!U#W##XP;=`<%l!Mh(r##e`$d&j'wp'z!bOY##[YZ&cZr##[rs!Bnsw##[wx!JXx!^##[!^!_#!U!_#O##[#O#P!<P#P#Q!3h#Q#o##[#o#p#!U#p;'S##[;'S;=`#$g<%lO##[(r#$jP;=`<%l##[(r#$pP;=`<%l!3h(CS#%Qb$d&j'wp'z!b'o(;d!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(CS#&e_$d&j'wp'z!bR(;dOY#&YYZ&cZr#&Yrs#'dsw#&Ywx#*tx!^#&Y!^!_#,s!_#O#&Y#O#P#(f#P#o#&Y#o#p#,s#p;'S#&Y;'S;=`#-r<%lO#&Y(Bb#'m]$d&j'z!bR(;dOY#'dYZ&cZw#'dwx#(fx!^#'d!^!_#)w!_#O#'d#O#P#(f#P#o#'d#o#p#)w#p;'S#'d;'S;=`#*n<%lO#'d(AO#(mX$d&jR(;dOY#(fYZ&cZ!^#(f!^!_#)Y!_#o#(f#o#p#)Y#p;'S#(f;'S;=`#)q<%lO#(f(;d#)_SR(;dOY#)YZ;'S#)Y;'S;=`#)k<%lO#)Y(;d#)nP;=`<%l#)Y(AO#)tP;=`<%l#(f(<v#*OW'z!bR(;dOY#)wZw#)wwx#)Yx#O#)w#O#P#)Y#P;'S#)w;'S;=`#*h<%lO#)w(<v#*kP;=`<%l#)w(Bb#*qP;=`<%l#'d(Ap#*}]$d&j'wpR(;dOY#*tYZ&cZr#*trs#(fs!^#*t!^!_#+v!_#O#*t#O#P#(f#P#o#*t#o#p#+v#p;'S#*t;'S;=`#,m<%lO#*t(<U#+}W'wpR(;dOY#+vZr#+vrs#)Ys#O#+v#O#P#)Y#P;'S#+v;'S;=`#,g<%lO#+v(<U#,jP;=`<%l#+v(Ap#,pP;=`<%l#*t(=h#,|Y'wp'z!bR(;dOY#,sZr#,srs#)wsw#,swx#+vx#O#,s#O#P#)Y#P;'S#,s;'S;=`#-l<%lO#,s(=h#-oP;=`<%l#,s(CS#-uP;=`<%l#&Y%#W#.Vb$d&j#{$Id'wp'z!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h+h#/lb$T#t$d&j'wp'z!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h$/l#1Pp$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#U%Z#U#V#6_#V#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#d#9g#d#l%Z#l#m#<i#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#3`k$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#5`_$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#6hd$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#8Rf$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#9pc$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;We$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#<rg$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>fi$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#@b_!a$b$d&j#y%<f'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Al_^l$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Bz^'}!*v!e'.r'wp'z!b$U)d(nSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Cv!Q!^*g!^!_#Dl!_!`#F^!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#DPX$f&j'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#DuZ#k$Id'wp'z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Eh!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#EqX#{$Id'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#FgX#l$Id'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh#G_a#X%?x$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a#Hd!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W#Ho_#d$Ih$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#I}adBf#l$Id$a#|$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`#KS!`!a#L^!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#K__#l$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#Lia#k$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`!a#Mn!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#My`#k$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$ Wc(b$Ip$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$!c!P!^%Z!^!_*g!_!a%Z!a!b$#m!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$!n_z'#p$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$#x`$d&j#v$Id'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$%V_!x!Ln$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$&a_|(8n$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$'eZ$d&jO!^$(W!^!_$(n!_#i$(W#i#j$(s#j#l$(W#l#m$*f#m#o$(W#o#p$(n#p;'S$(W;'S;=`$,q<%lO$(W(n$(_T[#S$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$(sO[#S(n$(x[$d&jO!Q&c!Q![$)n![!^&c!_!c&c!c!i$)n!i#T&c#T#Z$)n#Z#o&c#o#p$,U#p;'S&c;'S;=`&w<%lO&c(n$)sZ$d&jO!Q&c!Q![$*f![!^&c!_!c&c!c!i$*f!i#T&c#T#Z$*f#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$*kZ$d&jO!Q&c!Q![$+^![!^&c!_!c&c!c!i$+^!i#T&c#T#Z$+^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$+cZ$d&jO!Q&c!Q![$(W![!^&c!_!c&c!c!i$(W!i#T&c#T#Z$(W#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$,XR!Q![$,b!c!i$,b#T#Z$,b#S$,eS!Q![$,b!c!i$,b#T#Z$,b#q#r$(n(n$,tP;=`<%l$(W!'l$-S_!SM|$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$.^`#s$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$/k_$d&j'wp'z!b(R&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$0yk$d&j'wp'z!b(U!LY't&;d$Y#tOY%ZYZ&cZr%Zrs&}st%Ztu$0juw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$0j![!^%Z!^!_*g!_!c%Z!c!}$0j!}#O%Z#O#P&c#P#R%Z#R#S$0j#S#T%Z#T#o$0j#o#p*g#p$g%Z$g;'S$0j;'S;=`$4t<%lO$0j+d$2yk$d&j'wp'z!b$Y#tOY%ZYZ&cZr%Zrs&}st%Ztu$2nuw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$2n![!^%Z!^!_*g!_!c%Z!c!}$2n!}#O%Z#O#P&c#P#R%Z#R#S$2n#S#T%Z#T#o$2n#o#p*g#p$g%Z$g;'S$2n;'S;=`$4n<%lO$2n+d$4qP;=`<%l$2n(CS$4wP;=`<%l$0j!5p$5TX!X!3l'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$5{a(i%<v$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$#m#q;'S%Z;'S;=`+a<%lO%Z%#`$7__!W$I`o`$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$8i_!mS$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$9y|$d&j'wp'z!b'm(;d(U!LY't&;d$W#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(CS$=Uk$d&j'wp'z!b'n(;d(U!LY't&;d$W#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P",tokenizers:[$q,Cq,2,3,4,5,6,7,8,9,10,11,12,13,Sq,new up("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOq~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!O~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(T~~",141,326),new up("j~RQYZXz{^~^O'q~~aP!P!Qd~iO'r~~",25,308)],topRules:{Script:[0,5],SingleExpression:[1,266],SingleClassItem:[2,267]},dialects:{jsx:12686,ts:12688},dynamicPrecedences:{76:1,78:1,163:1,191:1},specialized:[{term:312,get:n=>Pq[n]||-1},{term:328,get:n=>Mq[n]||-1},{term:67,get:n=>Aq[n]||-1}],tokenPrec:12712}),Dq=[Ji("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Ji("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Ji("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Ji("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Ji("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Ji(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Ji("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Ji(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Ji(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Ji('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Ji('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],cy=new Jx,d3=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Ao(n){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,n),!0}}const Eq=["FunctionDeclaration"],Iq={FunctionDeclaration:Ao("function"),ClassDeclaration:Ao("class"),ClassExpression:()=>!0,EnumDeclaration:Ao("constant"),TypeAliasDeclaration:Ao("type"),NamespaceDeclaration:Ao("namespace"),VariableDefinition(n,e){n.matchContext(Eq)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function h3(n,e){let t=cy.get(e);if(t)return t;let i=[],s=!0;function l(r,o){let a=n.sliceString(r.from,r.to);i.push({label:a,type:o})}return e.cursor(jt.IncludeAnonymous).iterate(r=>{if(s)s=!1;else if(r.name){let o=Iq[r.name];if(o&&o(r,l)||d3.has(r.name))return!1}else if(r.to-r.from>8192){for(let o of h3(n,r.node))i.push(o);return!1}}),cy.set(e,i),i}const dy=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,p3=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function Rq(n){let e=yn(n.state).resolveInner(n.pos,-1);if(p3.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&dy.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let i=[];for(let s=e;s;s=s.parent)d3.has(s.name)&&(i=i.concat(h3(n.state.doc,s)));return{options:i,from:t?e.from:n.pos,validFor:dy}}const Kl=Ru.define({name:"javascript",parser:Qq.configure({props:[IC.add({IfStatement:wd({except:/^\s*({|else\b)/}),TryStatement:wd({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:$7,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:i?1:2)*n.unit},Block:S7({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":wd({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),NC.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":M7,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),m3={test:n=>/^JSX/.test(n.name),facet:Om({commentTokens:{block:{open:"{/*",close:"*/}"}}})},Lq=Kl.configure({dialect:"ts"},"typescript"),Nq=Kl.configure({dialect:"jsx",props:[ym.add(n=>n.isTop?[m3]:void 0)]}),xq=Kl.configure({dialect:"jsx ts",props:[ym.add(n=>n.isTop?[m3]:void 0)]},"typescript"),Zq="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(n=>({label:n,type:"keyword"}));function Fq(n={}){let e=n.jsx?n.typescript?xq:Nq:n.typescript?Lq:Kl;return new b7(e,[Kl.data.of({autocomplete:zF(p3,WT(Dq.concat(Zq)))}),Kl.data.of({autocomplete:Rq}),n.jsx?jq:[]])}function Xq(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function hy(n,e,t=n.length){for(let i=e==null?void 0:e.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return n.sliceString(i.from,Math.min(i.to,t));return""}function qq(n){return n&&(n.name=="JSXEndTag"||n.name=="JSXSelfCloseEndTag")}const Vq=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),jq=Ve.inputHandler.of((n,e,t,i)=>{if((Vq?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||i!=">"&&i!="/"||!Kl.isActiveAt(n.state,e,-1))return!1;let{state:s}=n,l=s.changeByRange(r=>{var o;let{head:a}=r,f=yn(s).resolveInner(a,-1),u;if(f.name=="JSXStartTag"&&(f=f.parent),!(f.name=="JSXAttributeValue"&&f.to>a)){if(i==">"&&f.name=="JSXFragmentTag")return{range:he.cursor(a+1),changes:{from:a,insert:"></>"}};if(i=="/"&&f.name=="JSXFragmentTag"){let d=f.parent,h=d==null?void 0:d.parent;if(d.from==a-1&&((o=h.lastChild)===null||o===void 0?void 0:o.name)!="JSXEndTag"&&(u=hy(s.doc,h==null?void 0:h.firstChild,a))){let p=`/${u}>`;return{range:he.cursor(a+p.length),changes:{from:a,insert:p}}}}else if(i==">"){let d=Xq(f);if(d&&!qq(d.lastChild)&&s.sliceDoc(a,a+2)!="</"&&(u=hy(s.doc,d,a)))return{range:he.cursor(a+1),changes:{from:a,insert:`></${u}>`}}}}return{range:r}});return l.changes.empty?!1:(n.dispatch(l,{userEvent:"input.type",scrollIntoView:!0}),!0)});function Uq(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d;return u=new iq({props:{value:n[2],lang:Fq()}}),u.$on("change",n[3]),{c(){e=v("label"),t=v("i"),s=A(),l=v("span"),o=W(r),f=A(),V(u.$$.fragment),m(t,"class",i=j.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[4])},m(h,p){S(h,e,p),O(e,t),O(e,s),O(e,l),O(l,o),S(h,f,p),X(u,h,p),d=!0},p(h,p){(!d||p&2&&i!==(i=j.getFieldTypeIcon(h[1].type)))&&m(t,"class",i),(!d||p&2)&&r!==(r=h[1].name+"")&&re(o,r),(!d||p&16&&a!==(a=h[4]))&&m(e,"for",a);const g={};p&4&&(g.value=h[2]),u.$set(g)},i(h){d||(D(u.$$.fragment,h),d=!0)},o(h){I(u.$$.fragment,h),d=!1},d(h){h&&w(e),h&&w(f),q(u,h)}}}function Wq(n){let e,t;return e=new me({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[Uq,({uniqueId:i})=>({4:i}),({uniqueId:i})=>i?16:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&55&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function zq(n,e,t){let{field:i=new di}=e,{value:s=void 0}=e,l=JSON.stringify(typeof s>"u"?null:s,null,2);const r=o=>{t(2,l=o.detail),t(0,s=o.detail.trim())};return n.$$set=o=>{"field"in o&&t(1,i=o.field),"value"in o&&t(0,s=o.value)},n.$$.update=()=>{n.$$.dirty&5&&s!==(l==null?void 0:l.trim())&&(t(2,l=JSON.stringify(typeof s>"u"?null:s,null,2)),t(0,s=l))},[s,i,l,r]}class Bq extends ke{constructor(e){super(),ve(this,e,zq,Wq,be,{field:1,value:0})}}function Yq(n){let e,t;return{c(){e=v("i"),m(e,"class","ri-file-line"),m(e,"alt",t=n[0].name)},m(i,s){S(i,e,s)},p(i,s){s&1&&t!==(t=i[0].name)&&m(e,"alt",t)},d(i){i&&w(e)}}}function Hq(n){let e,t,i;return{c(){e=v("img"),m(e,"draggable",!1),ni(e.src,t=n[2])||m(e,"src",t),m(e,"width",n[1]),m(e,"height",n[1]),m(e,"alt",i=n[0].name)},m(s,l){S(s,e,l)},p(s,l){l&4&&!ni(e.src,t=s[2])&&m(e,"src",t),l&2&&m(e,"width",s[1]),l&2&&m(e,"height",s[1]),l&1&&i!==(i=s[0].name)&&m(e,"alt",i)},d(s){s&&w(e)}}}function Gq(n){let e;function t(l,r){return l[2]?Hq:Yq}let i=t(n),s=i(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,[r]){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},i:ee,o:ee,d(l){s.d(l),l&&w(e)}}}function Kq(n,e,t){let i,{file:s}=e,{size:l=50}=e;function r(){j.hasImageExtension(s==null?void 0:s.name)?j.generateThumb(s,l,l).then(o=>{t(2,i=o)}).catch(o=>{t(2,i=""),console.warn("Unable to generate thumb: ",o)}):t(2,i="")}return n.$$set=o=>{"file"in o&&t(0,s=o.file),"size"in o&&t(1,l=o.size)},n.$$.update=()=>{n.$$.dirty&1&&typeof s<"u"&&r()},t(2,i=""),[s,l,i]}class Jq extends ke{constructor(e){super(),ve(this,e,Kq,Gq,be,{file:0,size:1})}}function py(n){let e;function t(l,r){return l[4]==="image"?tV:eV}let i=t(n),s=i(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&w(e)}}}function eV(n){let e,t;return{c(){e=v("object"),t=W("Cannot preview the file."),m(e,"title",n[2]),m(e,"data",n[1])},m(i,s){S(i,e,s),O(e,t)},p(i,s){s&4&&m(e,"title",i[2]),s&2&&m(e,"data",i[1])},d(i){i&&w(e)}}}function tV(n){let e,t,i;return{c(){e=v("img"),ni(e.src,t=n[1])||m(e,"src",t),m(e,"alt",i="Preview "+n[2])},m(s,l){S(s,e,l)},p(s,l){l&2&&!ni(e.src,t=s[1])&&m(e,"src",t),l&4&&i!==(i="Preview "+s[2])&&m(e,"alt",i)},d(s){s&&w(e)}}}function nV(n){var s;let e=(s=n[3])==null?void 0:s.isActive(),t,i=e&&py(n);return{c(){i&&i.c(),t=Se()},m(l,r){i&&i.m(l,r),S(l,t,r)},p(l,r){var o;r&8&&(e=(o=l[3])==null?void 0:o.isActive()),e?i?i.p(l,r):(i=py(l),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(l){i&&i.d(l),l&&w(t)}}}function iV(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<i class="ri-close-line"></i>',m(e,"type","button"),m(e,"class","overlay-close")},m(s,l){S(s,e,l),t||(i=H(e,"click",ut(n[0])),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function sV(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("a"),t=W(n[2]),i=A(),s=v("i"),l=A(),r=v("div"),o=A(),a=v("button"),a.textContent="Close",m(s,"class","ri-external-link-line"),m(e,"href",n[1]),m(e,"title",n[2]),m(e,"target","_blank"),m(e,"rel","noreferrer noopener"),m(e,"class","link-hint txt-ellipsis inline-flex"),m(r,"class","flex-fill"),m(a,"type","button"),m(a,"class","btn btn-transparent")},m(d,h){S(d,e,h),O(e,t),O(e,i),O(e,s),S(d,l,h),S(d,r,h),S(d,o,h),S(d,a,h),f||(u=H(a,"click",n[0]),f=!0)},p(d,h){h&4&&re(t,d[2]),h&2&&m(e,"href",d[1]),h&4&&m(e,"title",d[2])},d(d){d&&w(e),d&&w(l),d&&w(r),d&&w(o),d&&w(a),f=!1,u()}}}function lV(n){let e,t,i={class:"preview preview-"+n[4],btnClose:!1,popup:!0,$$slots:{footer:[sV],header:[iV],default:[nV]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[7](e),e.$on("show",n[8]),e.$on("hide",n[9]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.class="preview preview-"+s[4]),l&1054&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[7](null),q(e,s)}}}function rV(n,e,t){let i,s,l,r,o="";function a(p){p!==""&&(t(1,o=p),r==null||r.show())}function f(){return r==null?void 0:r.hide()}function u(p){ne[p?"unshift":"push"](()=>{r=p,t(3,r)})}function d(p){Fe.call(this,n,p)}function h(p){Fe.call(this,n,p)}return n.$$.update=()=>{n.$$.dirty&2&&t(6,i=o.indexOf("?")),n.$$.dirty&66&&t(2,s=o.substring(o.lastIndexOf("/")+1,i>0?i:void 0)),n.$$.dirty&4&&t(4,l=j.getFileType(s))},[f,o,s,r,l,a,i,u,d,h]}class oV extends ke{constructor(e){super(),ve(this,e,rV,lV,be,{show:5,hide:0})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[0]}}function aV(n){let e,t,i,s,l;function r(f,u){return f[3]==="image"?dV:f[3]==="video"||f[3]==="audio"?cV:uV}let o=r(n),a=o(n);return{c(){e=v("a"),a.c(),m(e,"draggable",!1),m(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:"")),m(e,"href",n[6]),m(e,"target","_blank"),m(e,"rel","noreferrer"),m(e,"title",i=(n[7]?"Preview":"Download")+" "+n[0])},m(f,u){S(f,e,u),a.m(e,null),s||(l=H(e,"click",Pi(n[11])),s=!0)},p(f,u){o===(o=r(f))&&a?a.p(f,u):(a.d(1),a=o(f),a&&(a.c(),a.m(e,null))),u&2&&t!==(t="thumb "+(f[1]?`thumb-${f[1]}`:""))&&m(e,"class",t),u&64&&m(e,"href",f[6]),u&129&&i!==(i=(f[7]?"Preview":"Download")+" "+f[0])&&m(e,"title",i)},d(f){f&&w(e),a.d(),s=!1,l()}}}function fV(n){let e,t;return{c(){e=v("div"),m(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:""))},m(i,s){S(i,e,s)},p(i,s){s&2&&t!==(t="thumb "+(i[1]?`thumb-${i[1]}`:""))&&m(e,"class",t)},d(i){i&&w(e)}}}function uV(n){let e;return{c(){e=v("i"),m(e,"class","ri-file-3-line")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function cV(n){let e;return{c(){e=v("i"),m(e,"class","ri-video-line")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function dV(n){let e,t,i,s,l;return{c(){e=v("img"),m(e,"draggable",!1),ni(e.src,t=n[5])||m(e,"src",t),m(e,"alt",n[0]),m(e,"title",i="Preview "+n[0])},m(r,o){S(r,e,o),s||(l=H(e,"error",n[8]),s=!0)},p(r,o){o&32&&!ni(e.src,t=r[5])&&m(e,"src",t),o&1&&m(e,"alt",r[0]),o&1&&i!==(i="Preview "+r[0])&&m(e,"title",i)},d(r){r&&w(e),s=!1,l()}}}function hV(n){let e,t,i;function s(a,f){return a[2]?fV:aV}let l=s(n),r=l(n),o={};return t=new oV({props:o}),n[12](t),{c(){r.c(),e=A(),V(t.$$.fragment)},m(a,f){r.m(a,f),S(a,e,f),X(t,a,f),i=!0},p(a,[f]){l===(l=s(a))&&r?r.p(a,f):(r.d(1),r=l(a),r&&(r.c(),r.m(e.parentNode,e)));const u={};t.$set(u)},i(a){i||(D(t.$$.fragment,a),i=!0)},o(a){I(t.$$.fragment,a),i=!1},d(a){r.d(a),a&&w(e),n[12](null),q(t,a)}}}function pV(n,e,t){let i,s,{record:l=null}=e,{filename:r=""}=e,{size:o=""}=e,a,f="",u="",d="",h=!1;p();async function p(){t(2,h=!0);try{t(10,d=await de.getAdminFileToken(l.collectionId))}catch(y){console.warn("File token failure:",y)}t(2,h=!1)}function g(){t(5,f="")}const b=y=>{s&&(y.preventDefault(),a==null||a.show(u))};function _(y){ne[y?"unshift":"push"](()=>{a=y,t(4,a)})}return n.$$set=y=>{"record"in y&&t(9,l=y.record),"filename"in y&&t(0,r=y.filename),"size"in y&&t(1,o=y.size)},n.$$.update=()=>{n.$$.dirty&1&&t(3,i=j.getFileType(r)),n.$$.dirty&9&&t(7,s=["image","audio","video"].includes(i)||r.endsWith(".pdf")),n.$$.dirty&1541&&t(6,u=h?"":de.files.getUrl(l,r,{token:d})),n.$$.dirty&1541&&t(5,f=h?"":de.files.getUrl(l,r,{thumb:"100x100",token:d}))},[r,o,h,i,a,f,u,s,g,l,d,b,_]}class Zm extends ke{constructor(e){super(),ve(this,e,pV,hV,be,{record:9,filename:0,size:1})}}function my(n,e,t){const i=n.slice();return i[29]=e[t],i[31]=t,i}function gy(n,e,t){const i=n.slice();i[34]=e[t],i[31]=t;const s=i[2].includes(i[34]);return i[35]=s,i}function mV(n){let e,t,i;function s(){return n[17](n[34])}return{c(){e=v("button"),e.innerHTML='<i class="ri-close-line"></i>',m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove")},m(l,r){S(l,e,r),t||(i=[Ae(Ye.call(null,e,"Remove file")),H(e,"click",s)],t=!0)},p(l,r){n=l},d(l){l&&w(e),t=!1,Qe(i)}}}function gV(n){let e,t,i;function s(){return n[16](n[34])}return{c(){e=v("button"),e.innerHTML='<span class="txt">Restore</span>',m(e,"type","button"),m(e,"class","btn btn-sm btn-danger btn-transparent")},m(l,r){S(l,e,r),t||(i=H(e,"click",s),t=!0)},p(l,r){n=l},d(l){l&&w(e),t=!1,i()}}}function bV(n){let e,t,i,s,l,r,o=n[34]+"",a,f,u,d,h,p;i=new Zm({props:{record:n[3],filename:n[34]}});function g(y,k){return y[35]?gV:mV}let b=g(n),_=b(n);return{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),r=v("a"),a=W(o),d=A(),h=v("div"),_.c(),J(t,"fade",n[35]),m(r,"draggable",!1),m(r,"href",f=de.files.getUrl(n[3],n[34],{token:n[10]})),m(r,"class",u="txt-ellipsis "+(n[35]?"txt-strikethrough txt-hint":"link-primary")),m(r,"title","Download"),m(r,"target","_blank"),m(r,"rel","noopener noreferrer"),m(l,"class","content"),m(h,"class","actions"),m(e,"class","list-item"),J(e,"dragging",n[32]),J(e,"dragover",n[33])},m(y,k){S(y,e,k),O(e,t),X(i,t,null),O(e,s),O(e,l),O(l,r),O(r,a),O(e,d),O(e,h),_.m(h,null),p=!0},p(y,k){const C={};k[0]&8&&(C.record=y[3]),k[0]&32&&(C.filename=y[34]),i.$set(C),(!p||k[0]&36)&&J(t,"fade",y[35]),(!p||k[0]&32)&&o!==(o=y[34]+"")&&re(a,o),(!p||k[0]&1064&&f!==(f=de.files.getUrl(y[3],y[34],{token:y[10]})))&&m(r,"href",f),(!p||k[0]&36&&u!==(u="txt-ellipsis "+(y[35]?"txt-strikethrough txt-hint":"link-primary")))&&m(r,"class",u),b===(b=g(y))&&_?_.p(y,k):(_.d(1),_=b(y),_&&(_.c(),_.m(h,null))),(!p||k[1]&2)&&J(e,"dragging",y[32]),(!p||k[1]&4)&&J(e,"dragover",y[33])},i(y){p||(D(i.$$.fragment,y),p=!0)},o(y){I(i.$$.fragment,y),p=!1},d(y){y&&w(e),q(i),_.d()}}}function by(n,e){let t,i,s,l;function r(a){e[18](a)}let o={group:e[4].name+"_uploaded",index:e[31],disabled:!e[6],$$slots:{default:[bV,({dragging:a,dragover:f})=>({32:a,33:f}),({dragging:a,dragover:f})=>[0,(a?2:0)|(f?4:0)]]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.list=e[0]),i=new La({props:o}),ne.push(()=>pe(i,"list",r)),{key:n,first:null,c(){t=Se(),V(i.$$.fragment),this.first=t},m(a,f){S(a,t,f),X(i,a,f),l=!0},p(a,f){e=a;const u={};f[0]&16&&(u.group=e[4].name+"_uploaded"),f[0]&32&&(u.index=e[31]),f[0]&64&&(u.disabled=!e[6]),f[0]&1068|f[1]&70&&(u.$$scope={dirty:f,ctx:e}),!s&&f[0]&1&&(s=!0,u.list=e[0],ye(()=>s=!1)),i.$set(u)},i(a){l||(D(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&w(t),q(i,a)}}}function _V(n){let e,t,i,s,l,r,o,a,f=n[29].name+"",u,d,h,p,g,b,_;i=new Jq({props:{file:n[29]}});function y(){return n[19](n[31])}return{c(){e=v("div"),t=v("figure"),V(i.$$.fragment),s=A(),l=v("div"),r=v("small"),r.textContent="New",o=A(),a=v("span"),u=W(f),h=A(),p=v("button"),p.innerHTML='<i class="ri-close-line"></i>',m(t,"class","thumb"),m(r,"class","label label-success m-r-5"),m(a,"class","txt"),m(l,"class","filename m-r-auto"),m(l,"title",d=n[29].name),m(p,"type","button"),m(p,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),m(e,"class","list-item"),J(e,"dragging",n[32]),J(e,"dragover",n[33])},m(k,C){S(k,e,C),O(e,t),X(i,t,null),O(e,s),O(e,l),O(l,r),O(l,o),O(l,a),O(a,u),O(e,h),O(e,p),g=!0,b||(_=[Ae(Ye.call(null,p,"Remove file")),H(p,"click",y)],b=!0)},p(k,C){n=k;const $={};C[0]&2&&($.file=n[29]),i.$set($),(!g||C[0]&2)&&f!==(f=n[29].name+"")&&re(u,f),(!g||C[0]&2&&d!==(d=n[29].name))&&m(l,"title",d),(!g||C[1]&2)&&J(e,"dragging",n[32]),(!g||C[1]&4)&&J(e,"dragover",n[33])},i(k){g||(D(i.$$.fragment,k),g=!0)},o(k){I(i.$$.fragment,k),g=!1},d(k){k&&w(e),q(i),b=!1,Qe(_)}}}function _y(n,e){let t,i,s,l;function r(a){e[20](a)}let o={group:e[4].name+"_new",index:e[31],disabled:!e[6],$$slots:{default:[_V,({dragging:a,dragover:f})=>({32:a,33:f}),({dragging:a,dragover:f})=>[0,(a?2:0)|(f?4:0)]]},$$scope:{ctx:e}};return e[1]!==void 0&&(o.list=e[1]),i=new La({props:o}),ne.push(()=>pe(i,"list",r)),{key:n,first:null,c(){t=Se(),V(i.$$.fragment),this.first=t},m(a,f){S(a,t,f),X(i,a,f),l=!0},p(a,f){e=a;const u={};f[0]&16&&(u.group=e[4].name+"_new"),f[0]&2&&(u.index=e[31]),f[0]&64&&(u.disabled=!e[6]),f[0]&2|f[1]&70&&(u.$$scope={dirty:f,ctx:e}),!s&&f[0]&2&&(s=!0,u.list=e[1],ye(()=>s=!1)),i.$set(u)},i(a){l||(D(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&w(t),q(i,a)}}}function OV(n){let e,t,i,s,l,r=n[4].name+"",o,a,f,u,d=[],h=new Map,p,g=[],b=new Map,_,y,k,C,$,T,P,M,Q,E,R,L,N=n[5];const x=U=>U[34]+U[3].id;for(let U=0;U<N.length;U+=1){let G=gy(n,N,U),z=x(G);h.set(z,d[U]=by(z,G))}let Z=n[1];const F=U=>U[29].name+U[31];for(let U=0;U<Z.length;U+=1){let G=my(n,Z,U),z=F(G);b.set(z,g[U]=_y(z,G))}return{c(){var U,G;e=v("label"),t=v("i"),s=A(),l=v("span"),o=W(r),f=A(),u=v("div");for(let z=0;z<d.length;z+=1)d[z].c();p=A();for(let z=0;z<g.length;z+=1)g[z].c();_=A(),y=v("div"),k=v("input"),$=A(),T=v("button"),P=v("i"),M=A(),Q=v("span"),Q.textContent="Upload new file",m(t,"class",i=j.getFieldTypeIcon(n[4].type)),m(l,"class","txt"),m(e,"for",a=n[28]),m(k,"type","file"),m(k,"class","hidden"),m(k,"accept",C=((G=(U=n[4].options)==null?void 0:U.mimeTypes)==null?void 0:G.join(","))||null),k.multiple=n[6],m(P,"class","ri-upload-cloud-line"),m(Q,"class","txt"),m(T,"type","button"),m(T,"class","btn btn-transparent btn-sm btn-block"),T.disabled=n[11],m(y,"class","list-item list-item-btn"),m(u,"class","list")},m(U,G){S(U,e,G),O(e,t),O(e,s),O(e,l),O(l,o),S(U,f,G),S(U,u,G);for(let z=0;z<d.length;z+=1)d[z]&&d[z].m(u,null);O(u,p);for(let z=0;z<g.length;z+=1)g[z]&&g[z].m(u,null);O(u,_),O(u,y),O(y,k),n[21](k),O(y,$),O(y,T),O(T,P),O(T,M),O(T,Q),n[24](u),E=!0,R||(L=[H(k,"change",n[22]),H(T,"click",n[23])],R=!0)},p(U,G){var z,B;(!E||G[0]&16&&i!==(i=j.getFieldTypeIcon(U[4].type)))&&m(t,"class",i),(!E||G[0]&16)&&r!==(r=U[4].name+"")&&re(o,r),(!E||G[0]&268435456&&a!==(a=U[28]))&&m(e,"for",a),G[0]&13437|G[1]&6&&(N=U[5],ue(),d=It(d,G,x,1,U,N,h,u,hn,by,p,gy),ce()),G[0]&16466|G[1]&6&&(Z=U[1],ue(),g=It(g,G,F,1,U,Z,b,u,hn,_y,_,my),ce()),(!E||G[0]&16&&C!==(C=((B=(z=U[4].options)==null?void 0:z.mimeTypes)==null?void 0:B.join(","))||null))&&m(k,"accept",C),(!E||G[0]&64)&&(k.multiple=U[6]),(!E||G[0]&2048)&&(T.disabled=U[11])},i(U){if(!E){for(let G=0;G<N.length;G+=1)D(d[G]);for(let G=0;G<Z.length;G+=1)D(g[G]);E=!0}},o(U){for(let G=0;G<d.length;G+=1)I(d[G]);for(let G=0;G<g.length;G+=1)I(g[G]);E=!1},d(U){U&&w(e),U&&w(f),U&&w(u);for(let G=0;G<d.length;G+=1)d[G].d();for(let G=0;G<g.length;G+=1)g[G].d();n[21](null),n[24](null),R=!1,Qe(L)}}}function yV(n){let e,t,i,s,l;return t=new me({props:{class:`
            form-field form-field-list form-field-file
            `+(n[4].required?"required":"")+`
            `+(n[9]?"dragover":"")+`
        `,name:n[4].name,$$slots:{default:[OV,({uniqueId:r})=>({28:r}),({uniqueId:r})=>[r?268435456:0]]},$$scope:{ctx:n}}}),{c(){e=v("div"),V(t.$$.fragment),m(e,"class","block")},m(r,o){S(r,e,o),X(t,e,null),i=!0,s||(l=[H(e,"dragover",ut(n[25])),H(e,"dragleave",n[26]),H(e,"drop",n[15])],s=!0)},p(r,o){const a={};o[0]&528&&(a.class=`
            form-field form-field-list form-field-file
            `+(r[4].required?"required":"")+`
            `+(r[9]?"dragover":"")+`
        `),o[0]&16&&(a.name=r[4].name),o[0]&268439039|o[1]&64&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(r){i||(D(t.$$.fragment,r),i=!0)},o(r){I(t.$$.fragment,r),i=!1},d(r){r&&w(e),q(t),s=!1,Qe(l)}}}function vV(n,e,t){let i,s,l,{record:r}=e,{value:o=""}=e,{uploadedFiles:a=[]}=e,{deletedFileNames:f=[]}=e,{field:u=new di}=e,d,h,p=!1,g="";function b(F){j.removeByValue(f,F),t(2,f)}function _(F){j.pushUnique(f,F),t(2,f)}function y(F){j.isEmpty(a[F])||a.splice(F,1),t(1,a)}function k(){h==null||h.dispatchEvent(new CustomEvent("change",{detail:{value:o,uploadedFiles:a,deletedFileNames:f},bubbles:!0}))}function C(F){var G,z;F.preventDefault(),t(9,p=!1);const U=((G=F.dataTransfer)==null?void 0:G.files)||[];if(!(l||!U.length)){for(const B of U){const le=s.length+a.length-f.length;if(((z=u.options)==null?void 0:z.maxSelect)<=le)break;a.push(B)}t(1,a)}}vn(async()=>{t(10,g=await de.getAdminFileToken(r.collectionId))});const $=F=>b(F),T=F=>_(F);function P(F){o=F,t(0,o),t(6,i),t(4,u)}const M=F=>y(F);function Q(F){a=F,t(1,a)}function E(F){ne[F?"unshift":"push"](()=>{d=F,t(7,d)})}const R=()=>{for(let F of d.files)a.push(F);t(1,a),t(7,d.value=null,d)},L=()=>d==null?void 0:d.click();function N(F){ne[F?"unshift":"push"](()=>{h=F,t(8,h)})}const x=()=>{t(9,p=!0)},Z=()=>{t(9,p=!1)};return n.$$set=F=>{"record"in F&&t(3,r=F.record),"value"in F&&t(0,o=F.value),"uploadedFiles"in F&&t(1,a=F.uploadedFiles),"deletedFileNames"in F&&t(2,f=F.deletedFileNames),"field"in F&&t(4,u=F.field)},n.$$.update=()=>{var F,U;n.$$.dirty[0]&2&&(Array.isArray(a)||t(1,a=j.toArray(a))),n.$$.dirty[0]&4&&(Array.isArray(f)||t(2,f=j.toArray(f))),n.$$.dirty[0]&16&&t(6,i=((F=u.options)==null?void 0:F.maxSelect)>1),n.$$.dirty[0]&65&&j.isEmpty(o)&&t(0,o=i?[]:""),n.$$.dirty[0]&1&&t(5,s=j.toArray(o)),n.$$.dirty[0]&54&&t(11,l=(s.length||a.length)&&((U=u.options)==null?void 0:U.maxSelect)<=s.length+a.length-f.length),n.$$.dirty[0]&6&&(a!==-1||f!==-1)&&k()},[o,a,f,r,u,s,i,d,h,p,g,l,b,_,y,C,$,T,P,M,Q,E,R,L,N,x,Z]}class kV extends ke{constructor(e){super(),ve(this,e,vV,yV,be,{record:3,value:0,uploadedFiles:1,deletedFileNames:2,field:4},null,[-1,-1])}}function Oy(n){return typeof n=="function"?{threshold:100,callback:n}:n||{}}function wV(n,e){e=Oy(e),e!=null&&e.callback&&e.callback();function t(i){if(!(e!=null&&e.callback))return;i.target.scrollHeight-i.target.clientHeight-i.target.scrollTop<=e.threshold&&e.callback()}return n.addEventListener("scroll",t),n.addEventListener("resize",t),{update(i){e=Oy(i)},destroy(){n.removeEventListener("scroll",t),n.removeEventListener("resize",t)}}}function yy(n,e,t){const i=n.slice();i[6]=e[t];const s=j.toArray(i[0][i[6]]).slice(0,5);return i[7]=s,i}function vy(n,e,t){const i=n.slice();return i[10]=e[t],i}function ky(n){let e,t;return e=new Zm({props:{record:n[0],filename:n[10],size:"xs"}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.record=i[0]),s&3&&(l.filename=i[10]),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function wy(n){let e=!j.isEmpty(n[10]),t,i,s=e&&ky(n);return{c(){s&&s.c(),t=Se()},m(l,r){s&&s.m(l,r),S(l,t,r),i=!0},p(l,r){r&3&&(e=!j.isEmpty(l[10])),e?s?(s.p(l,r),r&3&&D(s,1)):(s=ky(l),s.c(),D(s,1),s.m(t.parentNode,t)):s&&(ue(),I(s,1,1,()=>{s=null}),ce())},i(l){i||(D(s),i=!0)},o(l){I(s),i=!1},d(l){s&&s.d(l),l&&w(t)}}}function Sy(n){let e,t,i=n[7],s=[];for(let r=0;r<i.length;r+=1)s[r]=wy(vy(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Se()},m(r,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,o);S(r,e,o),t=!0},p(r,o){if(o&3){i=r[7];let a;for(a=0;a<i.length;a+=1){const f=vy(r,i,a);s[a]?(s[a].p(f,o),D(s[a],1)):(s[a]=wy(f),s[a].c(),D(s[a],1),s[a].m(e.parentNode,e))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)D(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){At(s,r),r&&w(e)}}}function SV(n){let e,t,i,s,l,r,o=j.truncate(j.displayValue(n[0],n[2]),70)+"",a,f,u,d,h=n[1],p=[];for(let b=0;b<h.length;b+=1)p[b]=Sy(yy(n,h,b));const g=b=>I(p[b],1,1,()=>{p[b]=null});return{c(){e=v("div"),t=v("i"),s=A();for(let b=0;b<p.length;b+=1)p[b].c();l=A(),r=v("span"),a=W(o),m(t,"class","link-hint txt-sm ri-information-line svelte-fhw3qk"),m(r,"class","txt txt-ellipsis svelte-fhw3qk"),m(e,"class","record-info svelte-fhw3qk")},m(b,_){S(b,e,_),O(e,t),O(e,s);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(e,null);O(e,l),O(e,r),O(r,a),f=!0,u||(d=Ae(i=Ye.call(null,t,{text:j.truncate(JSON.stringify(j.truncateObject(n[0]),null,2),800,!0),class:"code",position:"left"})),u=!0)},p(b,[_]){if(i&&fn(i.update)&&_&1&&i.update.call(null,{text:j.truncate(JSON.stringify(j.truncateObject(b[0]),null,2),800,!0),class:"code",position:"left"}),_&3){h=b[1];let y;for(y=0;y<h.length;y+=1){const k=yy(b,h,y);p[y]?(p[y].p(k,_),D(p[y],1)):(p[y]=Sy(k),p[y].c(),D(p[y],1),p[y].m(e,l))}for(ue(),y=h.length;y<p.length;y+=1)g(y);ce()}(!f||_&5)&&o!==(o=j.truncate(j.displayValue(b[0],b[2]),70)+"")&&re(a,o)},i(b){if(!f){for(let _=0;_<h.length;_+=1)D(p[_]);f=!0}},o(b){p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)I(p[_]);f=!1},d(b){b&&w(e),At(p,b),u=!1,d()}}}function $V(n,e,t){let i,s,l,r;et(n,As,f=>t(5,r=f));let{record:o}=e,{displayFields:a=[]}=e;return n.$$set=f=>{"record"in f&&t(0,o=f.record),"displayFields"in f&&t(3,a=f.displayFields)},n.$$.update=()=>{n.$$.dirty&33&&t(4,i=r==null?void 0:r.find(f=>f.id==(o==null?void 0:o.collectionId))),n.$$.dirty&24&&t(1,s=(a==null?void 0:a.filter(f=>{var u;return!!((u=i==null?void 0:i.schema)!=null&&u.find(d=>d.name==f&&d.type=="file"))}))||[]),n.$$.dirty&10&&t(2,l=(s.length?a==null?void 0:a.filter(f=>!s.includes(f)):a)||[])},[o,s,l,a,i,r]}class Pc extends ke{constructor(e){super(),ve(this,e,$V,SV,be,{record:0,displayFields:3})}}function $y(n,e,t){const i=n.slice();return i[49]=e[t],i[51]=t,i}function Cy(n,e,t){const i=n.slice();i[49]=e[t];const s=i[8](i[49]);return i[6]=s,i}function Ty(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<div class="txt">New record</div>',m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint p-l-sm p-r-sm")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[31]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function Py(n){let e,t;function i(r,o){return r[12]?TV:CV}let s=i(n),l=s(n);return{c(){e=v("div"),l.c(),t=A(),m(e,"class","list-item")},m(r,o){S(r,e,o),l.m(e,null),O(e,t)},p(r,o){s===(s=i(r))&&l?l.p(r,o):(l.d(1),l=s(r),l&&(l.c(),l.m(e,t)))},d(r){r&&w(e),l.d()}}}function CV(n){var l;let e,t,i,s=((l=n[2])==null?void 0:l.length)&&My(n);return{c(){e=v("span"),e.textContent="No records found.",t=A(),s&&s.c(),i=Se(),m(e,"class","txt txt-hint")},m(r,o){S(r,e,o),S(r,t,o),s&&s.m(r,o),S(r,i,o)},p(r,o){var a;(a=r[2])!=null&&a.length?s?s.p(r,o):(s=My(r),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&w(e),r&&w(t),s&&s.d(r),r&&w(i)}}}function TV(n){let e;return{c(){e=v("div"),e.innerHTML='<span class="loader loader-sm active"></span>',m(e,"class","block txt-center")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function My(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<span class="txt">Clear filters</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-sm")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[35]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function PV(n){let e;return{c(){e=v("i"),m(e,"class","ri-checkbox-blank-circle-line txt-disabled")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function MV(n){let e;return{c(){e=v("i"),m(e,"class","ri-checkbox-circle-fill txt-success")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function Ay(n){let e,t,i,s;function l(){return n[32](n[49])}return{c(){e=v("div"),t=v("button"),t.innerHTML='<i class="ri-pencil-line"></i>',m(t,"type","button"),m(t,"class","btn btn-sm btn-circle btn-transparent btn-hint m-l-auto"),m(e,"class","actions nonintrusive")},m(r,o){S(r,e,o),O(e,t),i||(s=[Ae(Ye.call(null,t,"Edit")),H(t,"keydown",Pi(n[27])),H(t,"click",Pi(l))],i=!0)},p(r,o){n=r},d(r){r&&w(e),i=!1,Qe(s)}}}function Qy(n,e){var y;let t,i,s,l,r,o,a,f,u;function d(k,C){return k[6]?MV:PV}let h=d(e),p=h(e);l=new Pc({props:{record:e[49],displayFields:e[13]}});let g=!((y=e[10])!=null&&y.$isView)&&Ay(e);function b(){return e[33](e[49])}function _(...k){return e[34](e[49],...k)}return{key:n,first:null,c(){t=v("div"),p.c(),i=A(),s=v("div"),V(l.$$.fragment),r=A(),g&&g.c(),o=A(),m(s,"class","content"),m(t,"tabindex","0"),m(t,"class","list-item handle"),J(t,"selected",e[6]),J(t,"disabled",!e[6]&&e[5]>1&&!e[9]),this.first=t},m(k,C){S(k,t,C),p.m(t,null),O(t,i),O(t,s),X(l,s,null),O(t,r),g&&g.m(t,null),O(t,o),a=!0,f||(u=[H(t,"click",b),H(t,"keydown",_)],f=!0)},p(k,C){var T;e=k,h!==(h=d(e))&&(p.d(1),p=h(e),p&&(p.c(),p.m(t,i)));const $={};C[0]&8&&($.record=e[49]),C[0]&8192&&($.displayFields=e[13]),l.$set($),(T=e[10])!=null&&T.$isView?g&&(g.d(1),g=null):g?g.p(e,C):(g=Ay(e),g.c(),g.m(t,o)),(!a||C[0]&264)&&J(t,"selected",e[6]),(!a||C[0]&808)&&J(t,"disabled",!e[6]&&e[5]>1&&!e[9])},i(k){a||(D(l.$$.fragment,k),a=!0)},o(k){I(l.$$.fragment,k),a=!1},d(k){k&&w(t),p.d(),q(l),g&&g.d(),f=!1,Qe(u)}}}function Dy(n){let e,t=n[6].length+"",i,s,l,r;return{c(){e=W("("),i=W(t),s=W(" of MAX "),l=W(n[5]),r=W(")")},m(o,a){S(o,e,a),S(o,i,a),S(o,s,a),S(o,l,a),S(o,r,a)},p(o,a){a[0]&64&&t!==(t=o[6].length+"")&&re(i,t),a[0]&32&&re(l,o[5])},d(o){o&&w(e),o&&w(i),o&&w(s),o&&w(l),o&&w(r)}}}function AV(n){let e;return{c(){e=v("p"),e.textContent="No selected records.",m(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function QV(n){let e,t,i=n[6],s=[];for(let r=0;r<i.length;r+=1)s[r]=Ey($y(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){e=v("div");for(let r=0;r<s.length;r+=1)s[r].c();m(e,"class","selected-list svelte-1u8jhky")},m(r,o){S(r,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(r,o){if(o[0]&73792|o[1]&6291456){i=r[6];let a;for(a=0;a<i.length;a+=1){const f=$y(r,i,a);s[a]?(s[a].p(f,o),D(s[a],1)):(s[a]=Ey(f),s[a].c(),D(s[a],1),s[a].m(e,null))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)D(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){r&&w(e),At(s,r)}}}function DV(n){let e,t,i,s,l,r,o,a;t=new Pc({props:{record:n[49],displayFields:n[13]}});function f(){return n[37](n[49])}return{c(){e=v("span"),V(t.$$.fragment),i=A(),s=v("button"),s.innerHTML='<i class="ri-close-line"></i>',l=A(),m(s,"type","button"),m(s,"title","Remove"),m(s,"class","btn btn-circle btn-transparent btn-hint btn-xs"),m(e,"class","label"),J(e,"label-danger",n[52]),J(e,"label-warning",n[53])},m(u,d){S(u,e,d),X(t,e,null),O(e,i),O(e,s),S(u,l,d),r=!0,o||(a=H(s,"click",f),o=!0)},p(u,d){n=u;const h={};d[0]&64&&(h.record=n[49]),d[0]&8192&&(h.displayFields=n[13]),t.$set(h),(!r||d[1]&2097152)&&J(e,"label-danger",n[52]),(!r||d[1]&4194304)&&J(e,"label-warning",n[53])},i(u){r||(D(t.$$.fragment,u),r=!0)},o(u){I(t.$$.fragment,u),r=!1},d(u){u&&w(e),q(t),u&&w(l),o=!1,a()}}}function Ey(n){let e,t,i;function s(r){n[38](r)}let l={index:n[51],$$slots:{default:[DV,({dragging:r,dragover:o})=>({52:r,53:o}),({dragging:r,dragover:o})=>[0,(r?2097152:0)|(o?4194304:0)]]},$$scope:{ctx:n}};return n[6]!==void 0&&(l.list=n[6]),e=new La({props:l}),ne.push(()=>pe(e,"list",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};o[0]&8256|o[1]&39845888&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&64&&(t=!0,a.list=r[6],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function EV(n){var L;let e,t,i,s,l,r=[],o=new Map,a,f,u,d,h,p,g,b,_,y,k;t=new sc({props:{value:n[2],autocompleteCollection:n[10]}}),t.$on("submit",n[30]);let C=!((L=n[10])!=null&&L.$isView)&&Ty(n),$=n[3];const T=N=>N[49].id;for(let N=0;N<$.length;N+=1){let x=Cy(n,$,N),Z=T(x);o.set(Z,r[N]=Qy(Z,x))}let P=null;$.length||(P=Py(n));let M=n[5]>1&&Dy(n);const Q=[QV,AV],E=[];function R(N,x){return N[6].length?0:1}return p=R(n),g=E[p]=Q[p](n),{c(){e=v("div"),V(t.$$.fragment),i=A(),C&&C.c(),s=A(),l=v("div");for(let N=0;N<r.length;N+=1)r[N].c();P&&P.c(),f=A(),u=v("h5"),d=W(`Selected
        `),M&&M.c(),h=A(),g.c(),b=Se(),m(e,"class","flex m-b-base flex-gap-10"),m(l,"class","list picker-list m-b-base svelte-1u8jhky"),m(u,"class","section-title")},m(N,x){S(N,e,x),X(t,e,null),O(e,i),C&&C.m(e,null),S(N,s,x),S(N,l,x);for(let Z=0;Z<r.length;Z+=1)r[Z]&&r[Z].m(l,null);P&&P.m(l,null),S(N,f,x),S(N,u,x),O(u,d),M&&M.m(u,null),S(N,h,x),E[p].m(N,x),S(N,b,x),_=!0,y||(k=Ae(a=wV.call(null,l,n[36])),y=!0)},p(N,x){var U;const Z={};x[0]&4&&(Z.value=N[2]),x[0]&1024&&(Z.autocompleteCollection=N[10]),t.$set(Z),(U=N[10])!=null&&U.$isView?C&&(C.d(1),C=null):C?C.p(N,x):(C=Ty(N),C.c(),C.m(e,null)),x[0]&145324&&($=N[3],ue(),r=It(r,x,T,1,N,$,o,l,hn,Qy,null,Cy),ce(),!$.length&&P?P.p(N,x):$.length?P&&(P.d(1),P=null):(P=Py(N),P.c(),P.m(l,null))),a&&fn(a.update)&&x[0]&2064&&a.update.call(null,N[36]),N[5]>1?M?M.p(N,x):(M=Dy(N),M.c(),M.m(u,null)):M&&(M.d(1),M=null);let F=p;p=R(N),p===F?E[p].p(N,x):(ue(),I(E[F],1,1,()=>{E[F]=null}),ce(),g=E[p],g?g.p(N,x):(g=E[p]=Q[p](N),g.c()),D(g,1),g.m(b.parentNode,b))},i(N){if(!_){D(t.$$.fragment,N);for(let x=0;x<$.length;x+=1)D(r[x]);D(g),_=!0}},o(N){I(t.$$.fragment,N);for(let x=0;x<r.length;x+=1)I(r[x]);I(g),_=!1},d(N){N&&w(e),q(t),C&&C.d(),N&&w(s),N&&w(l);for(let x=0;x<r.length;x+=1)r[x].d();P&&P.d(),N&&w(f),N&&w(u),M&&M.d(),N&&w(h),E[p].d(N),N&&w(b),y=!1,k()}}}function IV(n){var o;let e,t,i,s=(((o=n[10])==null?void 0:o.name)||"")+"",l,r;return{c(){e=v("h4"),t=W("Select "),i=v("strong"),l=W(s),r=W(" records")},m(a,f){S(a,e,f),O(e,t),O(e,i),O(i,l),O(e,r)},p(a,f){var u;f[0]&1024&&s!==(s=(((u=a[10])==null?void 0:u.name)||"")+"")&&re(l,s)},d(a){a&&w(e)}}}function RV(n){let e,t,i,s,l;return{c(){e=v("button"),e.innerHTML='<span class="txt">Cancel</span>',t=A(),i=v("button"),i.innerHTML='<span class="txt">Set selection</span>',m(e,"type","button"),m(e,"class","btn btn-transparent"),m(i,"type","button"),m(i,"class","btn")},m(r,o){S(r,e,o),S(r,t,o),S(r,i,o),s||(l=[H(e,"click",n[28]),H(i,"click",n[29])],s=!0)},p:ee,d(r){r&&w(e),r&&w(t),r&&w(i),s=!1,Qe(l)}}}function LV(n){let e,t,i,s;const l=[{popup:!0},{class:"overlay-panel-xl"},n[19]];let r={$$slots:{footer:[RV],header:[IV],default:[EV]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)r=je(r,l[a]);e=new Fn({props:r}),n[39](e),e.$on("hide",n[40]),e.$on("show",n[41]);let o={collection:n[10]};return i=new b3({props:o}),n[42](i),i.$on("save",n[43]),i.$on("delete",n[44]),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment)},m(a,f){X(e,a,f),S(a,t,f),X(i,a,f),s=!0},p(a,f){const u=f[0]&524288?Bt(l,[l[0],l[1],Cn(a[19])]):{};f[0]&16380|f[1]&33554432&&(u.$$scope={dirty:f,ctx:a}),e.$set(u);const d={};f[0]&1024&&(d.collection=a[10]),i.$set(d)},i(a){s||(D(e.$$.fragment,a),D(i.$$.fragment,a),s=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),s=!1},d(a){n[39](null),q(e,a),a&&w(t),n[42](null),q(i,a)}}}const Id=100;function NV(n,e,t){let i,s,l,r,o,a,f,u;const d=["value","field","show","hide"];let h=ft(e,d),p;et(n,As,Me=>t(26,p=Me));const g=Lt(),b="picker_"+j.randomString(5);let{value:_}=e,{field:y}=e,k,C,$="",T=[],P=[],M=1,Q=0,E=!1,R=!1;function L(){return t(2,$=""),t(3,T=[]),t(6,P=[]),x(),Z(!0),k==null?void 0:k.show()}function N(){return k==null?void 0:k.hide()}async function x(){const Me=j.toArray(_);if(!s||!Me.length)return;t(24,R=!0);let kt=[];const Yt=Me.slice(),pn=[];for(;Yt.length>0;){const Dn=[];for(const De of Yt.splice(0,Id))Dn.push(`id="${De}"`);pn.push(de.collection(s).getFullList(Id,{filter:Dn.join("||"),$autoCancel:!1}))}try{await Promise.all(pn).then(Dn=>{kt=kt.concat(...Dn)}),t(6,P=[]);for(const Dn of Me){const De=j.findByKey(kt,"id",Dn);De&&P.push(De)}$.trim()||t(3,T=j.filterDuplicatesByKey(P.concat(T)))}catch(Dn){de.error(Dn)}t(24,R=!1)}async function Z(Me=!1){if(s){t(4,E=!0),Me&&($.trim()?t(3,T=[]):t(3,T=j.toArray(P).slice()));try{const kt=Me?1:M+1,Yt=j.getAllCollectionIdentifiers(r),pn=await de.collection(s).getList(kt,Id,{filter:j.normalizeSearchFilter($,Yt),sort:r!=null&&r.$isView?"":"-created",$cancelKey:b+"loadList"});t(3,T=j.filterDuplicatesByKey(T.concat(pn.items))),M=pn.page,t(23,Q=pn.totalItems)}catch(kt){de.error(kt)}t(4,E=!1)}}function F(Me){i==1?t(6,P=[Me]):f&&(j.pushOrReplaceByKey(P,Me),t(6,P))}function U(Me){j.removeByKey(P,"id",Me.id),t(6,P)}function G(Me){u(Me)?U(Me):F(Me)}function z(){var Me;i!=1?t(20,_=P.map(kt=>kt.id)):t(20,_=((Me=P==null?void 0:P[0])==null?void 0:Me.id)||""),g("save",P),N()}function B(Me){Fe.call(this,n,Me)}const le=()=>N(),te=()=>z(),se=Me=>t(2,$=Me.detail),Oe=()=>C==null?void 0:C.show(),$e=Me=>C==null?void 0:C.show(Me),Ze=Me=>G(Me),He=(Me,kt)=>{(kt.code==="Enter"||kt.code==="Space")&&(kt.preventDefault(),kt.stopPropagation(),G(Me))},Ce=()=>t(2,$=""),Pe=()=>{a&&!E&&Z()},lt=Me=>U(Me);function Qt(Me){P=Me,t(6,P)}function rt(Me){ne[Me?"unshift":"push"](()=>{k=Me,t(1,k)})}function Je(Me){Fe.call(this,n,Me)}function Tt(Me){Fe.call(this,n,Me)}function ge(Me){ne[Me?"unshift":"push"](()=>{C=Me,t(7,C)})}const _e=Me=>{j.removeByKey(T,"id",Me.detail.id),T.unshift(Me.detail),t(3,T),F(Me.detail)},tt=Me=>{j.removeByKey(T,"id",Me.detail.id),t(3,T),U(Me.detail)};return n.$$set=Me=>{e=je(je({},e),$n(Me)),t(19,h=ft(e,d)),"value"in Me&&t(20,_=Me.value),"field"in Me&&t(21,y=Me.field)},n.$$.update=()=>{var Me,kt,Yt;n.$$.dirty[0]&2097152&&t(5,i=((Me=y==null?void 0:y.options)==null?void 0:Me.maxSelect)||null),n.$$.dirty[0]&2097152&&t(25,s=(kt=y==null?void 0:y.options)==null?void 0:kt.collectionId),n.$$.dirty[0]&2097152&&t(13,l=(Yt=y==null?void 0:y.options)==null?void 0:Yt.displayFields),n.$$.dirty[0]&100663296&&t(10,r=p.find(pn=>pn.id==s)||null),n.$$.dirty[0]&16777222&&typeof $<"u"&&!R&&k!=null&&k.isActive()&&Z(!0),n.$$.dirty[0]&16777232&&t(12,o=E||R),n.$$.dirty[0]&8388616&&t(11,a=Q>T.length),n.$$.dirty[0]&96&&t(9,f=i===null||i>P.length),n.$$.dirty[0]&64&&t(8,u=function(pn){return j.findByKey(P,"id",pn.id)})},[N,k,$,T,E,i,P,C,u,f,r,a,o,l,Z,F,U,G,z,h,_,y,L,Q,R,s,p,B,le,te,se,Oe,$e,Ze,He,Ce,Pe,lt,Qt,rt,Je,Tt,ge,_e,tt]}class xV extends ke{constructor(e){super(),ve(this,e,NV,LV,be,{value:20,field:21,show:22,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[22]}get hide(){return this.$$.ctx[0]}}function Iy(n,e,t){const i=n.slice();return i[20]=e[t],i[22]=t,i}function Ry(n,e,t){const i=n.slice();return i[25]=e[t],i}function Ly(n){let e,t=n[5]&&Ny(n);return{c(){t&&t.c(),e=Se()},m(i,s){t&&t.m(i,s),S(i,e,s)},p(i,s){i[5]?t?t.p(i,s):(t=Ny(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&w(e)}}}function Ny(n){let e,t=j.toArray(n[0]).slice(0,10),i=[];for(let s=0;s<t.length;s+=1)i[s]=xy(Ry(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Se()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);S(s,e,l)},p(s,l){if(l&1){t=j.toArray(s[0]).slice(0,10);let r;for(r=0;r<t.length;r+=1){const o=Ry(s,t,r);i[r]?i[r].p(o,l):(i[r]=xy(),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){At(i,s),s&&w(e)}}}function xy(n){let e;return{c(){e=v("div"),e.innerHTML=`<div class="skeleton-loader"></div> 
                        `,m(e,"class","list-item")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function ZV(n){var h;let e,t,i,s,l,r,o,a,f,u;i=new Pc({props:{record:n[20],displayFields:(h=n[2].options)==null?void 0:h.displayFields}});function d(){return n[10](n[20])}return{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),r=v("button"),r.innerHTML='<i class="ri-close-line"></i>',o=A(),m(t,"class","content"),m(r,"type","button"),m(r,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),m(l,"class","actions"),m(e,"class","list-item"),J(e,"dragging",n[23]),J(e,"dragover",n[24])},m(p,g){S(p,e,g),O(e,t),X(i,t,null),O(e,s),O(e,l),O(l,r),S(p,o,g),a=!0,f||(u=[Ae(Ye.call(null,r,"Remove")),H(r,"click",d)],f=!0)},p(p,g){var _;n=p;const b={};g&16&&(b.record=n[20]),g&4&&(b.displayFields=(_=n[2].options)==null?void 0:_.displayFields),i.$set(b),(!a||g&8388608)&&J(e,"dragging",n[23]),(!a||g&16777216)&&J(e,"dragover",n[24])},i(p){a||(D(i.$$.fragment,p),a=!0)},o(p){I(i.$$.fragment,p),a=!1},d(p){p&&w(e),q(i),p&&w(o),f=!1,Qe(u)}}}function Zy(n,e){let t,i,s,l;function r(a){e[11](a)}let o={group:e[2].name+"_relation",index:e[22],disabled:!e[6],$$slots:{default:[ZV,({dragging:a,dragover:f})=>({23:a,24:f}),({dragging:a,dragover:f})=>(a?8388608:0)|(f?16777216:0)]},$$scope:{ctx:e}};return e[4]!==void 0&&(o.list=e[4]),i=new La({props:o}),ne.push(()=>pe(i,"list",r)),i.$on("sort",e[12]),{key:n,first:null,c(){t=Se(),V(i.$$.fragment),this.first=t},m(a,f){S(a,t,f),X(i,a,f),l=!0},p(a,f){e=a;const u={};f&4&&(u.group=e[2].name+"_relation"),f&16&&(u.index=e[22]),f&64&&(u.disabled=!e[6]),f&293601300&&(u.$$scope={dirty:f,ctx:e}),!s&&f&16&&(s=!0,u.list=e[4],ye(()=>s=!1)),i.$set(u)},i(a){l||(D(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&w(t),q(i,a)}}}function FV(n){let e,t,i,s,l,r=n[2].name+"",o,a,f,u,d,h=[],p=new Map,g,b,_,y,k,C,$=n[4];const T=M=>M[20].id;for(let M=0;M<$.length;M+=1){let Q=Iy(n,$,M),E=T(Q);p.set(E,h[M]=Zy(E,Q))}let P=null;return $.length||(P=Ly(n)),{c(){e=v("label"),t=v("i"),s=A(),l=v("span"),o=W(r),f=A(),u=v("div"),d=v("div");for(let M=0;M<h.length;M+=1)h[M].c();P&&P.c(),g=A(),b=v("div"),_=v("button"),_.innerHTML=`<i class="ri-magic-line"></i> 
                
                <span class="txt">Open picker</span>`,m(t,"class",i=er(j.getFieldTypeIcon(n[2].type))+" svelte-1ynw0pc"),m(l,"class","txt"),m(e,"for",a=n[19]),m(d,"class","relations-list svelte-1ynw0pc"),m(_,"type","button"),m(_,"class","btn btn-transparent btn-sm btn-block"),m(b,"class","list-item list-item-btn"),m(u,"class","list")},m(M,Q){S(M,e,Q),O(e,t),O(e,s),O(e,l),O(l,o),S(M,f,Q),S(M,u,Q),O(u,d);for(let E=0;E<h.length;E+=1)h[E]&&h[E].m(d,null);P&&P.m(d,null),O(u,g),O(u,b),O(b,_),y=!0,k||(C=H(_,"click",n[13]),k=!0)},p(M,Q){(!y||Q&4&&i!==(i=er(j.getFieldTypeIcon(M[2].type))+" svelte-1ynw0pc"))&&m(t,"class",i),(!y||Q&4)&&r!==(r=M[2].name+"")&&re(o,r),(!y||Q&524288&&a!==(a=M[19]))&&m(e,"for",a),Q&25166325&&($=M[4],ue(),h=It(h,Q,T,1,M,$,p,d,hn,Zy,null,Iy),ce(),!$.length&&P?P.p(M,Q):$.length?P&&(P.d(1),P=null):(P=Ly(M),P.c(),P.m(d,null)))},i(M){if(!y){for(let Q=0;Q<$.length;Q+=1)D(h[Q]);y=!0}},o(M){for(let Q=0;Q<h.length;Q+=1)I(h[Q]);y=!1},d(M){M&&w(e),M&&w(f),M&&w(u);for(let Q=0;Q<h.length;Q+=1)h[Q].d();P&&P.d(),k=!1,C()}}}function XV(n){let e,t,i,s,l={class:"form-field form-field-list "+(n[2].required?"required":""),name:n[2].name,$$slots:{default:[FV,({uniqueId:o})=>({19:o}),({uniqueId:o})=>o?524288:0]},$$scope:{ctx:n}};e=new me({props:l}),n[14](e);let r={value:n[0],field:n[2]};return i=new xV({props:r}),n[15](i),i.$on("save",n[16]),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment)},m(o,a){X(e,o,a),S(o,t,a),X(i,o,a),s=!0},p(o,[a]){const f={};a&4&&(f.class="form-field form-field-list "+(o[2].required?"required":"")),a&4&&(f.name=o[2].name),a&268959863&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};a&1&&(u.value=o[0]),a&4&&(u.field=o[2]),i.$set(u)},i(o){s||(D(e.$$.fragment,o),D(i.$$.fragment,o),s=!0)},o(o){I(e.$$.fragment,o),I(i.$$.fragment,o),s=!1},d(o){n[14](null),q(e,o),o&&w(t),n[15](null),q(i,o)}}}const Fy=100;function qV(n,e,t){let i,{value:s}=e,{picker:l}=e,{field:r=new di}=e,o,a=[],f=!1,u;function d(){if(f)return!1;const P=j.toArray(s);return t(4,a=a.filter(M=>P.includes(M.id))),P.length!=a.length}async function h(){var E,R;const P=j.toArray(s);if(t(4,a=[]),!((E=r==null?void 0:r.options)!=null&&E.collectionId)||!P.length){t(5,f=!1);return}t(5,f=!0);const M=P.slice(),Q=[];for(;M.length>0;){const L=[];for(const N of M.splice(0,Fy))L.push(`id="${N}"`);Q.push(de.collection((R=r==null?void 0:r.options)==null?void 0:R.collectionId).getFullList(Fy,{filter:L.join("||"),$autoCancel:!1}))}try{let L=[];await Promise.all(Q).then(N=>{L=L.concat(...N)});for(const N of P){const x=j.findByKey(L,"id",N);x&&a.push(x)}t(4,a)}catch(L){de.error(L)}t(5,f=!1)}function p(P){j.removeByKey(a,"id",P.id),t(4,a),g()}function g(){var P;i?t(0,s=a.map(M=>M.id)):t(0,s=((P=a[0])==null?void 0:P.id)||"")}Sa(()=>{clearTimeout(u)});const b=P=>p(P);function _(P){a=P,t(4,a)}const y=()=>{g()},k=()=>l==null?void 0:l.show();function C(P){ne[P?"unshift":"push"](()=>{o=P,t(3,o)})}function $(P){ne[P?"unshift":"push"](()=>{l=P,t(1,l)})}const T=P=>{var M;t(4,a=P.detail||[]),t(0,s=i?a.map(Q=>Q.id):((M=a[0])==null?void 0:M.id)||"")};return n.$$set=P=>{"value"in P&&t(0,s=P.value),"picker"in P&&t(1,l=P.picker),"field"in P&&t(2,r=P.field)},n.$$.update=()=>{var P;n.$$.dirty&4&&t(6,i=((P=r.options)==null?void 0:P.maxSelect)!=1),n.$$.dirty&9&&typeof s<"u"&&(o==null||o.changed()),n.$$.dirty&529&&d()&&(clearTimeout(u),t(9,u=setTimeout(h,0)))},[s,l,r,o,a,f,i,p,g,u,b,_,y,k,C,$,T]}class VV extends ke{constructor(e){super(),ve(this,e,qV,XV,be,{value:0,picker:1,field:2})}}const jV=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],UV=(n,e)=>{jV.forEach(t=>{n.on(t,i=>{e(t.toLowerCase(),{eventName:t,event:i,editor:n})})})};function WV(n){let e;return{c(){e=v("textarea"),m(e,"id",n[0]),Zd(e,"visibility","hidden")},m(t,i){S(t,e,i),n[18](e)},p(t,i){i&1&&m(e,"id",t[0])},d(t){t&&w(e),n[18](null)}}}function zV(n){let e;return{c(){e=v("div"),m(e,"id",n[0])},m(t,i){S(t,e,i),n[17](e)},p(t,i){i&1&&m(e,"id",t[0])},d(t){t&&w(e),n[17](null)}}}function BV(n){let e;function t(l,r){return l[1]?zV:WV}let i=t(n),s=i(n);return{c(){e=v("div"),s.c(),m(e,"class",n[2])},m(l,r){S(l,e,r),s.m(e,null),n[19](e)},p(l,[r]){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e,null))),r&4&&m(e,"class",l[2])},i:ee,o:ee,d(l){l&&w(e),s.d(),n[19](null)}}}const g3=n=>n+"_"+Math.floor(Math.random()*1e9)+String(Date.now()),YV=()=>{let n={listeners:[],scriptId:g3("tiny-script"),scriptLoaded:!1,injected:!1};const e=(i,s,l,r)=>{n.injected=!0;const o=s.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.src=l,o.onload=()=>{r()},s.head&&s.head.appendChild(o)};return{load:(i,s,l)=>{n.scriptLoaded?l():(n.listeners.push(l),n.injected||e(n.scriptId,i,s,()=>{n.listeners.forEach(r=>r()),n.scriptLoaded=!0}))}}};let HV=YV();function GV(n,e,t){var i;let{id:s=g3("tinymce-svelte")}=e,{inline:l=void 0}=e,{disabled:r=!1}=e,{apiKey:o="no-api-key"}=e,{channel:a="6"}=e,{scriptSrc:f=void 0}=e,{conf:u={}}=e,{modelEvents:d="change input undo redo"}=e,{value:h=""}=e,{text:p=""}=e,{cssClass:g="tinymce-wrapper"}=e,b,_,y,k=h,C=r;const $=Lt(),T=()=>{const L=(()=>typeof window<"u"?window:global)();return L&&L.tinymce?L.tinymce:null},P=()=>{const R=Object.assign(Object.assign({},u),{target:_,inline:l!==void 0?l:u.inline!==void 0?u.inline:!1,readonly:r,setup:L=>{t(14,y=L),L.on("init",()=>{L.setContent(h),L.on(d,()=>{t(15,k=L.getContent()),k!==h&&(t(5,h=k),t(6,p=L.getContent({format:"text"})))})}),UV(L,$),typeof u.setup=="function"&&u.setup(L)}});t(4,_.style.visibility="",_),T().init(R)};vn(()=>{if(T()!==null)P();else{const R=f||`https://cdn.tiny.cloud/1/${o}/tinymce/${a}/tinymce.min.js`;HV.load(b.ownerDocument,R,()=>{P()})}}),Sa(()=>{var R;y&&((R=T())===null||R===void 0||R.remove(y))});function M(R){ne[R?"unshift":"push"](()=>{_=R,t(4,_)})}function Q(R){ne[R?"unshift":"push"](()=>{_=R,t(4,_)})}function E(R){ne[R?"unshift":"push"](()=>{b=R,t(3,b)})}return n.$$set=R=>{"id"in R&&t(0,s=R.id),"inline"in R&&t(1,l=R.inline),"disabled"in R&&t(7,r=R.disabled),"apiKey"in R&&t(8,o=R.apiKey),"channel"in R&&t(9,a=R.channel),"scriptSrc"in R&&t(10,f=R.scriptSrc),"conf"in R&&t(11,u=R.conf),"modelEvents"in R&&t(12,d=R.modelEvents),"value"in R&&t(5,h=R.value),"text"in R&&t(6,p=R.text),"cssClass"in R&&t(2,g=R.cssClass)},n.$$.update=()=>{n.$$.dirty&123040&&(y&&k!==h&&(y.setContent(h),t(6,p=y.getContent({format:"text"}))),y&&r!==C&&(t(16,C=r),typeof(t(13,i=y.mode)===null||i===void 0?void 0:i.set)=="function"?y.mode.set(r?"readonly":"design"):y.setMode(r?"readonly":"design")))},[s,l,g,b,_,h,p,r,o,a,f,u,d,i,y,k,C,M,Q,E]}class Fm extends ke{constructor(e){super(),ve(this,e,GV,BV,be,{id:0,inline:1,disabled:7,apiKey:8,channel:9,scriptSrc:10,conf:11,modelEvents:12,value:5,text:6,cssClass:2})}}function KV(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h;function p(b){n[2](b)}let g={id:n[3],scriptSrc:"./libs/tinymce/tinymce.min.js",conf:j.defaultEditorOptions()};return n[0]!==void 0&&(g.value=n[0]),u=new Fm({props:g}),ne.push(()=>pe(u,"value",p)),{c(){e=v("label"),t=v("i"),s=A(),l=v("span"),o=W(r),f=A(),V(u.$$.fragment),m(t,"class",i=j.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[3])},m(b,_){S(b,e,_),O(e,t),O(e,s),O(e,l),O(l,o),S(b,f,_),X(u,b,_),h=!0},p(b,_){(!h||_&2&&i!==(i=j.getFieldTypeIcon(b[1].type)))&&m(t,"class",i),(!h||_&2)&&r!==(r=b[1].name+"")&&re(o,r),(!h||_&8&&a!==(a=b[3]))&&m(e,"for",a);const y={};_&8&&(y.id=b[3]),!d&&_&1&&(d=!0,y.value=b[0],ye(()=>d=!1)),u.$set(y)},i(b){h||(D(u.$$.fragment,b),h=!0)},o(b){I(u.$$.fragment,b),h=!1},d(b){b&&w(e),b&&w(f),q(u,b)}}}function JV(n){let e,t;return e=new me({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[KV,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function ej(n,e,t){let{field:i=new di}=e,{value:s=void 0}=e;function l(r){s=r,t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class tj extends ke{constructor(e){super(),ve(this,e,ej,JV,be,{field:1,value:0})}}function nj(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Auth URL"),s=A(),l=v("input"),m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5])},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].authUrl),o||(a=H(l,"input",n[2]),o=!0)},p(f,u){u&32&&i!==(i=f[5])&&m(e,"for",i),u&32&&r!==(r=f[5])&&m(l,"id",r),u&1&&l.value!==f[0].authUrl&&fe(l,f[0].authUrl)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function ij(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Token URL"),s=A(),l=v("input"),m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5])},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].tokenUrl),o||(a=H(l,"input",n[3]),o=!0)},p(f,u){u&32&&i!==(i=f[5])&&m(e,"for",i),u&32&&r!==(r=f[5])&&m(l,"id",r),u&1&&l.value!==f[0].tokenUrl&&fe(l,f[0].tokenUrl)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function sj(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("User API URL"),s=A(),l=v("input"),m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5])},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].userApiUrl),o||(a=H(l,"input",n[4]),o=!0)},p(f,u){u&32&&i!==(i=f[5])&&m(e,"for",i),u&32&&r!==(r=f[5])&&m(l,"id",r),u&1&&l.value!==f[0].userApiUrl&&fe(l,f[0].userApiUrl)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function lj(n){let e,t,i,s,l,r,o,a;return i=new me({props:{class:"form-field",name:n[1]+".authUrl",$$slots:{default:[nj,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),l=new me({props:{class:"form-field",name:n[1]+".tokenUrl",$$slots:{default:[ij,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),o=new me({props:{class:"form-field",name:n[1]+".userApiUrl",$$slots:{default:[sj,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),e.textContent="Selfhosted endpoints (optional)",t=A(),V(i.$$.fragment),s=A(),V(l.$$.fragment),r=A(),V(o.$$.fragment),m(e,"class","section-title")},m(f,u){S(f,e,u),S(f,t,u),X(i,f,u),S(f,s,u),X(l,f,u),S(f,r,u),X(o,f,u),a=!0},p(f,[u]){const d={};u&2&&(d.name=f[1]+".authUrl"),u&97&&(d.$$scope={dirty:u,ctx:f}),i.$set(d);const h={};u&2&&(h.name=f[1]+".tokenUrl"),u&97&&(h.$$scope={dirty:u,ctx:f}),l.$set(h);const p={};u&2&&(p.name=f[1]+".userApiUrl"),u&97&&(p.$$scope={dirty:u,ctx:f}),o.$set(p)},i(f){a||(D(i.$$.fragment,f),D(l.$$.fragment,f),D(o.$$.fragment,f),a=!0)},o(f){I(i.$$.fragment,f),I(l.$$.fragment,f),I(o.$$.fragment,f),a=!1},d(f){f&&w(e),f&&w(t),q(i,f),f&&w(s),q(l,f),f&&w(r),q(o,f)}}}function rj(n,e,t){let{key:i=""}=e,{config:s={}}=e;function l(){s.authUrl=this.value,t(0,s)}function r(){s.tokenUrl=this.value,t(0,s)}function o(){s.userApiUrl=this.value,t(0,s)}return n.$$set=a=>{"key"in a&&t(1,i=a.key),"config"in a&&t(0,s=a.config)},[s,i,l,r,o]}class Xy extends ke{constructor(e){super(),ve(this,e,rj,lj,be,{key:1,config:0})}}function oj(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=v("label"),t=W("Auth URL"),s=A(),l=v("input"),a=A(),f=v("div"),f.textContent="Eg. https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/authorize",m(e,"for",i=n[4]),m(l,"type","url"),m(l,"id",r=n[4]),l.required=o=n[0].enabled,m(f,"class","help-block")},m(h,p){S(h,e,p),O(e,t),S(h,s,p),S(h,l,p),fe(l,n[0].authUrl),S(h,a,p),S(h,f,p),u||(d=H(l,"input",n[2]),u=!0)},p(h,p){p&16&&i!==(i=h[4])&&m(e,"for",i),p&16&&r!==(r=h[4])&&m(l,"id",r),p&1&&o!==(o=h[0].enabled)&&(l.required=o),p&1&&l.value!==h[0].authUrl&&fe(l,h[0].authUrl)},d(h){h&&w(e),h&&w(s),h&&w(l),h&&w(a),h&&w(f),u=!1,d()}}}function aj(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=v("label"),t=W("Token URL"),s=A(),l=v("input"),a=A(),f=v("div"),f.textContent="Eg. https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/token",m(e,"for",i=n[4]),m(l,"type","url"),m(l,"id",r=n[4]),l.required=o=n[0].enabled,m(f,"class","help-block")},m(h,p){S(h,e,p),O(e,t),S(h,s,p),S(h,l,p),fe(l,n[0].tokenUrl),S(h,a,p),S(h,f,p),u||(d=H(l,"input",n[3]),u=!0)},p(h,p){p&16&&i!==(i=h[4])&&m(e,"for",i),p&16&&r!==(r=h[4])&&m(l,"id",r),p&1&&o!==(o=h[0].enabled)&&(l.required=o),p&1&&l.value!==h[0].tokenUrl&&fe(l,h[0].tokenUrl)},d(h){h&&w(e),h&&w(s),h&&w(l),h&&w(a),h&&w(f),u=!1,d()}}}function fj(n){let e,t,i,s,l,r;return i=new me({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".authUrl",$$slots:{default:[oj,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),l=new me({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".tokenUrl",$$slots:{default:[aj,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),e.textContent="Azure AD endpoints",t=A(),V(i.$$.fragment),s=A(),V(l.$$.fragment),m(e,"class","section-title")},m(o,a){S(o,e,a),S(o,t,a),X(i,o,a),S(o,s,a),X(l,o,a),r=!0},p(o,[a]){const f={};a&1&&(f.class="form-field "+(o[0].enabled?"required":"")),a&2&&(f.name=o[1]+".authUrl"),a&49&&(f.$$scope={dirty:a,ctx:o}),i.$set(f);const u={};a&1&&(u.class="form-field "+(o[0].enabled?"required":"")),a&2&&(u.name=o[1]+".tokenUrl"),a&49&&(u.$$scope={dirty:a,ctx:o}),l.$set(u)},i(o){r||(D(i.$$.fragment,o),D(l.$$.fragment,o),r=!0)},o(o){I(i.$$.fragment,o),I(l.$$.fragment,o),r=!1},d(o){o&&w(e),o&&w(t),q(i,o),o&&w(s),q(l,o)}}}function uj(n,e,t){let{key:i=""}=e,{config:s={}}=e;function l(){s.authUrl=this.value,t(0,s)}function r(){s.tokenUrl=this.value,t(0,s)}return n.$$set=o=>{"key"in o&&t(1,i=o.key),"config"in o&&t(0,s=o.config)},[s,i,l,r]}class cj extends ke{constructor(e){super(),ve(this,e,uj,fj,be,{key:1,config:0})}}function dj(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=v("label"),t=W("Auth URL"),s=A(),l=v("input"),a=A(),f=v("div"),f.textContent="Eg. https://example.com/authorize/",m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5]),l.required=o=n[0].enabled,m(f,"class","help-block")},m(h,p){S(h,e,p),O(e,t),S(h,s,p),S(h,l,p),fe(l,n[0].authUrl),S(h,a,p),S(h,f,p),u||(d=H(l,"input",n[2]),u=!0)},p(h,p){p&32&&i!==(i=h[5])&&m(e,"for",i),p&32&&r!==(r=h[5])&&m(l,"id",r),p&1&&o!==(o=h[0].enabled)&&(l.required=o),p&1&&l.value!==h[0].authUrl&&fe(l,h[0].authUrl)},d(h){h&&w(e),h&&w(s),h&&w(l),h&&w(a),h&&w(f),u=!1,d()}}}function hj(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=v("label"),t=W("Token URL"),s=A(),l=v("input"),a=A(),f=v("div"),f.textContent="Eg. https://example.com/token/",m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5]),l.required=o=n[0].enabled,m(f,"class","help-block")},m(h,p){S(h,e,p),O(e,t),S(h,s,p),S(h,l,p),fe(l,n[0].tokenUrl),S(h,a,p),S(h,f,p),u||(d=H(l,"input",n[3]),u=!0)},p(h,p){p&32&&i!==(i=h[5])&&m(e,"for",i),p&32&&r!==(r=h[5])&&m(l,"id",r),p&1&&o!==(o=h[0].enabled)&&(l.required=o),p&1&&l.value!==h[0].tokenUrl&&fe(l,h[0].tokenUrl)},d(h){h&&w(e),h&&w(s),h&&w(l),h&&w(a),h&&w(f),u=!1,d()}}}function pj(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=v("label"),t=W("User API URL"),s=A(),l=v("input"),a=A(),f=v("div"),f.textContent="Eg. https://example.com/userinfo/",m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5]),l.required=o=n[0].enabled,m(f,"class","help-block")},m(h,p){S(h,e,p),O(e,t),S(h,s,p),S(h,l,p),fe(l,n[0].userApiUrl),S(h,a,p),S(h,f,p),u||(d=H(l,"input",n[4]),u=!0)},p(h,p){p&32&&i!==(i=h[5])&&m(e,"for",i),p&32&&r!==(r=h[5])&&m(l,"id",r),p&1&&o!==(o=h[0].enabled)&&(l.required=o),p&1&&l.value!==h[0].userApiUrl&&fe(l,h[0].userApiUrl)},d(h){h&&w(e),h&&w(s),h&&w(l),h&&w(a),h&&w(f),u=!1,d()}}}function mj(n){let e,t,i,s,l,r,o,a;return i=new me({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".authUrl",$$slots:{default:[dj,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),l=new me({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".tokenUrl",$$slots:{default:[hj,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),o=new me({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".userApiUrl",$$slots:{default:[pj,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),e.textContent="Endpoints",t=A(),V(i.$$.fragment),s=A(),V(l.$$.fragment),r=A(),V(o.$$.fragment),m(e,"class","section-title")},m(f,u){S(f,e,u),S(f,t,u),X(i,f,u),S(f,s,u),X(l,f,u),S(f,r,u),X(o,f,u),a=!0},p(f,[u]){const d={};u&1&&(d.class="form-field "+(f[0].enabled?"required":"")),u&2&&(d.name=f[1]+".authUrl"),u&97&&(d.$$scope={dirty:u,ctx:f}),i.$set(d);const h={};u&1&&(h.class="form-field "+(f[0].enabled?"required":"")),u&2&&(h.name=f[1]+".tokenUrl"),u&97&&(h.$$scope={dirty:u,ctx:f}),l.$set(h);const p={};u&1&&(p.class="form-field "+(f[0].enabled?"required":"")),u&2&&(p.name=f[1]+".userApiUrl"),u&97&&(p.$$scope={dirty:u,ctx:f}),o.$set(p)},i(f){a||(D(i.$$.fragment,f),D(l.$$.fragment,f),D(o.$$.fragment,f),a=!0)},o(f){I(i.$$.fragment,f),I(l.$$.fragment,f),I(o.$$.fragment,f),a=!1},d(f){f&&w(e),f&&w(t),q(i,f),f&&w(s),q(l,f),f&&w(r),q(o,f)}}}function gj(n,e,t){let{key:i=""}=e,{config:s={}}=e;function l(){s.authUrl=this.value,t(0,s)}function r(){s.tokenUrl=this.value,t(0,s)}function o(){s.userApiUrl=this.value,t(0,s)}return n.$$set=a=>{"key"in a&&t(1,i=a.key),"config"in a&&t(0,s=a.config)},[s,i,l,r,o]}class Rd extends ke{constructor(e){super(),ve(this,e,gj,mj,be,{key:1,config:0})}}function bj(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Client ID"),s=A(),l=v("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",r=n[23]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[2]),o||(a=H(l,"input",n[12]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&4&&l.value!==f[2]&&fe(l,f[2])},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function _j(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Team ID"),s=A(),l=v("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",r=n[23]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[3]),o||(a=H(l,"input",n[13]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&8&&l.value!==f[3]&&fe(l,f[3])},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function Oj(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Key ID"),s=A(),l=v("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",r=n[23]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[4]),o||(a=H(l,"input",n[14]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&16&&l.value!==f[4]&&fe(l,f[4])},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function yj(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("label"),t=v("span"),t.textContent="Duration (in seconds)",i=A(),s=v("i"),r=A(),o=v("input"),m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[23]),m(o,"type","text"),m(o,"id",a=n[23]),m(o,"max",Kf),o.required=!0},m(d,h){S(d,e,h),O(e,t),O(e,i),O(e,s),S(d,r,h),S(d,o,h),fe(o,n[6]),f||(u=[Ae(Ye.call(null,s,{text:`Max ${Kf} seconds (~${Kf/(60*60*24*30)<<0} months).`,position:"top"})),H(o,"input",n[15])],f=!0)},p(d,h){h&8388608&&l!==(l=d[23])&&m(e,"for",l),h&8388608&&a!==(a=d[23])&&m(o,"id",a),h&64&&o.value!==d[6]&&fe(o,d[6])},d(d){d&&w(e),d&&w(r),d&&w(o),f=!1,Qe(u)}}}function vj(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("label"),t=W("Private key"),s=A(),l=v("textarea"),o=A(),a=v("div"),a.textContent="The key is not stored on the server and it is used only for generating the signed JWT.",m(e,"for",i=n[23]),m(l,"id",r=n[23]),l.required=!0,m(l,"rows","8"),m(l,"placeholder",`-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`),m(a,"class","help-block")},m(d,h){S(d,e,h),O(e,t),S(d,s,h),S(d,l,h),fe(l,n[5]),S(d,o,h),S(d,a,h),f||(u=H(l,"input",n[16]),f=!0)},p(d,h){h&8388608&&i!==(i=d[23])&&m(e,"for",i),h&8388608&&r!==(r=d[23])&&m(l,"id",r),h&32&&fe(l,d[5])},d(d){d&&w(e),d&&w(s),d&&w(l),d&&w(o),d&&w(a),f=!1,u()}}}function kj(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k;return s=new me({props:{class:"form-field required",name:"clientId",$$slots:{default:[bj,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}}),o=new me({props:{class:"form-field required",name:"teamId",$$slots:{default:[_j,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}}),u=new me({props:{class:"form-field required",name:"keyId",$$slots:{default:[Oj,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}}),p=new me({props:{class:"form-field required",name:"duration",$$slots:{default:[yj,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}}),b=new me({props:{class:"form-field required",name:"privateKey",$$slots:{default:[vj,({uniqueId:C})=>({23:C}),({uniqueId:C})=>C?8388608:0]},$$scope:{ctx:n}}}),{c(){e=v("form"),t=v("div"),i=v("div"),V(s.$$.fragment),l=A(),r=v("div"),V(o.$$.fragment),a=A(),f=v("div"),V(u.$$.fragment),d=A(),h=v("div"),V(p.$$.fragment),g=A(),V(b.$$.fragment),m(i,"class","col-lg-6"),m(r,"class","col-lg-6"),m(f,"class","col-lg-6"),m(h,"class","col-lg-6"),m(t,"class","grid"),m(e,"id",n[9]),m(e,"autocomplete","off")},m(C,$){S(C,e,$),O(e,t),O(t,i),X(s,i,null),O(t,l),O(t,r),X(o,r,null),O(t,a),O(t,f),X(u,f,null),O(t,d),O(t,h),X(p,h,null),O(t,g),X(b,t,null),_=!0,y||(k=H(e,"submit",ut(n[17])),y=!0)},p(C,$){const T={};$&25165828&&(T.$$scope={dirty:$,ctx:C}),s.$set(T);const P={};$&25165832&&(P.$$scope={dirty:$,ctx:C}),o.$set(P);const M={};$&25165840&&(M.$$scope={dirty:$,ctx:C}),u.$set(M);const Q={};$&25165888&&(Q.$$scope={dirty:$,ctx:C}),p.$set(Q);const E={};$&25165856&&(E.$$scope={dirty:$,ctx:C}),b.$set(E)},i(C){_||(D(s.$$.fragment,C),D(o.$$.fragment,C),D(u.$$.fragment,C),D(p.$$.fragment,C),D(b.$$.fragment,C),_=!0)},o(C){I(s.$$.fragment,C),I(o.$$.fragment,C),I(u.$$.fragment,C),I(p.$$.fragment,C),I(b.$$.fragment,C),_=!1},d(C){C&&w(e),q(s),q(o),q(u),q(p),q(b),y=!1,k()}}}function wj(n){let e;return{c(){e=v("h4"),e.textContent="Generate Apple client secret",m(e,"class","center txt-break")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function Sj(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("button"),t=W("Close"),i=A(),s=v("button"),l=v("i"),r=A(),o=v("span"),o.textContent="Generate and set secret",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[7],m(l,"class","ri-key-line"),m(o,"class","txt"),m(s,"type","submit"),m(s,"form",n[9]),m(s,"class","btn btn-expanded"),s.disabled=a=!n[8]||n[7],J(s,"btn-loading",n[7])},m(d,h){S(d,e,h),O(e,t),S(d,i,h),S(d,s,h),O(s,l),O(s,r),O(s,o),f||(u=H(e,"click",n[0]),f=!0)},p(d,h){h&128&&(e.disabled=d[7]),h&384&&a!==(a=!d[8]||d[7])&&(s.disabled=a),h&128&&J(s,"btn-loading",d[7])},d(d){d&&w(e),d&&w(i),d&&w(s),f=!1,u()}}}function $j(n){let e,t,i={overlayClose:!n[7],escClose:!n[7],beforeHide:n[18],popup:!0,$$slots:{footer:[Sj],header:[wj],default:[kj]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[19](e),e.$on("show",n[20]),e.$on("hide",n[21]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&128&&(r.overlayClose=!s[7]),l&128&&(r.escClose=!s[7]),l&128&&(r.beforeHide=s[18]),l&16777724&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[19](null),q(e,s)}}}const Kf=15777e3;function Cj(n,e,t){let i;const s=Lt(),l="apple_secret_"+j.randomString(5);let r,o,a,f,u,d,h=!1;function p(R={}){t(2,o=R.clientId||""),t(3,a=R.teamId||""),t(4,f=R.keyId||""),t(5,u=R.privateKey||""),t(6,d=R.duration||Kf),Mn({}),r==null||r.show()}function g(){return r==null?void 0:r.hide()}async function b(){t(7,h=!0);try{const R=await de.settings.generateAppleClientSecret(o,a,f,u.trim(),d);t(7,h=!1),Jt("Successfully generated client secret."),s("submit",R),r==null||r.hide()}catch(R){de.error(R)}t(7,h=!1)}function _(){o=this.value,t(2,o)}function y(){a=this.value,t(3,a)}function k(){f=this.value,t(4,f)}function C(){d=this.value,t(6,d)}function $(){u=this.value,t(5,u)}const T=()=>b(),P=()=>!h;function M(R){ne[R?"unshift":"push"](()=>{r=R,t(1,r)})}function Q(R){Fe.call(this,n,R)}function E(R){Fe.call(this,n,R)}return t(8,i=!0),[g,r,o,a,f,u,d,h,i,l,b,p,_,y,k,C,$,T,P,M,Q,E]}class Tj extends ke{constructor(e){super(),ve(this,e,Cj,$j,be,{show:11,hide:0})}get show(){return this.$$.ctx[11]}get hide(){return this.$$.ctx[0]}}function Pj(n){let e,t,i,s,l,r,o,a,f,u,d={};return o=new Tj({props:d}),n[4](o),o.$on("submit",n[5]),{c(){e=v("button"),t=v("i"),i=A(),s=v("span"),s.textContent="Generate secret",r=A(),V(o.$$.fragment),m(t,"class","ri-key-line"),m(s,"class","txt"),m(e,"type","button"),m(e,"class",l="btn btn-sm btn-secondary btn-provider-"+n[1])},m(h,p){S(h,e,p),O(e,t),O(e,i),O(e,s),S(h,r,p),X(o,h,p),a=!0,f||(u=H(e,"click",n[3]),f=!0)},p(h,[p]){(!a||p&2&&l!==(l="btn btn-sm btn-secondary btn-provider-"+h[1]))&&m(e,"class",l);const g={};o.$set(g)},i(h){a||(D(o.$$.fragment,h),a=!0)},o(h){I(o.$$.fragment,h),a=!1},d(h){h&&w(e),h&&w(r),n[4](null),q(o,h),f=!1,u()}}}function Mj(n,e,t){let{key:i=""}=e,{config:s={}}=e,l;const r=()=>l==null?void 0:l.show({clientId:s.clientId});function o(f){ne[f?"unshift":"push"](()=>{l=f,t(2,l)})}const a=f=>{var u;t(0,s.clientSecret=((u=f.detail)==null?void 0:u.secret)||"",s)};return n.$$set=f=>{"key"in f&&t(1,i=f.key),"config"in f&&t(0,s=f.config)},[s,i,l,r,o,a]}class Aj extends ke{constructor(e){super(),ve(this,e,Mj,Pj,be,{key:1,config:0})}}const Jf=[{key:"appleAuth",title:"Apple",logo:"apple.svg",optionsComponent:Aj},{key:"googleAuth",title:"Google",logo:"google.svg"},{key:"facebookAuth",title:"Facebook",logo:"facebook.svg"},{key:"microsoftAuth",title:"Microsoft",logo:"microsoft.svg",optionsComponent:cj},{key:"githubAuth",title:"GitHub",logo:"github.svg"},{key:"gitlabAuth",title:"GitLab",logo:"gitlab.svg",optionsComponent:Xy},{key:"giteeAuth",title:"Gitee",logo:"gitee.svg"},{key:"giteaAuth",title:"Gitea",logo:"gitea.svg",optionsComponent:Xy},{key:"discordAuth",title:"Discord",logo:"discord.svg"},{key:"twitterAuth",title:"Twitter",logo:"twitter.svg"},{key:"kakaoAuth",title:"Kakao",logo:"kakao.svg"},{key:"spotifyAuth",title:"Spotify",logo:"spotify.svg"},{key:"twitchAuth",title:"Twitch",logo:"twitch.svg"},{key:"stravaAuth",title:"Strava",logo:"strava.svg"},{key:"livechatAuth",title:"LiveChat",logo:"livechat.svg"},{key:"oidcAuth",title:"OpenID Connect",logo:"oidc.svg",optionsComponent:Rd},{key:"oidc2Auth",title:"(2) OpenID Connect",logo:"oidc.svg",optionsComponent:Rd},{key:"oidc3Auth",title:"(3) OpenID Connect",logo:"oidc.svg",optionsComponent:Rd}];function qy(n,e,t){const i=n.slice();return i[9]=e[t],i}function Qj(n){let e;return{c(){e=v("h6"),e.textContent="No linked OAuth2 providers.",m(e,"class","txt-hint txt-center m-t-sm m-b-sm")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function Dj(n){let e,t=n[1],i=[];for(let s=0;s<t.length;s+=1)i[s]=Vy(qy(n,t,s));return{c(){e=v("div");for(let s=0;s<i.length;s+=1)i[s].c();m(e,"class","list")},m(s,l){S(s,e,l);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null)},p(s,l){if(l&58){t=s[1];let r;for(r=0;r<t.length;r+=1){const o=qy(s,t,r);i[r]?i[r].p(o,l):(i[r]=Vy(o),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){s&&w(e),At(i,s)}}}function Ej(n){let e;return{c(){e=v("div"),e.innerHTML='<span class="loader"></span>',m(e,"class","block txt-center")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function Vy(n){let e,t,i,s,l,r,o=n[4](n[9].provider)+"",a,f,u,d,h=n[9].providerId+"",p,g,b,_,y,k;function C(){return n[6](n[9])}return{c(){var $;e=v("div"),t=v("figure"),i=v("img"),l=A(),r=v("span"),a=W(o),f=A(),u=v("div"),d=W("ID: "),p=W(h),g=A(),b=v("button"),b.innerHTML='<i class="ri-close-line"></i>',_=A(),ni(i.src,s="./images/oauth2/"+(($=n[3](n[9].provider))==null?void 0:$.logo))||m(i,"src",s),m(i,"alt","Provider logo"),m(t,"class","provider-logo"),m(r,"class","txt"),m(u,"class","txt-hint"),m(b,"type","button"),m(b,"class","btn btn-transparent link-hint btn-circle btn-sm m-l-auto"),m(e,"class","list-item")},m($,T){S($,e,T),O(e,t),O(t,i),O(e,l),O(e,r),O(r,a),O(e,f),O(e,u),O(u,d),O(u,p),O(e,g),O(e,b),O(e,_),y||(k=H(b,"click",C),y=!0)},p($,T){var P;n=$,T&2&&!ni(i.src,s="./images/oauth2/"+((P=n[3](n[9].provider))==null?void 0:P.logo))&&m(i,"src",s),T&2&&o!==(o=n[4](n[9].provider)+"")&&re(a,o),T&2&&h!==(h=n[9].providerId+"")&&re(p,h)},d($){$&&w(e),y=!1,k()}}}function Ij(n){let e;function t(l,r){var o;return l[2]?Ej:(o=l[0])!=null&&o.id&&l[1].length?Dj:Qj}let i=t(n),s=i(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,[r]){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},i:ee,o:ee,d(l){s.d(l),l&&w(e)}}}function Rj(n,e,t){const i=Lt();let{record:s}=e,l=[],r=!1;function o(h){return Jf.find(p=>p.key==h+"Auth")||{}}function a(h){var p;return((p=o(h))==null?void 0:p.title)||j.sentenize(h,!1)}async function f(){if(!(s!=null&&s.id)){t(1,l=[]),t(2,r=!1);return}t(2,r=!0);try{t(1,l=await de.collection(s.collectionId).listExternalAuths(s.id))}catch(h){de.error(h)}t(2,r=!1)}function u(h){!(s!=null&&s.id)||!h||Wn(`Do you really want to unlink the ${a(h)} provider?`,()=>de.collection(s.collectionId).unlinkExternalAuth(s.id,h).then(()=>{Jt(`Successfully unlinked the ${a(h)} provider.`),i("unlink",h),f()}).catch(p=>{de.error(p)}))}f();const d=h=>u(h.provider);return n.$$set=h=>{"record"in h&&t(0,s=h.record)},[s,l,r,o,a,u,d]}class Lj extends ke{constructor(e){super(),ve(this,e,Rj,Ij,be,{record:0})}}function jy(n,e,t){const i=n.slice();return i[66]=e[t],i[67]=e,i[68]=t,i}function Uy(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b;return{c(){e=v("div"),t=v("div"),i=v("div"),i.innerHTML='<i class="ri-information-line"></i>',s=A(),l=v("div"),r=W(`The record has previous unsaved changes.
                            `),o=v("button"),o.textContent="Restore draft",a=A(),f=v("button"),f.innerHTML='<i class="ri-close-line"></i>',u=A(),d=v("div"),m(i,"class","icon"),m(o,"type","button"),m(o,"class","btn btn-sm btn-secondary"),m(l,"class","flex flex-gap-xs"),m(f,"type","button"),m(f,"class","close"),m(f,"aria-label","Discard draft"),m(t,"class","alert alert-info m-0"),m(d,"class","clearfix p-b-base"),m(e,"class","block")},m(_,y){S(_,e,y),O(e,t),O(t,i),O(t,s),O(t,l),O(l,r),O(l,o),O(t,a),O(t,f),O(e,u),O(e,d),p=!0,g||(b=[H(o,"click",n[36]),Ae(Ye.call(null,f,"Discard draft")),H(f,"click",ut(n[37]))],g=!0)},p:ee,i(_){p||(h&&h.end(1),p=!0)},o(_){h=gp(e,gt,{duration:150}),p=!1},d(_){_&&w(e),_&&h&&h.end(),g=!1,Qe(b)}}}function Wy(n){let e,t,i,s,l;return{c(){e=v("div"),t=v("i"),m(t,"class","ri-calendar-event-line txt-disabled"),m(e,"class","form-field-addon")},m(r,o){S(r,e,o),O(e,t),s||(l=Ae(i=Ye.call(null,t,{text:`Created: ${n[3].created}
Updated: ${n[3].updated}`,position:"left"})),s=!0)},p(r,o){i&&fn(i.update)&&o[0]&8&&i.update.call(null,{text:`Created: ${r[3].created}
Updated: ${r[3].updated}`,position:"left"})},d(r){r&&w(e),s=!1,l()}}}function Nj(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b=!n[6]&&Wy(n);return{c(){e=v("label"),t=v("i"),i=A(),s=v("span"),s.textContent="id",l=A(),r=v("span"),a=A(),b&&b.c(),f=A(),u=v("input"),m(t,"class",er(j.getFieldTypeIcon("primary"))+" svelte-qc5ngu"),m(s,"class","txt"),m(r,"class","flex-fill"),m(e,"for",o=n[69]),m(u,"type","text"),m(u,"id",d=n[69]),m(u,"placeholder","Leave empty to auto generate..."),m(u,"minlength","15"),u.readOnly=h=!n[6]},m(_,y){S(_,e,y),O(e,t),O(e,i),O(e,s),O(e,l),O(e,r),S(_,a,y),b&&b.m(_,y),S(_,f,y),S(_,u,y),fe(u,n[3].id),p||(g=H(u,"input",n[38]),p=!0)},p(_,y){y[2]&128&&o!==(o=_[69])&&m(e,"for",o),_[6]?b&&(b.d(1),b=null):b?b.p(_,y):(b=Wy(_),b.c(),b.m(f.parentNode,f)),y[2]&128&&d!==(d=_[69])&&m(u,"id",d),y[0]&64&&h!==(h=!_[6])&&(u.readOnly=h),y[0]&8&&u.value!==_[3].id&&fe(u,_[3].id)},d(_){_&&w(e),_&&w(a),b&&b.d(_),_&&w(f),_&&w(u),p=!1,g()}}}function zy(n){var f,u;let e,t,i,s,l;function r(d){n[39](d)}let o={isNew:n[6],collection:n[0]};n[3]!==void 0&&(o.record=n[3]),e=new I8({props:o}),ne.push(()=>pe(e,"record",r));let a=((u=(f=n[0])==null?void 0:f.schema)==null?void 0:u.length)&&By();return{c(){V(e.$$.fragment),i=A(),a&&a.c(),s=Se()},m(d,h){X(e,d,h),S(d,i,h),a&&a.m(d,h),S(d,s,h),l=!0},p(d,h){var g,b;const p={};h[0]&64&&(p.isNew=d[6]),h[0]&1&&(p.collection=d[0]),!t&&h[0]&8&&(t=!0,p.record=d[3],ye(()=>t=!1)),e.$set(p),(b=(g=d[0])==null?void 0:g.schema)!=null&&b.length?a||(a=By(),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},i(d){l||(D(e.$$.fragment,d),l=!0)},o(d){I(e.$$.fragment,d),l=!1},d(d){q(e,d),d&&w(i),a&&a.d(d),d&&w(s)}}}function By(n){let e;return{c(){e=v("hr")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function xj(n){let e,t,i;function s(r){n[52](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new VV({props:l}),ne.push(()=>pe(e,"value",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function Zj(n){let e,t,i,s,l;function r(u){n[49](u,n[66])}function o(u){n[50](u,n[66])}function a(u){n[51](u,n[66])}let f={field:n[66],record:n[3]};return n[3][n[66].name]!==void 0&&(f.value=n[3][n[66].name]),n[4][n[66].name]!==void 0&&(f.uploadedFiles=n[4][n[66].name]),n[5][n[66].name]!==void 0&&(f.deletedFileNames=n[5][n[66].name]),e=new kV({props:f}),ne.push(()=>pe(e,"value",r)),ne.push(()=>pe(e,"uploadedFiles",o)),ne.push(()=>pe(e,"deletedFileNames",a)),{c(){V(e.$$.fragment)},m(u,d){X(e,u,d),l=!0},p(u,d){n=u;const h={};d[0]&1&&(h.field=n[66]),d[0]&8&&(h.record=n[3]),!t&&d[0]&9&&(t=!0,h.value=n[3][n[66].name],ye(()=>t=!1)),!i&&d[0]&17&&(i=!0,h.uploadedFiles=n[4][n[66].name],ye(()=>i=!1)),!s&&d[0]&33&&(s=!0,h.deletedFileNames=n[5][n[66].name],ye(()=>s=!1)),e.$set(h)},i(u){l||(D(e.$$.fragment,u),l=!0)},o(u){I(e.$$.fragment,u),l=!1},d(u){q(e,u)}}}function Fj(n){let e,t,i;function s(r){n[48](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new Bq({props:l}),ne.push(()=>pe(e,"value",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function Xj(n){let e,t,i;function s(r){n[47](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new c9({props:l}),ne.push(()=>pe(e,"value",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function qj(n){let e,t,i;function s(r){n[46](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new o9({props:l}),ne.push(()=>pe(e,"value",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function Vj(n){let e,t,i;function s(r){n[45](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new tj({props:l}),ne.push(()=>pe(e,"value",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function jj(n){let e,t,i;function s(r){n[44](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new i9({props:l}),ne.push(()=>pe(e,"value",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function Uj(n){let e,t,i;function s(r){n[43](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new J8({props:l}),ne.push(()=>pe(e,"value",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function Wj(n){let e,t,i;function s(r){n[42](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new Y8({props:l}),ne.push(()=>pe(e,"value",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function zj(n){let e,t,i;function s(r){n[41](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new U8({props:l}),ne.push(()=>pe(e,"value",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function Bj(n){let e,t,i;function s(r){n[40](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new X8({props:l}),ne.push(()=>pe(e,"value",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function Yy(n,e){let t,i,s,l,r;const o=[Bj,zj,Wj,Uj,jj,Vj,qj,Xj,Fj,Zj,xj],a=[];function f(u,d){return u[66].type==="text"?0:u[66].type==="number"?1:u[66].type==="bool"?2:u[66].type==="email"?3:u[66].type==="url"?4:u[66].type==="editor"?5:u[66].type==="date"?6:u[66].type==="select"?7:u[66].type==="json"?8:u[66].type==="file"?9:u[66].type==="relation"?10:-1}return~(i=f(e))&&(s=a[i]=o[i](e)),{key:n,first:null,c(){t=Se(),s&&s.c(),l=Se(),this.first=t},m(u,d){S(u,t,d),~i&&a[i].m(u,d),S(u,l,d),r=!0},p(u,d){e=u;let h=i;i=f(e),i===h?~i&&a[i].p(e,d):(s&&(ue(),I(a[h],1,1,()=>{a[h]=null}),ce()),~i?(s=a[i],s?s.p(e,d):(s=a[i]=o[i](e),s.c()),D(s,1),s.m(l.parentNode,l)):s=null)},i(u){r||(D(s),r=!0)},o(u){I(s),r=!1},d(u){u&&w(t),~i&&a[i].d(u),u&&w(l)}}}function Hy(n){let e,t,i;return t=new Lj({props:{record:n[3]}}),{c(){e=v("div"),V(t.$$.fragment),m(e,"class","tab-item"),J(e,"active",n[12]===va)},m(s,l){S(s,e,l),X(t,e,null),i=!0},p(s,l){const r={};l[0]&8&&(r.record=s[3]),t.$set(r),(!i||l[0]&4096)&&J(e,"active",s[12]===va)},i(s){i||(D(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&w(e),q(t)}}}function Yj(n){var k,C;let e,t,i,s,l,r,o=[],a=new Map,f,u,d,h,p=!n[7]&&n[9]&&Uy(n);s=new me({props:{class:"form-field "+(n[6]?"":"readonly"),name:"id",$$slots:{default:[Nj,({uniqueId:$})=>({69:$}),({uniqueId:$})=>[0,0,$?128:0]]},$$scope:{ctx:n}}});let g=((k=n[0])==null?void 0:k.isAuth)&&zy(n),b=((C=n[0])==null?void 0:C.schema)||[];const _=$=>$[66].name;for(let $=0;$<b.length;$+=1){let T=jy(n,b,$),P=_(T);a.set(P,o[$]=Yy(P,T))}let y=n[0].$isAuth&&!n[6]&&Hy(n);return{c(){e=v("div"),t=v("form"),p&&p.c(),i=A(),V(s.$$.fragment),l=A(),g&&g.c(),r=A();for(let $=0;$<o.length;$+=1)o[$].c();f=A(),y&&y.c(),m(t,"id",n[15]),m(t,"class","tab-item"),J(t,"active",n[12]===Jl),m(e,"class","tabs-content")},m($,T){S($,e,T),O(e,t),p&&p.m(t,null),O(t,i),X(s,t,null),O(t,l),g&&g.m(t,null),O(t,r);for(let P=0;P<o.length;P+=1)o[P]&&o[P].m(t,null);O(e,f),y&&y.m(e,null),u=!0,d||(h=[H(t,"submit",ut(n[18])),H(t,"keydown",n[23])],d=!0)},p($,T){var M,Q;!$[7]&&$[9]?p?(p.p($,T),T[0]&640&&D(p,1)):(p=Uy($),p.c(),D(p,1),p.m(t,i)):p&&(ue(),I(p,1,1,()=>{p=null}),ce());const P={};T[0]&64&&(P.class="form-field "+($[6]?"":"readonly")),T[0]&72|T[2]&384&&(P.$$scope={dirty:T,ctx:$}),s.$set(P),(M=$[0])!=null&&M.isAuth?g?(g.p($,T),T[0]&1&&D(g,1)):(g=zy($),g.c(),D(g,1),g.m(t,r)):g&&(ue(),I(g,1,1,()=>{g=null}),ce()),T[0]&57&&(b=((Q=$[0])==null?void 0:Q.schema)||[],ue(),o=It(o,T,_,1,$,b,a,t,hn,Yy,null,jy),ce()),(!u||T[0]&4096)&&J(t,"active",$[12]===Jl),$[0].$isAuth&&!$[6]?y?(y.p($,T),T[0]&65&&D(y,1)):(y=Hy($),y.c(),D(y,1),y.m(e,null)):y&&(ue(),I(y,1,1,()=>{y=null}),ce())},i($){if(!u){D(p),D(s.$$.fragment,$),D(g);for(let T=0;T<b.length;T+=1)D(o[T]);D(y),u=!0}},o($){I(p),I(s.$$.fragment,$),I(g);for(let T=0;T<o.length;T+=1)I(o[T]);I(y),u=!1},d($){$&&w(e),p&&p.d(),q(s),g&&g.d();for(let T=0;T<o.length;T+=1)o[T].d();y&&y.d(),d=!1,Qe(h)}}}function Gy(n){let e,t,i,s,l,r,o;return r=new Bi({props:{class:"dropdown dropdown-right dropdown-nowrap",$$slots:{default:[Hj]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=A(),i=v("button"),s=v("i"),l=A(),V(r.$$.fragment),m(e,"class","flex-fill"),m(s,"class","ri-more-line"),m(i,"type","button"),m(i,"aria-label","More"),m(i,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(a,f){S(a,e,f),S(a,t,f),S(a,i,f),O(i,s),O(i,l),X(r,i,null),o=!0},p(a,f){const u={};f[0]&5|f[2]&256&&(u.$$scope={dirty:f,ctx:a}),r.$set(u)},i(a){o||(D(r.$$.fragment,a),o=!0)},o(a){I(r.$$.fragment,a),o=!1},d(a){a&&w(e),a&&w(t),a&&w(i),q(r)}}}function Ky(n){let e,t,i;return{c(){e=v("button"),e.innerHTML=`<i class="ri-mail-check-line"></i> 
                            <span class="txt">Send verification email</span>`,m(e,"type","button"),m(e,"class","dropdown-item closable")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[30]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function Jy(n){let e,t,i;return{c(){e=v("button"),e.innerHTML=`<i class="ri-mail-lock-line"></i> 
                            <span class="txt">Send password reset email</span>`,m(e,"type","button"),m(e,"class","dropdown-item closable")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[31]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function Hj(n){let e,t,i,s,l,r,o,a=n[0].$isAuth&&!n[2].verified&&n[2].email&&Ky(n),f=n[0].$isAuth&&n[2].email&&Jy(n);return{c(){a&&a.c(),e=A(),f&&f.c(),t=A(),i=v("button"),i.innerHTML=`<i class="ri-file-copy-line"></i> 
                        <span class="txt">Duplicate</span>`,s=A(),l=v("button"),l.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">Delete</span>`,m(i,"type","button"),m(i,"class","dropdown-item closable"),m(l,"type","button"),m(l,"class","dropdown-item txt-danger closable")},m(u,d){a&&a.m(u,d),S(u,e,d),f&&f.m(u,d),S(u,t,d),S(u,i,d),S(u,s,d),S(u,l,d),r||(o=[H(i,"click",n[32]),H(l,"click",Pi(ut(n[33])))],r=!0)},p(u,d){u[0].$isAuth&&!u[2].verified&&u[2].email?a?a.p(u,d):(a=Ky(u),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),u[0].$isAuth&&u[2].email?f?f.p(u,d):(f=Jy(u),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null)},d(u){a&&a.d(u),u&&w(e),f&&f.d(u),u&&w(t),u&&w(i),u&&w(s),u&&w(l),r=!1,Qe(o)}}}function ev(n){let e,t,i,s,l,r;return{c(){e=v("div"),t=v("button"),t.textContent="Account",i=A(),s=v("button"),s.textContent="Authorized providers",m(t,"type","button"),m(t,"class","tab-item"),J(t,"active",n[12]===Jl),m(s,"type","button"),m(s,"class","tab-item"),J(s,"active",n[12]===va),m(e,"class","tabs-header stretched")},m(o,a){S(o,e,a),O(e,t),O(e,i),O(e,s),l||(r=[H(t,"click",n[34]),H(s,"click",n[35])],l=!0)},p(o,a){a[0]&4096&&J(t,"active",o[12]===Jl),a[0]&4096&&J(s,"active",o[12]===va)},d(o){o&&w(e),l=!1,Qe(r)}}}function Gj(n){var b;let e,t=n[6]?"New":"Edit",i,s,l,r=((b=n[0])==null?void 0:b.name)+"",o,a,f,u,d,h,p=!n[6]&&Gy(n),g=n[0].$isAuth&&!n[6]&&ev(n);return{c(){e=v("h4"),i=W(t),s=A(),l=v("strong"),o=W(r),a=W(" record"),f=A(),p&&p.c(),u=A(),g&&g.c(),d=Se(),m(e,"class","panel-title svelte-qc5ngu")},m(_,y){S(_,e,y),O(e,i),O(e,s),O(e,l),O(l,o),O(e,a),S(_,f,y),p&&p.m(_,y),S(_,u,y),g&&g.m(_,y),S(_,d,y),h=!0},p(_,y){var k;(!h||y[0]&64)&&t!==(t=_[6]?"New":"Edit")&&re(i,t),(!h||y[0]&1)&&r!==(r=((k=_[0])==null?void 0:k.name)+"")&&re(o,r),_[6]?p&&(ue(),I(p,1,1,()=>{p=null}),ce()):p?(p.p(_,y),y[0]&64&&D(p,1)):(p=Gy(_),p.c(),D(p,1),p.m(u.parentNode,u)),_[0].$isAuth&&!_[6]?g?g.p(_,y):(g=ev(_),g.c(),g.m(d.parentNode,d)):g&&(g.d(1),g=null)},i(_){h||(D(p),h=!0)},o(_){I(p),h=!1},d(_){_&&w(e),_&&w(f),p&&p.d(_),_&&w(u),g&&g.d(_),_&&w(d)}}}function Kj(n){let e,t,i,s,l,r=n[6]?"Create":"Save changes",o,a,f,u;return{c(){e=v("button"),t=v("span"),t.textContent="Cancel",i=A(),s=v("button"),l=v("span"),o=W(r),m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[10],m(l,"class","txt"),m(s,"type","submit"),m(s,"form",n[15]),m(s,"class","btn btn-expanded"),s.disabled=a=!n[13]||n[10],J(s,"btn-loading",n[10])},m(d,h){S(d,e,h),O(e,t),S(d,i,h),S(d,s,h),O(s,l),O(l,o),f||(u=H(e,"click",n[29]),f=!0)},p(d,h){h[0]&1024&&(e.disabled=d[10]),h[0]&64&&r!==(r=d[6]?"Create":"Save changes")&&re(o,r),h[0]&9216&&a!==(a=!d[13]||d[10])&&(s.disabled=a),h[0]&1024&&J(s,"btn-loading",d[10])},d(d){d&&w(e),d&&w(i),d&&w(s),f=!1,u()}}}function Jj(n){var s;let e,t,i={class:`
        record-panel
        `+(n[14]?"overlay-panel-xl":"overlay-panel-lg")+`
        `+((s=n[0])!=null&&s.$isAuth&&!n[6]?"colored-header":"")+`
    `,beforeHide:n[53],$$slots:{footer:[Kj],header:[Gj],default:[Yj]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[54](e),e.$on("hide",n[55]),e.$on("show",n[56]),{c(){V(e.$$.fragment)},m(l,r){X(e,l,r),t=!0},p(l,r){var a;const o={};r[0]&16449&&(o.class=`
        record-panel
        `+(l[14]?"overlay-panel-xl":"overlay-panel-lg")+`
        `+((a=l[0])!=null&&a.$isAuth&&!l[6]?"colored-header":"")+`
    `),r[0]&2176&&(o.beforeHide=l[53]),r[0]&14077|r[2]&256&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){n[54](null),q(e,l)}}}const Jl="form",va="providers";function eU(n,e,t){let i,s,l,r;const o=Lt(),a="record_"+j.randomString(5);let{collection:f}=e,u,d=null,h=null,p=null,g=!1,b=!1,_={},y={},k=JSON.stringify(null),C=k,$=Jl,T=!0,P=!1;function M(we){return E(we),t(11,b=!0),t(12,$=Jl),u==null?void 0:u.show()}function Q(){return u==null?void 0:u.hide()}async function E(we){t(27,P=!1),Mn({}),t(2,d=we||new Us),t(3,h=d.$clone()),t(4,_={}),t(5,y={}),await Bn(),t(9,p=N()),!p||F(h,p)?t(9,p=null):(delete p.password,delete p.passwordConfirm),t(25,k=JSON.stringify(h)),t(27,P=!0)}async function R(we){var Xe,ot;Mn({}),t(2,d=we||new Us),t(4,_={}),t(5,y={});const Re=((ot=(Xe=f==null?void 0:f.schema)==null?void 0:Xe.filter(Ht=>Ht.type!="file"))==null?void 0:ot.map(Ht=>Ht.name))||[];for(let Ht in we.$export())Re.includes(Ht)||t(3,h[Ht]=we[Ht],h);await Bn(),t(25,k=JSON.stringify(h)),U()}function L(){return"record_draft_"+((f==null?void 0:f.id)||"")+"_"+((d==null?void 0:d.id)||"")}function N(we){try{const Re=window.localStorage.getItem(L());if(Re)return new Us(JSON.parse(Re))}catch{}return we}function x(we){window.localStorage.setItem(L(),we)}function Z(){p&&(t(3,h=p),t(9,p=null))}function F(we,Re){var gi;const Xe=we==null?void 0:we.$clone(),ot=Re==null?void 0:Re.$clone(),Ht=(gi=f==null?void 0:f.schema)==null?void 0:gi.filter(Ai=>Ai.type==="file");for(let Ai of Ht)Xe==null||delete Xe[Ai.name],ot==null||delete ot[Ai.name];return Xe==null||delete Xe.password,Xe==null||delete Xe.passwordConfirm,ot==null||delete ot.password,ot==null||delete ot.passwordConfirm,JSON.stringify(Xe)==JSON.stringify(ot)}function U(){t(9,p=null),window.localStorage.removeItem(L())}function G(we=!0){if(g||!r||!(f!=null&&f.id))return;t(10,g=!0);const Re=B();let Xe;T?Xe=de.collection(f.id).create(Re):Xe=de.collection(f.id).update(h.id,Re),Xe.then(ot=>{Jt(T?"Successfully created record.":"Successfully updated record."),U(),we?(t(11,b=!1),Q()):R(ot),o("save",ot)}).catch(ot=>{de.error(ot)}).finally(()=>{t(10,g=!1)})}function z(){d!=null&&d.id&&Wn("Do you really want to delete the selected record?",()=>de.collection(d.collectionId).delete(d.id).then(()=>{Q(),Jt("Successfully deleted record."),o("delete",d)}).catch(we=>{de.error(we)}))}function B(){const we=(h==null?void 0:h.$export())||{},Re=new FormData,Xe={id:we.id};for(const ot of(f==null?void 0:f.schema)||[])Xe[ot.name]=!0;f!=null&&f.isAuth&&(Xe.username=!0,Xe.email=!0,Xe.emailVisibility=!0,Xe.password=!0,Xe.passwordConfirm=!0,Xe.verified=!0);for(const ot in we)Xe[ot]&&(typeof we[ot]>"u"&&(we[ot]=null),j.addValueToFormData(Re,ot,we[ot]));for(const ot in _){const Ht=j.toArray(_[ot]);for(const gi of Ht)Re.append(ot,gi)}for(const ot in y){const Ht=j.toArray(y[ot]);for(const gi of Ht)Re.append(ot+"."+gi,"")}return Re}function le(){!(f!=null&&f.id)||!(d!=null&&d.email)||Wn(`Do you really want to sent verification email to ${d.email}?`,()=>de.collection(f.id).requestVerification(d.email).then(()=>{Jt(`Successfully sent verification email to ${d.email}.`)}).catch(we=>{de.error(we)}))}function te(){!(f!=null&&f.id)||!(d!=null&&d.email)||Wn(`Do you really want to sent password reset email to ${d.email}?`,()=>de.collection(f.id).requestPasswordReset(d.email).then(()=>{Jt(`Successfully sent password reset email to ${d.email}.`)}).catch(we=>{de.error(we)}))}function se(){l?Wn("You have unsaved changes. Do you really want to discard them?",()=>{Oe()}):Oe()}async function Oe(){const we=d==null?void 0:d.$clone();if(we){we.id="",we.created="",we.updated="";const Re=(f==null?void 0:f.schema)||[];for(const Xe of Re)Xe.type==="file"&&delete we[Xe.name]}U(),M(we),await Bn(),t(25,k="")}function $e(we){(we.ctrlKey||we.metaKey)&&we.code=="KeyS"&&(we.preventDefault(),we.stopPropagation(),G(!1))}const Ze=()=>Q(),He=()=>le(),Ce=()=>te(),Pe=()=>se(),lt=()=>z(),Qt=()=>t(12,$=Jl),rt=()=>t(12,$=va),Je=()=>Z(),Tt=()=>U();function ge(){h.id=this.value,t(3,h)}function _e(we){h=we,t(3,h)}function tt(we,Re){n.$$.not_equal(h[Re.name],we)&&(h[Re.name]=we,t(3,h))}function Me(we,Re){n.$$.not_equal(h[Re.name],we)&&(h[Re.name]=we,t(3,h))}function kt(we,Re){n.$$.not_equal(h[Re.name],we)&&(h[Re.name]=we,t(3,h))}function Yt(we,Re){n.$$.not_equal(h[Re.name],we)&&(h[Re.name]=we,t(3,h))}function pn(we,Re){n.$$.not_equal(h[Re.name],we)&&(h[Re.name]=we,t(3,h))}function Dn(we,Re){n.$$.not_equal(h[Re.name],we)&&(h[Re.name]=we,t(3,h))}function De(we,Re){n.$$.not_equal(h[Re.name],we)&&(h[Re.name]=we,t(3,h))}function wt(we,Re){n.$$.not_equal(h[Re.name],we)&&(h[Re.name]=we,t(3,h))}function Hi(we,Re){n.$$.not_equal(h[Re.name],we)&&(h[Re.name]=we,t(3,h))}function Xn(we,Re){n.$$.not_equal(h[Re.name],we)&&(h[Re.name]=we,t(3,h))}function pi(we,Re){n.$$.not_equal(_[Re.name],we)&&(_[Re.name]=we,t(4,_))}function rs(we,Re){n.$$.not_equal(y[Re.name],we)&&(y[Re.name]=we,t(5,y))}function Rs(we,Re){n.$$.not_equal(h[Re.name],we)&&(h[Re.name]=we,t(3,h))}const mi=()=>l&&b?(Wn("You have unsaved changes. Do you really want to close the panel?",()=>{t(11,b=!1),Q()}),!1):(Mn({}),U(),!0);function Dt(we){ne[we?"unshift":"push"](()=>{u=we,t(8,u)})}function os(we){Fe.call(this,n,we)}function Ls(we){Fe.call(this,n,we)}return n.$$set=we=>{"collection"in we&&t(0,f=we.collection)},n.$$.update=()=>{var we;n.$$.dirty[0]&1&&t(14,i=!!((we=f==null?void 0:f.schema)!=null&&we.find(Re=>Re.type==="editor"))),n.$$.dirty[0]&48&&t(28,s=j.hasNonEmptyProps(_)||j.hasNonEmptyProps(y)),n.$$.dirty[0]&8&&t(26,C=JSON.stringify(h)),n.$$.dirty[0]&369098752&&t(7,l=s||k!=C),n.$$.dirty[0]&4&&t(6,T=!d||d.$isNew),n.$$.dirty[0]&192&&t(13,r=T||l),n.$$.dirty[0]&201326592&&P&&x(C)},[f,Q,d,h,_,y,T,l,u,p,g,b,$,r,i,a,Z,U,G,z,le,te,se,$e,M,k,C,P,s,Ze,He,Ce,Pe,lt,Qt,rt,Je,Tt,ge,_e,tt,Me,kt,Yt,pn,Dn,De,wt,Hi,Xn,pi,rs,Rs,mi,Dt,os,Ls]}class b3 extends ke{constructor(e){super(),ve(this,e,eU,Jj,be,{collection:0,show:24,hide:1},null,[-1,-1,-1])}get show(){return this.$$.ctx[24]}get hide(){return this.$$.ctx[1]}}function tU(n){let e,t,i,s,l;return{c(){e=v("i"),m(e,"class",t=n[2]?n[1]:n[0])},m(r,o){S(r,e,o),s||(l=[Ae(i=Ye.call(null,e,n[2]?"":"Copy")),H(e,"click",Pi(n[3]))],s=!0)},p(r,[o]){o&7&&t!==(t=r[2]?r[1]:r[0])&&m(e,"class",t),i&&fn(i.update)&&o&4&&i.update.call(null,r[2]?"":"Copy")},i:ee,o:ee,d(r){r&&w(e),s=!1,Qe(l)}}}function nU(n,e,t){let{value:i=""}=e,{idleClasses:s="ri-file-copy-line txt-sm link-hint"}=e,{successClasses:l="ri-check-line txt-sm txt-success"}=e,{successDuration:r=500}=e,o;function a(){i&&(j.copyToClipboard(i),clearTimeout(o),t(2,o=setTimeout(()=>{clearTimeout(o),t(2,o=null)},r)))}return vn(()=>()=>{o&&clearTimeout(o)}),n.$$set=f=>{"value"in f&&t(4,i=f.value),"idleClasses"in f&&t(0,s=f.idleClasses),"successClasses"in f&&t(1,l=f.successClasses),"successDuration"in f&&t(5,r=f.successDuration)},[s,l,o,a,i,r]}class Ua extends ke{constructor(e){super(),ve(this,e,nU,tU,be,{value:4,idleClasses:0,successClasses:1,successDuration:5})}}function tv(n,e,t){const i=n.slice();return i[18]=e[t],i[8]=t,i}function nv(n,e,t){const i=n.slice();return i[13]=e[t],i}function iv(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function sv(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function iU(n){const e=n.slice(),t=j.toArray(e[3]);e[16]=t;const i=e[2]?10:500;return e[17]=i,e}function sU(n){const e=n.slice(),t=j.toArray(e[3]);e[9]=t;const i=j.toArray(e[0].expand[e[1].name]);e[10]=i;const s=e[2]?20:500;return e[11]=s,e}function lU(n){const e=n.slice(),t=j.trimQuotedValue(JSON.stringify(e[3]))||'""';return e[5]=t,e}function rU(n){let e,t;return{c(){e=v("div"),t=W(n[3]),m(e,"class","block txt-break fallback-block svelte-jdf51v")},m(i,s){S(i,e,s),O(e,t)},p(i,s){s&8&&re(t,i[3])},i:ee,o:ee,d(i){i&&w(e)}}}function oU(n){let e,t=j.truncate(n[3])+"",i,s;return{c(){e=v("span"),i=W(t),m(e,"class","txt txt-ellipsis"),m(e,"title",s=j.truncate(n[3]))},m(l,r){S(l,e,r),O(e,i)},p(l,r){r&8&&t!==(t=j.truncate(l[3])+"")&&re(i,t),r&8&&s!==(s=j.truncate(l[3]))&&m(e,"title",s)},i:ee,o:ee,d(l){l&&w(e)}}}function aU(n){let e,t=[],i=new Map,s,l,r=n[16].slice(0,n[17]);const o=f=>f[8]+f[18];for(let f=0;f<r.length;f+=1){let u=tv(n,r,f),d=o(u);i.set(d,t[f]=lv(d,u))}let a=n[16].length>n[17]&&rv();return{c(){e=v("div");for(let f=0;f<t.length;f+=1)t[f].c();s=A(),a&&a.c(),m(e,"class","inline-flex")},m(f,u){S(f,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);O(e,s),a&&a.m(e,null),l=!0},p(f,u){u&13&&(r=f[16].slice(0,f[17]),ue(),t=It(t,u,o,1,f,r,i,e,hn,lv,s,tv),ce()),f[16].length>f[17]?a||(a=rv(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(f){if(!l){for(let u=0;u<r.length;u+=1)D(t[u]);l=!0}},o(f){for(let u=0;u<t.length;u+=1)I(t[u]);l=!1},d(f){f&&w(e);for(let u=0;u<t.length;u+=1)t[u].d();a&&a.d()}}}function fU(n){let e,t,i,s,l;const r=[OU,_U],o=[];function a(u,d){return u[10].length?0:1}t=a(n),i=o[t]=r[t](n);let f=n[9].length>n[11]&&fv();return{c(){e=v("div"),i.c(),s=A(),f&&f.c(),m(e,"class","inline-flex")},m(u,d){S(u,e,d),o[t].m(e,null),O(e,s),f&&f.m(e,null),l=!0},p(u,d){let h=t;t=a(u),t===h?o[t].p(u,d):(ue(),I(o[h],1,1,()=>{o[h]=null}),ce(),i=o[t],i?i.p(u,d):(i=o[t]=r[t](u),i.c()),D(i,1),i.m(e,s)),u[9].length>u[11]?f||(f=fv(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(u){l||(D(i),l=!0)},o(u){I(i),l=!1},d(u){u&&w(e),o[t].d(),f&&f.d()}}}function uU(n){let e,t=[],i=new Map,s=j.toArray(n[3]);const l=r=>r[8]+r[6];for(let r=0;r<s.length;r+=1){let o=sv(n,s,r),a=l(o);i.set(a,t[r]=uv(a,o))}return{c(){e=v("div");for(let r=0;r<t.length;r+=1)t[r].c();m(e,"class","inline-flex")},m(r,o){S(r,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(r,o){o&8&&(s=j.toArray(r[3]),t=It(t,o,l,1,r,s,i,e,or,uv,null,sv))},i:ee,o:ee,d(r){r&&w(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function cU(n){let e,t;return e=new Bs({props:{date:n[3]}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&8&&(l.date=i[3]),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function dU(n){let e,t,i,s;const l=[vU,yU],r=[];function o(a,f){return a[2]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Se()},m(a,f){r[e].m(a,f),S(a,i,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),D(t,1),t.m(i.parentNode,i))},i(a){s||(D(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&w(i)}}}function hU(n){let e,t=j.truncate(n[3])+"",i,s,l;return{c(){e=v("a"),i=W(t),m(e,"class","txt-ellipsis"),m(e,"href",n[3]),m(e,"target","_blank"),m(e,"rel","noopener noreferrer")},m(r,o){S(r,e,o),O(e,i),s||(l=[Ae(Ye.call(null,e,"Open in new tab")),H(e,"click",Pi(n[4]))],s=!0)},p(r,o){o&8&&t!==(t=j.truncate(r[3])+"")&&re(i,t),o&8&&m(e,"href",r[3])},i:ee,o:ee,d(r){r&&w(e),s=!1,Qe(l)}}}function pU(n){let e,t;return{c(){e=v("span"),t=W(n[3]),m(e,"class","txt")},m(i,s){S(i,e,s),O(e,t)},p(i,s){s&8&&re(t,i[3])},i:ee,o:ee,d(i){i&&w(e)}}}function mU(n){let e,t=n[3]?"True":"False",i;return{c(){e=v("span"),i=W(t),m(e,"class","txt")},m(s,l){S(s,e,l),O(e,i)},p(s,l){l&8&&t!==(t=s[3]?"True":"False")&&re(i,t)},i:ee,o:ee,d(s){s&&w(e)}}}function gU(n){let e;return{c(){e=v("span"),e.textContent="N/A",m(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function bU(n){let e,t,i,s;const l=[wU,kU],r=[];function o(a,f){return a[2]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Se()},m(a,f){r[e].m(a,f),S(a,i,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),D(t,1),t.m(i.parentNode,i))},i(a){s||(D(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&w(i)}}}function lv(n,e){let t,i,s;return i=new Zm({props:{record:e[0],filename:e[18],size:"sm"}}),{key:n,first:null,c(){t=Se(),V(i.$$.fragment),this.first=t},m(l,r){S(l,t,r),X(i,l,r),s=!0},p(l,r){e=l;const o={};r&1&&(o.record=e[0]),r&12&&(o.filename=e[18]),i.$set(o)},i(l){s||(D(i.$$.fragment,l),s=!0)},o(l){I(i.$$.fragment,l),s=!1},d(l){l&&w(t),q(i,l)}}}function rv(n){let e;return{c(){e=W("...")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function _U(n){let e,t=n[9].slice(0,n[11]),i=[];for(let s=0;s<t.length;s+=1)i[s]=ov(nv(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Se()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);S(s,e,l)},p(s,l){if(l&12){t=s[9].slice(0,s[11]);let r;for(r=0;r<t.length;r+=1){const o=nv(s,t,r);i[r]?i[r].p(o,l):(i[r]=ov(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},i:ee,o:ee,d(s){At(i,s),s&&w(e)}}}function OU(n){let e=[],t=new Map,i,s,l=n[10].slice(0,n[11]);const r=o=>o[8]+o[6];for(let o=0;o<l.length;o+=1){let a=iv(n,l,o),f=r(a);t.set(f,e[o]=av(f,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();i=Se()},m(o,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,a);S(o,i,a),s=!0},p(o,a){a&7&&(l=o[10].slice(0,o[11]),ue(),e=It(e,a,r,1,o,l,t,i.parentNode,hn,av,i,iv),ce())},i(o){if(!s){for(let a=0;a<l.length;a+=1)D(e[a]);s=!0}},o(o){for(let a=0;a<e.length;a+=1)I(e[a]);s=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&w(i)}}}function ov(n){let e,t=n[13]+"",i;return{c(){e=v("span"),i=W(t),m(e,"class","label")},m(s,l){S(s,e,l),O(e,i)},p(s,l){l&12&&t!==(t=s[13]+"")&&re(i,t)},d(s){s&&w(e)}}}function av(n,e){var r;let t,i,s,l;return i=new Pc({props:{record:e[6],displayFields:(r=e[1].options)==null?void 0:r.displayFields}}),{key:n,first:null,c(){t=v("span"),V(i.$$.fragment),s=A(),m(t,"class","label"),this.first=t},m(o,a){S(o,t,a),X(i,t,null),O(t,s),l=!0},p(o,a){var u;e=o;const f={};a&7&&(f.record=e[6]),a&2&&(f.displayFields=(u=e[1].options)==null?void 0:u.displayFields),i.$set(f)},i(o){l||(D(i.$$.fragment,o),l=!0)},o(o){I(i.$$.fragment,o),l=!1},d(o){o&&w(t),q(i)}}}function fv(n){let e;return{c(){e=W("...")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function uv(n,e){let t,i=e[6]+"",s;return{key:n,first:null,c(){t=v("span"),s=W(i),m(t,"class","label"),this.first=t},m(l,r){S(l,t,r),O(t,s)},p(l,r){e=l,r&8&&i!==(i=e[6]+"")&&re(s,i)},d(l){l&&w(t)}}}function yU(n){let e,t;return e=new Fm({props:{scriptSrc:"./libs/tinymce/tinymce.min.js",cssClass:"tinymce-preview",conf:{branding:!1,promotion:!1,menubar:!1,min_height:30,statusbar:!1,height:59,max_height:500,autoresize_bottom_margin:5,resize:!1,skin:"pocketbase",content_style:"body { font-size: 14px }",toolbar:"",plugins:["autoresize"]},value:n[3],disabled:!0}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&8&&(l.value=i[3]),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function vU(n){let e,t=j.truncate(j.plainText(n[3]),250)+"",i;return{c(){e=v("span"),i=W(t),m(e,"class","txt")},m(s,l){S(s,e,l),O(e,i)},p(s,l){l&8&&t!==(t=j.truncate(j.plainText(s[3]),250)+"")&&re(i,t)},i:ee,o:ee,d(s){s&&w(e)}}}function kU(n){let e,t=j.truncate(n[5],500,!0)+"",i,s,l,r,o=n[5].length>500&&cv(n);return{c(){e=v("span"),i=W(t),s=A(),o&&o.c(),l=Se(),m(e,"class","txt")},m(a,f){S(a,e,f),O(e,i),S(a,s,f),o&&o.m(a,f),S(a,l,f),r=!0},p(a,f){(!r||f&8)&&t!==(t=j.truncate(a[5],500,!0)+"")&&re(i,t),a[5].length>500?o?(o.p(a,f),f&8&&D(o,1)):(o=cv(a),o.c(),D(o,1),o.m(l.parentNode,l)):o&&(ue(),I(o,1,1,()=>{o=null}),ce())},i(a){r||(D(o),r=!0)},o(a){I(o),r=!1},d(a){a&&w(e),a&&w(s),o&&o.d(a),a&&w(l)}}}function wU(n){let e,t=j.truncate(n[5])+"",i;return{c(){e=v("span"),i=W(t),m(e,"class","txt txt-ellipsis")},m(s,l){S(s,e,l),O(e,i)},p(s,l){l&8&&t!==(t=j.truncate(s[5])+"")&&re(i,t)},i:ee,o:ee,d(s){s&&w(e)}}}function cv(n){let e,t;return e=new Ua({props:{value:JSON.stringify(n[3],null,2)}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&8&&(l.value=JSON.stringify(i[3],null,2)),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function SU(n){let e,t,i,s,l;const r=[bU,gU,mU,pU,hU,dU,cU,uU,fU,aU,oU,rU],o=[];function a(u,d){return d&8&&(e=null),u[1].type==="json"?0:(e==null&&(e=!!j.isEmpty(u[3])),e?1:u[1].type==="bool"?2:u[1].type==="number"?3:u[1].type==="url"?4:u[1].type==="editor"?5:u[1].type==="date"?6:u[1].type==="select"?7:u[1].type==="relation"?8:u[1].type==="file"?9:u[2]?10:11)}function f(u,d){return d===0?lU(u):d===8?sU(u):d===9?iU(u):u}return t=a(n,-1),i=o[t]=r[t](f(n,t)),{c(){i.c(),s=Se()},m(u,d){o[t].m(u,d),S(u,s,d),l=!0},p(u,[d]){let h=t;t=a(u,d),t===h?o[t].p(f(u,t),d):(ue(),I(o[h],1,1,()=>{o[h]=null}),ce(),i=o[t],i?i.p(f(u,t),d):(i=o[t]=r[t](f(u,t)),i.c()),D(i,1),i.m(s.parentNode,s))},i(u){l||(D(i),l=!0)},o(u){I(i),l=!1},d(u){o[t].d(u),u&&w(s)}}}function $U(n,e,t){let i,{record:s}=e,{field:l}=e,{short:r=!1}=e;function o(a){Fe.call(this,n,a)}return n.$$set=a=>{"record"in a&&t(0,s=a.record),"field"in a&&t(1,l=a.field),"short"in a&&t(2,r=a.short)},n.$$.update=()=>{n.$$.dirty&3&&t(3,i=s[l.name])},[s,l,r,i,o]}class _3 extends ke{constructor(e){super(),ve(this,e,$U,SU,be,{record:0,field:1,short:2})}}function dv(n,e,t){const i=n.slice();return i[10]=e[t],i}function hv(n){let e,t,i=n[10].name+"",s,l,r,o,a;return o=new _3({props:{field:n[10],record:n[3]}}),{c(){e=v("tr"),t=v("td"),s=W(i),l=A(),r=v("td"),V(o.$$.fragment),m(t,"class","min-width txt-hint txt-bold"),m(r,"class","col-field svelte-1nt58f7")},m(f,u){S(f,e,u),O(e,t),O(t,s),O(e,l),O(e,r),X(o,r,null),a=!0},p(f,u){(!a||u&1)&&i!==(i=f[10].name+"")&&re(s,i);const d={};u&1&&(d.field=f[10]),u&8&&(d.record=f[3]),o.$set(d)},i(f){a||(D(o.$$.fragment,f),a=!0)},o(f){I(o.$$.fragment,f),a=!1},d(f){f&&w(e),q(o)}}}function pv(n){let e,t,i,s,l,r;return l=new Bs({props:{date:n[3].created}}),{c(){e=v("tr"),t=v("td"),t.textContent="created",i=A(),s=v("td"),V(l.$$.fragment),m(t,"class","min-width txt-hint txt-bold"),m(s,"class","col-field svelte-1nt58f7")},m(o,a){S(o,e,a),O(e,t),O(e,i),O(e,s),X(l,s,null),r=!0},p(o,a){const f={};a&8&&(f.date=o[3].created),l.$set(f)},i(o){r||(D(l.$$.fragment,o),r=!0)},o(o){I(l.$$.fragment,o),r=!1},d(o){o&&w(e),q(l)}}}function mv(n){let e,t,i,s,l,r;return l=new Bs({props:{date:n[3].updated}}),{c(){e=v("tr"),t=v("td"),t.textContent="updated",i=A(),s=v("td"),V(l.$$.fragment),m(t,"class","min-width txt-hint txt-bold"),m(s,"class","col-field svelte-1nt58f7")},m(o,a){S(o,e,a),O(e,t),O(e,i),O(e,s),X(l,s,null),r=!0},p(o,a){const f={};a&8&&(f.date=o[3].updated),l.$set(f)},i(o){r||(D(l.$$.fragment,o),r=!0)},o(o){I(l.$$.fragment,o),r=!1},d(o){o&&w(e),q(l)}}}function CU(n){var P;let e,t,i,s,l,r,o,a,f,u,d=n[3].id+"",h,p,g,b,_;a=new Ua({props:{value:n[3].id}});let y=(P=n[0])==null?void 0:P.schema,k=[];for(let M=0;M<y.length;M+=1)k[M]=hv(dv(n,y,M));const C=M=>I(k[M],1,1,()=>{k[M]=null});let $=n[3].created&&pv(n),T=n[3].updated&&mv(n);return{c(){e=v("table"),t=v("tbody"),i=v("tr"),s=v("td"),s.textContent="id",l=A(),r=v("td"),o=v("div"),V(a.$$.fragment),f=A(),u=v("span"),h=W(d),p=A();for(let M=0;M<k.length;M+=1)k[M].c();g=A(),$&&$.c(),b=A(),T&&T.c(),m(s,"class","min-width txt-hint txt-bold"),m(u,"class","txt"),m(o,"class","label"),m(r,"class","col-field svelte-1nt58f7"),m(e,"class","table-border preview-table")},m(M,Q){S(M,e,Q),O(e,t),O(t,i),O(i,s),O(i,l),O(i,r),O(r,o),X(a,o,null),O(o,f),O(o,u),O(u,h),O(t,p);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(t,null);O(t,g),$&&$.m(t,null),O(t,b),T&&T.m(t,null),_=!0},p(M,Q){var R;const E={};if(Q&8&&(E.value=M[3].id),a.$set(E),(!_||Q&8)&&d!==(d=M[3].id+"")&&re(h,d),Q&9){y=(R=M[0])==null?void 0:R.schema;let L;for(L=0;L<y.length;L+=1){const N=dv(M,y,L);k[L]?(k[L].p(N,Q),D(k[L],1)):(k[L]=hv(N),k[L].c(),D(k[L],1),k[L].m(t,g))}for(ue(),L=y.length;L<k.length;L+=1)C(L);ce()}M[3].created?$?($.p(M,Q),Q&8&&D($,1)):($=pv(M),$.c(),D($,1),$.m(t,b)):$&&(ue(),I($,1,1,()=>{$=null}),ce()),M[3].updated?T?(T.p(M,Q),Q&8&&D(T,1)):(T=mv(M),T.c(),D(T,1),T.m(t,null)):T&&(ue(),I(T,1,1,()=>{T=null}),ce())},i(M){if(!_){D(a.$$.fragment,M);for(let Q=0;Q<y.length;Q+=1)D(k[Q]);D($),D(T),_=!0}},o(M){I(a.$$.fragment,M),k=k.filter(Boolean);for(let Q=0;Q<k.length;Q+=1)I(k[Q]);I($),I(T),_=!1},d(M){M&&w(e),q(a),At(k,M),$&&$.d(),T&&T.d()}}}function TU(n){var r;let e,t,i=((r=n[0])==null?void 0:r.name)+"",s,l;return{c(){e=v("h4"),t=v("strong"),s=W(i),l=W(" record preview")},m(o,a){S(o,e,a),O(e,t),O(t,s),O(e,l)},p(o,a){var f;a&1&&i!==(i=((f=o[0])==null?void 0:f.name)+"")&&re(s,i)},d(o){o&&w(e)}}}function PU(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<span class="txt">Close</span>',m(e,"type","button"),m(e,"class","btn btn-transparent")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[6]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function MU(n){let e,t,i={class:"record-preview-panel "+(n[4]?"overlay-panel-xl":"overlay-panel-lg"),$$slots:{footer:[PU],header:[TU],default:[CU]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[7](e),e.$on("hide",n[8]),e.$on("show",n[9]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.class="record-preview-panel "+(s[4]?"overlay-panel-xl":"overlay-panel-lg")),l&8201&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[7](null),q(e,s)}}}function AU(n,e,t){let i,{collection:s}=e,l,r=new Us;function o(p){return t(3,r=p),l==null?void 0:l.show()}function a(){return l==null?void 0:l.hide()}const f=()=>a();function u(p){ne[p?"unshift":"push"](()=>{l=p,t(2,l)})}function d(p){Fe.call(this,n,p)}function h(p){Fe.call(this,n,p)}return n.$$set=p=>{"collection"in p&&t(0,s=p.collection)},n.$$.update=()=>{var p;n.$$.dirty&1&&t(4,i=!!((p=s==null?void 0:s.schema)!=null&&p.find(g=>g.type==="editor")))},[s,a,l,r,i,o,f,u,d,h]}class QU extends ke{constructor(e){super(),ve(this,e,AU,MU,be,{collection:0,show:5,hide:1})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[1]}}function gv(n,e,t){const i=n.slice();return i[59]=e[t],i}function bv(n,e,t){const i=n.slice();return i[62]=e[t],i}function _v(n,e,t){const i=n.slice();return i[62]=e[t],i}function Ov(n,e,t){const i=n.slice();return i[55]=e[t],i}function yv(n){let e;function t(l,r){return l[12]?EU:DU}let i=t(n),s=i(n);return{c(){e=v("th"),s.c(),m(e,"class","bulk-select-col min-width")},m(l,r){S(l,e,r),s.m(e,null)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e,null)))},d(l){l&&w(e),s.d()}}}function DU(n){let e,t,i,s,l,r,o;return{c(){e=v("div"),t=v("input"),s=A(),l=v("label"),m(t,"type","checkbox"),m(t,"id","checkbox_0"),t.disabled=i=!n[4].length,t.checked=n[16],m(l,"for","checkbox_0"),m(e,"class","form-field")},m(a,f){S(a,e,f),O(e,t),O(e,s),O(e,l),r||(o=H(t,"change",n[30]),r=!0)},p(a,f){f[0]&16&&i!==(i=!a[4].length)&&(t.disabled=i),f[0]&65536&&(t.checked=a[16])},d(a){a&&w(e),r=!1,o()}}}function EU(n){let e;return{c(){e=v("span"),m(e,"class","loader loader-sm")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function vv(n){let e,t,i;function s(r){n[31](r)}let l={class:"col-type-text col-field-id",name:"id",$$slots:{default:[IU]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new Un({props:l}),ne.push(()=>pe(e,"sort",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};o[2]&32&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function IU(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="id",m(t,"class",j.getFieldTypeIcon("primary")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function kv(n){let e=!n[7].includes("@username"),t,i=!n[7].includes("@email"),s,l,r=e&&wv(n),o=i&&Sv(n);return{c(){r&&r.c(),t=A(),o&&o.c(),s=Se()},m(a,f){r&&r.m(a,f),S(a,t,f),o&&o.m(a,f),S(a,s,f),l=!0},p(a,f){f[0]&128&&(e=!a[7].includes("@username")),e?r?(r.p(a,f),f[0]&128&&D(r,1)):(r=wv(a),r.c(),D(r,1),r.m(t.parentNode,t)):r&&(ue(),I(r,1,1,()=>{r=null}),ce()),f[0]&128&&(i=!a[7].includes("@email")),i?o?(o.p(a,f),f[0]&128&&D(o,1)):(o=Sv(a),o.c(),D(o,1),o.m(s.parentNode,s)):o&&(ue(),I(o,1,1,()=>{o=null}),ce())},i(a){l||(D(r),D(o),l=!0)},o(a){I(r),I(o),l=!1},d(a){r&&r.d(a),a&&w(t),o&&o.d(a),a&&w(s)}}}function wv(n){let e,t,i;function s(r){n[32](r)}let l={class:"col-type-text col-field-id",name:"username",$$slots:{default:[RU]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new Un({props:l}),ne.push(()=>pe(e,"sort",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};o[2]&32&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function RU(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="username",m(t,"class",j.getFieldTypeIcon("user")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function Sv(n){let e,t,i;function s(r){n[33](r)}let l={class:"col-type-email col-field-email",name:"email",$$slots:{default:[LU]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new Un({props:l}),ne.push(()=>pe(e,"sort",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};o[2]&32&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function LU(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="email",m(t,"class",j.getFieldTypeIcon("email")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function NU(n){let e,t,i,s,l,r=n[62].name+"",o;return{c(){e=v("div"),t=v("i"),s=A(),l=v("span"),o=W(r),m(t,"class",i=j.getFieldTypeIcon(n[62].type)),m(l,"class","txt"),m(e,"class","col-header-content")},m(a,f){S(a,e,f),O(e,t),O(e,s),O(e,l),O(l,o)},p(a,f){f[0]&262144&&i!==(i=j.getFieldTypeIcon(a[62].type))&&m(t,"class",i),f[0]&262144&&r!==(r=a[62].name+"")&&re(o,r)},d(a){a&&w(e)}}}function $v(n,e){let t,i,s,l;function r(a){e[34](a)}let o={class:"col-type-"+e[62].type+" col-field-"+e[62].name,name:e[62].name,$$slots:{default:[NU]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.sort=e[0]),i=new Un({props:o}),ne.push(()=>pe(i,"sort",r)),{key:n,first:null,c(){t=Se(),V(i.$$.fragment),this.first=t},m(a,f){S(a,t,f),X(i,a,f),l=!0},p(a,f){e=a;const u={};f[0]&262144&&(u.class="col-type-"+e[62].type+" col-field-"+e[62].name),f[0]&262144&&(u.name=e[62].name),f[0]&262144|f[2]&32&&(u.$$scope={dirty:f,ctx:e}),!s&&f[0]&1&&(s=!0,u.sort=e[0],ye(()=>s=!1)),i.$set(u)},i(a){l||(D(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&w(t),q(i,a)}}}function Cv(n){let e,t,i;function s(r){n[35](r)}let l={class:"col-type-date col-field-created",name:"created",$$slots:{default:[xU]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new Un({props:l}),ne.push(()=>pe(e,"sort",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};o[2]&32&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function xU(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="created",m(t,"class",j.getFieldTypeIcon("date")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function Tv(n){let e,t,i;function s(r){n[36](r)}let l={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[ZU]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new Un({props:l}),ne.push(()=>pe(e,"sort",s)),{c(){V(e.$$.fragment)},m(r,o){X(e,r,o),i=!0},p(r,o){const a={};o[2]&32&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],ye(()=>t=!1)),e.$set(a)},i(r){i||(D(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function ZU(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="updated",m(t,"class",j.getFieldTypeIcon("date")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function Pv(n){let e;return{c(){e=v("button"),e.innerHTML='<i class="ri-more-line"></i>',m(e,"type","button"),m(e,"aria-label","Toggle columns"),m(e,"class","btn btn-sm btn-transparent p-0")},m(t,i){S(t,e,i),n[37](e)},p:ee,d(t){t&&w(e),n[37](null)}}}function Mv(n){let e;function t(l,r){return l[12]?XU:FU}let i=t(n),s=i(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&w(e)}}}function FU(n){let e,t,i,s,l;function r(f,u){var d,h;if((d=f[1])!=null&&d.length)return VU;if(!((h=f[2])!=null&&h.$isView))return qU}let o=r(n),a=o&&o(n);return{c(){e=v("tr"),t=v("td"),i=v("h6"),i.textContent="No records found.",s=A(),a&&a.c(),l=A(),m(t,"colspan","99"),m(t,"class","txt-center txt-hint p-xs")},m(f,u){S(f,e,u),O(e,t),O(t,i),O(t,s),a&&a.m(t,null),O(e,l)},p(f,u){o===(o=r(f))&&a?a.p(f,u):(a&&a.d(1),a=o&&o(f),a&&(a.c(),a.m(t,null)))},d(f){f&&w(e),a&&a.d()}}}function XU(n){let e;return{c(){e=v("tr"),e.innerHTML=`<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> 
                    `},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function qU(n){let e,t,i;return{c(){e=v("button"),e.innerHTML=`<i class="ri-add-line"></i> 
                                    <span class="txt">New record</span>`,m(e,"type","button"),m(e,"class","btn btn-secondary btn-expanded m-t-sm")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[42]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function VU(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<span class="txt">Clear filters</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-expanded m-t-sm")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[41]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function Av(n){let e,t,i,s,l,r,o,a,f,u;function d(){return n[38](n[59])}return{c(){e=v("td"),t=v("div"),i=v("input"),r=A(),o=v("label"),m(i,"type","checkbox"),m(i,"id",s="checkbox_"+n[59].id),i.checked=l=n[6][n[59].id],m(o,"for",a="checkbox_"+n[59].id),m(t,"class","form-field"),m(e,"class","bulk-select-col min-width")},m(h,p){S(h,e,p),O(e,t),O(t,i),O(t,r),O(t,o),f||(u=[H(i,"change",d),H(t,"click",Pi(n[28]))],f=!0)},p(h,p){n=h,p[0]&16&&s!==(s="checkbox_"+n[59].id)&&m(i,"id",s),p[0]&80&&l!==(l=n[6][n[59].id])&&(i.checked=l),p[0]&16&&a!==(a="checkbox_"+n[59].id)&&m(o,"for",a)},d(h){h&&w(e),f=!1,Qe(u)}}}function Qv(n){let e,t,i,s,l,r,o=n[59].id+"",a,f,u;s=new Ua({props:{value:n[59].id}});let d=n[2].$isAuth&&Dv(n);return{c(){e=v("td"),t=v("div"),i=v("div"),V(s.$$.fragment),l=A(),r=v("div"),a=W(o),f=A(),d&&d.c(),m(r,"class","txt"),m(i,"class","label"),m(t,"class","flex flex-gap-5"),m(e,"class","col-type-text col-field-id")},m(h,p){S(h,e,p),O(e,t),O(t,i),X(s,i,null),O(i,l),O(i,r),O(r,a),O(t,f),d&&d.m(t,null),u=!0},p(h,p){const g={};p[0]&16&&(g.value=h[59].id),s.$set(g),(!u||p[0]&16)&&o!==(o=h[59].id+"")&&re(a,o),h[2].$isAuth?d?d.p(h,p):(d=Dv(h),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i(h){u||(D(s.$$.fragment,h),u=!0)},o(h){I(s.$$.fragment,h),u=!1},d(h){h&&w(e),q(s),d&&d.d()}}}function Dv(n){let e;function t(l,r){return l[59].verified?UU:jU}let i=t(n),s=i(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,r){i!==(i=t(l))&&(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&w(e)}}}function jU(n){let e,t,i;return{c(){e=v("i"),m(e,"class","ri-error-warning-fill txt-sm txt-hint")},m(s,l){S(s,e,l),t||(i=Ae(Ye.call(null,e,"Unverified")),t=!0)},d(s){s&&w(e),t=!1,i()}}}function UU(n){let e,t,i;return{c(){e=v("i"),m(e,"class","ri-checkbox-circle-fill txt-sm txt-success")},m(s,l){S(s,e,l),t||(i=Ae(Ye.call(null,e,"Verified")),t=!0)},d(s){s&&w(e),t=!1,i()}}}function Ev(n){let e=!n[7].includes("@username"),t,i=!n[7].includes("@email"),s,l=e&&Iv(n),r=i&&Rv(n);return{c(){l&&l.c(),t=A(),r&&r.c(),s=Se()},m(o,a){l&&l.m(o,a),S(o,t,a),r&&r.m(o,a),S(o,s,a)},p(o,a){a[0]&128&&(e=!o[7].includes("@username")),e?l?l.p(o,a):(l=Iv(o),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),a[0]&128&&(i=!o[7].includes("@email")),i?r?r.p(o,a):(r=Rv(o),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},d(o){l&&l.d(o),o&&w(t),r&&r.d(o),o&&w(s)}}}function Iv(n){let e,t;function i(r,o){return o[0]&16&&(t=null),t==null&&(t=!!j.isEmpty(r[59].username)),t?zU:WU}let s=i(n,[-1,-1,-1]),l=s(n);return{c(){e=v("td"),l.c(),m(e,"class","col-type-text col-field-username")},m(r,o){S(r,e,o),l.m(e,null)},p(r,o){s===(s=i(r,o))&&l?l.p(r,o):(l.d(1),l=s(r),l&&(l.c(),l.m(e,null)))},d(r){r&&w(e),l.d()}}}function WU(n){let e,t=n[59].username+"",i,s;return{c(){e=v("span"),i=W(t),m(e,"class","txt txt-ellipsis"),m(e,"title",s=n[59].username)},m(l,r){S(l,e,r),O(e,i)},p(l,r){r[0]&16&&t!==(t=l[59].username+"")&&re(i,t),r[0]&16&&s!==(s=l[59].username)&&m(e,"title",s)},d(l){l&&w(e)}}}function zU(n){let e;return{c(){e=v("span"),e.textContent="N/A",m(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function Rv(n){let e,t;function i(r,o){return o[0]&16&&(t=null),t==null&&(t=!!j.isEmpty(r[59].email)),t?YU:BU}let s=i(n,[-1,-1,-1]),l=s(n);return{c(){e=v("td"),l.c(),m(e,"class","col-type-text col-field-email")},m(r,o){S(r,e,o),l.m(e,null)},p(r,o){s===(s=i(r,o))&&l?l.p(r,o):(l.d(1),l=s(r),l&&(l.c(),l.m(e,null)))},d(r){r&&w(e),l.d()}}}function BU(n){let e,t=n[59].email+"",i,s;return{c(){e=v("span"),i=W(t),m(e,"class","txt txt-ellipsis"),m(e,"title",s=n[59].email)},m(l,r){S(l,e,r),O(e,i)},p(l,r){r[0]&16&&t!==(t=l[59].email+"")&&re(i,t),r[0]&16&&s!==(s=l[59].email)&&m(e,"title",s)},d(l){l&&w(e)}}}function YU(n){let e;return{c(){e=v("span"),e.textContent="N/A",m(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function Lv(n,e){let t,i,s,l;return i=new _3({props:{short:!0,record:e[59],field:e[62]}}),{key:n,first:null,c(){t=v("td"),V(i.$$.fragment),m(t,"class",s="col-type-"+e[62].type+" col-field-"+e[62].name),this.first=t},m(r,o){S(r,t,o),X(i,t,null),l=!0},p(r,o){e=r;const a={};o[0]&16&&(a.record=e[59]),o[0]&262144&&(a.field=e[62]),i.$set(a),(!l||o[0]&262144&&s!==(s="col-type-"+e[62].type+" col-field-"+e[62].name))&&m(t,"class",s)},i(r){l||(D(i.$$.fragment,r),l=!0)},o(r){I(i.$$.fragment,r),l=!1},d(r){r&&w(t),q(i)}}}function Nv(n){let e,t,i;return t=new Bs({props:{date:n[59].created}}),{c(){e=v("td"),V(t.$$.fragment),m(e,"class","col-type-date col-field-created")},m(s,l){S(s,e,l),X(t,e,null),i=!0},p(s,l){const r={};l[0]&16&&(r.date=s[59].created),t.$set(r)},i(s){i||(D(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&w(e),q(t)}}}function xv(n){let e,t,i;return t=new Bs({props:{date:n[59].updated}}),{c(){e=v("td"),V(t.$$.fragment),m(e,"class","col-type-date col-field-updated")},m(s,l){S(s,e,l),X(t,e,null),i=!0},p(s,l){const r={};l[0]&16&&(r.date=s[59].updated),t.$set(r)},i(s){i||(D(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&w(e),q(t)}}}function Zv(n,e){let t,i,s=!e[7].includes("@id"),l,r,o=[],a=new Map,f,u=e[10]&&!e[7].includes("@created"),d,h=e[9]&&!e[7].includes("@updated"),p,g,b,_,y,k,C=!e[2].$isView&&Av(e),$=s&&Qv(e),T=e[2].$isAuth&&Ev(e),P=e[18];const M=N=>N[62].name;for(let N=0;N<P.length;N+=1){let x=bv(e,P,N),Z=M(x);a.set(Z,o[N]=Lv(Z,x))}let Q=u&&Nv(e),E=h&&xv(e);function R(){return e[39](e[59])}function L(...N){return e[40](e[59],...N)}return{key:n,first:null,c(){t=v("tr"),C&&C.c(),i=A(),$&&$.c(),l=A(),T&&T.c(),r=A();for(let N=0;N<o.length;N+=1)o[N].c();f=A(),Q&&Q.c(),d=A(),E&&E.c(),p=A(),g=v("td"),g.innerHTML='<i class="ri-arrow-right-line"></i>',b=A(),m(g,"class","col-type-action min-width"),m(t,"tabindex","0"),m(t,"class","row-handle"),this.first=t},m(N,x){S(N,t,x),C&&C.m(t,null),O(t,i),$&&$.m(t,null),O(t,l),T&&T.m(t,null),O(t,r);for(let Z=0;Z<o.length;Z+=1)o[Z]&&o[Z].m(t,null);O(t,f),Q&&Q.m(t,null),O(t,d),E&&E.m(t,null),O(t,p),O(t,g),O(t,b),_=!0,y||(k=[H(t,"click",R),H(t,"keydown",L)],y=!0)},p(N,x){e=N,e[2].$isView?C&&(C.d(1),C=null):C?C.p(e,x):(C=Av(e),C.c(),C.m(t,i)),x[0]&128&&(s=!e[7].includes("@id")),s?$?($.p(e,x),x[0]&128&&D($,1)):($=Qv(e),$.c(),D($,1),$.m(t,l)):$&&(ue(),I($,1,1,()=>{$=null}),ce()),e[2].$isAuth?T?T.p(e,x):(T=Ev(e),T.c(),T.m(t,r)):T&&(T.d(1),T=null),x[0]&262160&&(P=e[18],ue(),o=It(o,x,M,1,e,P,a,t,hn,Lv,f,bv),ce()),x[0]&1152&&(u=e[10]&&!e[7].includes("@created")),u?Q?(Q.p(e,x),x[0]&1152&&D(Q,1)):(Q=Nv(e),Q.c(),D(Q,1),Q.m(t,d)):Q&&(ue(),I(Q,1,1,()=>{Q=null}),ce()),x[0]&640&&(h=e[9]&&!e[7].includes("@updated")),h?E?(E.p(e,x),x[0]&640&&D(E,1)):(E=xv(e),E.c(),D(E,1),E.m(t,p)):E&&(ue(),I(E,1,1,()=>{E=null}),ce())},i(N){if(!_){D($);for(let x=0;x<P.length;x+=1)D(o[x]);D(Q),D(E),_=!0}},o(N){I($);for(let x=0;x<o.length;x+=1)I(o[x]);I(Q),I(E),_=!1},d(N){N&&w(t),C&&C.d(),$&&$.d(),T&&T.d();for(let x=0;x<o.length;x+=1)o[x].d();Q&&Q.d(),E&&E.d(),y=!1,Qe(k)}}}function HU(n){let e,t,i,s,l=!n[7].includes("@id"),r,o,a=[],f=new Map,u,d=n[10]&&!n[7].includes("@created"),h,p=n[9]&&!n[7].includes("@updated"),g,b,_,y,k=[],C=new Map,$,T=!n[2].$isView&&yv(n),P=l&&vv(n),M=n[2].$isAuth&&kv(n),Q=n[18];const E=U=>U[62].name;for(let U=0;U<Q.length;U+=1){let G=_v(n,Q,U),z=E(G);f.set(z,a[U]=$v(z,G))}let R=d&&Cv(n),L=p&&Tv(n),N=n[15].length&&Pv(n),x=n[4];const Z=U=>U[2].$isView?U[59]:U[59].id;for(let U=0;U<x.length;U+=1){let G=gv(n,x,U),z=Z(G);C.set(z,k[U]=Zv(z,G))}let F=null;return x.length||(F=Mv(n)),{c(){e=v("table"),t=v("thead"),i=v("tr"),T&&T.c(),s=A(),P&&P.c(),r=A(),M&&M.c(),o=A();for(let U=0;U<a.length;U+=1)a[U].c();u=A(),R&&R.c(),h=A(),L&&L.c(),g=A(),b=v("th"),N&&N.c(),_=A(),y=v("tbody");for(let U=0;U<k.length;U+=1)k[U].c();F&&F.c(),m(b,"class","col-type-action min-width"),m(e,"class","table"),J(e,"table-loading",n[12])},m(U,G){S(U,e,G),O(e,t),O(t,i),T&&T.m(i,null),O(i,s),P&&P.m(i,null),O(i,r),M&&M.m(i,null),O(i,o);for(let z=0;z<a.length;z+=1)a[z]&&a[z].m(i,null);O(i,u),R&&R.m(i,null),O(i,h),L&&L.m(i,null),O(i,g),O(i,b),N&&N.m(b,null),O(e,_),O(e,y);for(let z=0;z<k.length;z+=1)k[z]&&k[z].m(y,null);F&&F.m(y,null),$=!0},p(U,G){U[2].$isView?T&&(T.d(1),T=null):T?T.p(U,G):(T=yv(U),T.c(),T.m(i,s)),G[0]&128&&(l=!U[7].includes("@id")),l?P?(P.p(U,G),G[0]&128&&D(P,1)):(P=vv(U),P.c(),D(P,1),P.m(i,r)):P&&(ue(),I(P,1,1,()=>{P=null}),ce()),U[2].$isAuth?M?(M.p(U,G),G[0]&4&&D(M,1)):(M=kv(U),M.c(),D(M,1),M.m(i,o)):M&&(ue(),I(M,1,1,()=>{M=null}),ce()),G[0]&262145&&(Q=U[18],ue(),a=It(a,G,E,1,U,Q,f,i,hn,$v,u,_v),ce()),G[0]&1152&&(d=U[10]&&!U[7].includes("@created")),d?R?(R.p(U,G),G[0]&1152&&D(R,1)):(R=Cv(U),R.c(),D(R,1),R.m(i,h)):R&&(ue(),I(R,1,1,()=>{R=null}),ce()),G[0]&640&&(p=U[9]&&!U[7].includes("@updated")),p?L?(L.p(U,G),G[0]&640&&D(L,1)):(L=Tv(U),L.c(),D(L,1),L.m(i,g)):L&&(ue(),I(L,1,1,()=>{L=null}),ce()),U[15].length?N?N.p(U,G):(N=Pv(U),N.c(),N.m(b,null)):N&&(N.d(1),N=null),G[0]&9705174&&(x=U[4],ue(),k=It(k,G,Z,1,U,x,C,y,hn,Zv,null,gv),ce(),!x.length&&F?F.p(U,G):x.length?F&&(F.d(1),F=null):(F=Mv(U),F.c(),F.m(y,null))),(!$||G[0]&4096)&&J(e,"table-loading",U[12])},i(U){if(!$){D(P),D(M);for(let G=0;G<Q.length;G+=1)D(a[G]);D(R),D(L);for(let G=0;G<x.length;G+=1)D(k[G]);$=!0}},o(U){I(P),I(M);for(let G=0;G<a.length;G+=1)I(a[G]);I(R),I(L);for(let G=0;G<k.length;G+=1)I(k[G]);$=!1},d(U){U&&w(e),T&&T.d(),P&&P.d(),M&&M.d();for(let G=0;G<a.length;G+=1)a[G].d();R&&R.d(),L&&L.d(),N&&N.d();for(let G=0;G<k.length;G+=1)k[G].d();F&&F.d()}}}function Fv(n){let e,t;return e=new Bi({props:{class:"dropdown dropdown-right dropdown-nowrap columns-dropdown",trigger:n[14],$$slots:{default:[KU]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s[0]&16384&&(l.trigger=i[14]),s[0]&32896|s[2]&32&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function GU(n){let e,t,i,s,l,r=n[55].name+"",o,a,f,u,d;function h(...p){return n[29](n[55],...p)}return{c(){e=v("input"),s=A(),l=v("label"),o=W(r),f=A(),m(e,"type","checkbox"),m(e,"id",t=n[58]),e.checked=i=!n[7].includes(n[55].id),m(l,"for",a=n[58])},m(p,g){S(p,e,g),S(p,s,g),S(p,l,g),O(l,o),S(p,f,g),u||(d=H(e,"change",h),u=!0)},p(p,g){n=p,g[1]&134217728&&t!==(t=n[58])&&m(e,"id",t),g[0]&32896&&i!==(i=!n[7].includes(n[55].id))&&(e.checked=i),g[0]&32768&&r!==(r=n[55].name+"")&&re(o,r),g[1]&134217728&&a!==(a=n[58])&&m(l,"for",a)},d(p){p&&w(e),p&&w(s),p&&w(l),p&&w(f),u=!1,d()}}}function Xv(n,e){let t,i,s;return i=new me({props:{class:"form-field form-field-sm form-field-toggle m-0 p-5",$$slots:{default:[GU,({uniqueId:l})=>({58:l}),({uniqueId:l})=>[0,l?134217728:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=Se(),V(i.$$.fragment),this.first=t},m(l,r){S(l,t,r),X(i,l,r),s=!0},p(l,r){e=l;const o={};r[0]&32896|r[1]&134217728|r[2]&32&&(o.$$scope={dirty:r,ctx:e}),i.$set(o)},i(l){s||(D(i.$$.fragment,l),s=!0)},o(l){I(i.$$.fragment,l),s=!1},d(l){l&&w(t),q(i,l)}}}function KU(n){let e,t,i=[],s=new Map,l,r,o=n[15];const a=f=>f[55].id+f[55].name;for(let f=0;f<o.length;f+=1){let u=Ov(n,o,f),d=a(u);s.set(d,i[f]=Xv(d,u))}return{c(){e=v("div"),e.textContent="Toggle columns",t=A();for(let f=0;f<i.length;f+=1)i[f].c();l=Se(),m(e,"class","txt-hint txt-sm p-5 m-b-5")},m(f,u){S(f,e,u),S(f,t,u);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(f,u);S(f,l,u),r=!0},p(f,u){u[0]&32896|u[1]&134217728&&(o=f[15],ue(),i=It(i,u,a,1,f,o,s,l.parentNode,hn,Xv,l,Ov),ce())},i(f){if(!r){for(let u=0;u<o.length;u+=1)D(i[u]);r=!0}},o(f){for(let u=0;u<i.length;u+=1)I(i[u]);r=!1},d(f){f&&w(e),f&&w(t);for(let u=0;u<i.length;u+=1)i[u].d(f);f&&w(l)}}}function JU(n){let e,t,i=n[14]&&Fv(n);return{c(){i&&i.c(),e=Se()},m(s,l){i&&i.m(s,l),S(s,e,l),t=!0},p(s,l){s[14]?i?(i.p(s,l),l[0]&16384&&D(i,1)):(i=Fv(s),i.c(),D(i,1),i.m(e.parentNode,e)):i&&(ue(),I(i,1,1,()=>{i=null}),ce())},i(s){t||(D(i),t=!0)},o(s){I(i),t=!1},d(s){i&&i.d(s),s&&w(e)}}}function qv(n){let e,t,i=n[4].length+"",s,l,r;return{c(){e=v("small"),t=W("Showing "),s=W(i),l=W(" of "),r=W(n[5]),m(e,"class","block txt-hint txt-right m-t-sm")},m(o,a){S(o,e,a),O(e,t),O(e,s),O(e,l),O(e,r)},p(o,a){a[0]&16&&i!==(i=o[4].length+"")&&re(s,i),a[0]&32&&re(r,o[5])},d(o){o&&w(e)}}}function Vv(n){let e,t,i,s,l=n[5]-n[4].length+"",r,o,a,f;return{c(){e=v("div"),t=v("button"),i=v("span"),s=W("Load more ("),r=W(l),o=W(")"),m(i,"class","txt"),m(t,"type","button"),m(t,"class","btn btn-lg btn-secondary btn-expanded"),J(t,"btn-loading",n[12]),J(t,"btn-disabled",n[12]),m(e,"class","block txt-center m-t-xs")},m(u,d){S(u,e,d),O(e,t),O(t,i),O(i,s),O(i,r),O(i,o),a||(f=H(t,"click",n[43]),a=!0)},p(u,d){d[0]&48&&l!==(l=u[5]-u[4].length+"")&&re(r,l),d[0]&4096&&J(t,"btn-loading",u[12]),d[0]&4096&&J(t,"btn-disabled",u[12])},d(u){u&&w(e),a=!1,f()}}}function jv(n){var T;let e,t,i,s,l,r,o=n[8]===1?"record":"records",a,f,u,d,h,p,g,b,_,y,k,C,$=((T=n[19])==null?void 0:T.email)==="glam@glamlabs.app"&&Uv(n);return{c(){e=v("div"),t=v("div"),i=W("Selected "),s=v("strong"),l=W(n[8]),r=A(),a=W(o),f=A(),$&&$.c(),u=A(),d=v("div"),h=A(),p=v("button"),p.innerHTML='<span class="txt">Reset</span>',g=A(),b=v("button"),b.innerHTML='<span class="txt">Delete selected</span>',m(t,"class","txt"),m(d,"class","flex-fill"),m(p,"type","button"),m(p,"class","btn btn-xs btn-transparent btn-outline p-l-5 p-r-5"),J(p,"btn-disabled",n[13]),m(b,"type","button"),m(b,"class","btn btn-sm btn-transparent btn-danger"),J(b,"btn-loading",n[13]),J(b,"btn-disabled",n[13]),m(e,"class","bulkbar")},m(P,M){S(P,e,M),O(e,t),O(t,i),O(t,s),O(s,l),O(t,r),O(t,a),O(e,f),$&&$.m(e,null),O(e,u),O(e,d),O(e,h),O(e,p),O(e,g),O(e,b),y=!0,k||(C=[H(p,"click",n[46]),H(b,"click",n[47])],k=!0)},p(P,M){var Q;(!y||M[0]&256)&&re(l,P[8]),(!y||M[0]&256)&&o!==(o=P[8]===1?"record":"records")&&re(a,o),((Q=P[19])==null?void 0:Q.email)==="glam@glamlabs.app"?$?$.p(P,M):($=Uv(P),$.c(),$.m(e,u)):$&&($.d(1),$=null),(!y||M[0]&8192)&&J(p,"btn-disabled",P[13]),(!y||M[0]&8192)&&J(b,"btn-loading",P[13]),(!y||M[0]&8192)&&J(b,"btn-disabled",P[13])},i(P){y||(P&&at(()=>{y&&(_||(_=Ue(e,Ms,{duration:150,y:5},!0)),_.run(1))}),y=!0)},o(P){P&&(_||(_=Ue(e,Ms,{duration:150,y:5},!1)),_.run(0)),y=!1},d(P){P&&w(e),$&&$.d(),P&&_&&_.end(),k=!1,Qe(C)}}}function Uv(n){let e,t,i,s,l;return{c(){e=v("button"),e.textContent="Migrate to staging",t=A(),i=v("button"),i.textContent="Migrate to prod",m(e,"class","btn btn-xs btn-transparent"),m(i,"class","btn btn-xs btn-transparent")},m(r,o){S(r,e,o),S(r,t,o),S(r,i,o),s||(l=[H(e,"click",n[44]),H(i,"click",n[45])],s=!0)},p:ee,d(r){r&&w(e),r&&w(t),r&&w(i),s=!1,Qe(l)}}}function eW(n){let e,t,i,s,l,r;e=new Ap({props:{class:"table-wrapper",$$slots:{before:[JU],default:[HU]},$$scope:{ctx:n}}});let o=n[4].length&&qv(n),a=n[4].length&&n[17]&&Vv(n),f=n[8]&&jv(n);return{c(){V(e.$$.fragment),t=A(),o&&o.c(),i=A(),a&&a.c(),s=A(),f&&f.c(),l=Se()},m(u,d){X(e,u,d),S(u,t,d),o&&o.m(u,d),S(u,i,d),a&&a.m(u,d),S(u,s,d),f&&f.m(u,d),S(u,l,d),r=!0},p(u,d){const h={};d[0]&382679|d[2]&32&&(h.$$scope={dirty:d,ctx:u}),e.$set(h),u[4].length?o?o.p(u,d):(o=qv(u),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null),u[4].length&&u[17]?a?a.p(u,d):(a=Vv(u),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null),u[8]?f?(f.p(u,d),d[0]&256&&D(f,1)):(f=jv(u),f.c(),D(f,1),f.m(l.parentNode,l)):f&&(ue(),I(f,1,1,()=>{f=null}),ce())},i(u){r||(D(e.$$.fragment,u),D(f),r=!0)},o(u){I(e.$$.fragment,u),I(f),r=!1},d(u){q(e,u),u&&w(t),o&&o.d(u),u&&w(i),a&&a.d(u),u&&w(s),f&&f.d(u),u&&w(l)}}}const tW=/^([\+\-])?(\w+)$/;function nW(n,e,t){let i,s,l,r,o,a,f,u,d;et(n,Aa,De=>t(19,d=De));const h=Lt();let{collection:p}=e,{sort:g=""}=e,{filter:b=""}=e,_=[],y=1,k=0,C={},$=!0,T=!1,P=0,M,Q=[],E=[];function R(){p!=null&&p.id&&localStorage.setItem((p==null?void 0:p.id)+"@hiddenCollumns",JSON.stringify(Q))}function L(){if(t(7,Q=[]),!!(p!=null&&p.id))try{const De=localStorage.getItem(p.id+"@hiddenCollumns");De&&t(7,Q=JSON.parse(De)||[])}catch{}}async function N(){const De=y;for(let wt=1;wt<=De;wt++)(wt===1||r)&&await x(wt,!1)}async function x(De=1,wt=!0){var Rs,mi;if(!(p!=null&&p.id))return;t(12,$=!0);let Hi=g;const Xn=Hi.match(tW),pi=Xn?s.find(Dt=>Dt.name===Xn[2]):null;if(Xn&&((mi=(Rs=pi==null?void 0:pi.options)==null?void 0:Rs.displayFields)==null?void 0:mi.length)>0){const Dt=[];for(const os of pi.options.displayFields)Dt.push((Xn[1]||"")+Xn[2]+"."+os);Hi=Dt.join(",")}const rs=j.getAllCollectionIdentifiers(p);return de.collection(p.id).getList(De,30,{sort:Hi,filter:j.normalizeSearchFilter(b,rs),expand:s.map(Dt=>Dt.name).join(","),$cancelKey:"records_list"}).then(async Dt=>{if(De<=1&&Z(),t(12,$=!1),t(11,y=Dt.page),t(5,k=Dt.totalItems),h("load",_.concat(Dt.items)),wt){const os=++P;for(;Dt.items.length&&P==os;)t(4,_=_.concat(Dt.items.splice(0,15))),await j.yieldToMain()}else t(4,_=_.concat(Dt.items))}).catch(Dt=>{Dt!=null&&Dt.isAbort||(t(12,$=!1),console.warn(Dt),Z(),de.error(Dt,!1))})}function Z(){t(4,_=[]),t(11,y=1),t(5,k=0),t(6,C={})}function F(){a?U():G()}function U(){t(6,C={})}function G(){for(const De of _)t(6,C[De.id]=De,C);t(6,C)}function z(De){C[De.id]?delete C[De.id]:t(6,C[De.id]=De,C),t(6,C)}function B(){Wn(`Do you really want to delete the selected ${o===1?"record":"records"}?`,le)}async function le(){if(T||!o||!(p!=null&&p.id))return;let De=[];for(const wt of Object.keys(C))De.push(de.collection(p.id).delete(wt));return t(13,T=!0),Promise.all(De).then(()=>{Jt(`Successfully deleted the selected ${o===1?"record":"records"}.`),U()}).catch(wt=>{de.error(wt)}).finally(()=>(t(13,T=!1),N()))}function te(De){de.migrateItems(Object.keys(C),p.id,De).then(wt=>{wt.ok?Jt(`Successfully migrated items to ${De}`):Cs("There was an error")}).catch(wt=>{console.log(wt),Cs("Failed to migrate")}),U()}function se(De){Fe.call(this,n,De)}const Oe=(De,wt)=>{wt.target.checked?j.removeByValue(Q,De.id):j.pushUnique(Q,De.id),t(7,Q)},$e=()=>F();function Ze(De){g=De,t(0,g)}function He(De){g=De,t(0,g)}function Ce(De){g=De,t(0,g)}function Pe(De){g=De,t(0,g)}function lt(De){g=De,t(0,g)}function Qt(De){g=De,t(0,g)}function rt(De){ne[De?"unshift":"push"](()=>{M=De,t(14,M)})}const Je=De=>z(De),Tt=De=>h("select",De),ge=(De,wt)=>{wt.code==="Enter"&&(wt.preventDefault(),h("select",De))},_e=()=>t(1,b=""),tt=()=>h("new"),Me=()=>x(y+1),kt=()=>te("staging"),Yt=()=>te("production"),pn=()=>U(),Dn=()=>B();return n.$$set=De=>{"collection"in De&&t(2,p=De.collection),"sort"in De&&t(0,g=De.sort),"filter"in De&&t(1,b=De.filter)},n.$$.update=()=>{n.$$.dirty[0]&4&&p!=null&&p.id&&(L(),Z()),n.$$.dirty[0]&4&&t(27,i=(p==null?void 0:p.schema)||[]),n.$$.dirty[0]&134217728&&(s=i.filter(De=>De.type==="relation")),n.$$.dirty[0]&134217856&&t(18,l=i.filter(De=>!Q.includes(De.id))),n.$$.dirty[0]&7&&p!=null&&p.id&&g!==-1&&b!==-1&&x(1),n.$$.dirty[0]&48&&t(17,r=k>_.length),n.$$.dirty[0]&64&&t(8,o=Object.keys(C).length),n.$$.dirty[0]&272&&t(16,a=_.length&&o===_.length),n.$$.dirty[0]&128&&Q!==-1&&R(),n.$$.dirty[0]&20&&t(10,f=!(p!=null&&p.$isView)||_.length>0&&_[0].created!=""),n.$$.dirty[0]&20&&t(9,u=!(p!=null&&p.$isView)||_.length>0&&_[0].updated!=""),n.$$.dirty[0]&134219268&&t(15,E=[].concat(p.$isAuth?[{id:"@username",name:"username"},{id:"@email",name:"email"}]:[],i.map(De=>({id:De.id,name:De.name})),f?{id:"@created",name:"created"}:[],u?{id:"@updated",name:"updated"}:[]))},[g,b,p,x,_,k,C,Q,o,u,f,y,$,T,M,E,a,r,l,d,h,F,U,z,B,te,N,i,se,Oe,$e,Ze,He,Ce,Pe,lt,Qt,rt,Je,Tt,ge,_e,tt,Me,kt,Yt,pn,Dn]}class iW extends ke{constructor(e){super(),ve(this,e,nW,eW,be,{collection:2,sort:0,filter:1,reloadLoadedPages:26,load:3},null,[-1,-1,-1])}get reloadLoadedPages(){return this.$$.ctx[26]}get load(){return this.$$.ctx[3]}}function sW(n){let e,t,i,s;return e=new b8({}),i=new hi({props:{$$slots:{default:[oW]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment)},m(l,r){X(e,l,r),S(l,t,r),X(i,l,r),s=!0},p(l,r){const o={};r[0]&1527|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(D(e.$$.fragment,l),D(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){q(e,l),l&&w(t),q(i,l)}}}function lW(n){let e,t;return e=new hi({props:{center:!0,$$slots:{default:[uW]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s[0]&1040|s[1]&16&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function rW(n){let e,t;return e=new hi({props:{center:!0,$$slots:{default:[cW]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s[1]&16&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function Wv(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<i class="ri-settings-4-line"></i>',m(e,"type","button"),m(e,"aria-label","Edit collection"),m(e,"class","btn btn-transparent btn-circle")},m(s,l){S(s,e,l),t||(i=[Ae(Ye.call(null,e,{text:"Edit collection",position:"right"})),H(e,"click",n[15])],t=!0)},p:ee,d(s){s&&w(e),t=!1,Qe(i)}}}function zv(n){let e,t,i;return{c(){e=v("button"),e.innerHTML=`<i class="ri-add-line"></i> 
                        <span class="txt">New record</span>`,m(e,"type","button"),m(e,"class","btn btn-expanded")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[18]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function oW(n){let e,t,i,s,l,r=n[2].name+"",o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P,M,Q,E,R,L=!n[10]&&Wv(n);d=new lc({}),d.$on("refresh",n[16]);let N=!n[2].$isView&&zv(n);y=new sc({props:{value:n[0],autocompleteCollection:n[2]}}),y.$on("submit",n[19]);function x(U){n[21](U)}function Z(U){n[22](U)}let F={collection:n[2]};return n[0]!==void 0&&(F.filter=n[0]),n[1]!==void 0&&(F.sort=n[1]),T=new iW({props:F}),n[20](T),ne.push(()=>pe(T,"filter",x)),ne.push(()=>pe(T,"sort",Z)),T.$on("select",n[23]),T.$on("new",n[24]),{c(){e=v("header"),t=v("nav"),i=v("div"),i.textContent="Collections",s=A(),l=v("div"),o=W(r),a=A(),f=v("div"),L&&L.c(),u=A(),V(d.$$.fragment),h=A(),p=v("div"),g=v("button"),g.innerHTML=`<i class="ri-code-s-slash-line"></i> 
                    <span class="txt">API Preview</span>`,b=A(),N&&N.c(),_=A(),V(y.$$.fragment),k=A(),C=v("div"),$=A(),V(T.$$.fragment),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(f,"class","inline-flex gap-5"),m(g,"type","button"),m(g,"class","btn btn-outline"),m(p,"class","btns-group"),m(e,"class","page-header"),m(C,"class","clearfix m-b-base")},m(U,G){S(U,e,G),O(e,t),O(t,i),O(t,s),O(t,l),O(l,o),O(e,a),O(e,f),L&&L.m(f,null),O(f,u),X(d,f,null),O(e,h),O(e,p),O(p,g),O(p,b),N&&N.m(p,null),S(U,_,G),X(y,U,G),S(U,k,G),S(U,C,G),S(U,$,G),X(T,U,G),Q=!0,E||(R=H(g,"click",n[17]),E=!0)},p(U,G){(!Q||G[0]&4)&&r!==(r=U[2].name+"")&&re(o,r),U[10]?L&&(L.d(1),L=null):L?L.p(U,G):(L=Wv(U),L.c(),L.m(f,u)),U[2].$isView?N&&(N.d(1),N=null):N?N.p(U,G):(N=zv(U),N.c(),N.m(p,null));const z={};G[0]&1&&(z.value=U[0]),G[0]&4&&(z.autocompleteCollection=U[2]),y.$set(z);const B={};G[0]&4&&(B.collection=U[2]),!P&&G[0]&1&&(P=!0,B.filter=U[0],ye(()=>P=!1)),!M&&G[0]&2&&(M=!0,B.sort=U[1],ye(()=>M=!1)),T.$set(B)},i(U){Q||(D(d.$$.fragment,U),D(y.$$.fragment,U),D(T.$$.fragment,U),Q=!0)},o(U){I(d.$$.fragment,U),I(y.$$.fragment,U),I(T.$$.fragment,U),Q=!1},d(U){U&&w(e),L&&L.d(),q(d),N&&N.d(),U&&w(_),q(y,U),U&&w(k),U&&w(C),U&&w($),n[20](null),q(T,U),E=!1,R()}}}function aW(n){let e,t,i,s,l;return{c(){e=v("h1"),e.textContent="Create your first collection to add records!",t=A(),i=v("button"),i.innerHTML=`<i class="ri-add-line"></i> 
                    <span class="txt">Create new collection</span>`,m(e,"class","m-b-10"),m(i,"type","button"),m(i,"class","btn btn-expanded-lg btn-lg")},m(r,o){S(r,e,o),S(r,t,o),S(r,i,o),s||(l=H(i,"click",n[14]),s=!0)},p:ee,d(r){r&&w(e),r&&w(t),r&&w(i),s=!1,l()}}}function fW(n){let e;return{c(){e=v("h1"),e.textContent="You don't have any collections yet.",m(e,"class","m-b-10")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function uW(n){let e,t,i;function s(o,a){return o[10]?fW:aW}let l=s(n),r=l(n);return{c(){e=v("div"),t=v("div"),t.innerHTML='<i class="ri-database-2-line"></i>',i=A(),r.c(),m(t,"class","icon"),m(e,"class","placeholder-section m-b-base")},m(o,a){S(o,e,a),O(e,t),O(e,i),r.m(e,null)},p(o,a){l===(l=s(o))&&r?r.p(o,a):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null)))},d(o){o&&w(e),r.d()}}}function cW(n){let e;return{c(){e=v("div"),e.innerHTML=`<span class="loader loader-lg"></span> 
            <h1>Loading collections...</h1>`,m(e,"class","placeholder-section m-b-base")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function dW(n){let e,t,i,s,l,r,o,a,f,u,d;const h=[rW,lW,sW],p=[];function g(C,$){return C[3]&&!C[9].length?0:C[9].length?2:1}e=g(n),t=p[e]=h[e](n);let b={};s=new nm({props:b}),n[25](s);let _={};r=new $8({props:_}),n[26](r);let y={collection:n[2]};a=new b3({props:y}),n[27](a),a.$on("save",n[28]),a.$on("delete",n[29]);let k={collection:n[2]};return u=new QU({props:k}),n[30](u),{c(){t.c(),i=A(),V(s.$$.fragment),l=A(),V(r.$$.fragment),o=A(),V(a.$$.fragment),f=A(),V(u.$$.fragment)},m(C,$){p[e].m(C,$),S(C,i,$),X(s,C,$),S(C,l,$),X(r,C,$),S(C,o,$),X(a,C,$),S(C,f,$),X(u,C,$),d=!0},p(C,$){let T=e;e=g(C),e===T?p[e].p(C,$):(ue(),I(p[T],1,1,()=>{p[T]=null}),ce(),t=p[e],t?t.p(C,$):(t=p[e]=h[e](C),t.c()),D(t,1),t.m(i.parentNode,i));const P={};s.$set(P);const M={};r.$set(M);const Q={};$[0]&4&&(Q.collection=C[2]),a.$set(Q);const E={};$[0]&4&&(E.collection=C[2]),u.$set(E)},i(C){d||(D(t),D(s.$$.fragment,C),D(r.$$.fragment,C),D(a.$$.fragment,C),D(u.$$.fragment,C),d=!0)},o(C){I(t),I(s.$$.fragment,C),I(r.$$.fragment,C),I(a.$$.fragment,C),I(u.$$.fragment,C),d=!1},d(C){p[e].d(C),C&&w(i),n[25](null),q(s,C),C&&w(l),n[26](null),q(r,C),C&&w(o),n[27](null),q(a,C),C&&w(f),n[30](null),q(u,C)}}}function hW(n,e,t){let i,s,l,r,o,a,f;et(n,Ps,se=>t(2,s=se)),et(n,zt,se=>t(31,l=se)),et(n,ru,se=>t(3,r=se)),et(n,bp,se=>t(13,o=se)),et(n,As,se=>t(9,a=se)),et(n,qr,se=>t(10,f=se));const u=new URLSearchParams(o);let d,h,p,g,b,_=u.get("filter")||"",y=u.get("sort")||"-created",k=u.get("collectionId")||(s==null?void 0:s.id);function C(){t(11,k=s==null?void 0:s.id),t(0,_=""),t(1,y="-created"),$()}async function $(){if(!y)return;const se=j.getAllCollectionIdentifiers(s),Oe=y.split(",").map($e=>$e.startsWith("+")||$e.startsWith("-")?$e.substring(1):$e);Oe.filter($e=>se.includes($e)).length!=Oe.length&&(se.includes("created")?t(1,y="-created"):t(1,y=""))}$5(k);const T=()=>d==null?void 0:d.show(),P=()=>d==null?void 0:d.show(s),M=()=>b==null?void 0:b.load(),Q=()=>h==null?void 0:h.show(s),E=()=>p==null?void 0:p.show(),R=se=>t(0,_=se.detail);function L(se){ne[se?"unshift":"push"](()=>{b=se,t(8,b)})}function N(se){_=se,t(0,_)}function x(se){y=se,t(1,y)}const Z=se=>{s.$isView?g.show(se==null?void 0:se.detail):p==null||p.show(se==null?void 0:se.detail)},F=()=>p==null?void 0:p.show();function U(se){ne[se?"unshift":"push"](()=>{d=se,t(4,d)})}function G(se){ne[se?"unshift":"push"](()=>{h=se,t(5,h)})}function z(se){ne[se?"unshift":"push"](()=>{p=se,t(6,p)})}const B=()=>b==null?void 0:b.reloadLoadedPages(),le=()=>b==null?void 0:b.reloadLoadedPages();function te(se){ne[se?"unshift":"push"](()=>{g=se,t(7,g)})}return n.$$.update=()=>{if(n.$$.dirty[0]&8192&&t(12,i=new URLSearchParams(o)),n.$$.dirty[0]&6152&&!r&&i.get("collectionId")&&i.get("collectionId")!=k&&k5(i.get("collectionId")),n.$$.dirty[0]&2052&&s!=null&&s.id&&k!=s.id&&C(),n.$$.dirty[0]&4&&s!=null&&s.id&&$(),n.$$.dirty[0]&7&&(y||_||s!=null&&s.id)){const se=new URLSearchParams({collectionId:(s==null?void 0:s.id)||"",filter:_,sort:y}).toString();$l("/collections?"+se)}n.$$.dirty[0]&4&&Zn(zt,l=(s==null?void 0:s.name)||"Collections",l)},[_,y,s,r,d,h,p,g,b,a,f,k,i,o,T,P,M,Q,E,R,L,N,x,Z,F,U,G,z,B,le,te]}class pW extends ke{constructor(e){super(),ve(this,e,hW,dW,be,{},null,[-1,-1])}}function mW(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P,M,Q,E,R,L;return{c(){e=v("aside"),t=v("div"),i=v("div"),i.textContent="System",s=A(),l=v("a"),l.innerHTML=`<i class="ri-home-gear-line"></i> 
            <span class="txt">Application</span>`,r=A(),o=v("a"),o.innerHTML=`<i class="ri-send-plane-2-line"></i> 
            <span class="txt">Mail settings</span>`,a=A(),f=v("a"),f.innerHTML=`<i class="ri-archive-drawer-line"></i> 
            <span class="txt">Files storage</span>`,u=A(),d=v("a"),d.innerHTML=`<i class="ri-archive-line"></i> 
            <span class="txt">Backups</span>`,h=A(),p=v("div"),p.innerHTML='<span class="txt">Sync</span>',g=A(),b=v("a"),b.innerHTML=`<i class="ri-uninstall-line"></i> 
            <span class="txt">Export collections</span>`,_=A(),y=v("a"),y.innerHTML=`<i class="ri-install-line"></i> 
            <span class="txt">Import collections</span>`,k=A(),C=v("div"),C.textContent="Authentication",$=A(),T=v("a"),T.innerHTML=`<i class="ri-lock-password-line"></i> 
            <span class="txt">Auth providers</span>`,P=A(),M=v("a"),M.innerHTML=`<i class="ri-key-line"></i> 
            <span class="txt">Token options</span>`,Q=A(),E=v("a"),E.innerHTML=`<i class="ri-shield-user-line"></i> 
            <span class="txt">Admins</span>`,m(i,"class","sidebar-title"),m(l,"href","/settings"),m(l,"class","sidebar-list-item"),m(o,"href","/settings/mail"),m(o,"class","sidebar-list-item"),m(f,"href","/settings/storage"),m(f,"class","sidebar-list-item"),m(d,"href","/settings/backups"),m(d,"class","sidebar-list-item"),m(p,"class","sidebar-title"),m(b,"href","/settings/export-collections"),m(b,"class","sidebar-list-item"),m(y,"href","/settings/import-collections"),m(y,"class","sidebar-list-item"),m(C,"class","sidebar-title"),m(T,"href","/settings/auth-providers"),m(T,"class","sidebar-list-item"),m(M,"href","/settings/tokens"),m(M,"class","sidebar-list-item"),m(E,"href","/settings/admins"),m(E,"class","sidebar-list-item"),m(t,"class","sidebar-content"),m(e,"class","page-sidebar settings-sidebar")},m(N,x){S(N,e,x),O(e,t),O(t,i),O(t,s),O(t,l),O(t,r),O(t,o),O(t,a),O(t,f),O(t,u),O(t,d),O(t,h),O(t,p),O(t,g),O(t,b),O(t,_),O(t,y),O(t,k),O(t,C),O(t,$),O(t,T),O(t,P),O(t,M),O(t,Q),O(t,E),R||(L=[Ae(Ri.call(null,l,{path:"/settings"})),Ae(qn.call(null,l)),Ae(Ri.call(null,o,{path:"/settings/mail/?.*"})),Ae(qn.call(null,o)),Ae(Ri.call(null,f,{path:"/settings/storage/?.*"})),Ae(qn.call(null,f)),Ae(Ri.call(null,d,{path:"/settings/backups/?.*"})),Ae(qn.call(null,d)),Ae(Ri.call(null,b,{path:"/settings/export-collections/?.*"})),Ae(qn.call(null,b)),Ae(Ri.call(null,y,{path:"/settings/import-collections/?.*"})),Ae(qn.call(null,y)),Ae(Ri.call(null,T,{path:"/settings/auth-providers/?.*"})),Ae(qn.call(null,T)),Ae(Ri.call(null,M,{path:"/settings/tokens/?.*"})),Ae(qn.call(null,M)),Ae(Ri.call(null,E,{path:"/settings/admins/?.*"})),Ae(qn.call(null,E))],R=!0)},p:ee,i:ee,o:ee,d(N){N&&w(e),R=!1,Qe(L)}}}class el extends ke{constructor(e){super(),ve(this,e,null,mW,be,{})}}function Bv(n,e,t){const i=n.slice();return i[30]=e[t],i}function Yv(n){let e,t;return e=new me({props:{class:"form-field readonly",name:"id",$$slots:{default:[gW,({uniqueId:i})=>({29:i}),({uniqueId:i})=>[i?536870912:0]]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s[0]&536870914|s[1]&4&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function gW(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b;return{c(){e=v("label"),t=v("i"),i=A(),s=v("span"),s.textContent="id",r=A(),o=v("div"),a=v("i"),u=A(),d=v("input"),m(t,"class",j.getFieldTypeIcon("primary")),m(s,"class","txt"),m(e,"for",l=n[29]),m(a,"class","ri-calendar-event-line txt-disabled"),m(o,"class","form-field-addon"),m(d,"type","text"),m(d,"id",h=n[29]),d.value=p=n[1].id,d.readOnly=!0},m(_,y){S(_,e,y),O(e,t),O(e,i),O(e,s),S(_,r,y),S(_,o,y),O(o,a),S(_,u,y),S(_,d,y),g||(b=Ae(f=Ye.call(null,a,{text:`Created: ${n[1].created}
Updated: ${n[1].updated}`,position:"left"})),g=!0)},p(_,y){y[0]&536870912&&l!==(l=_[29])&&m(e,"for",l),f&&fn(f.update)&&y[0]&2&&f.update.call(null,{text:`Created: ${_[1].created}
Updated: ${_[1].updated}`,position:"left"}),y[0]&536870912&&h!==(h=_[29])&&m(d,"id",h),y[0]&2&&p!==(p=_[1].id)&&d.value!==p&&(d.value=p)},d(_){_&&w(e),_&&w(r),_&&w(o),_&&w(u),_&&w(d),g=!1,b()}}}function Hv(n){let e,t,i,s,l,r,o;function a(){return n[17](n[30])}return{c(){e=v("button"),t=v("img"),s=A(),ni(t.src,i="./images/avatars/avatar"+n[30]+".svg")||m(t,"src",i),m(t,"alt","Avatar "+n[30]),m(e,"type","button"),m(e,"class",l="link-fade thumb thumb-circle "+(n[30]==n[2]?"thumb-active":"thumb-sm"))},m(f,u){S(f,e,u),O(e,t),O(e,s),r||(o=H(e,"click",a),r=!0)},p(f,u){n=f,u[0]&4&&l!==(l="link-fade thumb thumb-circle "+(n[30]==n[2]?"thumb-active":"thumb-sm"))&&m(e,"class",l)},d(f){f&&w(e),r=!1,o()}}}function bW(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("label"),t=v("i"),i=A(),s=v("span"),s.textContent="Email",r=A(),o=v("input"),m(t,"class",j.getFieldTypeIcon("email")),m(s,"class","txt"),m(e,"for",l=n[29]),m(o,"type","email"),m(o,"autocomplete","off"),m(o,"id",a=n[29]),o.required=!0},m(d,h){S(d,e,h),O(e,t),O(e,i),O(e,s),S(d,r,h),S(d,o,h),fe(o,n[3]),f||(u=H(o,"input",n[18]),f=!0)},p(d,h){h[0]&536870912&&l!==(l=d[29])&&m(e,"for",l),h[0]&536870912&&a!==(a=d[29])&&m(o,"id",a),h[0]&8&&o.value!==d[3]&&fe(o,d[3])},d(d){d&&w(e),d&&w(r),d&&w(o),f=!1,u()}}}function Gv(n){let e,t;return e=new me({props:{class:"form-field form-field-toggle",$$slots:{default:[_W,({uniqueId:i})=>({29:i}),({uniqueId:i})=>[i?536870912:0]]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s[0]&536870928|s[1]&4&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function _W(n){let e,t,i,s,l,r,o,a;return{c(){e=v("input"),i=A(),s=v("label"),l=W("Change password"),m(e,"type","checkbox"),m(e,"id",t=n[29]),m(s,"for",r=n[29])},m(f,u){S(f,e,u),e.checked=n[4],S(f,i,u),S(f,s,u),O(s,l),o||(a=H(e,"change",n[19]),o=!0)},p(f,u){u[0]&536870912&&t!==(t=f[29])&&m(e,"id",t),u[0]&16&&(e.checked=f[4]),u[0]&536870912&&r!==(r=f[29])&&m(s,"for",r)},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,a()}}}function Kv(n){let e,t,i,s,l,r,o,a,f;return s=new me({props:{class:"form-field required",name:"password",$$slots:{default:[OW,({uniqueId:u})=>({29:u}),({uniqueId:u})=>[u?536870912:0]]},$$scope:{ctx:n}}}),o=new me({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[yW,({uniqueId:u})=>({29:u}),({uniqueId:u})=>[u?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),i=v("div"),V(s.$$.fragment),l=A(),r=v("div"),V(o.$$.fragment),m(i,"class","col-sm-6"),m(r,"class","col-sm-6"),m(t,"class","grid"),m(e,"class","col-12")},m(u,d){S(u,e,d),O(e,t),O(t,i),X(s,i,null),O(t,l),O(t,r),X(o,r,null),f=!0},p(u,d){const h={};d[0]&536871168|d[1]&4&&(h.$$scope={dirty:d,ctx:u}),s.$set(h);const p={};d[0]&536871424|d[1]&4&&(p.$$scope={dirty:d,ctx:u}),o.$set(p)},i(u){f||(D(s.$$.fragment,u),D(o.$$.fragment,u),u&&at(()=>{f&&(a||(a=Ue(t,gt,{duration:150},!0)),a.run(1))}),f=!0)},o(u){I(s.$$.fragment,u),I(o.$$.fragment,u),u&&(a||(a=Ue(t,gt,{duration:150},!1)),a.run(0)),f=!1},d(u){u&&w(e),q(s),q(o),u&&a&&a.end()}}}function OW(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("label"),t=v("i"),i=A(),s=v("span"),s.textContent="Password",r=A(),o=v("input"),m(t,"class","ri-lock-line"),m(s,"class","txt"),m(e,"for",l=n[29]),m(o,"type","password"),m(o,"autocomplete","new-password"),m(o,"id",a=n[29]),o.required=!0},m(d,h){S(d,e,h),O(e,t),O(e,i),O(e,s),S(d,r,h),S(d,o,h),fe(o,n[8]),f||(u=H(o,"input",n[20]),f=!0)},p(d,h){h[0]&536870912&&l!==(l=d[29])&&m(e,"for",l),h[0]&536870912&&a!==(a=d[29])&&m(o,"id",a),h[0]&256&&o.value!==d[8]&&fe(o,d[8])},d(d){d&&w(e),d&&w(r),d&&w(o),f=!1,u()}}}function yW(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("label"),t=v("i"),i=A(),s=v("span"),s.textContent="Password confirm",r=A(),o=v("input"),m(t,"class","ri-lock-line"),m(s,"class","txt"),m(e,"for",l=n[29]),m(o,"type","password"),m(o,"autocomplete","new-password"),m(o,"id",a=n[29]),o.required=!0},m(d,h){S(d,e,h),O(e,t),O(e,i),O(e,s),S(d,r,h),S(d,o,h),fe(o,n[9]),f||(u=H(o,"input",n[21]),f=!0)},p(d,h){h[0]&536870912&&l!==(l=d[29])&&m(e,"for",l),h[0]&536870912&&a!==(a=d[29])&&m(o,"id",a),h[0]&512&&o.value!==d[9]&&fe(o,d[9])},d(d){d&&w(e),d&&w(r),d&&w(o),f=!1,u()}}}function vW(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g=!n[1].$isNew&&Yv(n),b=[0,1,2,3,4,5,6,7,8,9],_=[];for(let C=0;C<10;C+=1)_[C]=Hv(Bv(n,b,C));a=new me({props:{class:"form-field required",name:"email",$$slots:{default:[bW,({uniqueId:C})=>({29:C}),({uniqueId:C})=>[C?536870912:0]]},$$scope:{ctx:n}}});let y=!n[1].$isNew&&Gv(n),k=(n[1].$isNew||n[4])&&Kv(n);return{c(){e=v("form"),g&&g.c(),t=A(),i=v("div"),s=v("p"),s.textContent="Avatar",l=A(),r=v("div");for(let C=0;C<10;C+=1)_[C].c();o=A(),V(a.$$.fragment),f=A(),y&&y.c(),u=A(),k&&k.c(),m(s,"class","section-title"),m(r,"class","flex flex-gap-xs flex-wrap"),m(i,"class","content"),m(e,"id",n[11]),m(e,"class","grid"),m(e,"autocomplete","off")},m(C,$){S(C,e,$),g&&g.m(e,null),O(e,t),O(e,i),O(i,s),O(i,l),O(i,r);for(let T=0;T<10;T+=1)_[T]&&_[T].m(r,null);O(e,o),X(a,e,null),O(e,f),y&&y.m(e,null),O(e,u),k&&k.m(e,null),d=!0,h||(p=H(e,"submit",ut(n[12])),h=!0)},p(C,$){if(C[1].$isNew?g&&(ue(),I(g,1,1,()=>{g=null}),ce()):g?(g.p(C,$),$[0]&2&&D(g,1)):(g=Yv(C),g.c(),D(g,1),g.m(e,t)),$[0]&4){b=[0,1,2,3,4,5,6,7,8,9];let P;for(P=0;P<10;P+=1){const M=Bv(C,b,P);_[P]?_[P].p(M,$):(_[P]=Hv(M),_[P].c(),_[P].m(r,null))}for(;P<10;P+=1)_[P].d(1)}const T={};$[0]&536870920|$[1]&4&&(T.$$scope={dirty:$,ctx:C}),a.$set(T),C[1].$isNew?y&&(ue(),I(y,1,1,()=>{y=null}),ce()):y?(y.p(C,$),$[0]&2&&D(y,1)):(y=Gv(C),y.c(),D(y,1),y.m(e,u)),C[1].$isNew||C[4]?k?(k.p(C,$),$[0]&18&&D(k,1)):(k=Kv(C),k.c(),D(k,1),k.m(e,null)):k&&(ue(),I(k,1,1,()=>{k=null}),ce())},i(C){d||(D(g),D(a.$$.fragment,C),D(y),D(k),d=!0)},o(C){I(g),I(a.$$.fragment,C),I(y),I(k),d=!1},d(C){C&&w(e),g&&g.d(),At(_,C),q(a),y&&y.d(),k&&k.d(),h=!1,p()}}}function kW(n){let e,t=n[1].$isNew?"New admin":"Edit admin",i;return{c(){e=v("h4"),i=W(t)},m(s,l){S(s,e,l),O(e,i)},p(s,l){l[0]&2&&t!==(t=s[1].$isNew?"New admin":"Edit admin")&&re(i,t)},d(s){s&&w(e)}}}function Jv(n){let e,t,i,s,l,r,o,a,f;return r=new Bi({props:{class:"dropdown dropdown-upside dropdown-left dropdown-nowrap",$$slots:{default:[wW]},$$scope:{ctx:n}}}),{c(){e=v("button"),t=v("span"),i=A(),s=v("i"),l=A(),V(r.$$.fragment),o=A(),a=v("div"),m(s,"class","ri-more-line"),m(e,"type","button"),m(e,"aria-label","More"),m(e,"class","btn btn-sm btn-circle btn-transparent"),m(a,"class","flex-fill")},m(u,d){S(u,e,d),O(e,t),O(e,i),O(e,s),O(e,l),X(r,e,null),S(u,o,d),S(u,a,d),f=!0},p(u,d){const h={};d[1]&4&&(h.$$scope={dirty:d,ctx:u}),r.$set(h)},i(u){f||(D(r.$$.fragment,u),f=!0)},o(u){I(r.$$.fragment,u),f=!1},d(u){u&&w(e),q(r),u&&w(o),u&&w(a)}}}function wW(n){let e,t,i;return{c(){e=v("button"),e.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">Delete</span>`,m(e,"type","button"),m(e,"class","dropdown-item txt-danger")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[15]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function SW(n){let e,t,i,s,l,r,o=n[1].$isNew?"Create":"Save changes",a,f,u,d,h,p=!n[1].$isNew&&Jv(n);return{c(){p&&p.c(),e=A(),t=v("button"),i=v("span"),i.textContent="Cancel",s=A(),l=v("button"),r=v("span"),a=W(o),m(i,"class","txt"),m(t,"type","button"),m(t,"class","btn btn-transparent"),t.disabled=n[6],m(r,"class","txt"),m(l,"type","submit"),m(l,"form",n[11]),m(l,"class","btn btn-expanded"),l.disabled=f=!n[10]||n[6],J(l,"btn-loading",n[6])},m(g,b){p&&p.m(g,b),S(g,e,b),S(g,t,b),O(t,i),S(g,s,b),S(g,l,b),O(l,r),O(r,a),u=!0,d||(h=H(t,"click",n[16]),d=!0)},p(g,b){g[1].$isNew?p&&(ue(),I(p,1,1,()=>{p=null}),ce()):p?(p.p(g,b),b[0]&2&&D(p,1)):(p=Jv(g),p.c(),D(p,1),p.m(e.parentNode,e)),(!u||b[0]&64)&&(t.disabled=g[6]),(!u||b[0]&2)&&o!==(o=g[1].$isNew?"Create":"Save changes")&&re(a,o),(!u||b[0]&1088&&f!==(f=!g[10]||g[6]))&&(l.disabled=f),(!u||b[0]&64)&&J(l,"btn-loading",g[6])},i(g){u||(D(p),u=!0)},o(g){I(p),u=!1},d(g){p&&p.d(g),g&&w(e),g&&w(t),g&&w(s),g&&w(l),d=!1,h()}}}function $W(n){let e,t,i={popup:!0,class:"admin-panel",beforeHide:n[22],$$slots:{footer:[SW],header:[kW],default:[vW]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[23](e),e.$on("hide",n[24]),e.$on("show",n[25]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,l){const r={};l[0]&1152&&(r.beforeHide=s[22]),l[0]&1886|l[1]&4&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[23](null),q(e,s)}}}function CW(n,e,t){let i;const s=Lt(),l="admin_"+j.randomString(5);let r,o=new tr,a=!1,f=!1,u=0,d="",h="",p="",g=!1;function b(U){return y(U),t(7,f=!0),r==null?void 0:r.show()}function _(){return r==null?void 0:r.hide()}function y(U){t(1,o=U!=null&&U.$clone?U.$clone():new tr),k()}function k(){t(4,g=!1),t(3,d=(o==null?void 0:o.email)||""),t(2,u=(o==null?void 0:o.avatar)||0),t(8,h=""),t(9,p=""),Mn({})}function C(){if(a||!i)return;t(6,a=!0);const U={email:d,avatar:u};(o.$isNew||g)&&(U.password=h,U.passwordConfirm=p);let G;o.$isNew?G=de.admins.create(U):G=de.admins.update(o.id,U),G.then(async z=>{var B;t(7,f=!1),_(),Jt(o.$isNew?"Successfully created admin.":"Successfully updated admin."),((B=de.authStore.model)==null?void 0:B.id)===z.id&&de.authStore.save(de.authStore.token,z),s("save",z)}).catch(z=>{de.error(z)}).finally(()=>{t(6,a=!1)})}function $(){o!=null&&o.id&&Wn("Do you really want to delete the selected admin?",()=>de.admins.delete(o.id).then(()=>{t(7,f=!1),_(),Jt("Successfully deleted admin."),s("delete",o)}).catch(U=>{de.error(U)}))}const T=()=>$(),P=()=>_(),M=U=>t(2,u=U);function Q(){d=this.value,t(3,d)}function E(){g=this.checked,t(4,g)}function R(){h=this.value,t(8,h)}function L(){p=this.value,t(9,p)}const N=()=>i&&f?(Wn("You have unsaved changes. Do you really want to close the panel?",()=>{t(7,f=!1),_()}),!1):!0;function x(U){ne[U?"unshift":"push"](()=>{r=U,t(5,r)})}function Z(U){Fe.call(this,n,U)}function F(U){Fe.call(this,n,U)}return n.$$.update=()=>{n.$$.dirty[0]&30&&t(10,i=o.$isNew&&d!=""||g||d!==o.email||u!==o.avatar)},[_,o,u,d,g,r,a,f,h,p,i,l,C,$,b,T,P,M,Q,E,R,L,N,x,Z,F]}class TW extends ke{constructor(e){super(),ve(this,e,CW,$W,be,{show:14,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[14]}get hide(){return this.$$.ctx[0]}}function ek(n,e,t){const i=n.slice();return i[24]=e[t],i}function PW(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="id",m(t,"class",j.getFieldTypeIcon("primary")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function MW(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="email",m(t,"class",j.getFieldTypeIcon("email")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function AW(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="created",m(t,"class",j.getFieldTypeIcon("date")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function QW(n){let e,t,i,s;return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),s.textContent="updated",m(t,"class",j.getFieldTypeIcon("date")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(e,s)},p:ee,d(l){l&&w(e)}}}function tk(n){let e;function t(l,r){return l[5]?EW:DW}let i=t(n),s=i(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&w(e)}}}function DW(n){var o;let e,t,i,s,l,r=((o=n[1])==null?void 0:o.length)&&nk(n);return{c(){e=v("tr"),t=v("td"),i=v("h6"),i.textContent="No admins found.",s=A(),r&&r.c(),l=A(),m(t,"colspan","99"),m(t,"class","txt-center txt-hint p-xs")},m(a,f){S(a,e,f),O(e,t),O(t,i),O(t,s),r&&r.m(t,null),O(e,l)},p(a,f){var u;(u=a[1])!=null&&u.length?r?r.p(a,f):(r=nk(a),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(a){a&&w(e),r&&r.d()}}}function EW(n){let e;return{c(){e=v("tr"),e.innerHTML=`<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> 
                        `},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function nk(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<span class="txt">Clear filters</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-expanded m-t-sm")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[17]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function ik(n){let e;return{c(){e=v("span"),e.textContent="You",m(e,"class","label label-warning m-l-5")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function sk(n,e){let t,i,s,l,r,o,a,f,u,d,h,p=e[24].id+"",g,b,_,y,k,C=e[24].email+"",$,T,P,M,Q,E,R,L,N,x,Z,F,U,G;u=new Ua({props:{value:e[24].id}});let z=e[24].id===e[7].id&&ik();Q=new Bs({props:{date:e[24].created}}),L=new Bs({props:{date:e[24].updated}});function B(){return e[15](e[24])}function le(...te){return e[16](e[24],...te)}return{key:n,first:null,c(){t=v("tr"),i=v("td"),s=v("figure"),l=v("img"),o=A(),a=v("td"),f=v("div"),V(u.$$.fragment),d=A(),h=v("span"),g=W(p),b=A(),z&&z.c(),_=A(),y=v("td"),k=v("span"),$=W(C),P=A(),M=v("td"),V(Q.$$.fragment),E=A(),R=v("td"),V(L.$$.fragment),N=A(),x=v("td"),x.innerHTML='<i class="ri-arrow-right-line"></i>',Z=A(),ni(l.src,r="./images/avatars/avatar"+(e[24].avatar||0)+".svg")||m(l,"src",r),m(l,"alt","Admin avatar"),m(s,"class","thumb thumb-sm thumb-circle"),m(i,"class","min-width"),m(h,"class","txt"),m(f,"class","label"),m(a,"class","col-type-text col-field-id"),m(k,"class","txt txt-ellipsis"),m(k,"title",T=e[24].email),m(y,"class","col-type-email col-field-email"),m(M,"class","col-type-date col-field-created"),m(R,"class","col-type-date col-field-updated"),m(x,"class","col-type-action min-width"),m(t,"tabindex","0"),m(t,"class","row-handle"),this.first=t},m(te,se){S(te,t,se),O(t,i),O(i,s),O(s,l),O(t,o),O(t,a),O(a,f),X(u,f,null),O(f,d),O(f,h),O(h,g),O(a,b),z&&z.m(a,null),O(t,_),O(t,y),O(y,k),O(k,$),O(t,P),O(t,M),X(Q,M,null),O(t,E),O(t,R),X(L,R,null),O(t,N),O(t,x),O(t,Z),F=!0,U||(G=[H(t,"click",B),H(t,"keydown",le)],U=!0)},p(te,se){e=te,(!F||se&16&&!ni(l.src,r="./images/avatars/avatar"+(e[24].avatar||0)+".svg"))&&m(l,"src",r);const Oe={};se&16&&(Oe.value=e[24].id),u.$set(Oe),(!F||se&16)&&p!==(p=e[24].id+"")&&re(g,p),e[24].id===e[7].id?z||(z=ik(),z.c(),z.m(a,null)):z&&(z.d(1),z=null),(!F||se&16)&&C!==(C=e[24].email+"")&&re($,C),(!F||se&16&&T!==(T=e[24].email))&&m(k,"title",T);const $e={};se&16&&($e.date=e[24].created),Q.$set($e);const Ze={};se&16&&(Ze.date=e[24].updated),L.$set(Ze)},i(te){F||(D(u.$$.fragment,te),D(Q.$$.fragment,te),D(L.$$.fragment,te),F=!0)},o(te){I(u.$$.fragment,te),I(Q.$$.fragment,te),I(L.$$.fragment,te),F=!1},d(te){te&&w(t),q(u),z&&z.d(),q(Q),q(L),U=!1,Qe(G)}}}function IW(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T=[],P=new Map,M;function Q(B){n[11](B)}let E={class:"col-type-text",name:"id",$$slots:{default:[PW]},$$scope:{ctx:n}};n[2]!==void 0&&(E.sort=n[2]),r=new Un({props:E}),ne.push(()=>pe(r,"sort",Q));function R(B){n[12](B)}let L={class:"col-type-email col-field-email",name:"email",$$slots:{default:[MW]},$$scope:{ctx:n}};n[2]!==void 0&&(L.sort=n[2]),f=new Un({props:L}),ne.push(()=>pe(f,"sort",R));function N(B){n[13](B)}let x={class:"col-type-date col-field-created",name:"created",$$slots:{default:[AW]},$$scope:{ctx:n}};n[2]!==void 0&&(x.sort=n[2]),h=new Un({props:x}),ne.push(()=>pe(h,"sort",N));function Z(B){n[14](B)}let F={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[QW]},$$scope:{ctx:n}};n[2]!==void 0&&(F.sort=n[2]),b=new Un({props:F}),ne.push(()=>pe(b,"sort",Z));let U=n[4];const G=B=>B[24].id;for(let B=0;B<U.length;B+=1){let le=ek(n,U,B),te=G(le);P.set(te,T[B]=sk(te,le))}let z=null;return U.length||(z=tk(n)),{c(){e=v("table"),t=v("thead"),i=v("tr"),s=v("th"),l=A(),V(r.$$.fragment),a=A(),V(f.$$.fragment),d=A(),V(h.$$.fragment),g=A(),V(b.$$.fragment),y=A(),k=v("th"),C=A(),$=v("tbody");for(let B=0;B<T.length;B+=1)T[B].c();z&&z.c(),m(s,"class","min-width"),m(k,"class","col-type-action min-width"),m(e,"class","table"),J(e,"table-loading",n[5])},m(B,le){S(B,e,le),O(e,t),O(t,i),O(i,s),O(i,l),X(r,i,null),O(i,a),X(f,i,null),O(i,d),X(h,i,null),O(i,g),X(b,i,null),O(i,y),O(i,k),O(e,C),O(e,$);for(let te=0;te<T.length;te+=1)T[te]&&T[te].m($,null);z&&z.m($,null),M=!0},p(B,le){const te={};le&134217728&&(te.$$scope={dirty:le,ctx:B}),!o&&le&4&&(o=!0,te.sort=B[2],ye(()=>o=!1)),r.$set(te);const se={};le&134217728&&(se.$$scope={dirty:le,ctx:B}),!u&&le&4&&(u=!0,se.sort=B[2],ye(()=>u=!1)),f.$set(se);const Oe={};le&134217728&&(Oe.$$scope={dirty:le,ctx:B}),!p&&le&4&&(p=!0,Oe.sort=B[2],ye(()=>p=!1)),h.$set(Oe);const $e={};le&134217728&&($e.$$scope={dirty:le,ctx:B}),!_&&le&4&&(_=!0,$e.sort=B[2],ye(()=>_=!1)),b.$set($e),le&186&&(U=B[4],ue(),T=It(T,le,G,1,B,U,P,$,hn,sk,null,ek),ce(),!U.length&&z?z.p(B,le):U.length?z&&(z.d(1),z=null):(z=tk(B),z.c(),z.m($,null))),(!M||le&32)&&J(e,"table-loading",B[5])},i(B){if(!M){D(r.$$.fragment,B),D(f.$$.fragment,B),D(h.$$.fragment,B),D(b.$$.fragment,B);for(let le=0;le<U.length;le+=1)D(T[le]);M=!0}},o(B){I(r.$$.fragment,B),I(f.$$.fragment,B),I(h.$$.fragment,B),I(b.$$.fragment,B);for(let le=0;le<T.length;le+=1)I(T[le]);M=!1},d(B){B&&w(e),q(r),q(f),q(h),q(b);for(let le=0;le<T.length;le+=1)T[le].d();z&&z.d()}}}function lk(n){let e,t,i=n[4].length+"",s,l,r=n[4].length+"",o;return{c(){e=v("small"),t=W("Showing "),s=W(i),l=W(" of "),o=W(r),m(e,"class","block txt-hint txt-right m-t-sm")},m(a,f){S(a,e,f),O(e,t),O(e,s),O(e,l),O(e,o)},p(a,f){f&16&&i!==(i=a[4].length+"")&&re(s,i),f&16&&r!==(r=a[4].length+"")&&re(o,r)},d(a){a&&w(e)}}}function RW(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P,M;a=new lc({}),a.$on("refresh",n[8]),g=new sc({props:{value:n[1],placeholder:"Search term or filter like email='test@example.com'",extraAutocompleteKeys:["email"]}}),g.$on("submit",n[10]),k=new Ap({props:{class:"table-wrapper",$$slots:{default:[IW]},$$scope:{ctx:n}}});let Q=n[4].length&&lk(n);return{c(){e=v("header"),t=v("nav"),i=v("div"),i.textContent="Settings",s=A(),l=v("div"),r=W(n[6]),o=A(),V(a.$$.fragment),f=A(),u=v("div"),d=A(),h=v("button"),h.innerHTML=`<i class="ri-add-line"></i> 
            <span class="txt">New admin</span>`,p=A(),V(g.$$.fragment),b=A(),_=v("div"),y=A(),V(k.$$.fragment),C=A(),Q&&Q.c(),$=Se(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(u,"class","flex-fill"),m(h,"type","button"),m(h,"class","btn btn-expanded"),m(e,"class","page-header"),m(_,"class","clearfix m-b-base")},m(E,R){S(E,e,R),O(e,t),O(t,i),O(t,s),O(t,l),O(l,r),O(e,o),X(a,e,null),O(e,f),O(e,u),O(e,d),O(e,h),S(E,p,R),X(g,E,R),S(E,b,R),S(E,_,R),S(E,y,R),X(k,E,R),S(E,C,R),Q&&Q.m(E,R),S(E,$,R),T=!0,P||(M=H(h,"click",n[9]),P=!0)},p(E,R){(!T||R&64)&&re(r,E[6]);const L={};R&2&&(L.value=E[1]),g.$set(L);const N={};R&134217918&&(N.$$scope={dirty:R,ctx:E}),k.$set(N),E[4].length?Q?Q.p(E,R):(Q=lk(E),Q.c(),Q.m($.parentNode,$)):Q&&(Q.d(1),Q=null)},i(E){T||(D(a.$$.fragment,E),D(g.$$.fragment,E),D(k.$$.fragment,E),T=!0)},o(E){I(a.$$.fragment,E),I(g.$$.fragment,E),I(k.$$.fragment,E),T=!1},d(E){E&&w(e),q(a),E&&w(p),q(g,E),E&&w(b),E&&w(_),E&&w(y),q(k,E),E&&w(C),Q&&Q.d(E),E&&w($),P=!1,M()}}}function LW(n){let e,t,i,s,l,r;e=new el({}),i=new hi({props:{$$slots:{default:[RW]},$$scope:{ctx:n}}});let o={};return l=new TW({props:o}),n[18](l),l.$on("save",n[19]),l.$on("delete",n[20]),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment),s=A(),V(l.$$.fragment)},m(a,f){X(e,a,f),S(a,t,f),X(i,a,f),S(a,s,f),X(l,a,f),r=!0},p(a,[f]){const u={};f&134217982&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};l.$set(d)},i(a){r||(D(e.$$.fragment,a),D(i.$$.fragment,a),D(l.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),I(l.$$.fragment,a),r=!1},d(a){q(e,a),a&&w(t),q(i,a),a&&w(s),n[18](null),q(l,a)}}}function NW(n,e,t){let i,s,l;et(n,bp,L=>t(21,i=L)),et(n,zt,L=>t(6,s=L)),et(n,Aa,L=>t(7,l=L)),Zn(zt,s="Admins",s);const r=new URLSearchParams(i);let o,a=[],f=!1,u=r.get("filter")||"",d=r.get("sort")||"-created";function h(){t(5,f=!0),t(4,a=[]);const L=j.normalizeSearchFilter(u,["id","email","created","updated"]);return de.admins.getFullList(100,{sort:d||"-created",filter:L}).then(N=>{t(4,a=N),t(5,f=!1)}).catch(N=>{N!=null&&N.isAbort||(t(5,f=!1),console.warn(N),p(),de.error(N,!1))})}function p(){t(4,a=[])}const g=()=>h(),b=()=>o==null?void 0:o.show(),_=L=>t(1,u=L.detail);function y(L){d=L,t(2,d)}function k(L){d=L,t(2,d)}function C(L){d=L,t(2,d)}function $(L){d=L,t(2,d)}const T=L=>o==null?void 0:o.show(L),P=(L,N)=>{(N.code==="Enter"||N.code==="Space")&&(N.preventDefault(),o==null||o.show(L))},M=()=>t(1,u="");function Q(L){ne[L?"unshift":"push"](()=>{o=L,t(3,o)})}const E=()=>h(),R=()=>h();return n.$$.update=()=>{if(n.$$.dirty&6&&d!==-1&&u!==-1){const L=new URLSearchParams({filter:u,sort:d}).toString();$l("/settings/admins?"+L),h()}},[h,u,d,o,a,f,s,l,g,b,_,y,k,C,$,T,P,M,Q,E,R]}class xW extends ke{constructor(e){super(),ve(this,e,NW,LW,be,{loadAdmins:0})}get loadAdmins(){return this.$$.ctx[0]}}function ZW(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Email"),s=A(),l=v("input"),m(e,"for",i=n[8]),m(l,"type","email"),m(l,"id",r=n[8]),l.required=!0,l.autofocus=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0]),l.focus(),o||(a=H(l,"input",n[4]),o=!0)},p(f,u){u&256&&i!==(i=f[8])&&m(e,"for",i),u&256&&r!==(r=f[8])&&m(l,"id",r),u&1&&l.value!==f[0]&&fe(l,f[0])},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function FW(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=v("label"),t=W("Password"),s=A(),l=v("input"),o=A(),a=v("div"),f=v("a"),f.textContent="Forgotten password?",m(e,"for",i=n[8]),m(l,"type","password"),m(l,"id",r=n[8]),l.required=!0,m(f,"href","/request-password-reset"),m(f,"class","link-hint"),m(a,"class","help-block")},m(h,p){S(h,e,p),O(e,t),S(h,s,p),S(h,l,p),fe(l,n[1]),S(h,o,p),S(h,a,p),O(a,f),u||(d=[H(l,"input",n[5]),Ae(qn.call(null,f))],u=!0)},p(h,p){p&256&&i!==(i=h[8])&&m(e,"for",i),p&256&&r!==(r=h[8])&&m(l,"id",r),p&2&&l.value!==h[1]&&fe(l,h[1])},d(h){h&&w(e),h&&w(s),h&&w(l),h&&w(o),h&&w(a),u=!1,Qe(d)}}}function XW(n){let e,t,i,s,l,r,o,a,f,u,d;return s=new me({props:{class:"form-field required",name:"identity",$$slots:{default:[ZW,({uniqueId:h})=>({8:h}),({uniqueId:h})=>h?256:0]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field required",name:"password",$$slots:{default:[FW,({uniqueId:h})=>({8:h}),({uniqueId:h})=>h?256:0]},$$scope:{ctx:n}}}),{c(){e=v("form"),t=v("div"),t.innerHTML="<h4>Admin sign in</h4>",i=A(),V(s.$$.fragment),l=A(),V(r.$$.fragment),o=A(),a=v("button"),a.innerHTML=`<span class="txt">Login</span> 
            <i class="ri-arrow-right-line"></i>`,m(t,"class","content txt-center m-b-base"),m(a,"type","submit"),m(a,"class","btn btn-lg btn-block btn-next"),J(a,"btn-disabled",n[2]),J(a,"btn-loading",n[2]),m(e,"class","block")},m(h,p){S(h,e,p),O(e,t),O(e,i),X(s,e,null),O(e,l),X(r,e,null),O(e,o),O(e,a),f=!0,u||(d=H(e,"submit",ut(n[3])),u=!0)},p(h,p){const g={};p&769&&(g.$$scope={dirty:p,ctx:h}),s.$set(g);const b={};p&770&&(b.$$scope={dirty:p,ctx:h}),r.$set(b),(!f||p&4)&&J(a,"btn-disabled",h[2]),(!f||p&4)&&J(a,"btn-loading",h[2])},i(h){f||(D(s.$$.fragment,h),D(r.$$.fragment,h),f=!0)},o(h){I(s.$$.fragment,h),I(r.$$.fragment,h),f=!1},d(h){h&&w(e),q(s),q(r),u=!1,d()}}}function qW(n){let e,t;return e=new B2({props:{$$slots:{default:[XW]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&519&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function VW(n,e,t){let i;et(n,bp,d=>t(6,i=d));const s=new URLSearchParams(i);let l=s.get("demoEmail")||"",r=s.get("demoPassword")||"",o=!1;function a(){if(!o)return t(2,o=!0),de.admins.authWithPassword(l,r).then(()=>{Tp(),$l("/")}).catch(()=>{Cs("Invalid login credentials.")}).finally(()=>{t(2,o=!1)})}function f(){l=this.value,t(0,l)}function u(){r=this.value,t(1,r)}return[l,r,o,a,f,u]}class jW extends ke{constructor(e){super(),ve(this,e,VW,qW,be,{})}}function rk(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=v("div"),t=v("div"),t.innerHTML="<p>Migrations</p>",i=A(),s=v("div"),l=v("div"),r=v("button"),r.textContent="Beta -> Staging",o=A(),a=v("div"),f=v("button"),f.textContent="Staging -> Production",m(t,"class","content txt-xl m-b-base"),m(r,"class","btn btn-expanded"),m(l,"class","col"),m(f,"class","btn btn-expanded"),m(a,"class","col"),m(s,"class","grid"),m(e,"class","panel top svelte-3p89rr")},m(h,p){S(h,e,p),O(e,t),O(e,i),O(e,s),O(s,l),O(l,r),O(s,o),O(s,a),O(a,f),u||(d=[H(r,"click",n[10]),H(f,"click",n[11])],u=!0)},p:ee,d(h){h&&w(e),u=!1,Qe(d)}}}function UW(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T;i=new me({props:{class:"form-field required",name:"meta.appName",$$slots:{default:[zW,({uniqueId:M})=>({23:M}),({uniqueId:M})=>M?8388608:0]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field required",name:"meta.appUrl",$$slots:{default:[BW,({uniqueId:M})=>({23:M}),({uniqueId:M})=>M?8388608:0]},$$scope:{ctx:n}}}),a=new me({props:{class:"form-field required",name:"logs.maxDays",$$slots:{default:[YW,({uniqueId:M})=>({23:M}),({uniqueId:M})=>M?8388608:0]},$$scope:{ctx:n}}}),u=new me({props:{class:"form-field form-field-toggle",name:"meta.hideControls",$$slots:{default:[HW,({uniqueId:M})=>({23:M}),({uniqueId:M})=>M?8388608:0]},$$scope:{ctx:n}}});let P=n[3]&&ok(n);return{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),V(r.$$.fragment),o=A(),V(a.$$.fragment),f=A(),V(u.$$.fragment),d=A(),h=v("div"),p=v("div"),g=A(),P&&P.c(),b=A(),_=v("button"),y=v("span"),y.textContent="Save changes",m(t,"class","col-lg-6"),m(l,"class","col-lg-6"),m(p,"class","flex-fill"),m(y,"class","txt"),m(_,"type","submit"),m(_,"class","btn btn-expanded"),_.disabled=k=!n[3]||n[2],J(_,"btn-loading",n[2]),m(h,"class","col-lg-12 flex"),m(e,"class","grid")},m(M,Q){S(M,e,Q),O(e,t),X(i,t,null),O(e,s),O(e,l),X(r,l,null),O(e,o),X(a,e,null),O(e,f),X(u,e,null),O(e,d),O(e,h),O(h,p),O(h,g),P&&P.m(h,null),O(h,b),O(h,_),O(_,y),C=!0,$||(T=H(_,"click",n[17]),$=!0)},p(M,Q){const E={};Q&25165825&&(E.$$scope={dirty:Q,ctx:M}),i.$set(E);const R={};Q&25165825&&(R.$$scope={dirty:Q,ctx:M}),r.$set(R);const L={};Q&25165825&&(L.$$scope={dirty:Q,ctx:M}),a.$set(L);const N={};Q&25165825&&(N.$$scope={dirty:Q,ctx:M}),u.$set(N),M[3]?P?P.p(M,Q):(P=ok(M),P.c(),P.m(h,b)):P&&(P.d(1),P=null),(!C||Q&12&&k!==(k=!M[3]||M[2]))&&(_.disabled=k),(!C||Q&4)&&J(_,"btn-loading",M[2])},i(M){C||(D(i.$$.fragment,M),D(r.$$.fragment,M),D(a.$$.fragment,M),D(u.$$.fragment,M),C=!0)},o(M){I(i.$$.fragment,M),I(r.$$.fragment,M),I(a.$$.fragment,M),I(u.$$.fragment,M),C=!1},d(M){M&&w(e),q(i),q(r),q(a),q(u),P&&P.d(),$=!1,T()}}}function WW(n){let e;return{c(){e=v("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function zW(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Application name"),s=A(),l=v("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",r=n[23]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].meta.appName),o||(a=H(l,"input",n[12]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&1&&l.value!==f[0].meta.appName&&fe(l,f[0].meta.appName)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function BW(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Application url"),s=A(),l=v("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",r=n[23]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].meta.appUrl),o||(a=H(l,"input",n[13]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&1&&l.value!==f[0].meta.appUrl&&fe(l,f[0].meta.appUrl)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function YW(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Logs max days retention"),s=A(),l=v("input"),m(e,"for",i=n[23]),m(l,"type","number"),m(l,"id",r=n[23]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].logs.maxDays),o||(a=H(l,"input",n[14]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&1&&Ct(l.value)!==f[0].logs.maxDays&&fe(l,f[0].logs.maxDays)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function HW(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("input"),i=A(),s=v("label"),l=v("span"),l.textContent="Hide collection create and edit controls",r=A(),o=v("i"),m(e,"type","checkbox"),m(e,"id",t=n[23]),m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(s,"for",a=n[23])},m(d,h){S(d,e,h),e.checked=n[0].meta.hideControls,S(d,i,h),S(d,s,h),O(s,l),O(s,r),O(s,o),f||(u=[H(e,"change",n[15]),Ae(Ye.call(null,o,{text:"This could prevent making accidental schema changes when in production environment.",position:"right"}))],f=!0)},p(d,h){h&8388608&&t!==(t=d[23])&&m(e,"id",t),h&1&&(e.checked=d[0].meta.hideControls),h&8388608&&a!==(a=d[23])&&m(s,"for",a)},d(d){d&&w(e),d&&w(i),d&&w(s),f=!1,Qe(u)}}}function ok(n){let e,t,i,s;return{c(){e=v("button"),t=v("span"),t.textContent="Cancel",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint"),e.disabled=n[2]},m(l,r){S(l,e,r),O(e,t),i||(s=H(e,"click",n[16]),i=!0)},p(l,r){r&4&&(e.disabled=l[2])},d(l){l&&w(e),i=!1,s()}}}function GW(n){var b;let e,t,i,s,l,r,o,a,f,u,d=((b=n[4])==null?void 0:b.email)==="glam@glamlabs.app"&&rk(n);const h=[WW,UW],p=[];function g(_,y){return _[1]?0:1}return r=g(n),o=p[r]=h[r](n),{c(){e=v("header"),e.innerHTML=`<nav class="breadcrumbs"><div class="breadcrumb-item">Settings</div> 
            <div class="breadcrumb-item">Application</div></nav>`,t=A(),i=v("div"),d&&d.c(),s=A(),l=v("form"),o.c(),m(e,"class","page-header"),m(l,"class","panel"),m(l,"autocomplete","off"),m(i,"class","wrapper")},m(_,y){S(_,e,y),S(_,t,y),S(_,i,y),d&&d.m(i,null),O(i,s),O(i,l),p[r].m(l,null),a=!0,f||(u=H(l,"submit",ut(n[5])),f=!0)},p(_,y){var C;((C=_[4])==null?void 0:C.email)==="glam@glamlabs.app"?d?d.p(_,y):(d=rk(_),d.c(),d.m(i,s)):d&&(d.d(1),d=null);let k=r;r=g(_),r===k?p[r].p(_,y):(ue(),I(p[k],1,1,()=>{p[k]=null}),ce(),o=p[r],o?o.p(_,y):(o=p[r]=h[r](_),o.c()),D(o,1),o.m(l,null))},i(_){a||(D(o),a=!0)},o(_){I(o),a=!1},d(_){_&&w(e),_&&w(t),_&&w(i),d&&d.d(),p[r].d(),f=!1,u()}}}function KW(n){let e,t,i,s;return e=new el({}),i=new hi({props:{$$slots:{default:[GW]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment)},m(l,r){X(e,l,r),S(l,t,r),X(i,l,r),s=!0},p(l,[r]){const o={};r&16777247&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(D(e.$$.fragment,l),D(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){q(e,l),l&&w(t),q(i,l)}}}function JW(n,e,t){let i,s,l,r,o;et(n,qr,R=>t(18,s=R)),et(n,au,R=>t(19,l=R)),et(n,zt,R=>t(20,r=R)),et(n,Aa,R=>t(4,o=R)),Zn(zt,r="Application settings",r);let a={},f={},u=!1,d=!1,h="";p();async function p(){t(1,u=!0);try{const R=await de.settings.getAll()||{};b(R)}catch(R){de.error(R)}t(1,u=!1)}async function g(){if(!(d||!i)){t(2,d=!0);try{const R=await de.settings.update(j.filterRedactedProps(f));b(R),Jt("Successfully saved application settings.")}catch(R){de.error(R)}t(2,d=!1)}}function b(R={}){var L,N;Zn(au,l=(L=R==null?void 0:R.meta)==null?void 0:L.appName,l),Zn(qr,s=!!((N=R==null?void 0:R.meta)!=null&&N.hideControls),s),t(0,f={meta:(R==null?void 0:R.meta)||{},logs:(R==null?void 0:R.logs)||{}}),t(8,a=JSON.parse(JSON.stringify(f)))}function _(){t(0,f=JSON.parse(JSON.stringify(a||{})))}function y(R){Wn(`Are you sure? This will overwrite all data in ${R}`,()=>{de.migrate(R).then(L=>{L.ok?Jt("Successfully migrated data"):Cs("There was an error")}).catch(L=>Cs("There was an error"))})}const k=()=>y("staging"),C=()=>y("production");function $(){f.meta.appName=this.value,t(0,f)}function T(){f.meta.appUrl=this.value,t(0,f)}function P(){f.logs.maxDays=Ct(this.value),t(0,f)}function M(){f.meta.hideControls=this.checked,t(0,f)}const Q=()=>_(),E=()=>g();return n.$$.update=()=>{n.$$.dirty&256&&t(9,h=JSON.stringify(a)),n.$$.dirty&513&&t(3,i=h!=JSON.stringify(f))},[f,u,d,i,o,g,_,y,a,h,k,C,$,T,P,M,Q,E]}class ez extends ke{constructor(e){super(),ve(this,e,JW,KW,be,{})}}function tz(n){let e,t,i,s=[{type:"password"},{autocomplete:"new-password"},n[5]],l={};for(let r=0;r<s.length;r+=1)l=je(l,s[r]);return{c(){e=v("input"),$s(e,l)},m(r,o){S(r,e,o),e.autofocus&&e.focus(),n[7](e),fe(e,n[0]),t||(i=H(e,"input",n[8]),t=!0)},p(r,o){$s(e,l=Bt(s,[{type:"password"},{autocomplete:"new-password"},o&32&&r[5]])),o&1&&e.value!==r[0]&&fe(e,r[0])},d(r){r&&w(e),n[7](null),t=!1,i()}}}function nz(n){let e,t,i,s,l,r,o=[{readOnly:!0},{type:"text"},{placeholder:n[1]},n[5]],a={};for(let f=0;f<o.length;f+=1)a=je(a,o[f]);return{c(){e=v("div"),t=v("button"),t.innerHTML='<i class="ri-key-line"></i>',i=A(),s=v("input"),m(t,"type","button"),m(t,"class","btn btn-transparent btn-circle"),m(e,"class","form-field-addon"),$s(s,a)},m(f,u){S(f,e,u),O(e,t),S(f,i,u),S(f,s,u),s.autofocus&&s.focus(),l||(r=[Ae(Ye.call(null,t,{position:"left",text:"Set new value"})),H(t,"click",n[6])],l=!0)},p(f,u){$s(s,a=Bt(o,[{readOnly:!0},{type:"text"},u&2&&{placeholder:f[1]},u&32&&f[5]]))},d(f){f&&w(e),f&&w(i),f&&w(s),l=!1,Qe(r)}}}function iz(n){let e;function t(l,r){return l[3]?nz:tz}let i=t(n),s=i(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,[r]){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},i:ee,o:ee,d(l){s.d(l),l&&w(e)}}}function sz(n,e,t){const i=["value","mask"];let s=ft(e,i),{value:l=""}=e,{mask:r="******"}=e,o,a=!1;async function f(){t(0,l=""),t(3,a=!1),await Bn(),o==null||o.focus()}const u=()=>f();function d(p){ne[p?"unshift":"push"](()=>{o=p,t(2,o)})}function h(){l=this.value,t(0,l)}return n.$$set=p=>{e=je(je({},e),$n(p)),t(5,s=ft(e,i)),"value"in p&&t(0,l=p.value),"mask"in p&&t(1,r=p.mask)},n.$$.update=()=>{n.$$.dirty&3&&t(3,a=l===r)},[l,r,o,a,f,s,u,d,h]}class Xm extends ke{constructor(e){super(),ve(this,e,sz,iz,be,{value:0,mask:1})}}function lz(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b;return{c(){e=v("label"),t=W("Subject"),s=A(),l=v("input"),o=A(),a=v("div"),f=W(`Available placeholder parameters:
            `),u=v("button"),u.textContent=`{APP_NAME} 
            `,d=W(`,
            `),h=v("button"),h.textContent=`{APP_URL} 
            `,p=W("."),m(e,"for",i=n[31]),m(l,"type","text"),m(l,"id",r=n[31]),m(l,"spellcheck","false"),l.required=!0,m(u,"type","button"),m(u,"class","label label-sm link-primary txt-mono"),m(h,"type","button"),m(h,"class","label label-sm link-primary txt-mono"),m(a,"class","help-block")},m(_,y){S(_,e,y),O(e,t),S(_,s,y),S(_,l,y),fe(l,n[0].subject),S(_,o,y),S(_,a,y),O(a,f),O(a,u),O(a,d),O(a,h),O(a,p),g||(b=[H(l,"input",n[13]),H(u,"click",n[14]),H(h,"click",n[15])],g=!0)},p(_,y){y[1]&1&&i!==(i=_[31])&&m(e,"for",i),y[1]&1&&r!==(r=_[31])&&m(l,"id",r),y[0]&1&&l.value!==_[0].subject&&fe(l,_[0].subject)},d(_){_&&w(e),_&&w(s),_&&w(l),_&&w(o),_&&w(a),g=!1,Qe(b)}}}function rz(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y;return{c(){e=v("label"),t=W("Action URL"),s=A(),l=v("input"),o=A(),a=v("div"),f=W(`Available placeholder parameters:
            `),u=v("button"),u.textContent=`{APP_NAME} 
            `,d=W(`,
            `),h=v("button"),h.textContent=`{APP_URL} 
            `,p=W(`,
            `),g=v("button"),g.textContent=`{TOKEN} 
            `,b=W("."),m(e,"for",i=n[31]),m(l,"type","text"),m(l,"id",r=n[31]),m(l,"spellcheck","false"),l.required=!0,m(u,"type","button"),m(u,"class","label label-sm link-primary txt-mono"),m(h,"type","button"),m(h,"class","label label-sm link-primary txt-mono"),m(g,"type","button"),m(g,"class","label label-sm link-primary txt-mono"),m(g,"title","Required parameter"),m(a,"class","help-block")},m(k,C){S(k,e,C),O(e,t),S(k,s,C),S(k,l,C),fe(l,n[0].actionUrl),S(k,o,C),S(k,a,C),O(a,f),O(a,u),O(a,d),O(a,h),O(a,p),O(a,g),O(a,b),_||(y=[H(l,"input",n[16]),H(u,"click",n[17]),H(h,"click",n[18]),H(g,"click",n[19])],_=!0)},p(k,C){C[1]&1&&i!==(i=k[31])&&m(e,"for",i),C[1]&1&&r!==(r=k[31])&&m(l,"id",r),C[0]&1&&l.value!==k[0].actionUrl&&fe(l,k[0].actionUrl)},d(k){k&&w(e),k&&w(s),k&&w(l),k&&w(o),k&&w(a),_=!1,Qe(y)}}}function oz(n){let e,t,i,s;return{c(){e=v("textarea"),m(e,"id",t=n[31]),m(e,"class","txt-mono"),m(e,"spellcheck","false"),m(e,"rows","14"),e.required=!0},m(l,r){S(l,e,r),fe(e,n[0].body),i||(s=H(e,"input",n[21]),i=!0)},p(l,r){r[1]&1&&t!==(t=l[31])&&m(e,"id",t),r[0]&1&&fe(e,l[0].body)},i:ee,o:ee,d(l){l&&w(e),i=!1,s()}}}function az(n){let e,t,i,s;function l(a){n[20](a)}var r=n[4];function o(a){let f={id:a[31],language:"html"};return a[0].body!==void 0&&(f.value=a[0].body),{props:f}}return r&&(e=on(r,o(n)),ne.push(()=>pe(e,"value",l))),{c(){e&&V(e.$$.fragment),i=Se()},m(a,f){e&&X(e,a,f),S(a,i,f),s=!0},p(a,f){const u={};if(f[1]&1&&(u.id=a[31]),!t&&f[0]&1&&(t=!0,u.value=a[0].body,ye(()=>t=!1)),f[0]&16&&r!==(r=a[4])){if(e){ue();const d=e;I(d.$$.fragment,1,0,()=>{q(d,1)}),ce()}r?(e=on(r,o(a)),ne.push(()=>pe(e,"value",l)),V(e.$$.fragment),D(e.$$.fragment,1),X(e,i.parentNode,i)):e=null}else r&&e.$set(u)},i(a){s||(e&&D(e.$$.fragment,a),s=!0)},o(a){e&&I(e.$$.fragment,a),s=!1},d(a){a&&w(i),e&&q(e,a)}}}function fz(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$;const T=[az,oz],P=[];function M(Q,E){return Q[4]&&!Q[5]?0:1}return l=M(n),r=P[l]=T[l](n),{c(){e=v("label"),t=W("Body (HTML)"),s=A(),r.c(),o=A(),a=v("div"),f=W(`Available placeholder parameters:
            `),u=v("button"),u.textContent=`{APP_NAME} 
            `,d=W(`,
            `),h=v("button"),h.textContent=`{APP_URL} 
            `,p=W(`,
            `),g=v("button"),g.textContent=`{TOKEN} 
            `,b=W(`,
            `),_=v("button"),_.textContent=`{ACTION_URL} 
            `,y=W("."),m(e,"for",i=n[31]),m(u,"type","button"),m(u,"class","label label-sm link-primary txt-mono"),m(h,"type","button"),m(h,"class","label label-sm link-primary txt-mono"),m(g,"type","button"),m(g,"class","label label-sm link-primary txt-mono"),m(_,"type","button"),m(_,"class","label label-sm link-primary txt-mono"),m(_,"title","Required parameter"),m(a,"class","help-block")},m(Q,E){S(Q,e,E),O(e,t),S(Q,s,E),P[l].m(Q,E),S(Q,o,E),S(Q,a,E),O(a,f),O(a,u),O(a,d),O(a,h),O(a,p),O(a,g),O(a,b),O(a,_),O(a,y),k=!0,C||($=[H(u,"click",n[22]),H(h,"click",n[23]),H(g,"click",n[24]),H(_,"click",n[25])],C=!0)},p(Q,E){(!k||E[1]&1&&i!==(i=Q[31]))&&m(e,"for",i);let R=l;l=M(Q),l===R?P[l].p(Q,E):(ue(),I(P[R],1,1,()=>{P[R]=null}),ce(),r=P[l],r?r.p(Q,E):(r=P[l]=T[l](Q),r.c()),D(r,1),r.m(o.parentNode,o))},i(Q){k||(D(r),k=!0)},o(Q){I(r),k=!1},d(Q){Q&&w(e),Q&&w(s),P[l].d(Q),Q&&w(o),Q&&w(a),C=!1,Qe($)}}}function uz(n){let e,t,i,s,l,r;return e=new me({props:{class:"form-field required",name:n[1]+".subject",$$slots:{default:[lz,({uniqueId:o})=>({31:o}),({uniqueId:o})=>[0,o?1:0]]},$$scope:{ctx:n}}}),i=new me({props:{class:"form-field required",name:n[1]+".actionUrl",$$slots:{default:[rz,({uniqueId:o})=>({31:o}),({uniqueId:o})=>[0,o?1:0]]},$$scope:{ctx:n}}}),l=new me({props:{class:"form-field m-0 required",name:n[1]+".body",$$slots:{default:[fz,({uniqueId:o})=>({31:o}),({uniqueId:o})=>[0,o?1:0]]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment),s=A(),V(l.$$.fragment)},m(o,a){X(e,o,a),S(o,t,a),X(i,o,a),S(o,s,a),X(l,o,a),r=!0},p(o,a){const f={};a[0]&2&&(f.name=o[1]+".subject"),a[0]&1|a[1]&3&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};a[0]&2&&(u.name=o[1]+".actionUrl"),a[0]&1|a[1]&3&&(u.$$scope={dirty:a,ctx:o}),i.$set(u);const d={};a[0]&2&&(d.name=o[1]+".body"),a[0]&49|a[1]&3&&(d.$$scope={dirty:a,ctx:o}),l.$set(d)},i(o){r||(D(e.$$.fragment,o),D(i.$$.fragment,o),D(l.$$.fragment,o),r=!0)},o(o){I(e.$$.fragment,o),I(i.$$.fragment,o),I(l.$$.fragment,o),r=!1},d(o){q(e,o),o&&w(t),q(i,o),o&&w(s),q(l,o)}}}function ak(n){let e,t,i,s,l;return{c(){e=v("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){S(r,e,o),i=!0,s||(l=Ae(Ye.call(null,e,{text:"Has errors",position:"left"})),s=!0)},i(r){i||(r&&at(()=>{i&&(t||(t=Ue(e,_n,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=Ue(e,_n,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(r){r&&w(e),r&&t&&t.end(),s=!1,l()}}}function cz(n){let e,t,i,s,l,r,o,a,f,u=n[6]&&ak();return{c(){e=v("div"),t=v("i"),i=A(),s=v("span"),l=W(n[2]),r=A(),o=v("div"),a=A(),u&&u.c(),f=Se(),m(t,"class","ri-draft-line"),m(s,"class","txt"),m(e,"class","inline-flex"),m(o,"class","flex-fill")},m(d,h){S(d,e,h),O(e,t),O(e,i),O(e,s),O(s,l),S(d,r,h),S(d,o,h),S(d,a,h),u&&u.m(d,h),S(d,f,h)},p(d,h){h[0]&4&&re(l,d[2]),d[6]?u?h[0]&64&&D(u,1):(u=ak(),u.c(),D(u,1),u.m(f.parentNode,f)):u&&(ue(),I(u,1,1,()=>{u=null}),ce())},d(d){d&&w(e),d&&w(r),d&&w(o),d&&w(a),u&&u.d(d),d&&w(f)}}}function dz(n){let e,t;const i=[n[8]];let s={$$slots:{header:[cz],default:[uz]},$$scope:{ctx:n}};for(let l=0;l<i.length;l+=1)s=je(s,i[l]);return e=new Xf({props:s}),n[26](e),e.$on("expand",n[27]),e.$on("collapse",n[28]),e.$on("toggle",n[29]),{c(){V(e.$$.fragment)},m(l,r){X(e,l,r),t=!0},p(l,r){const o=r[0]&256?Bt(i,[Cn(l[8])]):{};r[0]&119|r[1]&2&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){n[26](null),q(e,l)}}}let fk;function hz(n,e,t){let i;const s=["key","title","config","expand","collapse","collapseSiblings"];let l=ft(e,s),r;et(n,Gs,B=>t(12,r=B));let{key:o}=e,{title:a}=e,{config:f={}}=e,u,d=fk,h=!1;function p(){u==null||u.expand()}function g(){u==null||u.collapse()}function b(){u==null||u.collapseSiblings()}async function _(){d||h||(t(5,h=!0),t(4,d=(await _t(()=>import("./CodeEditor-40c10f2b.js"),[],import.meta.url)).default),fk=d,t(5,h=!1))}function y(B){j.copyToClipboard(B),lu(`Copied ${B} to clipboard`,2e3)}_();function k(){f.subject=this.value,t(0,f)}const C=()=>y("{APP_NAME}"),$=()=>y("{APP_URL}");function T(){f.actionUrl=this.value,t(0,f)}const P=()=>y("{APP_NAME}"),M=()=>y("{APP_URL}"),Q=()=>y("{TOKEN}");function E(B){n.$$.not_equal(f.body,B)&&(f.body=B,t(0,f))}function R(){f.body=this.value,t(0,f)}const L=()=>y("{APP_NAME}"),N=()=>y("{APP_URL}"),x=()=>y("{TOKEN}"),Z=()=>y("{ACTION_URL}");function F(B){ne[B?"unshift":"push"](()=>{u=B,t(3,u)})}function U(B){Fe.call(this,n,B)}function G(B){Fe.call(this,n,B)}function z(B){Fe.call(this,n,B)}return n.$$set=B=>{e=je(je({},e),$n(B)),t(8,l=ft(e,s)),"key"in B&&t(1,o=B.key),"title"in B&&t(2,a=B.title),"config"in B&&t(0,f=B.config)},n.$$.update=()=>{n.$$.dirty[0]&4098&&t(6,i=!j.isEmpty(j.getNestedVal(r,o))),n.$$.dirty[0]&3&&(f.enabled||Ts(o))},[f,o,a,u,d,h,i,y,l,p,g,b,r,k,C,$,T,P,M,Q,E,R,L,N,x,Z,F,U,G,z]}class Ld extends ke{constructor(e){super(),ve(this,e,hz,dz,be,{key:1,title:2,config:0,expand:9,collapse:10,collapseSiblings:11},null,[-1,-1])}get expand(){return this.$$.ctx[9]}get collapse(){return this.$$.ctx[10]}get collapseSiblings(){return this.$$.ctx[11]}}function uk(n,e,t){const i=n.slice();return i[21]=e[t],i}function ck(n,e){let t,i,s,l,r,o=e[21].label+"",a,f,u,d,h,p;return d=N3(e[11][0]),{key:n,first:null,c(){t=v("div"),i=v("input"),l=A(),r=v("label"),a=W(o),u=A(),m(i,"type","radio"),m(i,"name","template"),m(i,"id",s=e[20]+e[21].value),i.__value=e[21].value,i.value=i.__value,m(r,"for",f=e[20]+e[21].value),m(t,"class","form-field-block"),d.p(i),this.first=t},m(g,b){S(g,t,b),O(t,i),i.checked=i.__value===e[2],O(t,l),O(t,r),O(r,a),O(t,u),h||(p=H(i,"change",e[10]),h=!0)},p(g,b){e=g,b&1048576&&s!==(s=e[20]+e[21].value)&&m(i,"id",s),b&4&&(i.checked=i.__value===e[2]),b&1048576&&f!==(f=e[20]+e[21].value)&&m(r,"for",f)},d(g){g&&w(t),d.r(),h=!1,p()}}}function pz(n){let e=[],t=new Map,i,s=n[7];const l=r=>r[21].value;for(let r=0;r<s.length;r+=1){let o=uk(n,s,r),a=l(o);t.set(a,e[r]=ck(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Se()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);S(r,i,o)},p(r,o){o&1048708&&(s=r[7],e=It(e,o,l,1,r,s,t,i.parentNode,or,ck,i,uk))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&w(i)}}}function mz(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("To email address"),s=A(),l=v("input"),m(e,"for",i=n[20]),m(l,"type","email"),m(l,"id",r=n[20]),l.autofocus=!0,l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[1]),l.focus(),o||(a=H(l,"input",n[12]),o=!0)},p(f,u){u&1048576&&i!==(i=f[20])&&m(e,"for",i),u&1048576&&r!==(r=f[20])&&m(l,"id",r),u&2&&l.value!==f[1]&&fe(l,f[1])},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function gz(n){let e,t,i,s,l,r,o;return t=new me({props:{class:"form-field required",name:"template",$$slots:{default:[pz,({uniqueId:a})=>({20:a}),({uniqueId:a})=>a?1048576:0]},$$scope:{ctx:n}}}),s=new me({props:{class:"form-field required m-0",name:"email",$$slots:{default:[mz,({uniqueId:a})=>({20:a}),({uniqueId:a})=>a?1048576:0]},$$scope:{ctx:n}}}),{c(){e=v("form"),V(t.$$.fragment),i=A(),V(s.$$.fragment),m(e,"id",n[6]),m(e,"autocomplete","off")},m(a,f){S(a,e,f),X(t,e,null),O(e,i),X(s,e,null),l=!0,r||(o=H(e,"submit",ut(n[13])),r=!0)},p(a,f){const u={};f&17825796&&(u.$$scope={dirty:f,ctx:a}),t.$set(u);const d={};f&17825794&&(d.$$scope={dirty:f,ctx:a}),s.$set(d)},i(a){l||(D(t.$$.fragment,a),D(s.$$.fragment,a),l=!0)},o(a){I(t.$$.fragment,a),I(s.$$.fragment,a),l=!1},d(a){a&&w(e),q(t),q(s),r=!1,o()}}}function bz(n){let e;return{c(){e=v("h4"),e.textContent="Send test email",m(e,"class","center txt-break")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function _z(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("button"),t=W("Close"),i=A(),s=v("button"),l=v("i"),r=A(),o=v("span"),o.textContent="Send",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[4],m(l,"class","ri-mail-send-line"),m(o,"class","txt"),m(s,"type","submit"),m(s,"form",n[6]),m(s,"class","btn btn-expanded"),s.disabled=a=!n[5]||n[4],J(s,"btn-loading",n[4])},m(d,h){S(d,e,h),O(e,t),S(d,i,h),S(d,s,h),O(s,l),O(s,r),O(s,o),f||(u=H(e,"click",n[0]),f=!0)},p(d,h){h&16&&(e.disabled=d[4]),h&48&&a!==(a=!d[5]||d[4])&&(s.disabled=a),h&16&&J(s,"btn-loading",d[4])},d(d){d&&w(e),d&&w(i),d&&w(s),f=!1,u()}}}function Oz(n){let e,t,i={class:"overlay-panel-sm email-test-popup",overlayClose:!n[4],escClose:!n[4],beforeHide:n[14],popup:!0,$$slots:{footer:[_z],header:[bz],default:[gz]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[15](e),e.$on("show",n[16]),e.$on("hide",n[17]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.overlayClose=!s[4]),l&16&&(r.escClose=!s[4]),l&16&&(r.beforeHide=s[14]),l&16777270&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[15](null),q(e,s)}}}const Nd="last_email_test",dk="email_test_request";function yz(n,e,t){let i;const s=Lt(),l="email_test_"+j.randomString(5),r=[{label:'"Verification" template',value:"verification"},{label:'"Password reset" template',value:"password-reset"},{label:'"Confirm email change" template',value:"email-change"}];let o,a=localStorage.getItem(Nd),f=r[0].value,u=!1,d=null;function h(M="",Q=""){t(1,a=M||localStorage.getItem(Nd)),t(2,f=Q||r[0].value),Mn({}),o==null||o.show()}function p(){return clearTimeout(d),o==null?void 0:o.hide()}async function g(){if(!(!i||u)){t(4,u=!0),localStorage==null||localStorage.setItem(Nd,a),clearTimeout(d),d=setTimeout(()=>{de.cancelRequest(dk),Cs("Test email send timeout.")},3e4);try{await de.settings.testEmail(a,f,{$cancelKey:dk}),Jt("Successfully sent test email."),s("submit"),t(4,u=!1),await Bn(),p()}catch(M){t(4,u=!1),de.error(M)}clearTimeout(d)}}const b=[[]];function _(){f=this.__value,t(2,f)}function y(){a=this.value,t(1,a)}const k=()=>g(),C=()=>!u;function $(M){ne[M?"unshift":"push"](()=>{o=M,t(3,o)})}function T(M){Fe.call(this,n,M)}function P(M){Fe.call(this,n,M)}return n.$$.update=()=>{n.$$.dirty&6&&t(5,i=!!a&&!!f)},[p,a,f,o,u,i,l,r,g,h,_,b,y,k,C,$,T,P]}class vz extends ke{constructor(e){super(),ve(this,e,yz,Oz,be,{show:9,hide:0})}get show(){return this.$$.ctx[9]}get hide(){return this.$$.ctx[0]}}function kz(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P,M,Q,E,R;i=new me({props:{class:"form-field required",name:"meta.senderName",$$slots:{default:[Sz,({uniqueId:te})=>({31:te}),({uniqueId:te})=>[0,te?1:0]]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field required",name:"meta.senderAddress",$$slots:{default:[$z,({uniqueId:te})=>({31:te}),({uniqueId:te})=>[0,te?1:0]]},$$scope:{ctx:n}}});function L(te){n[14](te)}let N={single:!0,key:"meta.verificationTemplate",title:'Default "Verification" email template'};n[0].meta.verificationTemplate!==void 0&&(N.config=n[0].meta.verificationTemplate),f=new Ld({props:N}),ne.push(()=>pe(f,"config",L));function x(te){n[15](te)}let Z={single:!0,key:"meta.resetPasswordTemplate",title:'Default "Password reset" email template'};n[0].meta.resetPasswordTemplate!==void 0&&(Z.config=n[0].meta.resetPasswordTemplate),h=new Ld({props:Z}),ne.push(()=>pe(h,"config",x));function F(te){n[16](te)}let U={single:!0,key:"meta.confirmEmailChangeTemplate",title:'Default "Confirm email change" email template'};n[0].meta.confirmEmailChangeTemplate!==void 0&&(U.config=n[0].meta.confirmEmailChangeTemplate),b=new Ld({props:U}),ne.push(()=>pe(b,"config",F)),$=new me({props:{class:"form-field form-field-toggle m-b-sm",$$slots:{default:[Cz,({uniqueId:te})=>({31:te}),({uniqueId:te})=>[0,te?1:0]]},$$scope:{ctx:n}}});let G=n[0].smtp.enabled&&hk(n);function z(te,se){return te[4]?Iz:Ez}let B=z(n),le=B(n);return{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),V(r.$$.fragment),o=A(),a=v("div"),V(f.$$.fragment),d=A(),V(h.$$.fragment),g=A(),V(b.$$.fragment),y=A(),k=v("hr"),C=A(),V($.$$.fragment),T=A(),G&&G.c(),P=A(),M=v("div"),Q=v("div"),E=A(),le.c(),m(t,"class","col-lg-6"),m(l,"class","col-lg-6"),m(e,"class","grid m-b-base"),m(a,"class","accordions"),m(Q,"class","flex-fill"),m(M,"class","flex")},m(te,se){S(te,e,se),O(e,t),X(i,t,null),O(e,s),O(e,l),X(r,l,null),S(te,o,se),S(te,a,se),X(f,a,null),O(a,d),X(h,a,null),O(a,g),X(b,a,null),S(te,y,se),S(te,k,se),S(te,C,se),X($,te,se),S(te,T,se),G&&G.m(te,se),S(te,P,se),S(te,M,se),O(M,Q),O(M,E),le.m(M,null),R=!0},p(te,se){const Oe={};se[0]&1|se[1]&3&&(Oe.$$scope={dirty:se,ctx:te}),i.$set(Oe);const $e={};se[0]&1|se[1]&3&&($e.$$scope={dirty:se,ctx:te}),r.$set($e);const Ze={};!u&&se[0]&1&&(u=!0,Ze.config=te[0].meta.verificationTemplate,ye(()=>u=!1)),f.$set(Ze);const He={};!p&&se[0]&1&&(p=!0,He.config=te[0].meta.resetPasswordTemplate,ye(()=>p=!1)),h.$set(He);const Ce={};!_&&se[0]&1&&(_=!0,Ce.config=te[0].meta.confirmEmailChangeTemplate,ye(()=>_=!1)),b.$set(Ce);const Pe={};se[0]&1|se[1]&3&&(Pe.$$scope={dirty:se,ctx:te}),$.$set(Pe),te[0].smtp.enabled?G?(G.p(te,se),se[0]&1&&D(G,1)):(G=hk(te),G.c(),D(G,1),G.m(P.parentNode,P)):G&&(ue(),I(G,1,1,()=>{G=null}),ce()),B===(B=z(te))&&le?le.p(te,se):(le.d(1),le=B(te),le&&(le.c(),le.m(M,null)))},i(te){R||(D(i.$$.fragment,te),D(r.$$.fragment,te),D(f.$$.fragment,te),D(h.$$.fragment,te),D(b.$$.fragment,te),D($.$$.fragment,te),D(G),R=!0)},o(te){I(i.$$.fragment,te),I(r.$$.fragment,te),I(f.$$.fragment,te),I(h.$$.fragment,te),I(b.$$.fragment,te),I($.$$.fragment,te),I(G),R=!1},d(te){te&&w(e),q(i),q(r),te&&w(o),te&&w(a),q(f),q(h),q(b),te&&w(y),te&&w(k),te&&w(C),q($,te),te&&w(T),G&&G.d(te),te&&w(P),te&&w(M),le.d()}}}function wz(n){let e;return{c(){e=v("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function Sz(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Sender name"),s=A(),l=v("input"),m(e,"for",i=n[31]),m(l,"type","text"),m(l,"id",r=n[31]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].meta.senderName),o||(a=H(l,"input",n[12]),o=!0)},p(f,u){u[1]&1&&i!==(i=f[31])&&m(e,"for",i),u[1]&1&&r!==(r=f[31])&&m(l,"id",r),u[0]&1&&l.value!==f[0].meta.senderName&&fe(l,f[0].meta.senderName)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function $z(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Sender address"),s=A(),l=v("input"),m(e,"for",i=n[31]),m(l,"type","email"),m(l,"id",r=n[31]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].meta.senderAddress),o||(a=H(l,"input",n[13]),o=!0)},p(f,u){u[1]&1&&i!==(i=f[31])&&m(e,"for",i),u[1]&1&&r!==(r=f[31])&&m(l,"id",r),u[0]&1&&l.value!==f[0].meta.senderAddress&&fe(l,f[0].meta.senderAddress)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function Cz(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("input"),i=A(),s=v("label"),l=v("span"),l.innerHTML="Use SMTP mail server <strong>(recommended)</strong>",r=A(),o=v("i"),m(e,"type","checkbox"),m(e,"id",t=n[31]),e.required=!0,m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(s,"for",a=n[31])},m(d,h){S(d,e,h),e.checked=n[0].smtp.enabled,S(d,i,h),S(d,s,h),O(s,l),O(s,r),O(s,o),f||(u=[H(e,"change",n[17]),Ae(Ye.call(null,o,{text:'By default PocketBase uses the unix "sendmail" command for sending emails. For better emails deliverability it is recommended to use a SMTP mail server.',position:"top"}))],f=!0)},p(d,h){h[1]&1&&t!==(t=d[31])&&m(e,"id",t),h[0]&1&&(e.checked=d[0].smtp.enabled),h[1]&1&&a!==(a=d[31])&&m(s,"for",a)},d(d){d&&w(e),d&&w(i),d&&w(s),f=!1,Qe(u)}}}function hk(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P;return i=new me({props:{class:"form-field required",name:"smtp.host",$$slots:{default:[Tz,({uniqueId:M})=>({31:M}),({uniqueId:M})=>[0,M?1:0]]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field required",name:"smtp.port",$$slots:{default:[Pz,({uniqueId:M})=>({31:M}),({uniqueId:M})=>[0,M?1:0]]},$$scope:{ctx:n}}}),f=new me({props:{class:"form-field required",name:"smtp.tls",$$slots:{default:[Mz,({uniqueId:M})=>({31:M}),({uniqueId:M})=>[0,M?1:0]]},$$scope:{ctx:n}}}),h=new me({props:{class:"form-field",name:"smtp.authMethod",$$slots:{default:[Az,({uniqueId:M})=>({31:M}),({uniqueId:M})=>[0,M?1:0]]},$$scope:{ctx:n}}}),b=new me({props:{class:"form-field",name:"smtp.username",$$slots:{default:[Qz,({uniqueId:M})=>({31:M}),({uniqueId:M})=>[0,M?1:0]]},$$scope:{ctx:n}}}),k=new me({props:{class:"form-field",name:"smtp.password",$$slots:{default:[Dz,({uniqueId:M})=>({31:M}),({uniqueId:M})=>[0,M?1:0]]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),V(r.$$.fragment),o=A(),a=v("div"),V(f.$$.fragment),u=A(),d=v("div"),V(h.$$.fragment),p=A(),g=v("div"),V(b.$$.fragment),_=A(),y=v("div"),V(k.$$.fragment),C=A(),$=v("div"),m(t,"class","col-lg-4"),m(l,"class","col-lg-2"),m(a,"class","col-lg-3"),m(d,"class","col-lg-3"),m(g,"class","col-lg-6"),m(y,"class","col-lg-6"),m($,"class","col-lg-12"),m(e,"class","grid")},m(M,Q){S(M,e,Q),O(e,t),X(i,t,null),O(e,s),O(e,l),X(r,l,null),O(e,o),O(e,a),X(f,a,null),O(e,u),O(e,d),X(h,d,null),O(e,p),O(e,g),X(b,g,null),O(e,_),O(e,y),X(k,y,null),O(e,C),O(e,$),P=!0},p(M,Q){const E={};Q[0]&1|Q[1]&3&&(E.$$scope={dirty:Q,ctx:M}),i.$set(E);const R={};Q[0]&1|Q[1]&3&&(R.$$scope={dirty:Q,ctx:M}),r.$set(R);const L={};Q[0]&1|Q[1]&3&&(L.$$scope={dirty:Q,ctx:M}),f.$set(L);const N={};Q[0]&1|Q[1]&3&&(N.$$scope={dirty:Q,ctx:M}),h.$set(N);const x={};Q[0]&1|Q[1]&3&&(x.$$scope={dirty:Q,ctx:M}),b.$set(x);const Z={};Q[0]&1|Q[1]&3&&(Z.$$scope={dirty:Q,ctx:M}),k.$set(Z)},i(M){P||(D(i.$$.fragment,M),D(r.$$.fragment,M),D(f.$$.fragment,M),D(h.$$.fragment,M),D(b.$$.fragment,M),D(k.$$.fragment,M),M&&at(()=>{P&&(T||(T=Ue(e,gt,{duration:150},!0)),T.run(1))}),P=!0)},o(M){I(i.$$.fragment,M),I(r.$$.fragment,M),I(f.$$.fragment,M),I(h.$$.fragment,M),I(b.$$.fragment,M),I(k.$$.fragment,M),M&&(T||(T=Ue(e,gt,{duration:150},!1)),T.run(0)),P=!1},d(M){M&&w(e),q(i),q(r),q(f),q(h),q(b),q(k),M&&T&&T.end()}}}function Tz(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("SMTP server host"),s=A(),l=v("input"),m(e,"for",i=n[31]),m(l,"type","text"),m(l,"id",r=n[31]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].smtp.host),o||(a=H(l,"input",n[18]),o=!0)},p(f,u){u[1]&1&&i!==(i=f[31])&&m(e,"for",i),u[1]&1&&r!==(r=f[31])&&m(l,"id",r),u[0]&1&&l.value!==f[0].smtp.host&&fe(l,f[0].smtp.host)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function Pz(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Port"),s=A(),l=v("input"),m(e,"for",i=n[31]),m(l,"type","number"),m(l,"id",r=n[31]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].smtp.port),o||(a=H(l,"input",n[19]),o=!0)},p(f,u){u[1]&1&&i!==(i=f[31])&&m(e,"for",i),u[1]&1&&r!==(r=f[31])&&m(l,"id",r),u[0]&1&&Ct(l.value)!==f[0].smtp.port&&fe(l,f[0].smtp.port)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function Mz(n){let e,t,i,s,l,r,o;function a(u){n[20](u)}let f={id:n[31],items:n[6]};return n[0].smtp.tls!==void 0&&(f.keyOfSelected=n[0].smtp.tls),l=new Pl({props:f}),ne.push(()=>pe(l,"keyOfSelected",a)),{c(){e=v("label"),t=W("TLS encryption"),s=A(),V(l.$$.fragment),m(e,"for",i=n[31])},m(u,d){S(u,e,d),O(e,t),S(u,s,d),X(l,u,d),o=!0},p(u,d){(!o||d[1]&1&&i!==(i=u[31]))&&m(e,"for",i);const h={};d[1]&1&&(h.id=u[31]),!r&&d[0]&1&&(r=!0,h.keyOfSelected=u[0].smtp.tls,ye(()=>r=!1)),l.$set(h)},i(u){o||(D(l.$$.fragment,u),o=!0)},o(u){I(l.$$.fragment,u),o=!1},d(u){u&&w(e),u&&w(s),q(l,u)}}}function Az(n){let e,t,i,s,l,r,o;function a(u){n[21](u)}let f={id:n[31],items:n[7]};return n[0].smtp.authMethod!==void 0&&(f.keyOfSelected=n[0].smtp.authMethod),l=new Pl({props:f}),ne.push(()=>pe(l,"keyOfSelected",a)),{c(){e=v("label"),t=W("AUTH method"),s=A(),V(l.$$.fragment),m(e,"for",i=n[31])},m(u,d){S(u,e,d),O(e,t),S(u,s,d),X(l,u,d),o=!0},p(u,d){(!o||d[1]&1&&i!==(i=u[31]))&&m(e,"for",i);const h={};d[1]&1&&(h.id=u[31]),!r&&d[0]&1&&(r=!0,h.keyOfSelected=u[0].smtp.authMethod,ye(()=>r=!1)),l.$set(h)},i(u){o||(D(l.$$.fragment,u),o=!0)},o(u){I(l.$$.fragment,u),o=!1},d(u){u&&w(e),u&&w(s),q(l,u)}}}function Qz(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Username"),s=A(),l=v("input"),m(e,"for",i=n[31]),m(l,"type","text"),m(l,"id",r=n[31])},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].smtp.username),o||(a=H(l,"input",n[22]),o=!0)},p(f,u){u[1]&1&&i!==(i=f[31])&&m(e,"for",i),u[1]&1&&r!==(r=f[31])&&m(l,"id",r),u[0]&1&&l.value!==f[0].smtp.username&&fe(l,f[0].smtp.username)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function Dz(n){let e,t,i,s,l,r,o;function a(u){n[23](u)}let f={id:n[31]};return n[0].smtp.password!==void 0&&(f.value=n[0].smtp.password),l=new Xm({props:f}),ne.push(()=>pe(l,"value",a)),{c(){e=v("label"),t=W("Password"),s=A(),V(l.$$.fragment),m(e,"for",i=n[31])},m(u,d){S(u,e,d),O(e,t),S(u,s,d),X(l,u,d),o=!0},p(u,d){(!o||d[1]&1&&i!==(i=u[31]))&&m(e,"for",i);const h={};d[1]&1&&(h.id=u[31]),!r&&d[0]&1&&(r=!0,h.value=u[0].smtp.password,ye(()=>r=!1)),l.$set(h)},i(u){o||(D(l.$$.fragment,u),o=!0)},o(u){I(l.$$.fragment,u),o=!1},d(u){u&&w(e),u&&w(s),q(l,u)}}}function Ez(n){let e,t,i;return{c(){e=v("button"),e.innerHTML=`<i class="ri-mail-check-line"></i> 
                            <span class="txt">Send test email</span>`,m(e,"type","button"),m(e,"class","btn btn-expanded btn-outline")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[26]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function Iz(n){let e,t,i,s,l,r,o,a;return{c(){e=v("button"),t=v("span"),t.textContent="Cancel",i=A(),s=v("button"),l=v("span"),l.textContent="Save changes",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint"),e.disabled=n[3],m(l,"class","txt"),m(s,"type","submit"),m(s,"class","btn btn-expanded"),s.disabled=r=!n[4]||n[3],J(s,"btn-loading",n[3])},m(f,u){S(f,e,u),O(e,t),S(f,i,u),S(f,s,u),O(s,l),o||(a=[H(e,"click",n[24]),H(s,"click",n[25])],o=!0)},p(f,u){u[0]&8&&(e.disabled=f[3]),u[0]&24&&r!==(r=!f[4]||f[3])&&(s.disabled=r),u[0]&8&&J(s,"btn-loading",f[3])},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,Qe(a)}}}function Rz(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_;const y=[wz,kz],k=[];function C($,T){return $[2]?0:1}return h=C(n),p=k[h]=y[h](n),{c(){e=v("header"),t=v("nav"),i=v("div"),i.textContent="Settings",s=A(),l=v("div"),r=W(n[5]),o=A(),a=v("div"),f=v("form"),u=v("div"),u.innerHTML="<p>Configure common settings for sending emails.</p>",d=A(),p.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(u,"class","content txt-xl m-b-base"),m(f,"class","panel"),m(f,"autocomplete","off"),m(a,"class","wrapper")},m($,T){S($,e,T),O(e,t),O(t,i),O(t,s),O(t,l),O(l,r),S($,o,T),S($,a,T),O(a,f),O(f,u),O(f,d),k[h].m(f,null),g=!0,b||(_=H(f,"submit",ut(n[27])),b=!0)},p($,T){(!g||T[0]&32)&&re(r,$[5]);let P=h;h=C($),h===P?k[h].p($,T):(ue(),I(k[P],1,1,()=>{k[P]=null}),ce(),p=k[h],p?p.p($,T):(p=k[h]=y[h]($),p.c()),D(p,1),p.m(f,null))},i($){g||(D(p),g=!0)},o($){I(p),g=!1},d($){$&&w(e),$&&w(o),$&&w(a),k[h].d(),b=!1,_()}}}function Lz(n){let e,t,i,s,l,r;e=new el({}),i=new hi({props:{$$slots:{default:[Rz]},$$scope:{ctx:n}}});let o={};return l=new vz({props:o}),n[28](l),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment),s=A(),V(l.$$.fragment)},m(a,f){X(e,a,f),S(a,t,f),X(i,a,f),S(a,s,f),X(l,a,f),r=!0},p(a,f){const u={};f[0]&63|f[1]&2&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};l.$set(d)},i(a){r||(D(e.$$.fragment,a),D(i.$$.fragment,a),D(l.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),I(l.$$.fragment,a),r=!1},d(a){q(e,a),a&&w(t),q(i,a),a&&w(s),n[28](null),q(l,a)}}}function Nz(n,e,t){let i,s,l;et(n,zt,z=>t(5,l=z));const r=[{label:"Auto (StartTLS)",value:!1},{label:"Always",value:!0}],o=[{label:"PLAIN (default)",value:"PLAIN"},{label:"LOGIN",value:"LOGIN"}];Zn(zt,l="Mail settings",l);let a,f={},u={},d=!1,h=!1;p();async function p(){t(2,d=!0);try{const z=await de.settings.getAll()||{};b(z)}catch(z){de.error(z)}t(2,d=!1)}async function g(){if(!(h||!s)){t(3,h=!0);try{const z=await de.settings.update(j.filterRedactedProps(u));b(z),Mn({}),Jt("Successfully saved mail settings.")}catch(z){de.error(z)}t(3,h=!1)}}function b(z={}){t(0,u={meta:(z==null?void 0:z.meta)||{},smtp:(z==null?void 0:z.smtp)||{}}),u.smtp.authMethod||t(0,u.smtp.authMethod=o[0].value,u),t(10,f=JSON.parse(JSON.stringify(u)))}function _(){t(0,u=JSON.parse(JSON.stringify(f||{})))}function y(){u.meta.senderName=this.value,t(0,u)}function k(){u.meta.senderAddress=this.value,t(0,u)}function C(z){n.$$.not_equal(u.meta.verificationTemplate,z)&&(u.meta.verificationTemplate=z,t(0,u))}function $(z){n.$$.not_equal(u.meta.resetPasswordTemplate,z)&&(u.meta.resetPasswordTemplate=z,t(0,u))}function T(z){n.$$.not_equal(u.meta.confirmEmailChangeTemplate,z)&&(u.meta.confirmEmailChangeTemplate=z,t(0,u))}function P(){u.smtp.enabled=this.checked,t(0,u)}function M(){u.smtp.host=this.value,t(0,u)}function Q(){u.smtp.port=Ct(this.value),t(0,u)}function E(z){n.$$.not_equal(u.smtp.tls,z)&&(u.smtp.tls=z,t(0,u))}function R(z){n.$$.not_equal(u.smtp.authMethod,z)&&(u.smtp.authMethod=z,t(0,u))}function L(){u.smtp.username=this.value,t(0,u)}function N(z){n.$$.not_equal(u.smtp.password,z)&&(u.smtp.password=z,t(0,u))}const x=()=>_(),Z=()=>g(),F=()=>a==null?void 0:a.show(),U=()=>g();function G(z){ne[z?"unshift":"push"](()=>{a=z,t(1,a)})}return n.$$.update=()=>{n.$$.dirty[0]&1024&&t(11,i=JSON.stringify(f)),n.$$.dirty[0]&2049&&t(4,s=i!=JSON.stringify(u))},[u,a,d,h,s,l,r,o,g,_,f,i,y,k,C,$,T,P,M,Q,E,R,L,N,x,Z,F,U,G]}class xz extends ke{constructor(e){super(),ve(this,e,Nz,Lz,be,{},null,[-1,-1])}}const Zz=n=>({isTesting:n&4,testError:n&2,enabled:n&1}),pk=n=>({isTesting:n[2],testError:n[1],enabled:n[0].enabled});function Fz(n){let e,t,i,s,l,r,o,a;return{c(){e=v("input"),i=A(),s=v("label"),l=W(n[4]),m(e,"type","checkbox"),m(e,"id",t=n[20]),e.required=!0,m(s,"for",r=n[20])},m(f,u){S(f,e,u),e.checked=n[0].enabled,S(f,i,u),S(f,s,u),O(s,l),o||(a=H(e,"change",n[8]),o=!0)},p(f,u){u&1048576&&t!==(t=f[20])&&m(e,"id",t),u&1&&(e.checked=f[0].enabled),u&16&&re(l,f[4]),u&1048576&&r!==(r=f[20])&&m(s,"for",r)},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,a()}}}function mk(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P;return i=new me({props:{class:"form-field required",name:n[3]+".endpoint",$$slots:{default:[Xz,({uniqueId:M})=>({20:M}),({uniqueId:M})=>M?1048576:0]},$$scope:{ctx:n}}}),r=new me({props:{class:"form-field required",name:n[3]+".bucket",$$slots:{default:[qz,({uniqueId:M})=>({20:M}),({uniqueId:M})=>M?1048576:0]},$$scope:{ctx:n}}}),f=new me({props:{class:"form-field required",name:n[3]+".region",$$slots:{default:[Vz,({uniqueId:M})=>({20:M}),({uniqueId:M})=>M?1048576:0]},$$scope:{ctx:n}}}),h=new me({props:{class:"form-field required",name:n[3]+".accessKey",$$slots:{default:[jz,({uniqueId:M})=>({20:M}),({uniqueId:M})=>M?1048576:0]},$$scope:{ctx:n}}}),b=new me({props:{class:"form-field required",name:n[3]+".secret",$$slots:{default:[Uz,({uniqueId:M})=>({20:M}),({uniqueId:M})=>M?1048576:0]},$$scope:{ctx:n}}}),k=new me({props:{class:"form-field",name:n[3]+".forcePathStyle",$$slots:{default:[Wz,({uniqueId:M})=>({20:M}),({uniqueId:M})=>M?1048576:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),V(i.$$.fragment),s=A(),l=v("div"),V(r.$$.fragment),o=A(),a=v("div"),V(f.$$.fragment),u=A(),d=v("div"),V(h.$$.fragment),p=A(),g=v("div"),V(b.$$.fragment),_=A(),y=v("div"),V(k.$$.fragment),C=A(),$=v("div"),m(t,"class","col-lg-6"),m(l,"class","col-lg-3"),m(a,"class","col-lg-3"),m(d,"class","col-lg-6"),m(g,"class","col-lg-6"),m(y,"class","col-lg-12"),m($,"class","col-lg-12"),m(e,"class","grid")},m(M,Q){S(M,e,Q),O(e,t),X(i,t,null),O(e,s),O(e,l),X(r,l,null),O(e,o),O(e,a),X(f,a,null),O(e,u),O(e,d),X(h,d,null),O(e,p),O(e,g),X(b,g,null),O(e,_),O(e,y),X(k,y,null),O(e,C),O(e,$),P=!0},p(M,Q){const E={};Q&8&&(E.name=M[3]+".endpoint"),Q&1081345&&(E.$$scope={dirty:Q,ctx:M}),i.$set(E);const R={};Q&8&&(R.name=M[3]+".bucket"),Q&1081345&&(R.$$scope={dirty:Q,ctx:M}),r.$set(R);const L={};Q&8&&(L.name=M[3]+".region"),Q&1081345&&(L.$$scope={dirty:Q,ctx:M}),f.$set(L);const N={};Q&8&&(N.name=M[3]+".accessKey"),Q&1081345&&(N.$$scope={dirty:Q,ctx:M}),h.$set(N);const x={};Q&8&&(x.name=M[3]+".secret"),Q&1081345&&(x.$$scope={dirty:Q,ctx:M}),b.$set(x);const Z={};Q&8&&(Z.name=M[3]+".forcePathStyle"),Q&1081345&&(Z.$$scope={dirty:Q,ctx:M}),k.$set(Z)},i(M){P||(D(i.$$.fragment,M),D(r.$$.fragment,M),D(f.$$.fragment,M),D(h.$$.fragment,M),D(b.$$.fragment,M),D(k.$$.fragment,M),M&&at(()=>{P&&(T||(T=Ue(e,gt,{duration:150},!0)),T.run(1))}),P=!0)},o(M){I(i.$$.fragment,M),I(r.$$.fragment,M),I(f.$$.fragment,M),I(h.$$.fragment,M),I(b.$$.fragment,M),I(k.$$.fragment,M),M&&(T||(T=Ue(e,gt,{duration:150},!1)),T.run(0)),P=!1},d(M){M&&w(e),q(i),q(r),q(f),q(h),q(b),q(k),M&&T&&T.end()}}}function Xz(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Endpoint"),s=A(),l=v("input"),m(e,"for",i=n[20]),m(l,"type","text"),m(l,"id",r=n[20]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].endpoint),o||(a=H(l,"input",n[9]),o=!0)},p(f,u){u&1048576&&i!==(i=f[20])&&m(e,"for",i),u&1048576&&r!==(r=f[20])&&m(l,"id",r),u&1&&l.value!==f[0].endpoint&&fe(l,f[0].endpoint)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function qz(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Bucket"),s=A(),l=v("input"),m(e,"for",i=n[20]),m(l,"type","text"),m(l,"id",r=n[20]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].bucket),o||(a=H(l,"input",n[10]),o=!0)},p(f,u){u&1048576&&i!==(i=f[20])&&m(e,"for",i),u&1048576&&r!==(r=f[20])&&m(l,"id",r),u&1&&l.value!==f[0].bucket&&fe(l,f[0].bucket)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function Vz(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Region"),s=A(),l=v("input"),m(e,"for",i=n[20]),m(l,"type","text"),m(l,"id",r=n[20]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].region),o||(a=H(l,"input",n[11]),o=!0)},p(f,u){u&1048576&&i!==(i=f[20])&&m(e,"for",i),u&1048576&&r!==(r=f[20])&&m(l,"id",r),u&1&&l.value!==f[0].region&&fe(l,f[0].region)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function jz(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Access key"),s=A(),l=v("input"),m(e,"for",i=n[20]),m(l,"type","text"),m(l,"id",r=n[20]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[0].accessKey),o||(a=H(l,"input",n[12]),o=!0)},p(f,u){u&1048576&&i!==(i=f[20])&&m(e,"for",i),u&1048576&&r!==(r=f[20])&&m(l,"id",r),u&1&&l.value!==f[0].accessKey&&fe(l,f[0].accessKey)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function Uz(n){let e,t,i,s,l,r,o;function a(u){n[13](u)}let f={id:n[20],required:!0};return n[0].secret!==void 0&&(f.value=n[0].secret),l=new Xm({props:f}),ne.push(()=>pe(l,"value",a)),{c(){e=v("label"),t=W("Secret"),s=A(),V(l.$$.fragment),m(e,"for",i=n[20])},m(u,d){S(u,e,d),O(e,t),S(u,s,d),X(l,u,d),o=!0},p(u,d){(!o||d&1048576&&i!==(i=u[20]))&&m(e,"for",i);const h={};d&1048576&&(h.id=u[20]),!r&&d&1&&(r=!0,h.value=u[0].secret,ye(()=>r=!1)),l.$set(h)},i(u){o||(D(l.$$.fragment,u),o=!0)},o(u){I(l.$$.fragment,u),o=!1},d(u){u&&w(e),u&&w(s),q(l,u)}}}function Wz(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("input"),i=A(),s=v("label"),l=v("span"),l.textContent="Force path-style addressing",r=A(),o=v("i"),m(e,"type","checkbox"),m(e,"id",t=n[20]),m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(s,"for",a=n[20])},m(d,h){S(d,e,h),e.checked=n[0].forcePathStyle,S(d,i,h),S(d,s,h),O(s,l),O(s,r),O(s,o),f||(u=[H(e,"change",n[14]),Ae(Ye.call(null,o,{text:'Forces the request to use path-style addressing, eg. "https://s3.amazonaws.com/BUCKET/KEY" instead of the default "https://BUCKET.s3.amazonaws.com/KEY".',position:"top"}))],f=!0)},p(d,h){h&1048576&&t!==(t=d[20])&&m(e,"id",t),h&1&&(e.checked=d[0].forcePathStyle),h&1048576&&a!==(a=d[20])&&m(s,"for",a)},d(d){d&&w(e),d&&w(i),d&&w(s),f=!1,Qe(u)}}}function zz(n){let e,t,i,s,l;e=new me({props:{class:"form-field form-field-toggle",$$slots:{default:[Fz,({uniqueId:f})=>({20:f}),({uniqueId:f})=>f?1048576:0]},$$scope:{ctx:n}}});const r=n[7].default,o=xt(r,n,n[15],pk);let a=n[0].enabled&&mk(n);return{c(){V(e.$$.fragment),t=A(),o&&o.c(),i=A(),a&&a.c(),s=Se()},m(f,u){X(e,f,u),S(f,t,u),o&&o.m(f,u),S(f,i,u),a&&a.m(f,u),S(f,s,u),l=!0},p(f,[u]){const d={};u&1081361&&(d.$$scope={dirty:u,ctx:f}),e.$set(d),o&&o.p&&(!l||u&32775)&&Ft(o,r,f,f[15],l?Zt(r,f[15],u,Zz):Xt(f[15]),pk),f[0].enabled?a?(a.p(f,u),u&1&&D(a,1)):(a=mk(f),a.c(),D(a,1),a.m(s.parentNode,s)):a&&(ue(),I(a,1,1,()=>{a=null}),ce())},i(f){l||(D(e.$$.fragment,f),D(o,f),D(a),l=!0)},o(f){I(e.$$.fragment,f),I(o,f),I(a),l=!1},d(f){q(e,f),f&&w(t),o&&o.d(f),f&&w(i),a&&a.d(f),f&&w(s)}}}const xd="s3_test_request";function Bz(n,e,t){let{$$slots:i={},$$scope:s}=e,{originalConfig:l={}}=e,{config:r={}}=e,{configKey:o="s3"}=e,{toggleLabel:a="Enable S3"}=e,{testFilesystem:f="storage"}=e,{testError:u=null}=e,{isTesting:d=!1}=e,h=null,p=null;function g(M){t(2,d=!0),clearTimeout(p),p=setTimeout(()=>{b()},M)}async function b(){if(t(1,u=null),!r.enabled)return t(2,d=!1),u;de.cancelRequest(xd),clearTimeout(h),h=setTimeout(()=>{de.cancelRequest(xd),t(1,u=new Error("S3 test connection timeout.")),t(2,d=!1)},3e4),t(2,d=!0);let M;try{await de.settings.testS3(f,{$cancelKey:xd})}catch(Q){M=Q}return M!=null&&M.isAbort||(t(1,u=M),t(2,d=!1),clearTimeout(h)),u}vn(()=>()=>{clearTimeout(h),clearTimeout(p)});function _(){r.enabled=this.checked,t(0,r)}function y(){r.endpoint=this.value,t(0,r)}function k(){r.bucket=this.value,t(0,r)}function C(){r.region=this.value,t(0,r)}function $(){r.accessKey=this.value,t(0,r)}function T(M){n.$$.not_equal(r.secret,M)&&(r.secret=M,t(0,r))}function P(){r.forcePathStyle=this.checked,t(0,r)}return n.$$set=M=>{"originalConfig"in M&&t(5,l=M.originalConfig),"config"in M&&t(0,r=M.config),"configKey"in M&&t(3,o=M.configKey),"toggleLabel"in M&&t(4,a=M.toggleLabel),"testFilesystem"in M&&t(6,f=M.testFilesystem),"testError"in M&&t(1,u=M.testError),"isTesting"in M&&t(2,d=M.isTesting),"$$scope"in M&&t(15,s=M.$$scope)},n.$$.update=()=>{n.$$.dirty&32&&l!=null&&l.enabled&&g(100),n.$$.dirty&9&&(r.enabled||Ts(o))},[r,u,d,o,a,l,f,i,_,y,k,C,$,T,P,s]}class O3 extends ke{constructor(e){super(),ve(this,e,Bz,zz,be,{originalConfig:5,config:0,configKey:3,toggleLabel:4,testFilesystem:6,testError:1,isTesting:2})}}function Yz(n){var M;let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_;function y(Q){n[11](Q)}function k(Q){n[12](Q)}function C(Q){n[13](Q)}let $={toggleLabel:"Use S3 storage",originalConfig:n[0].s3,$$slots:{default:[Gz]},$$scope:{ctx:n}};n[1].s3!==void 0&&($.config=n[1].s3),n[4]!==void 0&&($.isTesting=n[4]),n[5]!==void 0&&($.testError=n[5]),e=new O3({props:$}),ne.push(()=>pe(e,"config",y)),ne.push(()=>pe(e,"isTesting",k)),ne.push(()=>pe(e,"testError",C));let T=((M=n[1].s3)==null?void 0:M.enabled)&&!n[6]&&!n[3]&&bk(n),P=n[6]&&_k(n);return{c(){V(e.$$.fragment),l=A(),r=v("div"),o=v("div"),a=A(),T&&T.c(),f=A(),P&&P.c(),u=A(),d=v("button"),h=v("span"),h.textContent="Save changes",m(o,"class","flex-fill"),m(h,"class","txt"),m(d,"type","submit"),m(d,"class","btn btn-expanded"),d.disabled=p=!n[6]||n[3],J(d,"btn-loading",n[3]),m(r,"class","flex")},m(Q,E){X(e,Q,E),S(Q,l,E),S(Q,r,E),O(r,o),O(r,a),T&&T.m(r,null),O(r,f),P&&P.m(r,null),O(r,u),O(r,d),O(d,h),g=!0,b||(_=H(d,"click",n[15]),b=!0)},p(Q,E){var L;const R={};E&1&&(R.originalConfig=Q[0].s3),E&524291&&(R.$$scope={dirty:E,ctx:Q}),!t&&E&2&&(t=!0,R.config=Q[1].s3,ye(()=>t=!1)),!i&&E&16&&(i=!0,R.isTesting=Q[4],ye(()=>i=!1)),!s&&E&32&&(s=!0,R.testError=Q[5],ye(()=>s=!1)),e.$set(R),(L=Q[1].s3)!=null&&L.enabled&&!Q[6]&&!Q[3]?T?T.p(Q,E):(T=bk(Q),T.c(),T.m(r,f)):T&&(T.d(1),T=null),Q[6]?P?P.p(Q,E):(P=_k(Q),P.c(),P.m(r,u)):P&&(P.d(1),P=null),(!g||E&72&&p!==(p=!Q[6]||Q[3]))&&(d.disabled=p),(!g||E&8)&&J(d,"btn-loading",Q[3])},i(Q){g||(D(e.$$.fragment,Q),g=!0)},o(Q){I(e.$$.fragment,Q),g=!1},d(Q){q(e,Q),Q&&w(l),Q&&w(r),T&&T.d(),P&&P.d(),b=!1,_()}}}function Hz(n){let e;return{c(){e=v("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function gk(n){var E;let e,t,i,s,l,r,o,a=(E=n[0].s3)!=null&&E.enabled?"S3 storage":"local file system",f,u,d,h=n[1].s3.enabled?"S3 storage":"local file system",p,g,b,_,y,k,C,$,T,P,M,Q;return{c(){e=v("div"),t=v("div"),i=v("div"),i.innerHTML='<i class="ri-error-warning-line"></i>',s=A(),l=v("div"),r=W(`If you have existing uploaded files, you'll have to migrate them manually
                                    from the
                                    `),o=v("strong"),f=W(a),u=W(`
                                    to the
                                    `),d=v("strong"),p=W(h),g=W(`.
                                    `),b=v("br"),_=W(`
                                    There are numerous command line tools that can help you, such as:
                                    `),y=v("a"),y.textContent=`rclone
                                    `,k=W(`,
                                    `),C=v("a"),C.textContent=`s5cmd
                                    `,$=W(", etc."),T=A(),P=v("div"),m(i,"class","icon"),m(y,"href","https://github.com/rclone/rclone"),m(y,"target","_blank"),m(y,"rel","noopener noreferrer"),m(y,"class","txt-bold"),m(C,"href","https://github.com/peak/s5cmd"),m(C,"target","_blank"),m(C,"rel","noopener noreferrer"),m(C,"class","txt-bold"),m(l,"class","content"),m(t,"class","alert alert-warning m-0"),m(P,"class","clearfix m-t-base")},m(R,L){S(R,e,L),O(e,t),O(t,i),O(t,s),O(t,l),O(l,r),O(l,o),O(o,f),O(l,u),O(l,d),O(d,p),O(l,g),O(l,b),O(l,_),O(l,y),O(l,k),O(l,C),O(l,$),O(e,T),O(e,P),Q=!0},p(R,L){var N;(!Q||L&1)&&a!==(a=(N=R[0].s3)!=null&&N.enabled?"S3 storage":"local file system")&&re(f,a),(!Q||L&2)&&h!==(h=R[1].s3.enabled?"S3 storage":"local file system")&&re(p,h)},i(R){Q||(R&&at(()=>{Q&&(M||(M=Ue(e,gt,{duration:150},!0)),M.run(1))}),Q=!0)},o(R){R&&(M||(M=Ue(e,gt,{duration:150},!1)),M.run(0)),Q=!1},d(R){R&&w(e),R&&M&&M.end()}}}function Gz(n){var i;let e,t=((i=n[0].s3)==null?void 0:i.enabled)!=n[1].s3.enabled&&gk(n);return{c(){t&&t.c(),e=Se()},m(s,l){t&&t.m(s,l),S(s,e,l)},p(s,l){var r;((r=s[0].s3)==null?void 0:r.enabled)!=s[1].s3.enabled?t?(t.p(s,l),l&3&&D(t,1)):(t=gk(s),t.c(),D(t,1),t.m(e.parentNode,e)):t&&(ue(),I(t,1,1,()=>{t=null}),ce())},d(s){t&&t.d(s),s&&w(e)}}}function bk(n){let e;function t(l,r){return l[4]?eB:l[5]?Jz:Kz}let i=t(n),s=i(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&w(e)}}}function Kz(n){let e;return{c(){e=v("div"),e.innerHTML=`<i class="ri-checkbox-circle-line txt-success"></i> 
                                <span class="txt">S3 connected successfully</span>`,m(e,"class","label label-sm label-success entrance-right")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function Jz(n){let e,t,i,s;return{c(){e=v("div"),e.innerHTML=`<i class="ri-error-warning-line txt-warning"></i> 
                                <span class="txt">Failed to establish S3 connection</span>`,m(e,"class","label label-sm label-warning entrance-right")},m(l,r){var o;S(l,e,r),i||(s=Ae(t=Ye.call(null,e,(o=n[5].data)==null?void 0:o.message)),i=!0)},p(l,r){var o;t&&fn(t.update)&&r&32&&t.update.call(null,(o=l[5].data)==null?void 0:o.message)},d(l){l&&w(e),i=!1,s()}}}function eB(n){let e;return{c(){e=v("span"),m(e,"class","loader loader-sm")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function _k(n){let e,t,i,s;return{c(){e=v("button"),t=v("span"),t.textContent="Reset",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint"),e.disabled=n[3]},m(l,r){S(l,e,r),O(e,t),i||(s=H(e,"click",n[14]),i=!0)},p(l,r){r&8&&(e.disabled=l[3])},d(l){l&&w(e),i=!1,s()}}}function tB(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_;const y=[Hz,Yz],k=[];function C($,T){return $[2]?0:1}return h=C(n),p=k[h]=y[h](n),{c(){e=v("header"),t=v("nav"),i=v("div"),i.textContent="Settings",s=A(),l=v("div"),r=W(n[7]),o=A(),a=v("div"),f=v("form"),u=v("div"),u.innerHTML=`<p>By default PocketBase uses the local file system to store uploaded files.</p> 
                <p>If you have limited disk space, you could optionally connect to a S3 compatible storage.</p>`,d=A(),p.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(u,"class","content txt-xl m-b-base"),m(f,"class","panel"),m(f,"autocomplete","off"),m(a,"class","wrapper")},m($,T){S($,e,T),O(e,t),O(t,i),O(t,s),O(t,l),O(l,r),S($,o,T),S($,a,T),O(a,f),O(f,u),O(f,d),k[h].m(f,null),g=!0,b||(_=H(f,"submit",ut(n[16])),b=!0)},p($,T){(!g||T&128)&&re(r,$[7]);let P=h;h=C($),h===P?k[h].p($,T):(ue(),I(k[P],1,1,()=>{k[P]=null}),ce(),p=k[h],p?p.p($,T):(p=k[h]=y[h]($),p.c()),D(p,1),p.m(f,null))},i($){g||(D(p),g=!0)},o($){I(p),g=!1},d($){$&&w(e),$&&w(o),$&&w(a),k[h].d(),b=!1,_()}}}function nB(n){let e,t,i,s;return e=new el({}),i=new hi({props:{$$slots:{default:[tB]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment)},m(l,r){X(e,l,r),S(l,t,r),X(i,l,r),s=!0},p(l,[r]){const o={};r&524543&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(D(e.$$.fragment,l),D(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){q(e,l),l&&w(t),q(i,l)}}}const iB="s3_test_request";function sB(n,e,t){let i,s,l;et(n,zt,P=>t(7,l=P)),Zn(zt,l="Files storage",l);let r={},o={},a=!1,f=!1,u=!1,d=null;h();async function h(){t(2,a=!0);try{const P=await de.settings.getAll()||{};g(P)}catch(P){de.error(P)}t(2,a=!1)}async function p(){if(!(f||!s)){t(3,f=!0);try{de.cancelRequest(iB);const P=await de.settings.update(j.filterRedactedProps(o));Mn({}),await g(P),Tp(),d?v5("Successfully saved but failed to establish S3 connection."):Jt("Successfully saved files storage settings.")}catch(P){de.error(P)}t(3,f=!1)}}async function g(P={}){t(1,o={s3:(P==null?void 0:P.s3)||{}}),t(0,r=JSON.parse(JSON.stringify(o)))}async function b(){t(1,o=JSON.parse(JSON.stringify(r||{})))}function _(P){n.$$.not_equal(o.s3,P)&&(o.s3=P,t(1,o))}function y(P){u=P,t(4,u)}function k(P){d=P,t(5,d)}const C=()=>b(),$=()=>p(),T=()=>p();return n.$$.update=()=>{n.$$.dirty&1&&t(10,i=JSON.stringify(r)),n.$$.dirty&1026&&t(6,s=i!=JSON.stringify(o))},[r,o,a,f,u,d,s,l,p,b,i,_,y,k,C,$,T]}class lB extends ke{constructor(e){super(),ve(this,e,sB,nB,be,{})}}function rB(n){let e,t,i,s,l,r,o,a;return{c(){e=v("input"),i=A(),s=v("label"),l=W("Enable"),m(e,"type","checkbox"),m(e,"id",t=n[20]),m(s,"for",r=n[20])},m(f,u){S(f,e,u),e.checked=n[1].enabled,S(f,i,u),S(f,s,u),O(s,l),o||(a=H(e,"change",n[11]),o=!0)},p(f,u){u&1048576&&t!==(t=f[20])&&m(e,"id",t),u&2&&(e.checked=f[1].enabled),u&1048576&&r!==(r=f[20])&&m(s,"for",r)},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,a()}}}function oB(n){let e,t,i,s,l,r,o,a,f;return{c(){e=v("label"),t=W("Client ID"),s=A(),l=v("input"),m(e,"for",i=n[20]),m(l,"type","text"),m(l,"id",r=n[20]),l.required=o=n[1].enabled},m(u,d){S(u,e,d),O(e,t),S(u,s,d),S(u,l,d),fe(l,n[1].clientId),a||(f=H(l,"input",n[12]),a=!0)},p(u,d){d&1048576&&i!==(i=u[20])&&m(e,"for",i),d&1048576&&r!==(r=u[20])&&m(l,"id",r),d&2&&o!==(o=u[1].enabled)&&(l.required=o),d&2&&l.value!==u[1].clientId&&fe(l,u[1].clientId)},d(u){u&&w(e),u&&w(s),u&&w(l),a=!1,f()}}}function aB(n){let e,t,i,s,l,r,o;function a(u){n[13](u)}let f={id:n[20],required:n[1].enabled};return n[1].clientSecret!==void 0&&(f.value=n[1].clientSecret),l=new Xm({props:f}),ne.push(()=>pe(l,"value",a)),{c(){e=v("label"),t=W("Client secret"),s=A(),V(l.$$.fragment),m(e,"for",i=n[20])},m(u,d){S(u,e,d),O(e,t),S(u,s,d),X(l,u,d),o=!0},p(u,d){(!o||d&1048576&&i!==(i=u[20]))&&m(e,"for",i);const h={};d&1048576&&(h.id=u[20]),d&2&&(h.required=u[1].enabled),!r&&d&2&&(r=!0,h.value=u[1].clientSecret,ye(()=>r=!1)),l.$set(h)},i(u){o||(D(l.$$.fragment,u),o=!0)},o(u){I(l.$$.fragment,u),o=!1},d(u){u&&w(e),u&&w(s),q(l,u)}}}function Ok(n){let e,t,i,s;function l(a){n[14](a)}var r=n[3].optionsComponent;function o(a){let f={key:a[3].key};return a[1]!==void 0&&(f.config=a[1]),{props:f}}return r&&(t=on(r,o(n)),ne.push(()=>pe(t,"config",l))),{c(){e=v("div"),t&&V(t.$$.fragment),m(e,"class","col-lg-12")},m(a,f){S(a,e,f),t&&X(t,e,null),s=!0},p(a,f){const u={};if(f&8&&(u.key=a[3].key),!i&&f&2&&(i=!0,u.config=a[1],ye(()=>i=!1)),f&8&&r!==(r=a[3].optionsComponent)){if(t){ue();const d=t;I(d.$$.fragment,1,0,()=>{q(d,1)}),ce()}r?(t=on(r,o(a)),ne.push(()=>pe(t,"config",l)),V(t.$$.fragment),D(t.$$.fragment,1),X(t,e,null)):t=null}else r&&t.$set(u)},i(a){s||(t&&D(t.$$.fragment,a),s=!0)},o(a){t&&I(t.$$.fragment,a),s=!1},d(a){a&&w(e),t&&q(t)}}}function fB(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;i=new me({props:{class:"form-field form-field-toggle m-b-0",name:n[3].key+".enabled",$$slots:{default:[rB,({uniqueId:b})=>({20:b}),({uniqueId:b})=>b?1048576:0]},$$scope:{ctx:n}}}),o=new me({props:{class:"form-field "+(n[1].enabled?"required":""),name:n[3].key+".clientId",$$slots:{default:[oB,({uniqueId:b})=>({20:b}),({uniqueId:b})=>b?1048576:0]},$$scope:{ctx:n}}}),f=new me({props:{class:"form-field "+(n[1].enabled?"required":""),name:n[3].key+".clientSecret",$$slots:{default:[aB,({uniqueId:b})=>({20:b}),({uniqueId:b})=>b?1048576:0]},$$scope:{ctx:n}}});let g=n[3].optionsComponent&&Ok(n);return{c(){e=v("form"),t=v("div"),V(i.$$.fragment),s=A(),l=v("button"),l.innerHTML='<span class="txt">Clear all fields</span>',r=A(),V(o.$$.fragment),a=A(),V(f.$$.fragment),u=A(),g&&g.c(),m(l,"type","button"),m(l,"class","btn btn-sm btn-transparent btn-hint m-l-auto"),m(t,"class","flex m-b-base"),m(e,"id",n[6]),m(e,"autocomplete","off")},m(b,_){S(b,e,_),O(e,t),X(i,t,null),O(t,s),O(t,l),O(e,r),X(o,e,null),O(e,a),X(f,e,null),O(e,u),g&&g.m(e,null),d=!0,h||(p=[H(l,"click",n[8]),H(e,"submit",ut(n[15]))],h=!0)},p(b,_){const y={};_&8&&(y.name=b[3].key+".enabled"),_&3145730&&(y.$$scope={dirty:_,ctx:b}),i.$set(y);const k={};_&2&&(k.class="form-field "+(b[1].enabled?"required":"")),_&8&&(k.name=b[3].key+".clientId"),_&3145730&&(k.$$scope={dirty:_,ctx:b}),o.$set(k);const C={};_&2&&(C.class="form-field "+(b[1].enabled?"required":"")),_&8&&(C.name=b[3].key+".clientSecret"),_&3145730&&(C.$$scope={dirty:_,ctx:b}),f.$set(C),b[3].optionsComponent?g?(g.p(b,_),_&8&&D(g,1)):(g=Ok(b),g.c(),D(g,1),g.m(e,null)):g&&(ue(),I(g,1,1,()=>{g=null}),ce())},i(b){d||(D(i.$$.fragment,b),D(o.$$.fragment,b),D(f.$$.fragment,b),D(g),d=!0)},o(b){I(i.$$.fragment,b),I(o.$$.fragment,b),I(f.$$.fragment,b),I(g),d=!1},d(b){b&&w(e),q(i),q(o),q(f),g&&g.d(),h=!1,Qe(p)}}}function uB(n){let e,t=(n[3].title||n[3].key)+"",i,s;return{c(){e=v("h4"),i=W(t),s=W(" provider"),m(e,"class","center txt-break")},m(l,r){S(l,e,r),O(e,i),O(e,s)},p(l,r){r&8&&t!==(t=(l[3].title||l[3].key)+"")&&re(i,t)},d(l){l&&w(e)}}}function cB(n){let e,t,i,s,l,r,o,a;return{c(){e=v("button"),t=W("Close"),i=A(),s=v("button"),l=v("span"),l.textContent="Save changes",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[4],m(l,"class","txt"),m(s,"type","submit"),m(s,"form",n[6]),m(s,"class","btn btn-expanded"),s.disabled=r=!n[5]||n[4],J(s,"btn-loading",n[4])},m(f,u){S(f,e,u),O(e,t),S(f,i,u),S(f,s,u),O(s,l),o||(a=H(e,"click",n[0]),o=!0)},p(f,u){u&16&&(e.disabled=f[4]),u&48&&r!==(r=!f[5]||f[4])&&(s.disabled=r),u&16&&J(s,"btn-loading",f[4])},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,a()}}}function dB(n){let e,t,i={overlayClose:!n[4],escClose:!n[4],$$slots:{footer:[cB],header:[uB],default:[fB]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[16](e),e.$on("show",n[17]),e.$on("hide",n[18]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.overlayClose=!s[4]),l&16&&(r.escClose=!s[4]),l&2097210&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[16](null),q(e,s)}}}function hB(n,e,t){let i;const s=Lt(),l="provider_popup_"+j.randomString(5);let r,o={},a={},f=!1,u="";function d(M,Q){Mn({}),t(3,o=Object.assign({},M)),t(1,a=Object.assign({enabled:!0},Q)),t(10,u=JSON.stringify(a)),r==null||r.show()}function h(){return r==null?void 0:r.hide()}async function p(){t(4,f=!0);try{const M={};M[o.key]=j.filterRedactedProps(a);const Q=await de.settings.update(M);Mn({}),Jt("Successfully updated provider settings."),s("submit",Q),h()}catch(M){de.error(M)}t(4,f=!1)}function g(){for(let M in a)t(1,a[M]="",a);t(1,a.enabled=!1,a)}function b(){a.enabled=this.checked,t(1,a)}function _(){a.clientId=this.value,t(1,a)}function y(M){n.$$.not_equal(a.clientSecret,M)&&(a.clientSecret=M,t(1,a))}function k(M){a=M,t(1,a)}const C=()=>p();function $(M){ne[M?"unshift":"push"](()=>{r=M,t(2,r)})}function T(M){Fe.call(this,n,M)}function P(M){Fe.call(this,n,M)}return n.$$.update=()=>{n.$$.dirty&1026&&t(5,i=JSON.stringify(a)!=u)},[h,a,r,o,f,i,l,p,g,d,u,b,_,y,k,C,$,T,P]}class pB extends ke{constructor(e){super(),ve(this,e,hB,dB,be,{show:9,hide:0})}get show(){return this.$$.ctx[9]}get hide(){return this.$$.ctx[0]}}function yk(n){let e,t,i;return{c(){e=v("img"),ni(e.src,t="./images/oauth2/"+n[1].logo)||m(e,"src",t),m(e,"alt",i=n[1].title+" logo")},m(s,l){S(s,e,l)},p(s,l){l&2&&!ni(e.src,t="./images/oauth2/"+s[1].logo)&&m(e,"src",t),l&2&&i!==(i=s[1].title+" logo")&&m(e,"alt",i)},d(s){s&&w(e)}}}function vk(n){let e;return{c(){e=v("div"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function mB(n){let e,t,i,s,l=n[1].title+"",r,o,a,f,u=n[1].key.slice(0,-4)+"",d,h,p,g,b,_,y,k,C,$,T=n[1].logo&&yk(n),P=n[0].enabled&&vk(),M={};return y=new pB({props:M}),n[4](y),y.$on("submit",n[5]),{c(){e=v("div"),t=v("figure"),T&&T.c(),i=A(),s=v("div"),r=W(l),o=A(),a=v("em"),f=W("("),d=W(u),h=W(")"),p=A(),P&&P.c(),g=A(),b=v("button"),b.innerHTML='<i class="ri-settings-4-line"></i>',_=A(),V(y.$$.fragment),m(t,"class","provider-logo"),m(s,"class","title"),m(a,"class","txt-hint txt-sm m-r-auto"),m(b,"type","button"),m(b,"class","btn btn-circle btn-hint btn-transparent"),m(b,"aria-label","Provider settings"),m(e,"class","provider-card")},m(Q,E){S(Q,e,E),O(e,t),T&&T.m(t,null),O(e,i),O(e,s),O(s,r),O(e,o),O(e,a),O(a,f),O(a,d),O(a,h),O(e,p),P&&P.m(e,null),O(e,g),O(e,b),S(Q,_,E),X(y,Q,E),k=!0,C||($=H(b,"click",n[3]),C=!0)},p(Q,[E]){Q[1].logo?T?T.p(Q,E):(T=yk(Q),T.c(),T.m(t,null)):T&&(T.d(1),T=null),(!k||E&2)&&l!==(l=Q[1].title+"")&&re(r,l),(!k||E&2)&&u!==(u=Q[1].key.slice(0,-4)+"")&&re(d,u),Q[0].enabled?P||(P=vk(),P.c(),P.m(e,g)):P&&(P.d(1),P=null);const R={};y.$set(R)},i(Q){k||(D(y.$$.fragment,Q),k=!0)},o(Q){I(y.$$.fragment,Q),k=!1},d(Q){Q&&w(e),T&&T.d(),P&&P.d(),Q&&w(_),n[4](null),q(y,Q),C=!1,$()}}}function gB(n,e,t){let{provider:i={}}=e,{config:s={}}=e,l;const r=()=>{l==null||l.show(i,Object.assign({},s,{enabled:s.clientId?s.enabled:!0}))};function o(f){ne[f?"unshift":"push"](()=>{l=f,t(2,l)})}const a=f=>{f.detail[i.key]&&t(0,s=f.detail[i.key])};return n.$$set=f=>{"provider"in f&&t(1,i=f.provider),"config"in f&&t(0,s=f.config)},[s,i,l,r,o,a]}class y3 extends ke{constructor(e){super(),ve(this,e,gB,mB,be,{provider:1,config:0})}}function kk(n,e,t){const i=n.slice();return i[9]=e[t],i[10]=e,i[11]=t,i}function wk(n,e,t){const i=n.slice();return i[9]=e[t],i[12]=e,i[13]=t,i}function bB(n){let e,t=[],i=new Map,s,l,r,o=[],a=new Map,f,u=n[3];const d=b=>b[9].key;for(let b=0;b<u.length;b+=1){let _=wk(n,u,b),y=d(_);i.set(y,t[b]=Sk(y,_))}let h=n[3].length>0&&n[2].length>0&&$k(),p=n[2];const g=b=>b[9].key;for(let b=0;b<p.length;b+=1){let _=kk(n,p,b),y=g(_);a.set(y,o[b]=Ck(y,_))}return{c(){e=v("div");for(let b=0;b<t.length;b+=1)t[b].c();s=A(),h&&h.c(),l=A(),r=v("div");for(let b=0;b<o.length;b+=1)o[b].c();m(e,"class","grid grid-sm"),m(r,"class","grid grid-sm")},m(b,_){S(b,e,_);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null);S(b,s,_),h&&h.m(b,_),S(b,l,_),S(b,r,_);for(let y=0;y<o.length;y+=1)o[y]&&o[y].m(r,null);f=!0},p(b,_){_&9&&(u=b[3],ue(),t=It(t,_,d,1,b,u,i,e,hn,Sk,null,wk),ce()),b[3].length>0&&b[2].length>0?h||(h=$k(),h.c(),h.m(l.parentNode,l)):h&&(h.d(1),h=null),_&5&&(p=b[2],ue(),o=It(o,_,g,1,b,p,a,r,hn,Ck,null,kk),ce())},i(b){if(!f){for(let _=0;_<u.length;_+=1)D(t[_]);for(let _=0;_<p.length;_+=1)D(o[_]);f=!0}},o(b){for(let _=0;_<t.length;_+=1)I(t[_]);for(let _=0;_<o.length;_+=1)I(o[_]);f=!1},d(b){b&&w(e);for(let _=0;_<t.length;_+=1)t[_].d();b&&w(s),h&&h.d(b),b&&w(l),b&&w(r);for(let _=0;_<o.length;_+=1)o[_].d()}}}function _B(n){let e;return{c(){e=v("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function Sk(n,e){let t,i,s,l,r;function o(f){e[5](f,e[9])}let a={provider:e[9]};return e[0][e[9].key]!==void 0&&(a.config=e[0][e[9].key]),i=new y3({props:a}),ne.push(()=>pe(i,"config",o)),{key:n,first:null,c(){t=v("div"),V(i.$$.fragment),l=A(),m(t,"class","col-lg-6"),this.first=t},m(f,u){S(f,t,u),X(i,t,null),O(t,l),r=!0},p(f,u){e=f;const d={};u&8&&(d.provider=e[9]),!s&&u&9&&(s=!0,d.config=e[0][e[9].key],ye(()=>s=!1)),i.$set(d)},i(f){r||(D(i.$$.fragment,f),r=!0)},o(f){I(i.$$.fragment,f),r=!1},d(f){f&&w(t),q(i)}}}function $k(n){let e;return{c(){e=v("hr")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function Ck(n,e){let t,i,s,l,r;function o(f){e[6](f,e[9])}let a={provider:e[9]};return e[0][e[9].key]!==void 0&&(a.config=e[0][e[9].key]),i=new y3({props:a}),ne.push(()=>pe(i,"config",o)),{key:n,first:null,c(){t=v("div"),V(i.$$.fragment),l=A(),m(t,"class","col-lg-6"),this.first=t},m(f,u){S(f,t,u),X(i,t,null),O(t,l),r=!0},p(f,u){e=f;const d={};u&4&&(d.provider=e[9]),!s&&u&5&&(s=!0,d.config=e[0][e[9].key],ye(()=>s=!1)),i.$set(d)},i(f){r||(D(i.$$.fragment,f),r=!0)},o(f){I(i.$$.fragment,f),r=!1},d(f){f&&w(t),q(i)}}}function OB(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g;const b=[_B,bB],_=[];function y(k,C){return k[1]?0:1}return h=y(n),p=_[h]=b[h](n),{c(){e=v("header"),t=v("nav"),i=v("div"),i.textContent="Settings",s=A(),l=v("div"),r=W(n[4]),o=A(),a=v("div"),f=v("div"),u=v("h6"),u.textContent="Manage the allowed users OAuth2 sign-in/sign-up methods.",d=A(),p.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(u,"class","m-b-base"),m(f,"class","panel"),m(a,"class","wrapper")},m(k,C){S(k,e,C),O(e,t),O(t,i),O(t,s),O(t,l),O(l,r),S(k,o,C),S(k,a,C),O(a,f),O(f,u),O(f,d),_[h].m(f,null),g=!0},p(k,C){(!g||C&16)&&re(r,k[4]);let $=h;h=y(k),h===$?_[h].p(k,C):(ue(),I(_[$],1,1,()=>{_[$]=null}),ce(),p=_[h],p?p.p(k,C):(p=_[h]=b[h](k),p.c()),D(p,1),p.m(f,null))},i(k){g||(D(p),g=!0)},o(k){I(p),g=!1},d(k){k&&w(e),k&&w(o),k&&w(a),_[h].d()}}}function yB(n){let e,t,i,s;return e=new el({}),i=new hi({props:{$$slots:{default:[OB]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment)},m(l,r){X(e,l,r),S(l,t,r),X(i,l,r),s=!0},p(l,[r]){const o={};r&16415&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(D(e.$$.fragment,l),D(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){q(e,l),l&&w(t),q(i,l)}}}function vB(n,e,t){let i,s,l;et(n,zt,h=>t(4,l=h)),Zn(zt,l="Auth providers",l);let r=!1,o={};a();async function a(){t(1,r=!0);try{const h=await de.settings.getAll()||{};f(h)}catch(h){de.error(h)}t(1,r=!1)}function f(h){h=h||{},t(0,o={});for(const p of Jf)t(0,o[p.key]=Object.assign({enabled:!1},h[p.key]),o)}function u(h,p){n.$$.not_equal(o[p.key],h)&&(o[p.key]=h,t(0,o))}function d(h,p){n.$$.not_equal(o[p.key],h)&&(o[p.key]=h,t(0,o))}return n.$$.update=()=>{n.$$.dirty&1&&t(3,i=Jf.filter(h=>{var p;return(p=o[h.key])==null?void 0:p.enabled})),n.$$.dirty&1&&t(2,s=Jf.filter(h=>{var p;return!((p=o[h.key])!=null&&p.enabled)}))},[o,r,s,i,l,u,d]}class kB extends ke{constructor(e){super(),ve(this,e,vB,yB,be,{})}}function wB(n){let e,t,i,s,l,r,o,a,f,u,d,h;return{c(){e=v("label"),t=W(n[3]),i=W(" duration (in seconds)"),l=A(),r=v("input"),a=A(),f=v("div"),u=v("span"),u.textContent="Invalidate all previously issued tokens",m(e,"for",s=n[6]),m(r,"type","number"),m(r,"id",o=n[6]),r.required=!0,m(u,"class","link-primary"),J(u,"txt-success",!!n[1]),m(f,"class","help-block")},m(p,g){S(p,e,g),O(e,t),O(e,i),S(p,l,g),S(p,r,g),fe(r,n[0]),S(p,a,g),S(p,f,g),O(f,u),d||(h=[H(r,"input",n[4]),H(u,"click",n[5])],d=!0)},p(p,g){g&8&&re(t,p[3]),g&64&&s!==(s=p[6])&&m(e,"for",s),g&64&&o!==(o=p[6])&&m(r,"id",o),g&1&&Ct(r.value)!==p[0]&&fe(r,p[0]),g&2&&J(u,"txt-success",!!p[1])},d(p){p&&w(e),p&&w(l),p&&w(r),p&&w(a),p&&w(f),d=!1,Qe(h)}}}function SB(n){let e,t;return e=new me({props:{class:"form-field required",name:n[2]+".duration",$$slots:{default:[wB,({uniqueId:i})=>({6:i}),({uniqueId:i})=>i?64:0]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,[s]){const l={};s&4&&(l.name=i[2]+".duration"),s&203&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function $B(n,e,t){let{key:i}=e,{label:s}=e,{duration:l}=e,{secret:r}=e;function o(){l=Ct(this.value),t(0,l)}const a=()=>{r?t(1,r=void 0):t(1,r=j.randomString(50))};return n.$$set=f=>{"key"in f&&t(2,i=f.key),"label"in f&&t(3,s=f.label),"duration"in f&&t(0,l=f.duration),"secret"in f&&t(1,r=f.secret)},[l,r,i,s,o,a]}class v3 extends ke{constructor(e){super(),ve(this,e,$B,SB,be,{key:2,label:3,duration:0,secret:1})}}function Tk(n,e,t){const i=n.slice();return i[19]=e[t],i[20]=e,i[21]=t,i}function Pk(n,e,t){const i=n.slice();return i[19]=e[t],i[22]=e,i[23]=t,i}function CB(n){let e,t,i=[],s=new Map,l,r,o,a,f,u=[],d=new Map,h,p,g,b,_,y,k,C,$,T,P,M=n[5];const Q=N=>N[19].key;for(let N=0;N<M.length;N+=1){let x=Pk(n,M,N),Z=Q(x);s.set(Z,i[N]=Mk(Z,x))}let E=n[6];const R=N=>N[19].key;for(let N=0;N<E.length;N+=1){let x=Tk(n,E,N),Z=R(x);d.set(Z,u[N]=Ak(Z,x))}let L=n[3]&&Qk(n);return{c(){e=v("h3"),e.textContent="Record tokens",t=A();for(let N=0;N<i.length;N+=1)i[N].c();l=A(),r=v("hr"),o=A(),a=v("h3"),a.textContent="Admin tokens",f=A();for(let N=0;N<u.length;N+=1)u[N].c();h=A(),p=v("div"),g=v("div"),b=A(),L&&L.c(),_=A(),y=v("button"),k=v("span"),k.textContent="Save changes",m(e,"class","section-title"),m(a,"class","section-title"),m(g,"class","flex-fill"),m(k,"class","txt"),m(y,"type","submit"),m(y,"class","btn btn-expanded"),y.disabled=C=!n[3]||n[2],J(y,"btn-loading",n[2]),m(p,"class","flex")},m(N,x){S(N,e,x),S(N,t,x);for(let Z=0;Z<i.length;Z+=1)i[Z]&&i[Z].m(N,x);S(N,l,x),S(N,r,x),S(N,o,x),S(N,a,x),S(N,f,x);for(let Z=0;Z<u.length;Z+=1)u[Z]&&u[Z].m(N,x);S(N,h,x),S(N,p,x),O(p,g),O(p,b),L&&L.m(p,null),O(p,_),O(p,y),O(y,k),$=!0,T||(P=H(y,"click",n[16]),T=!0)},p(N,x){x&33&&(M=N[5],ue(),i=It(i,x,Q,1,N,M,s,l.parentNode,hn,Mk,l,Pk),ce()),x&65&&(E=N[6],ue(),u=It(u,x,R,1,N,E,d,h.parentNode,hn,Ak,h,Tk),ce()),N[3]?L?L.p(N,x):(L=Qk(N),L.c(),L.m(p,_)):L&&(L.d(1),L=null),(!$||x&12&&C!==(C=!N[3]||N[2]))&&(y.disabled=C),(!$||x&4)&&J(y,"btn-loading",N[2])},i(N){if(!$){for(let x=0;x<M.length;x+=1)D(i[x]);for(let x=0;x<E.length;x+=1)D(u[x]);$=!0}},o(N){for(let x=0;x<i.length;x+=1)I(i[x]);for(let x=0;x<u.length;x+=1)I(u[x]);$=!1},d(N){N&&w(e),N&&w(t);for(let x=0;x<i.length;x+=1)i[x].d(N);N&&w(l),N&&w(r),N&&w(o),N&&w(a),N&&w(f);for(let x=0;x<u.length;x+=1)u[x].d(N);N&&w(h),N&&w(p),L&&L.d(),T=!1,P()}}}function TB(n){let e;return{c(){e=v("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function Mk(n,e){let t,i,s,l,r;function o(u){e[11](u,e[19])}function a(u){e[12](u,e[19])}let f={key:e[19].key,label:e[19].label};return e[0][e[19].key].duration!==void 0&&(f.duration=e[0][e[19].key].duration),e[0][e[19].key].secret!==void 0&&(f.secret=e[0][e[19].key].secret),i=new v3({props:f}),ne.push(()=>pe(i,"duration",o)),ne.push(()=>pe(i,"secret",a)),{key:n,first:null,c(){t=Se(),V(i.$$.fragment),this.first=t},m(u,d){S(u,t,d),X(i,u,d),r=!0},p(u,d){e=u;const h={};!s&&d&33&&(s=!0,h.duration=e[0][e[19].key].duration,ye(()=>s=!1)),!l&&d&33&&(l=!0,h.secret=e[0][e[19].key].secret,ye(()=>l=!1)),i.$set(h)},i(u){r||(D(i.$$.fragment,u),r=!0)},o(u){I(i.$$.fragment,u),r=!1},d(u){u&&w(t),q(i,u)}}}function Ak(n,e){let t,i,s,l,r;function o(u){e[13](u,e[19])}function a(u){e[14](u,e[19])}let f={key:e[19].key,label:e[19].label};return e[0][e[19].key].duration!==void 0&&(f.duration=e[0][e[19].key].duration),e[0][e[19].key].secret!==void 0&&(f.secret=e[0][e[19].key].secret),i=new v3({props:f}),ne.push(()=>pe(i,"duration",o)),ne.push(()=>pe(i,"secret",a)),{key:n,first:null,c(){t=Se(),V(i.$$.fragment),this.first=t},m(u,d){S(u,t,d),X(i,u,d),r=!0},p(u,d){e=u;const h={};!s&&d&65&&(s=!0,h.duration=e[0][e[19].key].duration,ye(()=>s=!1)),!l&&d&65&&(l=!0,h.secret=e[0][e[19].key].secret,ye(()=>l=!1)),i.$set(h)},i(u){r||(D(i.$$.fragment,u),r=!0)},o(u){I(i.$$.fragment,u),r=!1},d(u){u&&w(t),q(i,u)}}}function Qk(n){let e,t,i,s;return{c(){e=v("button"),t=v("span"),t.textContent="Cancel",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint"),e.disabled=n[2]},m(l,r){S(l,e,r),O(e,t),i||(s=H(e,"click",n[15]),i=!0)},p(l,r){r&4&&(e.disabled=l[2])},d(l){l&&w(e),i=!1,s()}}}function PB(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_;const y=[TB,CB],k=[];function C($,T){return $[1]?0:1}return h=C(n),p=k[h]=y[h](n),{c(){e=v("header"),t=v("nav"),i=v("div"),i.textContent="Settings",s=A(),l=v("div"),r=W(n[4]),o=A(),a=v("div"),f=v("form"),u=v("div"),u.innerHTML="<p>Adjust common token options.</p>",d=A(),p.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(u,"class","content m-b-sm txt-xl"),m(f,"class","panel"),m(f,"autocomplete","off"),m(a,"class","wrapper")},m($,T){S($,e,T),O(e,t),O(t,i),O(t,s),O(t,l),O(l,r),S($,o,T),S($,a,T),O(a,f),O(f,u),O(f,d),k[h].m(f,null),g=!0,b||(_=H(f,"submit",ut(n[7])),b=!0)},p($,T){(!g||T&16)&&re(r,$[4]);let P=h;h=C($),h===P?k[h].p($,T):(ue(),I(k[P],1,1,()=>{k[P]=null}),ce(),p=k[h],p?p.p($,T):(p=k[h]=y[h]($),p.c()),D(p,1),p.m(f,null))},i($){g||(D(p),g=!0)},o($){I(p),g=!1},d($){$&&w(e),$&&w(o),$&&w(a),k[h].d(),b=!1,_()}}}function MB(n){let e,t,i,s;return e=new el({}),i=new hi({props:{$$slots:{default:[PB]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment)},m(l,r){X(e,l,r),S(l,t,r),X(i,l,r),s=!0},p(l,[r]){const o={};r&16777247&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(D(e.$$.fragment,l),D(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){q(e,l),l&&w(t),q(i,l)}}}function AB(n,e,t){let i,s,l;et(n,zt,P=>t(4,l=P));const r=[{key:"recordAuthToken",label:"Auth record authentication token"},{key:"recordVerificationToken",label:"Auth record email verification token"},{key:"recordPasswordResetToken",label:"Auth record password reset token"},{key:"recordEmailChangeToken",label:"Auth record email change token"},{key:"recordFileToken",label:"Records protected file access token"}],o=[{key:"adminAuthToken",label:"Admins auth token"},{key:"adminPasswordResetToken",label:"Admins password reset token"},{key:"adminFileToken",label:"Admins protected file access token"}];Zn(zt,l="Token options",l);let a={},f={},u=!1,d=!1;h();async function h(){t(1,u=!0);try{const P=await de.settings.getAll()||{};g(P)}catch(P){de.error(P)}t(1,u=!1)}async function p(){if(!(d||!s)){t(2,d=!0);try{const P=await de.settings.update(j.filterRedactedProps(f));g(P),Jt("Successfully saved tokens options.")}catch(P){de.error(P)}t(2,d=!1)}}function g(P){var Q;P=P||{},t(0,f={});const M=r.concat(o);for(const E of M)t(0,f[E.key]={duration:((Q=P[E.key])==null?void 0:Q.duration)||0},f);t(9,a=JSON.parse(JSON.stringify(f)))}function b(){t(0,f=JSON.parse(JSON.stringify(a||{})))}function _(P,M){n.$$.not_equal(f[M.key].duration,P)&&(f[M.key].duration=P,t(0,f))}function y(P,M){n.$$.not_equal(f[M.key].secret,P)&&(f[M.key].secret=P,t(0,f))}function k(P,M){n.$$.not_equal(f[M.key].duration,P)&&(f[M.key].duration=P,t(0,f))}function C(P,M){n.$$.not_equal(f[M.key].secret,P)&&(f[M.key].secret=P,t(0,f))}const $=()=>b(),T=()=>p();return n.$$.update=()=>{n.$$.dirty&512&&t(10,i=JSON.stringify(a)),n.$$.dirty&1025&&t(3,s=i!=JSON.stringify(f))},[f,u,d,s,l,r,o,p,b,a,i,_,y,k,C,$,T]}class QB extends ke{constructor(e){super(),ve(this,e,AB,MB,be,{})}}function DB(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g;return r=new BS({props:{content:n[2]}}),{c(){e=v("div"),e.innerHTML=`<p>Below you&#39;ll find your current collections configuration that you could import in
                        another PocketBase environment.</p>`,t=A(),i=v("div"),s=v("button"),s.innerHTML='<span class="txt">Copy</span>',l=A(),V(r.$$.fragment),o=A(),a=v("div"),f=v("div"),u=A(),d=v("button"),d.innerHTML=`<i class="ri-download-line"></i> 
                        <span class="txt">Download as JSON</span>`,m(e,"class","content txt-xl m-b-base"),m(s,"type","button"),m(s,"class","btn btn-sm btn-transparent fade copy-schema svelte-jm5c4z"),m(i,"tabindex","0"),m(i,"class","export-preview svelte-jm5c4z"),m(f,"class","flex-fill"),m(d,"type","button"),m(d,"class","btn btn-expanded"),m(a,"class","flex m-t-base")},m(b,_){S(b,e,_),S(b,t,_),S(b,i,_),O(i,s),O(i,l),X(r,i,null),n[8](i),S(b,o,_),S(b,a,_),O(a,f),O(a,u),O(a,d),h=!0,p||(g=[H(s,"click",n[7]),H(i,"keydown",n[9]),H(d,"click",n[10])],p=!0)},p(b,_){const y={};_&4&&(y.content=b[2]),r.$set(y)},i(b){h||(D(r.$$.fragment,b),h=!0)},o(b){I(r.$$.fragment,b),h=!1},d(b){b&&w(e),b&&w(t),b&&w(i),q(r),n[8](null),b&&w(o),b&&w(a),p=!1,Qe(g)}}}function EB(n){let e;return{c(){e=v("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function IB(n){let e,t,i,s,l,r,o,a,f,u,d,h;const p=[EB,DB],g=[];function b(_,y){return _[1]?0:1}return u=b(n),d=g[u]=p[u](n),{c(){e=v("header"),t=v("nav"),i=v("div"),i.textContent="Settings",s=A(),l=v("div"),r=W(n[3]),o=A(),a=v("div"),f=v("div"),d.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(f,"class","panel"),m(a,"class","wrapper")},m(_,y){S(_,e,y),O(e,t),O(t,i),O(t,s),O(t,l),O(l,r),S(_,o,y),S(_,a,y),O(a,f),g[u].m(f,null),h=!0},p(_,y){(!h||y&8)&&re(r,_[3]);let k=u;u=b(_),u===k?g[u].p(_,y):(ue(),I(g[k],1,1,()=>{g[k]=null}),ce(),d=g[u],d?d.p(_,y):(d=g[u]=p[u](_),d.c()),D(d,1),d.m(f,null))},i(_){h||(D(d),h=!0)},o(_){I(d),h=!1},d(_){_&&w(e),_&&w(o),_&&w(a),g[u].d()}}}function RB(n){let e,t,i,s;return e=new el({}),i=new hi({props:{$$slots:{default:[IB]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment)},m(l,r){X(e,l,r),S(l,t,r),X(i,l,r),s=!0},p(l,[r]){const o={};r&8207&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(D(e.$$.fragment,l),D(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){q(e,l),l&&w(t),q(i,l)}}}function LB(n,e,t){let i,s;et(n,zt,_=>t(3,s=_)),Zn(zt,s="Export collections",s);const l="export_"+j.randomString(5);let r,o=[],a=!1;f();async function f(){t(1,a=!0);try{t(6,o=await de.collections.getFullList(100,{$cancelKey:l,sort:"updated"}));for(let _ of o)delete _.created,delete _.updated}catch(_){de.error(_)}t(1,a=!1)}function u(){j.downloadJson(o,"pb_schema")}function d(){j.copyToClipboard(i),lu("The configuration was copied to your clipboard!",3e3)}const h=()=>d();function p(_){ne[_?"unshift":"push"](()=>{r=_,t(0,r)})}const g=_=>{if(_.ctrlKey&&_.code==="KeyA"){_.preventDefault();const y=window.getSelection(),k=document.createRange();k.selectNodeContents(r),y.removeAllRanges(),y.addRange(k)}},b=()=>u();return n.$$.update=()=>{n.$$.dirty&64&&t(2,i=JSON.stringify(o,null,4))},[r,a,i,s,u,d,o,h,p,g,b]}class NB extends ke{constructor(e){super(),ve(this,e,LB,RB,be,{})}}function Dk(n,e,t){const i=n.slice();return i[14]=e[t],i}function Ek(n,e,t){const i=n.slice();return i[17]=e[t][0],i[18]=e[t][1],i}function Ik(n,e,t){const i=n.slice();return i[14]=e[t],i}function Rk(n,e,t){const i=n.slice();return i[17]=e[t][0],i[23]=e[t][1],i}function Lk(n,e,t){const i=n.slice();return i[14]=e[t],i}function Nk(n,e,t){const i=n.slice();return i[17]=e[t][0],i[18]=e[t][1],i}function xk(n,e,t){const i=n.slice();return i[30]=e[t],i}function xB(n){let e,t,i,s,l=n[1].name+"",r,o=n[9]&&Zk(),a=n[0].name!==n[1].name&&Fk(n);return{c(){e=v("div"),o&&o.c(),t=A(),a&&a.c(),i=A(),s=v("strong"),r=W(l),m(s,"class","txt"),m(e,"class","inline-flex fleg-gap-5")},m(f,u){S(f,e,u),o&&o.m(e,null),O(e,t),a&&a.m(e,null),O(e,i),O(e,s),O(s,r)},p(f,u){f[9]?o||(o=Zk(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),f[0].name!==f[1].name?a?a.p(f,u):(a=Fk(f),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0]&2&&l!==(l=f[1].name+"")&&re(r,l)},d(f){f&&w(e),o&&o.d(),a&&a.d()}}}function ZB(n){var r;let e,t,i,s=((r=n[0])==null?void 0:r.name)+"",l;return{c(){e=v("span"),e.textContent="Deleted",t=A(),i=v("strong"),l=W(s),m(e,"class","label label-danger")},m(o,a){S(o,e,a),S(o,t,a),S(o,i,a),O(i,l)},p(o,a){var f;a[0]&1&&s!==(s=((f=o[0])==null?void 0:f.name)+"")&&re(l,s)},d(o){o&&w(e),o&&w(t),o&&w(i)}}}function FB(n){var r;let e,t,i,s=((r=n[1])==null?void 0:r.name)+"",l;return{c(){e=v("span"),e.textContent="Added",t=A(),i=v("strong"),l=W(s),m(e,"class","label label-success")},m(o,a){S(o,e,a),S(o,t,a),S(o,i,a),O(i,l)},p(o,a){var f;a[0]&2&&s!==(s=((f=o[1])==null?void 0:f.name)+"")&&re(l,s)},d(o){o&&w(e),o&&w(t),o&&w(i)}}}function Zk(n){let e;return{c(){e=v("span"),e.textContent="Changed",m(e,"class","label label-warning")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function Fk(n){let e,t=n[0].name+"",i,s,l;return{c(){e=v("strong"),i=W(t),s=A(),l=v("i"),m(e,"class","txt-strikethrough txt-hint"),m(l,"class","ri-arrow-right-line txt-sm")},m(r,o){S(r,e,o),O(e,i),S(r,s,o),S(r,l,o)},p(r,o){o[0]&1&&t!==(t=r[0].name+"")&&re(i,t)},d(r){r&&w(e),r&&w(s),r&&w(l)}}}function Xk(n){var _,y;let e,t,i,s=n[30]+"",l,r,o,a,f=n[12]((_=n[0])==null?void 0:_[n[30]])+"",u,d,h,p,g=n[12]((y=n[1])==null?void 0:y[n[30]])+"",b;return{c(){var k,C,$,T,P,M;e=v("tr"),t=v("td"),i=v("span"),l=W(s),r=A(),o=v("td"),a=v("pre"),u=W(f),d=A(),h=v("td"),p=v("pre"),b=W(g),m(t,"class","min-width svelte-lmkr38"),m(a,"class","txt"),m(o,"class","svelte-lmkr38"),J(o,"changed-old-col",!n[10]&&li((k=n[0])==null?void 0:k[n[30]],(C=n[1])==null?void 0:C[n[30]])),J(o,"changed-none-col",n[10]),m(p,"class","txt"),m(h,"class","svelte-lmkr38"),J(h,"changed-new-col",!n[5]&&li(($=n[0])==null?void 0:$[n[30]],(T=n[1])==null?void 0:T[n[30]])),J(h,"changed-none-col",n[5]),m(e,"class","svelte-lmkr38"),J(e,"txt-primary",li((P=n[0])==null?void 0:P[n[30]],(M=n[1])==null?void 0:M[n[30]]))},m(k,C){S(k,e,C),O(e,t),O(t,i),O(i,l),O(e,r),O(e,o),O(o,a),O(a,u),O(e,d),O(e,h),O(h,p),O(p,b)},p(k,C){var $,T,P,M,Q,E,R,L;C[0]&1&&f!==(f=k[12](($=k[0])==null?void 0:$[k[30]])+"")&&re(u,f),C[0]&3075&&J(o,"changed-old-col",!k[10]&&li((T=k[0])==null?void 0:T[k[30]],(P=k[1])==null?void 0:P[k[30]])),C[0]&1024&&J(o,"changed-none-col",k[10]),C[0]&2&&g!==(g=k[12]((M=k[1])==null?void 0:M[k[30]])+"")&&re(b,g),C[0]&2083&&J(h,"changed-new-col",!k[5]&&li((Q=k[0])==null?void 0:Q[k[30]],(E=k[1])==null?void 0:E[k[30]])),C[0]&32&&J(h,"changed-none-col",k[5]),C[0]&2051&&J(e,"txt-primary",li((R=k[0])==null?void 0:R[k[30]],(L=k[1])==null?void 0:L[k[30]]))},d(k){k&&w(e)}}}function qk(n){let e,t=n[6],i=[];for(let s=0;s<t.length;s+=1)i[s]=jk(Lk(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Se()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);S(s,e,l)},p(s,l){if(l[0]&4160){t=s[6];let r;for(r=0;r<t.length;r+=1){const o=Lk(s,t,r);i[r]?i[r].p(o,l):(i[r]=jk(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){At(i,s),s&&w(e)}}}function Vk(n){let e,t,i=n[17]+"",s,l,r,o,a=n[12](n[18])+"",f,u,d,h;return{c(){e=v("tr"),t=v("td"),s=W(i),l=A(),r=v("td"),o=v("pre"),f=W(a),u=A(),d=v("td"),h=A(),m(t,"class","min-width field-key-col svelte-lmkr38"),m(o,"class","txt"),m(r,"class","changed-old-col svelte-lmkr38"),m(d,"class","changed-none-col svelte-lmkr38"),m(e,"class","txt-primary svelte-lmkr38")},m(p,g){S(p,e,g),O(e,t),O(t,s),O(e,l),O(e,r),O(r,o),O(o,f),O(e,u),O(e,d),O(e,h)},p(p,g){g[0]&64&&i!==(i=p[17]+"")&&re(s,i),g[0]&64&&a!==(a=p[12](p[18])+"")&&re(f,a)},d(p){p&&w(e)}}}function jk(n){let e,t,i,s,l=n[14].name+"",r,o,a,f,u,d,h,p=n[14].name+"",g,b,_,y,k=Object.entries(n[14]),C=[];for(let $=0;$<k.length;$+=1)C[$]=Vk(Nk(n,k,$));return{c(){e=v("tr"),t=v("th"),i=v("span"),s=W("field: "),r=W(l),o=A(),a=v("span"),f=W("Deleted - "),u=v("small"),d=W("All stored data related to "),h=v("strong"),g=W(p),b=W(" will be deleted!"),_=A();for(let $=0;$<C.length;$+=1)C[$].c();y=Se(),m(i,"class","txt"),m(a,"class","label label-danger m-l-5 svelte-lmkr38"),m(t,"class","min-width svelte-lmkr38"),m(t,"colspan","3"),m(e,"class","svelte-lmkr38")},m($,T){S($,e,T),O(e,t),O(t,i),O(i,s),O(i,r),O(t,o),O(t,a),O(a,f),O(a,u),O(u,d),O(u,h),O(h,g),O(u,b),S($,_,T);for(let P=0;P<C.length;P+=1)C[P]&&C[P].m($,T);S($,y,T)},p($,T){if(T[0]&64&&l!==(l=$[14].name+"")&&re(r,l),T[0]&64&&p!==(p=$[14].name+"")&&re(g,p),T[0]&4160){k=Object.entries($[14]);let P;for(P=0;P<k.length;P+=1){const M=Nk($,k,P);C[P]?C[P].p(M,T):(C[P]=Vk(M),C[P].c(),C[P].m(y.parentNode,y))}for(;P<C.length;P+=1)C[P].d(1);C.length=k.length}},d($){$&&w(e),$&&w(_),At(C,$),$&&w(y)}}}function Uk(n){let e;return{c(){e=v("span"),e.textContent="Changed",m(e,"class","label label-warning m-l-5 svelte-lmkr38")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function Wk(n){var b;let e,t,i=n[17]+"",s,l,r,o,a=n[12]((b=Li(n[3],n[14].id))==null?void 0:b[n[17]])+"",f,u,d,h,p=n[12](n[23])+"",g;return{c(){var _,y,k;e=v("tr"),t=v("td"),s=W(i),l=A(),r=v("td"),o=v("pre"),f=W(a),u=A(),d=v("td"),h=v("pre"),g=W(p),m(t,"class","min-width field-key-col svelte-lmkr38"),m(o,"class","txt"),m(r,"class","svelte-lmkr38"),J(r,"changed-old-col",li((_=Li(n[3],n[14].id))==null?void 0:_[n[17]],n[23])),m(h,"class","txt"),m(d,"class","svelte-lmkr38"),J(d,"changed-new-col",li((y=Li(n[3],n[14].id))==null?void 0:y[n[17]],n[23])),m(e,"class","svelte-lmkr38"),J(e,"txt-primary",li((k=Li(n[3],n[14].id))==null?void 0:k[n[17]],n[23]))},m(_,y){S(_,e,y),O(e,t),O(t,s),O(e,l),O(e,r),O(r,o),O(o,f),O(e,u),O(e,d),O(d,h),O(h,g)},p(_,y){var k,C,$,T;y[0]&128&&i!==(i=_[17]+"")&&re(s,i),y[0]&136&&a!==(a=_[12]((k=Li(_[3],_[14].id))==null?void 0:k[_[17]])+"")&&re(f,a),y[0]&136&&J(r,"changed-old-col",li((C=Li(_[3],_[14].id))==null?void 0:C[_[17]],_[23])),y[0]&128&&p!==(p=_[12](_[23])+"")&&re(g,p),y[0]&136&&J(d,"changed-new-col",li(($=Li(_[3],_[14].id))==null?void 0:$[_[17]],_[23])),y[0]&136&&J(e,"txt-primary",li((T=Li(_[3],_[14].id))==null?void 0:T[_[17]],_[23]))},d(_){_&&w(e)}}}function zk(n){let e,t,i,s,l=n[14].name+"",r,o,a=li(Li(n[3],n[14].id),Li(n[4],n[14].id)),f,u,d=a&&Uk(),h=Object.entries(n[14]),p=[];for(let g=0;g<h.length;g+=1)p[g]=Wk(Rk(n,h,g));return{c(){e=v("tr"),t=v("th"),i=v("span"),s=W("field: "),r=W(l),o=A(),d&&d.c(),f=A();for(let g=0;g<p.length;g+=1)p[g].c();u=Se(),m(i,"class","txt"),m(t,"class","min-width svelte-lmkr38"),m(t,"colspan","3"),m(e,"class","svelte-lmkr38")},m(g,b){S(g,e,b),O(e,t),O(t,i),O(i,s),O(i,r),O(t,o),d&&d.m(t,null),S(g,f,b);for(let _=0;_<p.length;_+=1)p[_]&&p[_].m(g,b);S(g,u,b)},p(g,b){if(b[0]&128&&l!==(l=g[14].name+"")&&re(r,l),b[0]&152&&(a=li(Li(g[3],g[14].id),Li(g[4],g[14].id))),a?d||(d=Uk(),d.c(),d.m(t,null)):d&&(d.d(1),d=null),b[0]&4232){h=Object.entries(g[14]);let _;for(_=0;_<h.length;_+=1){const y=Rk(g,h,_);p[_]?p[_].p(y,b):(p[_]=Wk(y),p[_].c(),p[_].m(u.parentNode,u))}for(;_<p.length;_+=1)p[_].d(1);p.length=h.length}},d(g){g&&w(e),d&&d.d(),g&&w(f),At(p,g),g&&w(u)}}}function Bk(n){let e,t,i=n[17]+"",s,l,r,o,a,f,u=n[12](n[18])+"",d,h;return{c(){e=v("tr"),t=v("td"),s=W(i),l=A(),r=v("td"),o=A(),a=v("td"),f=v("pre"),d=W(u),h=A(),m(t,"class","min-width field-key-col svelte-lmkr38"),m(r,"class","changed-none-col svelte-lmkr38"),m(f,"class","txt"),m(a,"class","changed-new-col svelte-lmkr38"),m(e,"class","txt-primary svelte-lmkr38")},m(p,g){S(p,e,g),O(e,t),O(t,s),O(e,l),O(e,r),O(e,o),O(e,a),O(a,f),O(f,d),O(e,h)},p(p,g){g[0]&256&&i!==(i=p[17]+"")&&re(s,i),g[0]&256&&u!==(u=p[12](p[18])+"")&&re(d,u)},d(p){p&&w(e)}}}function Yk(n){let e,t,i,s,l=n[14].name+"",r,o,a,f,u,d=Object.entries(n[14]),h=[];for(let p=0;p<d.length;p+=1)h[p]=Bk(Ek(n,d,p));return{c(){e=v("tr"),t=v("th"),i=v("span"),s=W("field: "),r=W(l),o=A(),a=v("span"),a.textContent="Added",f=A();for(let p=0;p<h.length;p+=1)h[p].c();u=Se(),m(i,"class","txt"),m(a,"class","label label-success m-l-5 svelte-lmkr38"),m(t,"class","min-width svelte-lmkr38"),m(t,"colspan","3"),m(e,"class","svelte-lmkr38")},m(p,g){S(p,e,g),O(e,t),O(t,i),O(i,s),O(i,r),O(t,o),O(t,a),S(p,f,g);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(p,g);S(p,u,g)},p(p,g){if(g[0]&256&&l!==(l=p[14].name+"")&&re(r,l),g[0]&4352){d=Object.entries(p[14]);let b;for(b=0;b<d.length;b+=1){const _=Ek(p,d,b);h[b]?h[b].p(_,g):(h[b]=Bk(_),h[b].c(),h[b].m(u.parentNode,u))}for(;b<h.length;b+=1)h[b].d(1);h.length=d.length}},d(p){p&&w(e),p&&w(f),At(h,p),p&&w(u)}}}function XB(n){let e,t,i,s,l,r,o,a,f;function u($,T){var P,M;return(P=$[0])!=null&&P.id?(M=$[1])!=null&&M.id?xB:ZB:FB}let d=u(n),h=d(n),p=n[11],g=[];for(let $=0;$<p.length;$+=1)g[$]=Xk(xk(n,p,$));let b=(n[2]||n[5])&&qk(n),_=n[7],y=[];for(let $=0;$<_.length;$+=1)y[$]=zk(Ik(n,_,$));let k=n[8],C=[];for(let $=0;$<k.length;$+=1)C[$]=Yk(Dk(n,k,$));return{c(){e=v("div"),h.c(),t=A(),i=v("table"),s=v("thead"),s.innerHTML=`<tr class="svelte-lmkr38"><th class="svelte-lmkr38">Props</th> 
            <th width="10%" class="svelte-lmkr38">Old</th> 
            <th width="10%" class="svelte-lmkr38">New</th></tr>`,l=A(),r=v("tbody");for(let $=0;$<g.length;$+=1)g[$].c();o=A(),b&&b.c(),a=A();for(let $=0;$<y.length;$+=1)y[$].c();f=A();for(let $=0;$<C.length;$+=1)C[$].c();m(e,"class","section-title"),m(i,"class","table collections-diff-table m-b-base svelte-lmkr38")},m($,T){S($,e,T),h.m(e,null),S($,t,T),S($,i,T),O(i,s),O(i,l),O(i,r);for(let P=0;P<g.length;P+=1)g[P]&&g[P].m(r,null);O(r,o),b&&b.m(r,null),O(r,a);for(let P=0;P<y.length;P+=1)y[P]&&y[P].m(r,null);O(r,f);for(let P=0;P<C.length;P+=1)C[P]&&C[P].m(r,null)},p($,T){if(d===(d=u($))&&h?h.p($,T):(h.d(1),h=d($),h&&(h.c(),h.m(e,null))),T[0]&7203){p=$[11];let P;for(P=0;P<p.length;P+=1){const M=xk($,p,P);g[P]?g[P].p(M,T):(g[P]=Xk(M),g[P].c(),g[P].m(r,o))}for(;P<g.length;P+=1)g[P].d(1);g.length=p.length}if($[2]||$[5]?b?b.p($,T):(b=qk($),b.c(),b.m(r,a)):b&&(b.d(1),b=null),T[0]&4248){_=$[7];let P;for(P=0;P<_.length;P+=1){const M=Ik($,_,P);y[P]?y[P].p(M,T):(y[P]=zk(M),y[P].c(),y[P].m(r,f))}for(;P<y.length;P+=1)y[P].d(1);y.length=_.length}if(T[0]&4352){k=$[8];let P;for(P=0;P<k.length;P+=1){const M=Dk($,k,P);C[P]?C[P].p(M,T):(C[P]=Yk(M),C[P].c(),C[P].m(r,null))}for(;P<C.length;P+=1)C[P].d(1);C.length=k.length}},i:ee,o:ee,d($){$&&w(e),h.d(),$&&w(t),$&&w(i),At(g,$),b&&b.d(),At(y,$),At(C,$)}}}function Li(n,e){n=n||[];for(let t of n)if(t.id==e)return t;return null}function li(n,e){return n===e?!1:JSON.stringify(n)!==JSON.stringify(e)}function qB(n,e,t){let i,s,l,{collectionA:r=new ci}=e,{collectionB:o=new ci}=e,{deleteMissing:a=!1}=e,f=[],u=[],d=[],h=[],p=[];const g=Object.keys(new ci().$export()).filter(y=>!["schema","created","updated"].includes(y));function b(){t(4,u=Array.isArray(o==null?void 0:o.schema)?o==null?void 0:o.schema.concat():[]),a||t(4,u=u.concat(f.filter(y=>!u.find(k=>y.id==k.id))))}function _(y){return typeof y>"u"?"":j.isObject(y)?JSON.stringify(y,null,4):y}return n.$$set=y=>{"collectionA"in y&&t(0,r=y.collectionA),"collectionB"in y&&t(1,o=y.collectionB),"deleteMissing"in y&&t(2,a=y.deleteMissing)},n.$$.update=()=>{n.$$.dirty[0]&2&&t(5,i=!(o!=null&&o.id)&&!(o!=null&&o.name)),n.$$.dirty[0]&33&&t(10,s=!i&&!(r!=null&&r.id)),n.$$.dirty[0]&1&&t(3,f=Array.isArray(r==null?void 0:r.schema)?r==null?void 0:r.schema.concat():[]),n.$$.dirty[0]&7&&(typeof(r==null?void 0:r.schema)<"u"||typeof(o==null?void 0:o.schema)<"u"||typeof a<"u")&&b(),n.$$.dirty[0]&24&&t(6,d=f.filter(y=>!u.find(k=>y.id==k.id))),n.$$.dirty[0]&24&&t(7,h=u.filter(y=>f.find(k=>k.id==y.id))),n.$$.dirty[0]&24&&t(8,p=u.filter(y=>!f.find(k=>k.id==y.id))),n.$$.dirty[0]&7&&t(9,l=j.hasCollectionChanges(r,o,a))},[r,o,a,f,u,i,d,h,p,l,s,g,_]}class VB extends ke{constructor(e){super(),ve(this,e,qB,XB,be,{collectionA:0,collectionB:1,deleteMissing:2},null,[-1,-1])}}function Hk(n,e,t){const i=n.slice();return i[17]=e[t],i}function Gk(n){let e,t;return e=new VB({props:{collectionA:n[17].old,collectionB:n[17].new,deleteMissing:n[3]}}),{c(){V(e.$$.fragment)},m(i,s){X(e,i,s),t=!0},p(i,s){const l={};s&4&&(l.collectionA=i[17].old),s&4&&(l.collectionB=i[17].new),s&8&&(l.deleteMissing=i[3]),e.$set(l)},i(i){t||(D(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function jB(n){let e,t,i=n[2],s=[];for(let r=0;r<i.length;r+=1)s[r]=Gk(Hk(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Se()},m(r,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,o);S(r,e,o),t=!0},p(r,o){if(o&12){i=r[2];let a;for(a=0;a<i.length;a+=1){const f=Hk(r,i,a);s[a]?(s[a].p(f,o),D(s[a],1)):(s[a]=Gk(f),s[a].c(),D(s[a],1),s[a].m(e.parentNode,e))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)D(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){At(s,r),r&&w(e)}}}function UB(n){let e;return{c(){e=v("h4"),e.textContent="Side-by-side diff",m(e,"class","center txt-break")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function WB(n){let e,t,i,s,l,r,o;return{c(){e=v("button"),t=W("Close"),i=A(),s=v("button"),l=v("span"),l.textContent="Confirm and import",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[4],m(l,"class","txt"),m(s,"type","button"),m(s,"class","btn btn-expanded"),s.disabled=n[4],J(s,"btn-loading",n[4])},m(a,f){S(a,e,f),O(e,t),S(a,i,f),S(a,s,f),O(s,l),r||(o=[H(e,"click",n[0]),H(s,"click",n[9])],r=!0)},p(a,f){f&16&&(e.disabled=a[4]),f&16&&(s.disabled=a[4]),f&16&&J(s,"btn-loading",a[4])},d(a){a&&w(e),a&&w(i),a&&w(s),r=!1,Qe(o)}}}function zB(n){let e,t,i={class:"full-width-popup import-popup",overlayClose:!1,escClose:!n[4],beforeHide:n[10],popup:!0,$$slots:{footer:[WB],header:[UB],default:[jB]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[11](e),e.$on("show",n[12]),e.$on("hide",n[13]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.escClose=!s[4]),l&16&&(r.beforeHide=s[10]),l&1048604&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[11](null),q(e,s)}}}function BB(n,e,t){const i=Lt();let s,l=[],r=[],o=[],a=!1,f=!1;function u($,T,P=!1){t(7,l=$),t(8,r=T),t(3,a=P),s==null||s.show()}function d(){return s==null?void 0:s.hide()}function h(){t(2,o=[]);for(const $ of l){const T=j.findByKey(r,"id",$.id)||null;(a&&!(T!=null&&T.id)||T!=null&&T.id&&j.hasCollectionChanges($,T,a))&&o.push({old:$,new:T})}for(const $ of r){const T=j.findByKey(l,"id",$.id)||null;T!=null&&T.id||o.push({old:T,new:$})}}function p(){const $=[];if(a)for(const T of l){const P=j.findByKey(r,"id",T.id);if(!P)$.push(T.name+".*");else{const M=Array.isArray(T.schema)?T.schema:[];for(const Q of M)j.findByKey(P.schema,"id",Q.id)||$.push(`${T.name}.${Q.name} (${Q.id})`)}}$.length?Wn(`Do you really want to delete the following collection fields and their related records data:
- ${$.join(`
- `)}`,()=>{g()}):g()}async function g(){if(!f){t(4,f=!0);try{await de.collections.import(r,a),Jt("Successfully imported collections configuration."),i("submit")}catch($){de.error($)}t(4,f=!1),d()}}const b=()=>p(),_=()=>!f;function y($){ne[$?"unshift":"push"](()=>{s=$,t(1,s)})}function k($){Fe.call(this,n,$)}function C($){Fe.call(this,n,$)}return n.$$.update=()=>{n.$$.dirty&384&&Array.isArray(l)&&Array.isArray(r)&&h()},[d,s,o,a,f,p,u,l,r,b,_,y,k,C]}class YB extends ke{constructor(e){super(),ve(this,e,BB,zB,be,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function Kk(n,e,t){const i=n.slice();return i[32]=e[t],i}function Jk(n,e,t){const i=n.slice();return i[35]=e[t],i}function ew(n,e,t){const i=n.slice();return i[32]=e[t],i}function HB(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P,M;a=new me({props:{class:"form-field "+(n[6]?"":"field-error"),name:"collections",$$slots:{default:[KB,({uniqueId:x})=>({40:x}),({uniqueId:x})=>[0,x?512:0]]},$$scope:{ctx:n}}});let Q=!1,E=n[6]&&n[1].length&&!n[7]&&nw(),R=n[6]&&n[1].length&&n[7]&&iw(n),L=n[13].length&&pw(n),N=!!n[0]&&mw(n);return{c(){e=v("input"),t=A(),i=v("div"),s=v("p"),l=W(`Paste below the collections configuration you want to import or
                        `),r=v("button"),r.innerHTML='<span class="txt">Load from JSON file</span>',o=A(),V(a.$$.fragment),f=A(),u=A(),E&&E.c(),d=A(),R&&R.c(),h=A(),L&&L.c(),p=A(),g=v("div"),N&&N.c(),b=A(),_=v("div"),y=A(),k=v("button"),C=v("span"),C.textContent="Review",m(e,"type","file"),m(e,"class","hidden"),m(e,"accept",".json"),m(r,"class","btn btn-outline btn-sm m-l-5"),J(r,"btn-loading",n[12]),m(i,"class","content txt-xl m-b-base"),m(_,"class","flex-fill"),m(C,"class","txt"),m(k,"type","button"),m(k,"class","btn btn-expanded btn-warning m-l-auto"),k.disabled=$=!n[14],m(g,"class","flex m-t-base")},m(x,Z){S(x,e,Z),n[19](e),S(x,t,Z),S(x,i,Z),O(i,s),O(s,l),O(s,r),S(x,o,Z),X(a,x,Z),S(x,f,Z),S(x,u,Z),E&&E.m(x,Z),S(x,d,Z),R&&R.m(x,Z),S(x,h,Z),L&&L.m(x,Z),S(x,p,Z),S(x,g,Z),N&&N.m(g,null),O(g,b),O(g,_),O(g,y),O(g,k),O(k,C),T=!0,P||(M=[H(e,"change",n[20]),H(r,"click",n[21]),H(k,"click",n[26])],P=!0)},p(x,Z){(!T||Z[0]&4096)&&J(r,"btn-loading",x[12]);const F={};Z[0]&64&&(F.class="form-field "+(x[6]?"":"field-error")),Z[0]&65|Z[1]&1536&&(F.$$scope={dirty:Z,ctx:x}),a.$set(F),x[6]&&x[1].length&&!x[7]?E||(E=nw(),E.c(),E.m(d.parentNode,d)):E&&(E.d(1),E=null),x[6]&&x[1].length&&x[7]?R?R.p(x,Z):(R=iw(x),R.c(),R.m(h.parentNode,h)):R&&(R.d(1),R=null),x[13].length?L?L.p(x,Z):(L=pw(x),L.c(),L.m(p.parentNode,p)):L&&(L.d(1),L=null),x[0]?N?N.p(x,Z):(N=mw(x),N.c(),N.m(g,b)):N&&(N.d(1),N=null),(!T||Z[0]&16384&&$!==($=!x[14]))&&(k.disabled=$)},i(x){T||(D(a.$$.fragment,x),D(Q),T=!0)},o(x){I(a.$$.fragment,x),I(Q),T=!1},d(x){x&&w(e),n[19](null),x&&w(t),x&&w(i),x&&w(o),q(a,x),x&&w(f),x&&w(u),E&&E.d(x),x&&w(d),R&&R.d(x),x&&w(h),L&&L.d(x),x&&w(p),x&&w(g),N&&N.d(),P=!1,Qe(M)}}}function GB(n){let e;return{c(){e=v("div"),m(e,"class","loader")},m(t,i){S(t,e,i)},p:ee,i:ee,o:ee,d(t){t&&w(e)}}}function tw(n){let e;return{c(){e=v("div"),e.textContent="Invalid collections configuration.",m(e,"class","help-block help-block-error")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function KB(n){let e,t,i,s,l,r,o,a,f,u,d=!!n[0]&&!n[6]&&tw();return{c(){e=v("label"),t=W("Collections"),s=A(),l=v("textarea"),o=A(),d&&d.c(),a=Se(),m(e,"for",i=n[40]),m(e,"class","p-b-10"),m(l,"id",r=n[40]),m(l,"class","code"),m(l,"spellcheck","false"),m(l,"rows","15"),l.required=!0},m(h,p){S(h,e,p),O(e,t),S(h,s,p),S(h,l,p),fe(l,n[0]),S(h,o,p),d&&d.m(h,p),S(h,a,p),f||(u=H(l,"input",n[22]),f=!0)},p(h,p){p[1]&512&&i!==(i=h[40])&&m(e,"for",i),p[1]&512&&r!==(r=h[40])&&m(l,"id",r),p[0]&1&&fe(l,h[0]),h[0]&&!h[6]?d||(d=tw(),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},d(h){h&&w(e),h&&w(s),h&&w(l),h&&w(o),d&&d.d(h),h&&w(a),f=!1,u()}}}function nw(n){let e;return{c(){e=v("div"),e.innerHTML=`<div class="icon"><i class="ri-information-line"></i></div> 
                        <div class="content"><string>Your collections configuration is already up-to-date!</string></div>`,m(e,"class","alert alert-info")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function iw(n){let e,t,i,s,l,r=n[9].length&&sw(n),o=n[4].length&&ow(n),a=n[8].length&&cw(n);return{c(){e=v("h5"),e.textContent="Detected changes",t=A(),i=v("div"),r&&r.c(),s=A(),o&&o.c(),l=A(),a&&a.c(),m(e,"class","section-title"),m(i,"class","list")},m(f,u){S(f,e,u),S(f,t,u),S(f,i,u),r&&r.m(i,null),O(i,s),o&&o.m(i,null),O(i,l),a&&a.m(i,null)},p(f,u){f[9].length?r?r.p(f,u):(r=sw(f),r.c(),r.m(i,s)):r&&(r.d(1),r=null),f[4].length?o?o.p(f,u):(o=ow(f),o.c(),o.m(i,l)):o&&(o.d(1),o=null),f[8].length?a?a.p(f,u):(a=cw(f),a.c(),a.m(i,null)):a&&(a.d(1),a=null)},d(f){f&&w(e),f&&w(t),f&&w(i),r&&r.d(),o&&o.d(),a&&a.d()}}}function sw(n){let e=[],t=new Map,i,s=n[9];const l=r=>r[32].id;for(let r=0;r<s.length;r+=1){let o=ew(n,s,r),a=l(o);t.set(a,e[r]=rw(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Se()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);S(r,i,o)},p(r,o){o[0]&512&&(s=r[9],e=It(e,o,l,1,r,s,t,i.parentNode,or,rw,i,ew))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&w(i)}}}function lw(n){let e,t,i=n[32].id+"",s,l;return{c(){e=v("small"),t=W("("),s=W(i),l=W(")"),m(e,"class","txt-hint")},m(r,o){S(r,e,o),O(e,t),O(e,s),O(e,l)},p(r,o){o[0]&512&&i!==(i=r[32].id+"")&&re(s,i)},d(r){r&&w(e)}}}function rw(n,e){let t,i,s,l,r=e[32].name+"",o,a,f,u=e[32].id&&lw(e);return{key:n,first:null,c(){t=v("div"),i=v("span"),i.textContent="Deleted",s=A(),l=v("strong"),o=W(r),a=A(),u&&u.c(),f=A(),m(i,"class","label label-danger list-label svelte-1jx20fl"),m(t,"class","list-item"),this.first=t},m(d,h){S(d,t,h),O(t,i),O(t,s),O(t,l),O(l,o),O(t,a),u&&u.m(t,null),O(t,f)},p(d,h){e=d,h[0]&512&&r!==(r=e[32].name+"")&&re(o,r),e[32].id?u?u.p(e,h):(u=lw(e),u.c(),u.m(t,f)):u&&(u.d(1),u=null)},d(d){d&&w(t),u&&u.d()}}}function ow(n){let e=[],t=new Map,i,s=n[4];const l=r=>r[35].old.id+r[35].new.id;for(let r=0;r<s.length;r+=1){let o=Jk(n,s,r),a=l(o);t.set(a,e[r]=uw(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Se()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);S(r,i,o)},p(r,o){o[0]&16&&(s=r[4],e=It(e,o,l,1,r,s,t,i.parentNode,or,uw,i,Jk))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&w(i)}}}function aw(n){let e,t=n[35].old.name+"",i,s,l;return{c(){e=v("strong"),i=W(t),s=A(),l=v("i"),m(e,"class","txt-strikethrough txt-hint"),m(l,"class","ri-arrow-right-line txt-sm")},m(r,o){S(r,e,o),O(e,i),S(r,s,o),S(r,l,o)},p(r,o){o[0]&16&&t!==(t=r[35].old.name+"")&&re(i,t)},d(r){r&&w(e),r&&w(s),r&&w(l)}}}function fw(n){let e,t,i=n[35].new.id+"",s,l;return{c(){e=v("small"),t=W("("),s=W(i),l=W(")"),m(e,"class","txt-hint")},m(r,o){S(r,e,o),O(e,t),O(e,s),O(e,l)},p(r,o){o[0]&16&&i!==(i=r[35].new.id+"")&&re(s,i)},d(r){r&&w(e)}}}function uw(n,e){let t,i,s,l,r,o,a=e[35].new.name+"",f,u,d,h=e[35].old.name!==e[35].new.name&&aw(e),p=e[35].new.id&&fw(e);return{key:n,first:null,c(){t=v("div"),i=v("span"),i.textContent="Changed",s=A(),l=v("div"),h&&h.c(),r=A(),o=v("strong"),f=W(a),u=A(),p&&p.c(),d=A(),m(i,"class","label label-warning list-label svelte-1jx20fl"),m(l,"class","inline-flex flex-gap-5"),m(t,"class","list-item"),this.first=t},m(g,b){S(g,t,b),O(t,i),O(t,s),O(t,l),h&&h.m(l,null),O(l,r),O(l,o),O(o,f),O(l,u),p&&p.m(l,null),O(t,d)},p(g,b){e=g,e[35].old.name!==e[35].new.name?h?h.p(e,b):(h=aw(e),h.c(),h.m(l,r)):h&&(h.d(1),h=null),b[0]&16&&a!==(a=e[35].new.name+"")&&re(f,a),e[35].new.id?p?p.p(e,b):(p=fw(e),p.c(),p.m(l,null)):p&&(p.d(1),p=null)},d(g){g&&w(t),h&&h.d(),p&&p.d()}}}function cw(n){let e=[],t=new Map,i,s=n[8];const l=r=>r[32].id;for(let r=0;r<s.length;r+=1){let o=Kk(n,s,r),a=l(o);t.set(a,e[r]=hw(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Se()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);S(r,i,o)},p(r,o){o[0]&256&&(s=r[8],e=It(e,o,l,1,r,s,t,i.parentNode,or,hw,i,Kk))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&w(i)}}}function dw(n){let e,t,i=n[32].id+"",s,l;return{c(){e=v("small"),t=W("("),s=W(i),l=W(")"),m(e,"class","txt-hint")},m(r,o){S(r,e,o),O(e,t),O(e,s),O(e,l)},p(r,o){o[0]&256&&i!==(i=r[32].id+"")&&re(s,i)},d(r){r&&w(e)}}}function hw(n,e){let t,i,s,l,r=e[32].name+"",o,a,f,u=e[32].id&&dw(e);return{key:n,first:null,c(){t=v("div"),i=v("span"),i.textContent="Added",s=A(),l=v("strong"),o=W(r),a=A(),u&&u.c(),f=A(),m(i,"class","label label-success list-label svelte-1jx20fl"),m(t,"class","list-item"),this.first=t},m(d,h){S(d,t,h),O(t,i),O(t,s),O(t,l),O(l,o),O(t,a),u&&u.m(t,null),O(t,f)},p(d,h){e=d,h[0]&256&&r!==(r=e[32].name+"")&&re(o,r),e[32].id?u?u.p(e,h):(u=dw(e),u.c(),u.m(t,f)):u&&(u.d(1),u=null)},d(d){d&&w(t),u&&u.d()}}}function pw(n){let e,t,i,s,l,r,o,a;return{c(){e=v("div"),t=v("div"),t.innerHTML='<i class="ri-error-warning-line"></i>',i=A(),s=v("div"),s.innerHTML=`<string>Some of the imported collections share the same name and/or fields but are
                                imported with different IDs. You can replace them in the import if you want
                                to.</string>`,l=A(),r=v("button"),r.innerHTML='<span class="txt">Replace with original ids</span>',m(t,"class","icon"),m(s,"class","content"),m(r,"type","button"),m(r,"class","btn btn-warning btn-sm btn-outline"),m(e,"class","alert alert-warning m-t-base")},m(f,u){S(f,e,u),O(e,t),O(e,i),O(e,s),O(e,l),O(e,r),o||(a=H(r,"click",n[24]),o=!0)},p:ee,d(f){f&&w(e),o=!1,a()}}}function mw(n){let e,t,i;return{c(){e=v("button"),e.innerHTML='<span class="txt">Clear</span>',m(e,"type","button"),m(e,"class","btn btn-transparent link-hint")},m(s,l){S(s,e,l),t||(i=H(e,"click",n[25]),t=!0)},p:ee,d(s){s&&w(e),t=!1,i()}}}function JB(n){let e,t,i,s,l,r,o,a,f,u,d,h;const p=[GB,HB],g=[];function b(_,y){return _[5]?0:1}return u=b(n),d=g[u]=p[u](n),{c(){e=v("header"),t=v("nav"),i=v("div"),i.textContent="Settings",s=A(),l=v("div"),r=W(n[15]),o=A(),a=v("div"),f=v("div"),d.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(f,"class","panel"),m(a,"class","wrapper")},m(_,y){S(_,e,y),O(e,t),O(t,i),O(t,s),O(t,l),O(l,r),S(_,o,y),S(_,a,y),O(a,f),g[u].m(f,null),h=!0},p(_,y){(!h||y[0]&32768)&&re(r,_[15]);let k=u;u=b(_),u===k?g[u].p(_,y):(ue(),I(g[k],1,1,()=>{g[k]=null}),ce(),d=g[u],d?d.p(_,y):(d=g[u]=p[u](_),d.c()),D(d,1),d.m(f,null))},i(_){h||(D(d),h=!0)},o(_){I(d),h=!1},d(_){_&&w(e),_&&w(o),_&&w(a),g[u].d()}}}function eY(n){let e,t,i,s,l,r;e=new el({}),i=new hi({props:{$$slots:{default:[JB]},$$scope:{ctx:n}}});let o={};return l=new YB({props:o}),n[27](l),l.$on("submit",n[28]),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment),s=A(),V(l.$$.fragment)},m(a,f){X(e,a,f),S(a,t,f),X(i,a,f),S(a,s,f),X(l,a,f),r=!0},p(a,f){const u={};f[0]&65535|f[1]&1024&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};l.$set(d)},i(a){r||(D(e.$$.fragment,a),D(i.$$.fragment,a),D(l.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),I(l.$$.fragment,a),r=!1},d(a){q(e,a),a&&w(t),q(i,a),a&&w(s),n[27](null),q(l,a)}}}function tY(n,e,t){let i,s,l,r,o,a,f;et(n,zt,B=>t(15,f=B)),Zn(zt,f="Import collections",f);let u,d,h="",p=!1,g=[],b=[],_=!0,y=[],k=!1;C();async function C(){t(5,k=!0);try{t(2,b=await de.collections.getFullList(200));for(let B of b)delete B.created,delete B.updated}catch(B){de.error(B)}t(5,k=!1)}function $(){if(t(4,y=[]),!!i)for(let B of g){const le=j.findByKey(b,"id",B.id);!(le!=null&&le.id)||!j.hasCollectionChanges(le,B,_)||y.push({new:B,old:le})}}function T(){t(1,g=[]);try{t(1,g=JSON.parse(h))}catch{}Array.isArray(g)?t(1,g=j.filterDuplicatesByKey(g)):t(1,g=[]);for(let B of g)delete B.created,delete B.updated,B.schema=j.filterDuplicatesByKey(B.schema)}function P(){var B,le;for(let te of g){const se=j.findByKey(b,"name",te.name)||j.findByKey(b,"id",te.id);if(!se)continue;const Oe=te.id,$e=se.id;te.id=$e;const Ze=Array.isArray(se.schema)?se.schema:[],He=Array.isArray(te.schema)?te.schema:[];for(const Ce of He){const Pe=j.findByKey(Ze,"name",Ce.name);Pe&&Pe.id&&(Ce.id=Pe.id)}for(let Ce of g)if(Array.isArray(Ce.schema))for(let Pe of Ce.schema)(B=Pe.options)!=null&&B.collectionId&&((le=Pe.options)==null?void 0:le.collectionId)===Oe&&(Pe.options.collectionId=$e)}t(0,h=JSON.stringify(g,null,4))}function M(B){t(12,p=!0);const le=new FileReader;le.onload=async te=>{t(12,p=!1),t(10,u.value="",u),t(0,h=te.target.result),await Bn(),g.length||(Cs("Invalid collections configuration."),Q())},le.onerror=te=>{console.warn(te),Cs("Failed to load the imported JSON."),t(12,p=!1),t(10,u.value="",u)},le.readAsText(B)}function Q(){t(0,h=""),t(10,u.value="",u),Mn({})}function E(B){ne[B?"unshift":"push"](()=>{u=B,t(10,u)})}const R=()=>{u.files.length&&M(u.files[0])},L=()=>{u.click()};function N(){h=this.value,t(0,h)}function x(){_=this.checked,t(3,_)}const Z=()=>P(),F=()=>Q(),U=()=>d==null?void 0:d.show(b,g,_);function G(B){ne[B?"unshift":"push"](()=>{d=B,t(11,d)})}const z=()=>Q();return n.$$.update=()=>{n.$$.dirty[0]&1&&typeof h<"u"&&T(),n.$$.dirty[0]&3&&t(6,i=!!h&&g.length&&g.length===g.filter(B=>!!B.id&&!!B.name).length),n.$$.dirty[0]&78&&t(9,s=b.filter(B=>i&&_&&!j.findByKey(g,"id",B.id))),n.$$.dirty[0]&70&&t(8,l=g.filter(B=>i&&!j.findByKey(b,"id",B.id))),n.$$.dirty[0]&10&&(typeof g<"u"||typeof _<"u")&&$(),n.$$.dirty[0]&785&&t(7,r=!!h&&(s.length||l.length||y.length)),n.$$.dirty[0]&224&&t(14,o=!k&&i&&r),n.$$.dirty[0]&6&&t(13,a=g.filter(B=>{let le=j.findByKey(b,"name",B.name)||j.findByKey(b,"id",B.id);if(!le)return!1;if(le.id!=B.id)return!0;const te=Array.isArray(le.schema)?le.schema:[],se=Array.isArray(B.schema)?B.schema:[];for(const Oe of se){if(j.findByKey(te,"id",Oe.id))continue;const Ze=j.findByKey(te,"name",Oe.name);if(Ze&&Oe.id!=Ze.id)return!0}return!1}))},[h,g,b,_,y,k,i,r,l,s,u,d,p,a,o,f,P,M,Q,E,R,L,N,x,Z,F,U,G,z]}class nY extends ke{constructor(e){super(),ve(this,e,tY,eY,be,{},null,[-1,-1])}}function iY(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=v("label"),t=W("Backup name"),s=A(),l=v("input"),o=A(),a=v("em"),a.textContent="Must be in the format [a-z0-9_-].zip",m(e,"for",i=n[15]),m(l,"type","text"),m(l,"id",r=n[15]),m(l,"placeholder","Leave empty to autogenerate"),m(l,"pattern","^[a-z0-9_-]+\\.zip$"),m(a,"class","help-block")},m(d,h){S(d,e,h),O(e,t),S(d,s,h),S(d,l,h),fe(l,n[2]),S(d,o,h),S(d,a,h),f||(u=H(l,"input",n[7]),f=!0)},p(d,h){h&32768&&i!==(i=d[15])&&m(e,"for",i),h&32768&&r!==(r=d[15])&&m(l,"id",r),h&4&&l.value!==d[2]&&fe(l,d[2])},d(d){d&&w(e),d&&w(s),d&&w(l),d&&w(o),d&&w(a),f=!1,u()}}}function sY(n){let e,t,i,s,l,r,o;return s=new me({props:{class:"form-field m-0",name:"name",$$slots:{default:[iY,({uniqueId:a})=>({15:a}),({uniqueId:a})=>a?32768:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),e.innerHTML=`<div class="icon"><i class="ri-information-line"></i></div> 
        <div class="content"><p>Please note that during the backup other concurrent write requests may fail since the
                database will be temporary &quot;locked&quot; (this usually happens only during the ZIP generation).</p> 
            <p class="txt-bold">If you are using S3 storage for the collections file upload, you&#39;ll have to backup them
                separately since they are not locally stored and will not be included in the final backup!</p></div>`,t=A(),i=v("form"),V(s.$$.fragment),m(e,"class","alert alert-info"),m(i,"id",n[4]),m(i,"autocomplete","off")},m(a,f){S(a,e,f),S(a,t,f),S(a,i,f),X(s,i,null),l=!0,r||(o=H(i,"submit",ut(n[5])),r=!0)},p(a,f){const u={};f&98308&&(u.$$scope={dirty:f,ctx:a}),s.$set(u)},i(a){l||(D(s.$$.fragment,a),l=!0)},o(a){I(s.$$.fragment,a),l=!1},d(a){a&&w(e),a&&w(t),a&&w(i),q(s),r=!1,o()}}}function lY(n){let e;return{c(){e=v("h4"),e.textContent="Initialize new backup",m(e,"class","center txt-break")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function rY(n){let e,t,i,s,l,r,o;return{c(){e=v("button"),t=v("span"),t.textContent="Cancel",i=A(),s=v("button"),l=v("span"),l.textContent="Start backup",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[3],m(l,"class","txt"),m(s,"type","submit"),m(s,"form",n[4]),m(s,"class","btn btn-expanded"),s.disabled=n[3],J(s,"btn-loading",n[3])},m(a,f){S(a,e,f),O(e,t),S(a,i,f),S(a,s,f),O(s,l),r||(o=H(e,"click",n[0]),r=!0)},p(a,f){f&8&&(e.disabled=a[3]),f&8&&(s.disabled=a[3]),f&8&&J(s,"btn-loading",a[3])},d(a){a&&w(e),a&&w(i),a&&w(s),r=!1,o()}}}function oY(n){let e,t,i={class:"backup-create-panel",beforeOpen:n[8],beforeHide:n[9],popup:!0,$$slots:{footer:[rY],header:[lY],default:[sY]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[10](e),e.$on("show",n[11]),e.$on("hide",n[12]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&8&&(r.beforeOpen=s[8]),l&8&&(r.beforeHide=s[9]),l&65548&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[10](null),q(e,s)}}}function aY(n,e,t){const i=Lt(),s="backup_create_"+j.randomString(5);let l,r="",o=!1,a;function f(k){Mn({}),t(3,o=!1),t(2,r=k||""),l==null||l.show()}function u(){return l==null?void 0:l.hide()}async function d(){if(!o){t(3,o=!0),clearTimeout(a),a=setTimeout(()=>{u()},1500);try{await de.backups.create(r,{$cancelKey:s}),t(3,o=!1),u(),i("submit"),Jt("Successfully generated new backup.")}catch(k){k.isAbort||de.error(k)}clearTimeout(a),t(3,o=!1)}}Sa(()=>{clearTimeout(a)});function h(){r=this.value,t(2,r)}const p=()=>o?(lu("A backup has already been started, please wait."),!1):!0,g=()=>(o&&lu("The backup was started but may take a while to complete. You can come back later.",4500),!0);function b(k){ne[k?"unshift":"push"](()=>{l=k,t(1,l)})}function _(k){Fe.call(this,n,k)}function y(k){Fe.call(this,n,k)}return[u,l,r,o,s,d,f,h,p,g,b,_,y]}class fY extends ke{constructor(e){super(),ve(this,e,aY,oY,be,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function uY(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Backup name"),s=A(),l=v("input"),m(e,"for",i=n[14]),m(l,"type","text"),m(l,"id",r=n[14]),l.required=!0},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[2]),o||(a=H(l,"input",n[9]),o=!0)},p(f,u){u&16384&&i!==(i=f[14])&&m(e,"for",i),u&16384&&r!==(r=f[14])&&m(l,"id",r),u&4&&l.value!==f[2]&&fe(l,f[2])},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function cY(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_;return f=new Ua({props:{value:n[1]}}),p=new me({props:{class:"form-field required m-0",name:"name",$$slots:{default:[uY,({uniqueId:y})=>({14:y}),({uniqueId:y})=>y?16384:0]},$$scope:{ctx:n}}}),{c(){e=v("div"),e.innerHTML=`<div class="icon"><i class="ri-alert-line"></i></div> 
        <div class="content"><p>Please proceed with caution.</p> 
            <p>The restore operation will replace your existing <code>pb_data</code> with the one from the backup
                and will restart the application process!</p> 
            <p class="txt-bold">Backup restore is still experimental and currently works only on UNIX based systems.</p></div>`,t=A(),i=v("div"),s=W(`Type the backup name
        `),l=v("div"),r=v("span"),o=W(n[1]),a=A(),V(f.$$.fragment),u=W(`
        to confirm:`),d=A(),h=v("form"),V(p.$$.fragment),m(e,"class","alert alert-danger"),m(r,"class","txt"),m(l,"class","label"),m(i,"class","content m-b-sm"),m(h,"id",n[6]),m(h,"autocomplete","off")},m(y,k){S(y,e,k),S(y,t,k),S(y,i,k),O(i,s),O(i,l),O(l,r),O(r,o),O(l,a),X(f,l,null),O(i,u),S(y,d,k),S(y,h,k),X(p,h,null),g=!0,b||(_=H(h,"submit",ut(n[7])),b=!0)},p(y,k){(!g||k&2)&&re(o,y[1]);const C={};k&2&&(C.value=y[1]),f.$set(C);const $={};k&49156&&($.$$scope={dirty:k,ctx:y}),p.$set($)},i(y){g||(D(f.$$.fragment,y),D(p.$$.fragment,y),g=!0)},o(y){I(f.$$.fragment,y),I(p.$$.fragment,y),g=!1},d(y){y&&w(e),y&&w(t),y&&w(i),q(f),y&&w(d),y&&w(h),q(p),b=!1,_()}}}function dY(n){let e,t,i,s;return{c(){e=v("h4"),t=W("Restore "),i=v("strong"),s=W(n[1]),m(e,"class","center txt-break")},m(l,r){S(l,e,r),O(e,t),O(e,i),O(i,s)},p(l,r){r&2&&re(s,l[1])},d(l){l&&w(e)}}}function hY(n){let e,t,i,s,l,r,o,a;return{c(){e=v("button"),t=W("Cancel"),i=A(),s=v("button"),l=v("span"),l.textContent="Restore backup",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[4],m(l,"class","txt"),m(s,"type","submit"),m(s,"form",n[6]),m(s,"class","btn btn-expanded"),s.disabled=r=!n[5]||n[4],J(s,"btn-loading",n[4])},m(f,u){S(f,e,u),O(e,t),S(f,i,u),S(f,s,u),O(s,l),o||(a=H(e,"click",n[0]),o=!0)},p(f,u){u&16&&(e.disabled=f[4]),u&48&&r!==(r=!f[5]||f[4])&&(s.disabled=r),u&16&&J(s,"btn-loading",f[4])},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,a()}}}function pY(n){let e,t,i={class:"backup-restore-panel",overlayClose:!n[4],escClose:!n[4],beforeHide:n[10],popup:!0,$$slots:{footer:[hY],header:[dY],default:[cY]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[11](e),e.$on("show",n[12]),e.$on("hide",n[13]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.overlayClose=!s[4]),l&16&&(r.escClose=!s[4]),l&16&&(r.beforeHide=s[10]),l&32822&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[11](null),q(e,s)}}}function mY(n,e,t){let i;const s="backup_restore_"+j.randomString(5);let l,r="",o="",a=!1;function f(y){Mn({}),t(2,o=""),t(1,r=y),t(4,a=!1),l==null||l.show()}function u(){return l==null?void 0:l.hide()}async function d(){var y;if(!(!i||a)){t(4,a=!0);try{await de.backups.restore(r),setTimeout(()=>{window.location.reload()},1e3)}catch(k){k!=null&&k.isAbort||(t(4,a=!1),Cs(((y=k.response)==null?void 0:y.message)||k.message))}}}function h(){o=this.value,t(2,o)}const p=()=>!a;function g(y){ne[y?"unshift":"push"](()=>{l=y,t(3,l)})}function b(y){Fe.call(this,n,y)}function _(y){Fe.call(this,n,y)}return n.$$.update=()=>{n.$$.dirty&6&&t(5,i=o!=""&&r==o)},[u,r,o,l,a,i,s,d,f,h,p,g,b,_]}class gY extends ke{constructor(e){super(),ve(this,e,mY,pY,be,{show:8,hide:0})}get show(){return this.$$.ctx[8]}get hide(){return this.$$.ctx[0]}}function gw(n,e,t){const i=n.slice();return i[22]=e[t],i}function bw(n,e,t){const i=n.slice();return i[19]=e[t],i}function bY(n){let e=[],t=new Map,i,s,l=n[3];const r=a=>a[22].key;for(let a=0;a<l.length;a+=1){let f=gw(n,l,a),u=r(f);t.set(u,e[a]=Ow(u,f))}let o=null;return l.length||(o=_w()),{c(){for(let a=0;a<e.length;a+=1)e[a].c();i=Se(),o&&o.c()},m(a,f){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,f);S(a,i,f),o&&o.m(a,f),s=!0},p(a,f){f&876&&(l=a[3],ue(),e=It(e,f,r,1,a,l,t,i.parentNode,hn,Ow,i,gw),ce(),!l.length&&o?o.p(a,f):l.length?o&&(o.d(1),o=null):(o=_w(),o.c(),o.m(i.parentNode,i)))},i(a){if(!s){for(let f=0;f<l.length;f+=1)D(e[f]);s=!0}},o(a){for(let f=0;f<e.length;f+=1)I(e[f]);s=!1},d(a){for(let f=0;f<e.length;f+=1)e[f].d(a);a&&w(i),o&&o.d(a)}}}function _Y(n){let e,t=Array(n[3].length||1),i=[];for(let s=0;s<t.length;s+=1)i[s]=yw(bw(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Se()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);S(s,e,l)},p(s,l){if(l&8){t=Array(s[3].length||1);let r;for(r=0;r<t.length;r+=1){const o=bw(s,t,r);i[r]?i[r].p(o,l):(i[r]=yw(),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},i:ee,o:ee,d(s){At(i,s),s&&w(e)}}}function _w(n){let e;return{c(){e=v("div"),e.innerHTML=`<span class="txt">No backups yet.</span> 
                `,m(e,"class","list-item list-item-placeholder svelte-1ulbkf5")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function Ow(n,e){let t,i,s,l,r,o=e[22].key+"",a,f,u,d,h=j.formattedFileSize(e[22].size)+"",p,g,b,_,y,k,C,$,T,P,M,Q,E,R,L,N,x,Z,F,U;function G(){return e[10](e[22])}function z(){return e[11](e[22])}function B(){return e[12](e[22])}return{key:n,first:null,c(){t=v("div"),i=v("i"),s=A(),l=v("div"),r=v("span"),a=W(o),f=A(),u=v("span"),d=W("("),p=W(h),g=W(")"),b=A(),_=v("div"),y=v("button"),k=v("i"),$=A(),T=v("button"),P=v("i"),Q=A(),E=v("button"),R=v("i"),N=A(),m(i,"class","ri-folder-zip-line"),m(r,"class","name backup-name svelte-1ulbkf5"),m(u,"class","size txt-hint txt-nowrap"),m(l,"class","content"),m(k,"class","ri-download-line"),m(y,"type","button"),m(y,"class","btn btn-sm btn-circle btn-hint btn-transparent"),y.disabled=C=e[6][e[22].key]||e[5][e[22].key],m(y,"aria-label","Download"),J(y,"btn-loading",e[5][e[22].key]),m(P,"class","ri-restart-line"),m(T,"type","button"),m(T,"class","btn btn-sm btn-circle btn-hint btn-transparent"),T.disabled=M=e[6][e[22].key],m(T,"aria-label","Restore"),m(R,"class","ri-delete-bin-7-line"),m(E,"type","button"),m(E,"class","btn btn-sm btn-circle btn-hint btn-transparent"),E.disabled=L=e[6][e[22].key],m(E,"aria-label","Delete"),J(E,"btn-loading",e[6][e[22].key]),m(_,"class","actions nonintrusive"),m(t,"class","list-item svelte-1ulbkf5"),this.first=t},m(le,te){S(le,t,te),O(t,i),O(t,s),O(t,l),O(l,r),O(r,a),O(l,f),O(l,u),O(u,d),O(u,p),O(u,g),O(t,b),O(t,_),O(_,y),O(y,k),O(_,$),O(_,T),O(T,P),O(_,Q),O(_,E),O(E,R),O(t,N),Z=!0,F||(U=[Ae(Ye.call(null,y,"Download")),H(y,"click",ut(G)),Ae(Ye.call(null,T,"Restore")),H(T,"click",ut(z)),Ae(Ye.call(null,E,"Delete")),H(E,"click",ut(B))],F=!0)},p(le,te){e=le,(!Z||te&8)&&o!==(o=e[22].key+"")&&re(a,o),(!Z||te&8)&&h!==(h=j.formattedFileSize(e[22].size)+"")&&re(p,h),(!Z||te&104&&C!==(C=e[6][e[22].key]||e[5][e[22].key]))&&(y.disabled=C),(!Z||te&40)&&J(y,"btn-loading",e[5][e[22].key]),(!Z||te&72&&M!==(M=e[6][e[22].key]))&&(T.disabled=M),(!Z||te&72&&L!==(L=e[6][e[22].key]))&&(E.disabled=L),(!Z||te&72)&&J(E,"btn-loading",e[6][e[22].key])},i(le){Z||(le&&at(()=>{Z&&(x||(x=Ue(t,gt,{duration:150},!0)),x.run(1))}),Z=!0)},o(le){le&&(x||(x=Ue(t,gt,{duration:150},!1)),x.run(0)),Z=!1},d(le){le&&w(t),le&&x&&x.end(),F=!1,Qe(U)}}}function yw(n){let e;return{c(){e=v("div"),e.innerHTML=`<span class="skeleton-loader"></span> 
                `,m(e,"class","list-item list-item-loader svelte-1ulbkf5")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function OY(n){let e,t,i;return{c(){e=v("span"),t=A(),i=v("span"),i.textContent="Backup/restore operation is in process",m(e,"class","loader loader-sm"),m(i,"class","txt")},m(s,l){S(s,e,l),S(s,t,l),S(s,i,l)},d(s){s&&w(e),s&&w(t),s&&w(i)}}}function yY(n){let e,t,i;return{c(){e=v("i"),t=A(),i=v("span"),i.textContent="Initialize new backup",m(e,"class","ri-play-circle-line"),m(i,"class","txt")},m(s,l){S(s,e,l),S(s,t,l),S(s,i,l)},d(s){s&&w(e),s&&w(t),s&&w(i)}}}function vY(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b;const _=[_Y,bY],y=[];function k(Q,E){return Q[4]?0:1}i=k(n),s=y[i]=_[i](n);function C(Q,E){return Q[7]?yY:OY}let $=C(n),T=$(n),P={};u=new fY({props:P}),n[14](u),u.$on("submit",n[15]);let M={};return h=new gY({props:M}),n[16](h),{c(){e=v("div"),t=v("div"),s.c(),l=A(),r=v("div"),o=v("button"),T.c(),f=A(),V(u.$$.fragment),d=A(),V(h.$$.fragment),m(t,"class","list-content svelte-1ulbkf5"),m(o,"type","button"),m(o,"class","btn btn-block btn-transparent"),o.disabled=a=n[4]||!n[7],m(r,"class","list-item list-item-btn"),m(e,"class","list list-compact")},m(Q,E){S(Q,e,E),O(e,t),y[i].m(t,null),O(e,l),O(e,r),O(r,o),T.m(o,null),S(Q,f,E),X(u,Q,E),S(Q,d,E),X(h,Q,E),p=!0,g||(b=H(o,"click",n[13]),g=!0)},p(Q,[E]){let R=i;i=k(Q),i===R?y[i].p(Q,E):(ue(),I(y[R],1,1,()=>{y[R]=null}),ce(),s=y[i],s?s.p(Q,E):(s=y[i]=_[i](Q),s.c()),D(s,1),s.m(t,null)),$!==($=C(Q))&&(T.d(1),T=$(Q),T&&(T.c(),T.m(o,null))),(!p||E&144&&a!==(a=Q[4]||!Q[7]))&&(o.disabled=a);const L={};u.$set(L);const N={};h.$set(N)},i(Q){p||(D(s),D(u.$$.fragment,Q),D(h.$$.fragment,Q),p=!0)},o(Q){I(s),I(u.$$.fragment,Q),I(h.$$.fragment,Q),p=!1},d(Q){Q&&w(e),y[i].d(),T.d(),Q&&w(f),n[14](null),q(u,Q),Q&&w(d),n[16](null),q(h,Q),g=!1,b()}}}function kY(n,e,t){let i,s,l=[],r=!1,o={},a={},f=!0;u(),g();async function u(){t(4,r=!0);try{t(3,l=await de.backups.getFullList()),l.sort((P,M)=>P.modified<M.modified?1:P.modified>M.modified?-1:0),t(4,r=!1)}catch(P){P.isAbort||(de.error(P),t(4,r=!1))}}async function d(P){if(!o[P]){t(5,o[P]=!0,o);try{const M=await de.getAdminFileToken(),Q=de.backups.getDownloadUrl(M,P);j.download(Q)}catch(M){M.isAbort||de.error(M)}delete o[P],t(5,o)}}function h(P){Wn(`Do you really want to delete ${P}?`,()=>p(P))}async function p(P){if(!a[P]){t(6,a[P]=!0,a);try{await de.backups.delete(P),j.removeByKey(l,"name",P),u(),Jt(`Successfully deleted ${P}.`)}catch(M){M.isAbort||de.error(M)}delete a[P],t(6,a)}}async function g(){var P;try{const M=await de.health.check({$autoCancel:!1}),Q=f;t(7,f=((P=M==null?void 0:M.data)==null?void 0:P.canBackup)||!1),Q!=f&&f&&u()}catch{}}vn(()=>{let P=setInterval(()=>{g()},3e3);return()=>{clearInterval(P)}});const b=P=>d(P.key),_=P=>s.show(P.key),y=P=>h(P.key),k=()=>i==null?void 0:i.show();function C(P){ne[P?"unshift":"push"](()=>{i=P,t(1,i)})}const $=()=>{u()};function T(P){ne[P?"unshift":"push"](()=>{s=P,t(2,s)})}return[u,i,s,l,r,o,a,f,d,h,b,_,y,k,C,$,T]}class wY extends ke{constructor(e){super(),ve(this,e,kY,vY,be,{loadBackups:0})}get loadBackups(){return this.$$.ctx[0]}}function SY(n){let e;return{c(){e=v("i"),m(e,"class","ri-arrow-down-s-line")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function $Y(n){let e;return{c(){e=v("i"),m(e,"class","ri-arrow-up-s-line")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function vw(n){var F,U,G;let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P,M;t=new me({props:{class:"form-field form-field-toggle m-t-base m-b-0",$$slots:{default:[CY,({uniqueId:z})=>({32:z}),({uniqueId:z})=>[0,z?2:0]]},$$scope:{ctx:n}}});let Q=n[2]&&kw(n);function E(z){n[25](z)}function R(z){n[26](z)}function L(z){n[27](z)}let N={toggleLabel:"Store backups in S3 storage",testFilesystem:"backups",configKey:"backups.s3",originalConfig:(F=n[0].backups)==null?void 0:F.s3};n[1].backups.s3!==void 0&&(N.config=n[1].backups.s3),n[7]!==void 0&&(N.isTesting=n[7]),n[8]!==void 0&&(N.testError=n[8]),o=new O3({props:N}),ne.push(()=>pe(o,"config",E)),ne.push(()=>pe(o,"isTesting",R)),ne.push(()=>pe(o,"testError",L));let x=((G=(U=n[1].backups)==null?void 0:U.s3)==null?void 0:G.enabled)&&!n[9]&&!n[5]&&ww(n),Z=n[9]&&Sw(n);return{c(){e=v("form"),V(t.$$.fragment),i=A(),Q&&Q.c(),s=A(),l=v("div"),r=A(),V(o.$$.fragment),d=A(),h=v("div"),p=v("div"),g=A(),x&&x.c(),b=A(),Z&&Z.c(),_=A(),y=v("button"),k=v("span"),k.textContent="Save changes",m(l,"class","clearfix m-b-base"),m(p,"class","flex-fill"),m(k,"class","txt"),m(y,"type","submit"),m(y,"class","btn btn-expanded"),y.disabled=C=!n[9]||n[5],J(y,"btn-loading",n[5]),m(h,"class","flex"),m(e,"class","block"),m(e,"autocomplete","off")},m(z,B){S(z,e,B),X(t,e,null),O(e,i),Q&&Q.m(e,null),O(e,s),O(e,l),O(e,r),X(o,e,null),O(e,d),O(e,h),O(h,p),O(h,g),x&&x.m(h,null),O(h,b),Z&&Z.m(h,null),O(h,_),O(h,y),O(y,k),T=!0,P||(M=[H(y,"click",n[29]),H(e,"submit",ut(n[11]))],P=!0)},p(z,B){var se,Oe,$e;const le={};B[0]&4|B[1]&6&&(le.$$scope={dirty:B,ctx:z}),t.$set(le),z[2]?Q?(Q.p(z,B),B[0]&4&&D(Q,1)):(Q=kw(z),Q.c(),D(Q,1),Q.m(e,s)):Q&&(ue(),I(Q,1,1,()=>{Q=null}),ce());const te={};B[0]&1&&(te.originalConfig=(se=z[0].backups)==null?void 0:se.s3),!a&&B[0]&2&&(a=!0,te.config=z[1].backups.s3,ye(()=>a=!1)),!f&&B[0]&128&&(f=!0,te.isTesting=z[7],ye(()=>f=!1)),!u&&B[0]&256&&(u=!0,te.testError=z[8],ye(()=>u=!1)),o.$set(te),($e=(Oe=z[1].backups)==null?void 0:Oe.s3)!=null&&$e.enabled&&!z[9]&&!z[5]?x?x.p(z,B):(x=ww(z),x.c(),x.m(h,b)):x&&(x.d(1),x=null),z[9]?Z?Z.p(z,B):(Z=Sw(z),Z.c(),Z.m(h,_)):Z&&(Z.d(1),Z=null),(!T||B[0]&544&&C!==(C=!z[9]||z[5]))&&(y.disabled=C),(!T||B[0]&32)&&J(y,"btn-loading",z[5])},i(z){T||(D(t.$$.fragment,z),D(Q),D(o.$$.fragment,z),z&&at(()=>{T&&($||($=Ue(e,gt,{duration:150},!0)),$.run(1))}),T=!0)},o(z){I(t.$$.fragment,z),I(Q),I(o.$$.fragment,z),z&&($||($=Ue(e,gt,{duration:150},!1)),$.run(0)),T=!1},d(z){z&&w(e),q(t),Q&&Q.d(),q(o),x&&x.d(),Z&&Z.d(),z&&$&&$.end(),P=!1,Qe(M)}}}function CY(n){let e,t,i,s,l,r,o,a;return{c(){e=v("input"),i=A(),s=v("label"),l=W("Enable auto backups"),m(e,"type","checkbox"),m(e,"id",t=n[32]),e.required=!0,m(s,"for",r=n[32])},m(f,u){S(f,e,u),e.checked=n[2],S(f,i,u),S(f,s,u),O(s,l),o||(a=H(e,"change",n[18]),o=!0)},p(f,u){u[1]&2&&t!==(t=f[32])&&m(e,"id",t),u[0]&4&&(e.checked=f[2]),u[1]&2&&r!==(r=f[32])&&m(s,"for",r)},d(f){f&&w(e),f&&w(i),f&&w(s),o=!1,a()}}}function kw(n){let e,t,i,s,l,r,o,a,f;return s=new me({props:{class:"form-field required",name:"backups.cron",$$slots:{default:[PY,({uniqueId:u})=>({32:u}),({uniqueId:u})=>[0,u?2:0]]},$$scope:{ctx:n}}}),o=new me({props:{class:"form-field required",name:"backups.cronMaxKeep",$$slots:{default:[MY,({uniqueId:u})=>({32:u}),({uniqueId:u})=>[0,u?2:0]]},$$scope:{ctx:n}}}),{c(){e=v("div"),t=v("div"),i=v("div"),V(s.$$.fragment),l=A(),r=v("div"),V(o.$$.fragment),m(i,"class","col-lg-6"),m(r,"class","col-lg-6"),m(t,"class","grid p-t-base p-b-sm"),m(e,"class","block")},m(u,d){S(u,e,d),O(e,t),O(t,i),X(s,i,null),O(t,l),O(t,r),X(o,r,null),f=!0},p(u,d){const h={};d[0]&3|d[1]&6&&(h.$$scope={dirty:d,ctx:u}),s.$set(h);const p={};d[0]&2|d[1]&6&&(p.$$scope={dirty:d,ctx:u}),o.$set(p)},i(u){f||(D(s.$$.fragment,u),D(o.$$.fragment,u),u&&at(()=>{f&&(a||(a=Ue(e,gt,{duration:150},!0)),a.run(1))}),f=!0)},o(u){I(s.$$.fragment,u),I(o.$$.fragment,u),u&&(a||(a=Ue(e,gt,{duration:150},!1)),a.run(0)),f=!1},d(u){u&&w(e),q(s),q(o),u&&a&&a.end()}}}function TY(n){let e,t,i,s,l,r,o,a,f;return{c(){e=v("button"),e.innerHTML='<span class="txt">Every day at 00:00h</span>',t=A(),i=v("button"),i.innerHTML='<span class="txt">Every sunday at 00:00h</span>',s=A(),l=v("button"),l.innerHTML='<span class="txt">Every Mon and Wed at 00:00h</span>',r=A(),o=v("button"),o.innerHTML='<span class="txt">Every first day of the month at 00:00h</span>',m(e,"type","button"),m(e,"class","dropdown-item closable"),m(i,"type","button"),m(i,"class","dropdown-item closable"),m(l,"type","button"),m(l,"class","dropdown-item closable"),m(o,"type","button"),m(o,"class","dropdown-item closable")},m(u,d){S(u,e,d),S(u,t,d),S(u,i,d),S(u,s,d),S(u,l,d),S(u,r,d),S(u,o,d),a||(f=[H(e,"click",n[20]),H(i,"click",n[21]),H(l,"click",n[22]),H(o,"click",n[23])],a=!0)},p:ee,d(u){u&&w(e),u&&w(t),u&&w(i),u&&w(s),u&&w(l),u&&w(r),u&&w(o),a=!1,Qe(f)}}}function PY(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$;return b=new Bi({props:{class:"dropdown dropdown-nowrap dropdown-right",$$slots:{default:[TY]},$$scope:{ctx:n}}}),{c(){var T,P;e=v("label"),t=W("Cron expression"),s=A(),l=v("input"),a=A(),f=v("div"),u=v("button"),d=v("span"),d.textContent="Presets",h=A(),p=v("i"),g=A(),V(b.$$.fragment),_=A(),y=v("div"),y.textContent="Only numeric list, steps or ranges are supported.",m(e,"for",i=n[32]),l.required=!0,m(l,"type","text"),m(l,"id",r=n[32]),m(l,"class","txt-lg txt-mono"),m(l,"placeholder","* * * * *"),l.autofocus=o=!((P=(T=n[0])==null?void 0:T.backups)!=null&&P.cron),m(d,"class","txt"),m(p,"class","ri-arrow-drop-down-fill"),m(u,"type","button"),m(u,"class","btn btn-sm btn-outline p-r-0"),m(f,"class","form-field-addon"),m(y,"class","help-block")},m(T,P){var M,Q;S(T,e,P),O(e,t),S(T,s,P),S(T,l,P),fe(l,n[1].backups.cron),S(T,a,P),S(T,f,P),O(f,u),O(u,d),O(u,h),O(u,p),O(u,g),X(b,u,null),S(T,_,P),S(T,y,P),k=!0,(Q=(M=n[0])==null?void 0:M.backups)!=null&&Q.cron||l.focus(),C||($=H(l,"input",n[19]),C=!0)},p(T,P){var Q,E;(!k||P[1]&2&&i!==(i=T[32]))&&m(e,"for",i),(!k||P[1]&2&&r!==(r=T[32]))&&m(l,"id",r),(!k||P[0]&1&&o!==(o=!((E=(Q=T[0])==null?void 0:Q.backups)!=null&&E.cron)))&&(l.autofocus=o),P[0]&2&&l.value!==T[1].backups.cron&&fe(l,T[1].backups.cron);const M={};P[0]&2|P[1]&4&&(M.$$scope={dirty:P,ctx:T}),b.$set(M)},i(T){k||(D(b.$$.fragment,T),k=!0)},o(T){I(b.$$.fragment,T),k=!1},d(T){T&&w(e),T&&w(s),T&&w(l),T&&w(a),T&&w(f),q(b),T&&w(_),T&&w(y),C=!1,$()}}}function MY(n){let e,t,i,s,l,r,o,a;return{c(){e=v("label"),t=W("Max @auto backups to keep"),s=A(),l=v("input"),m(e,"for",i=n[32]),m(l,"type","number"),m(l,"id",r=n[32]),m(l,"min","1")},m(f,u){S(f,e,u),O(e,t),S(f,s,u),S(f,l,u),fe(l,n[1].backups.cronMaxKeep),o||(a=H(l,"input",n[24]),o=!0)},p(f,u){u[1]&2&&i!==(i=f[32])&&m(e,"for",i),u[1]&2&&r!==(r=f[32])&&m(l,"id",r),u[0]&2&&Ct(l.value)!==f[1].backups.cronMaxKeep&&fe(l,f[1].backups.cronMaxKeep)},d(f){f&&w(e),f&&w(s),f&&w(l),o=!1,a()}}}function ww(n){let e;function t(l,r){return l[7]?DY:l[8]?QY:AY}let i=t(n),s=i(n);return{c(){s.c(),e=Se()},m(l,r){s.m(l,r),S(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&w(e)}}}function AY(n){let e;return{c(){e=v("div"),e.innerHTML=`<i class="ri-checkbox-circle-line txt-success"></i> 
                                    <span class="txt">S3 connected successfully</span>`,m(e,"class","label label-sm label-success entrance-right")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function QY(n){let e,t,i,s;return{c(){e=v("div"),e.innerHTML=`<i class="ri-error-warning-line txt-warning"></i> 
                                    <span class="txt">Failed to establish S3 connection</span>`,m(e,"class","label label-sm label-warning entrance-right")},m(l,r){var o;S(l,e,r),i||(s=Ae(t=Ye.call(null,e,(o=n[8].data)==null?void 0:o.message)),i=!0)},p(l,r){var o;t&&fn(t.update)&&r[0]&256&&t.update.call(null,(o=l[8].data)==null?void 0:o.message)},d(l){l&&w(e),i=!1,s()}}}function DY(n){let e;return{c(){e=v("span"),m(e,"class","loader loader-sm")},m(t,i){S(t,e,i)},p:ee,d(t){t&&w(e)}}}function Sw(n){let e,t,i,s,l;return{c(){e=v("button"),t=v("span"),t.textContent="Reset",m(t,"class","txt"),m(e,"type","submit"),m(e,"class","btn btn-hint btn-transparent"),e.disabled=i=!n[9]||n[5]},m(r,o){S(r,e,o),O(e,t),s||(l=H(e,"click",n[28]),s=!0)},p(r,o){o[0]&544&&i!==(i=!r[9]||r[5])&&(e.disabled=i)},d(r){r&&w(e),s=!1,l()}}}function EY(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k,C,$,T,P,M,Q,E;p=new lc({props:{class:"btn-sm",tooltip:"Reload backups list"}}),p.$on("refresh",n[15]);let R={};b=new wY({props:R}),n[16](b);function L(F,U){return F[6]?$Y:SY}let N=L(n),x=N(n),Z=n[6]&&!n[4]&&vw(n);return{c(){e=v("header"),t=v("nav"),i=v("div"),i.textContent="Settings",s=A(),l=v("div"),r=W(n[10]),o=A(),a=v("div"),f=v("div"),u=v("div"),d=v("span"),d.textContent="Backup and restore your PocketBase data",h=A(),V(p.$$.fragment),g=A(),V(b.$$.fragment),_=A(),y=v("hr"),k=A(),C=v("button"),$=v("span"),$.textContent="Backups options",T=A(),x.c(),P=A(),Z&&Z.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(d,"class","txt-xl"),m(u,"class","flex m-b-sm flex-gap-5"),m($,"class","txt"),m(C,"type","button"),m(C,"class","btn btn-secondary"),C.disabled=n[4],J(C,"btn-loading",n[4]),m(f,"class","panel"),m(f,"autocomplete","off"),m(a,"class","wrapper")},m(F,U){S(F,e,U),O(e,t),O(t,i),O(t,s),O(t,l),O(l,r),S(F,o,U),S(F,a,U),O(a,f),O(f,u),O(u,d),O(u,h),X(p,u,null),O(f,g),X(b,f,null),O(f,_),O(f,y),O(f,k),O(f,C),O(C,$),O(C,T),x.m(C,null),O(f,P),Z&&Z.m(f,null),M=!0,Q||(E=[H(C,"click",n[17]),H(f,"submit",ut(n[11]))],Q=!0)},p(F,U){(!M||U[0]&1024)&&re(r,F[10]);const G={};b.$set(G),N!==(N=L(F))&&(x.d(1),x=N(F),x&&(x.c(),x.m(C,null))),(!M||U[0]&16)&&(C.disabled=F[4]),(!M||U[0]&16)&&J(C,"btn-loading",F[4]),F[6]&&!F[4]?Z?(Z.p(F,U),U[0]&80&&D(Z,1)):(Z=vw(F),Z.c(),D(Z,1),Z.m(f,null)):Z&&(ue(),I(Z,1,1,()=>{Z=null}),ce())},i(F){M||(D(p.$$.fragment,F),D(b.$$.fragment,F),D(Z),M=!0)},o(F){I(p.$$.fragment,F),I(b.$$.fragment,F),I(Z),M=!1},d(F){F&&w(e),F&&w(o),F&&w(a),q(p),n[16](null),q(b),x.d(),Z&&Z.d(),Q=!1,Qe(E)}}}function IY(n){let e,t,i,s;return e=new el({}),i=new hi({props:{$$slots:{default:[EY]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment),t=A(),V(i.$$.fragment)},m(l,r){X(e,l,r),S(l,t,r),X(i,l,r),s=!0},p(l,r){const o={};r[0]&2047|r[1]&4&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(D(e.$$.fragment,l),D(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){q(e,l),l&&w(t),q(i,l)}}}function RY(n,e,t){let i,s;et(n,zt,B=>t(10,s=B)),Zn(zt,s="Backups",s);let l,r={},o={},a=!1,f=!1,u="",d=!1,h=!1,p=!1,g=null;b();async function b(){t(4,a=!0);try{const B=await de.settings.getAll()||{};y(B)}catch(B){de.error(B)}t(4,a=!1)}async function _(){if(!(f||!i)){t(5,f=!0);try{const B=await de.settings.update(j.filterRedactedProps(o));await C(),y(B),Jt("Successfully saved application settings.")}catch(B){de.error(B)}t(5,f=!1)}}function y(B={}){t(1,o={backups:(B==null?void 0:B.backups)||{}}),t(2,d=o.backups.cron!=""),t(0,r=JSON.parse(JSON.stringify(o)))}function k(){t(1,o=JSON.parse(JSON.stringify(r||{backups:{}}))),t(2,d=o.backups.cron!="")}async function C(){await(l==null?void 0:l.loadBackups())}const $=()=>C();function T(B){ne[B?"unshift":"push"](()=>{l=B,t(3,l)})}const P=()=>t(6,h=!h);function M(){d=this.checked,t(2,d)}function Q(){o.backups.cron=this.value,t(1,o),t(2,d)}const E=()=>{t(1,o.backups.cron="0 0 * * *",o)},R=()=>{t(1,o.backups.cron="0 0 * * 0",o)},L=()=>{t(1,o.backups.cron="0 0 * * 1,3",o)},N=()=>{t(1,o.backups.cron="0 0 1 * *",o)};function x(){o.backups.cronMaxKeep=Ct(this.value),t(1,o),t(2,d)}function Z(B){n.$$.not_equal(o.backups.s3,B)&&(o.backups.s3=B,t(1,o),t(2,d))}function F(B){p=B,t(7,p)}function U(B){g=B,t(8,g)}const G=()=>k(),z=()=>_();return n.$$.update=()=>{var B;n.$$.dirty[0]&1&&t(14,u=JSON.stringify(r)),n.$$.dirty[0]&6&&!d&&(B=o==null?void 0:o.backups)!=null&&B.cron&&(Ts("backups.cron"),t(1,o.backups.cron="",o)),n.$$.dirty[0]&16386&&t(9,i=u!=JSON.stringify(o))},[r,o,d,l,a,f,h,p,g,i,s,_,k,C,u,$,T,P,M,Q,E,R,L,N,x,Z,F,U,G,z]}class LY extends ke{constructor(e){super(),ve(this,e,RY,IY,be,{},null,[-1,-1])}}const un=[async n=>{const e=new URLSearchParams(window.location.search);return n.location!=="/"&&e.has("installer")?$l("/"):!0}],NY={"/login":nn({component:jW,conditions:un.concat([n=>!de.authStore.isValid]),userData:{showAppSidebar:!1}}),"/request-password-reset":nn({asyncComponent:()=>_t(()=>import("./PageAdminRequestPasswordReset-0842fda7.js"),[],import.meta.url),conditions:un.concat([n=>!de.authStore.isValid]),userData:{showAppSidebar:!1}}),"/confirm-password-reset/:token":nn({asyncComponent:()=>_t(()=>import("./PageAdminConfirmPasswordReset-d3df5cdb.js"),[],import.meta.url),conditions:un.concat([n=>!de.authStore.isValid]),userData:{showAppSidebar:!1}}),"/collections":nn({component:pW,conditions:un.concat([n=>de.authStore.isValid]),userData:{showAppSidebar:!0}}),"/logs":nn({component:C6,conditions:un.concat([n=>de.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings":nn({component:ez,conditions:un.concat([n=>de.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/admins":nn({component:xW,conditions:un.concat([n=>de.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/mail":nn({component:xz,conditions:un.concat([n=>de.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/storage":nn({component:lB,conditions:un.concat([n=>de.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/auth-providers":nn({component:kB,conditions:un.concat([n=>de.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/tokens":nn({component:QB,conditions:un.concat([n=>de.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/export-collections":nn({component:NB,conditions:un.concat([n=>de.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/import-collections":nn({component:nY,conditions:un.concat([n=>de.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/backups":nn({component:LY,conditions:un.concat([n=>de.authStore.isValid]),userData:{showAppSidebar:!0}}),"/users/confirm-password-reset/:token":nn({asyncComponent:()=>_t(()=>import("./PageRecordConfirmPasswordReset-56f47ba7.js"),[],import.meta.url),conditions:un,userData:{showAppSidebar:!1}}),"/auth/confirm-password-reset/:token":nn({asyncComponent:()=>_t(()=>import("./PageRecordConfirmPasswordReset-56f47ba7.js"),[],import.meta.url),conditions:un,userData:{showAppSidebar:!1}}),"/users/confirm-verification/:token":nn({asyncComponent:()=>_t(()=>import("./PageRecordConfirmVerification-bbf0da4b.js"),[],import.meta.url),conditions:un,userData:{showAppSidebar:!1}}),"/auth/confirm-verification/:token":nn({asyncComponent:()=>_t(()=>import("./PageRecordConfirmVerification-bbf0da4b.js"),[],import.meta.url),conditions:un,userData:{showAppSidebar:!1}}),"/users/confirm-email-change/:token":nn({asyncComponent:()=>_t(()=>import("./PageRecordConfirmEmailChange-bbaae420.js"),[],import.meta.url),conditions:un,userData:{showAppSidebar:!1}}),"/auth/confirm-email-change/:token":nn({asyncComponent:()=>_t(()=>import("./PageRecordConfirmEmailChange-bbaae420.js"),[],import.meta.url),conditions:un,userData:{showAppSidebar:!1}}),"/auth/oauth2-redirect":nn({asyncComponent:()=>_t(()=>import("./PageOAuth2Redirect-0028e2be.js"),[],import.meta.url),conditions:un,userData:{showAppSidebar:!1}}),"*":nn({component:z5,userData:{showAppSidebar:!1}})};function xY(n,{from:e,to:t},i={}){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform,[r,o]=s.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*r/t.width-(t.left+r),f=e.top+e.height*o/t.height-(t.top+o),{delay:u=0,duration:d=p=>Math.sqrt(p)*120,easing:h=ic}=i;return{delay:u,duration:fn(d)?d(Math.sqrt(a*a+f*f)):d,easing:h,css:(p,g)=>{const b=g*a,_=g*f,y=p+g*e.width/t.width,k=p+g*e.height/t.height;return`transform: ${l} translate(${b}px, ${_}px) scale(${y}, ${k});`}}}function $w(n,e,t){const i=n.slice();return i[2]=e[t],i}function ZY(n){let e;return{c(){e=v("i"),m(e,"class","ri-alert-line")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function FY(n){let e;return{c(){e=v("i"),m(e,"class","ri-error-warning-line")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function XY(n){let e;return{c(){e=v("i"),m(e,"class","ri-checkbox-circle-line")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function qY(n){let e;return{c(){e=v("i"),m(e,"class","ri-information-line")},m(t,i){S(t,e,i)},d(t){t&&w(e)}}}function Cw(n,e){let t,i,s,l,r=e[2].message+"",o,a,f,u,d,h,p,g=ee,b,_,y;function k(P,M){return P[2].type==="info"?qY:P[2].type==="success"?XY:P[2].type==="warning"?FY:ZY}let C=k(e),$=C(e);function T(){return e[1](e[2])}return{key:n,first:null,c(){t=v("div"),i=v("div"),$.c(),s=A(),l=v("div"),o=W(r),a=A(),f=v("button"),f.innerHTML='<i class="ri-close-line"></i>',u=A(),m(i,"class","icon"),m(l,"class","content"),m(f,"type","button"),m(f,"class","close"),m(t,"class","alert txt-break"),J(t,"alert-info",e[2].type=="info"),J(t,"alert-success",e[2].type=="success"),J(t,"alert-danger",e[2].type=="error"),J(t,"alert-warning",e[2].type=="warning"),this.first=t},m(P,M){S(P,t,M),O(t,i),$.m(i,null),O(t,s),O(t,l),O(l,o),O(t,a),O(t,f),O(t,u),b=!0,_||(y=H(f,"click",ut(T)),_=!0)},p(P,M){e=P,C!==(C=k(e))&&($.d(1),$=C(e),$&&($.c(),$.m(i,null))),(!b||M&1)&&r!==(r=e[2].message+"")&&re(o,r),(!b||M&1)&&J(t,"alert-info",e[2].type=="info"),(!b||M&1)&&J(t,"alert-success",e[2].type=="success"),(!b||M&1)&&J(t,"alert-danger",e[2].type=="error"),(!b||M&1)&&J(t,"alert-warning",e[2].type=="warning")},r(){p=t.getBoundingClientRect()},f(){V3(t),g(),Rw(t,p)},a(){g(),g=q3(t,p,xY,{duration:150})},i(P){b||(at(()=>{b&&(h&&h.end(1),d=xw(t,gt,{duration:150}),d.start())}),b=!0)},o(P){d&&d.invalidate(),h=gp(t,Jd,{duration:150}),b=!1},d(P){P&&w(t),$.d(),P&&h&&h.end(),_=!1,y()}}}function VY(n){let e,t=[],i=new Map,s,l=n[0];const r=o=>o[2].message;for(let o=0;o<l.length;o+=1){let a=$w(n,l,o),f=r(a);i.set(f,t[o]=Cw(f,a))}return{c(){e=v("div");for(let o=0;o<t.length;o+=1)t[o].c();m(e,"class","toasts-wrapper")},m(o,a){S(o,e,a);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);s=!0},p(o,[a]){if(a&1){l=o[0],ue();for(let f=0;f<t.length;f+=1)t[f].r();t=It(t,a,r,1,o,l,i,e,B3,Cw,null,$w);for(let f=0;f<t.length;f+=1)t[f].a();ce()}},i(o){if(!s){for(let a=0;a<l.length;a+=1)D(t[a]);s=!0}},o(o){for(let a=0;a<t.length;a+=1)I(t[a]);s=!1},d(o){o&&w(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function jY(n,e,t){let i;return et(n,tc,l=>t(0,i=l)),[i,l=>W2(l)]}class UY extends ke{constructor(e){super(),ve(this,e,jY,VY,be,{})}}function WY(n){var s;let e,t=((s=n[1])==null?void 0:s.text)+"",i;return{c(){e=v("h4"),i=W(t),m(e,"class","block center txt-break"),m(e,"slot","header")},m(l,r){S(l,e,r),O(e,i)},p(l,r){var o;r&2&&t!==(t=((o=l[1])==null?void 0:o.text)+"")&&re(i,t)},d(l){l&&w(e)}}}function zY(n){let e,t,i,s,l,r,o;return{c(){e=v("button"),t=v("span"),t.textContent="No",i=A(),s=v("button"),l=v("span"),l.textContent="Yes",m(t,"class","txt"),e.autofocus=!0,m(e,"type","button"),m(e,"class","btn btn-transparent btn-expanded-sm"),e.disabled=n[2],m(l,"class","txt"),m(s,"type","button"),m(s,"class","btn btn-danger btn-expanded"),s.disabled=n[2],J(s,"btn-loading",n[2])},m(a,f){S(a,e,f),O(e,t),S(a,i,f),S(a,s,f),O(s,l),e.focus(),r||(o=[H(e,"click",n[4]),H(s,"click",n[5])],r=!0)},p(a,f){f&4&&(e.disabled=a[2]),f&4&&(s.disabled=a[2]),f&4&&J(s,"btn-loading",a[2])},d(a){a&&w(e),a&&w(i),a&&w(s),r=!1,Qe(o)}}}function BY(n){let e,t,i={class:"confirm-popup hide-content overlay-panel-sm",overlayClose:!n[2],escClose:!n[2],btnClose:!1,popup:!0,$$slots:{footer:[zY],header:[WY]},$$scope:{ctx:n}};return e=new Fn({props:i}),n[6](e),e.$on("hide",n[7]),{c(){V(e.$$.fragment)},m(s,l){X(e,s,l),t=!0},p(s,[l]){const r={};l&4&&(r.overlayClose=!s[2]),l&4&&(r.escClose=!s[2]),l&271&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[6](null),q(e,s)}}}function YY(n,e,t){let i;et(n,Jp,d=>t(1,i=d));let s,l=!1,r=!1;const o=()=>{t(3,r=!1),s==null||s.hide()},a=async()=>{i!=null&&i.yesCallback&&(t(2,l=!0),await Promise.resolve(i.yesCallback()),t(2,l=!1)),t(3,r=!0),s==null||s.hide()};function f(d){ne[d?"unshift":"push"](()=>{s=d,t(0,s)})}const u=async()=>{!r&&(i!=null&&i.noCallback)&&i.noCallback(),await Bn(),t(3,r=!1),HS()};return n.$$.update=()=>{n.$$.dirty&3&&i!=null&&i.text&&(t(3,r=!1),s==null||s.show())},[s,i,l,r,o,a,f,u]}class HY extends ke{constructor(e){super(),ve(this,e,YY,BY,be,{})}}function Tw(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,k;return b=new Bi({props:{class:"dropdown dropdown-nowrap dropdown-upside dropdown-left",$$slots:{default:[GY]},$$scope:{ctx:n}}}),{c(){var C;e=v("aside"),t=v("a"),t.innerHTML='<img src="./images/glam.png" alt="PocketBase logo" width="40" height="40"/>',i=A(),s=v("nav"),l=v("a"),l.innerHTML='<i class="ri-database-2-line"></i>',r=A(),o=v("a"),o.innerHTML='<i class="ri-line-chart-line"></i>',a=A(),f=v("a"),f.innerHTML='<i class="ri-tools-line"></i>',u=A(),d=v("figure"),h=v("img"),g=A(),V(b.$$.fragment),m(t,"href","/"),m(t,"class","logo logo-sm"),m(l,"href","/collections"),m(l,"class","menu-item"),m(l,"aria-label","Collections"),m(o,"href","/logs"),m(o,"class","menu-item"),m(o,"aria-label","Logs"),m(f,"href","/settings"),m(f,"class","menu-item"),m(f,"aria-label","Settings"),m(s,"class","main-menu"),ni(h.src,p="./images/avatars/avatar"+(((C=n[0])==null?void 0:C.avatar)||0)+".svg")||m(h,"src",p),m(h,"alt","Avatar"),m(d,"class","thumb thumb-circle link-hint closable"),m(e,"class","app-sidebar")},m(C,$){S(C,e,$),O(e,t),O(e,i),O(e,s),O(s,l),O(s,r),O(s,o),O(s,a),O(s,f),O(e,u),O(e,d),O(d,h),O(d,g),X(b,d,null),_=!0,y||(k=[Ae(qn.call(null,t)),Ae(qn.call(null,l)),Ae(Ri.call(null,l,{path:"/collections/?.*",className:"current-route"})),Ae(Ye.call(null,l,{text:"Collections",position:"right"})),Ae(qn.call(null,o)),Ae(Ri.call(null,o,{path:"/logs/?.*",className:"current-route"})),Ae(Ye.call(null,o,{text:"Logs",position:"right"})),Ae(qn.call(null,f)),Ae(Ri.call(null,f,{path:"/settings/?.*",className:"current-route"})),Ae(Ye.call(null,f,{text:"Settings",position:"right"}))],y=!0)},p(C,$){var P;(!_||$&1&&!ni(h.src,p="./images/avatars/avatar"+(((P=C[0])==null?void 0:P.avatar)||0)+".svg"))&&m(h,"src",p);const T={};$&4096&&(T.$$scope={dirty:$,ctx:C}),b.$set(T)},i(C){_||(D(b.$$.fragment,C),_=!0)},o(C){I(b.$$.fragment,C),_=!1},d(C){C&&w(e),q(b),y=!1,Qe(k)}}}function GY(n){let e,t,i,s,l,r,o;return{c(){e=v("a"),e.innerHTML=`<i class="ri-shield-user-line"></i> 
                        <span class="txt">Manage admins</span>`,t=A(),i=v("hr"),s=A(),l=v("button"),l.innerHTML=`<i class="ri-logout-circle-line"></i> 
                        <span class="txt">Logout</span>`,m(e,"href","/settings/admins"),m(e,"class","dropdown-item closable"),m(l,"type","button"),m(l,"class","dropdown-item closable")},m(a,f){S(a,e,f),S(a,t,f),S(a,i,f),S(a,s,f),S(a,l,f),r||(o=[Ae(qn.call(null,e)),H(l,"click",n[7])],r=!0)},p:ee,d(a){a&&w(e),a&&w(t),a&&w(i),a&&w(s),a&&w(l),r=!1,Qe(o)}}}function Pw(n){let e,t,i;return t=new Fm({props:{scriptSrc:"./libs/tinymce/tinymce.min.js",conf:j.defaultEditorOptions()}}),t.$on("init",n[8]),{c(){e=v("div"),V(t.$$.fragment),m(e,"class","tinymce-preloader hidden")},m(s,l){S(s,e,l),X(t,e,null),i=!0},p:ee,i(s){i||(D(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&w(e),q(t)}}}function KY(n){var _;let e,t,i,s,l,r,o,a,f,u,d,h,p;document.title=e=j.joinNonEmpty([n[4],n[3],"PocketBase"]," - ");let g=((_=n[0])==null?void 0:_.id)&&n[1]&&Tw(n);r=new nP({props:{routes:NY}}),r.$on("routeLoading",n[5]),r.$on("conditionsFailed",n[6]),a=new UY({}),u=new HY({});let b=n[1]&&!n[2]&&Pw(n);return{c(){t=A(),i=v("div"),g&&g.c(),s=A(),l=v("div"),V(r.$$.fragment),o=A(),V(a.$$.fragment),f=A(),V(u.$$.fragment),d=A(),b&&b.c(),h=Se(),m(l,"class","app-body"),m(i,"class","app-layout")},m(y,k){S(y,t,k),S(y,i,k),g&&g.m(i,null),O(i,s),O(i,l),X(r,l,null),O(l,o),X(a,l,null),S(y,f,k),X(u,y,k),S(y,d,k),b&&b.m(y,k),S(y,h,k),p=!0},p(y,[k]){var C;(!p||k&24)&&e!==(e=j.joinNonEmpty([y[4],y[3],"PocketBase"]," - "))&&(document.title=e),(C=y[0])!=null&&C.id&&y[1]?g?(g.p(y,k),k&3&&D(g,1)):(g=Tw(y),g.c(),D(g,1),g.m(i,s)):g&&(ue(),I(g,1,1,()=>{g=null}),ce()),y[1]&&!y[2]?b?(b.p(y,k),k&6&&D(b,1)):(b=Pw(y),b.c(),D(b,1),b.m(h.parentNode,h)):b&&(ue(),I(b,1,1,()=>{b=null}),ce())},i(y){p||(D(g),D(r.$$.fragment,y),D(a.$$.fragment,y),D(u.$$.fragment,y),D(b),p=!0)},o(y){I(g),I(r.$$.fragment,y),I(a.$$.fragment,y),I(u.$$.fragment,y),I(b),p=!1},d(y){y&&w(t),y&&w(i),g&&g.d(),q(r),q(a),y&&w(f),q(u,y),y&&w(d),b&&b.d(y),y&&w(h)}}}function JY(n,e,t){let i,s,l,r;et(n,qr,b=>t(10,i=b)),et(n,au,b=>t(3,s=b)),et(n,Aa,b=>t(0,l=b)),et(n,zt,b=>t(4,r=b));let o,a=!1,f=!1;function u(b){var _,y,k,C;((_=b==null?void 0:b.detail)==null?void 0:_.location)!==o&&(t(1,a=!!((k=(y=b==null?void 0:b.detail)==null?void 0:y.userData)!=null&&k.showAppSidebar)),o=(C=b==null?void 0:b.detail)==null?void 0:C.location,Zn(zt,r="",r),Mn({}),HS())}function d(){$l("/")}async function h(){var b,_;if(l!=null&&l.id)try{const y=await de.settings.getAll({$cancelKey:"initialAppSettings"});Zn(au,s=((b=y==null?void 0:y.meta)==null?void 0:b.appName)||"",s),Zn(qr,i=!!((_=y==null?void 0:y.meta)!=null&&_.hideControls),i)}catch(y){y!=null&&y.isAbort||console.warn("Failed to load app settings.",y)}}function p(){de.logout()}const g=()=>{t(2,f=!0)};return n.$$.update=()=>{n.$$.dirty&1&&l!=null&&l.id&&h()},[l,a,f,s,r,u,d,p,g]}class eH extends ke{constructor(e){super(),ve(this,e,JY,KY,be,{})}}new eH({target:document.getElementById("app")});export{bF as $,Qe as A,Jt as B,j as C,$l as D,Se as E,B2 as F,Uw as G,vn as H,et as I,As as J,Lt as K,Ve as L,ht as M,zx as N,no as O,cx as P,OZ as Q,ex as R,ke as S,lx as T,q7 as U,K7 as V,$X as W,$x as X,wF as Y,Za as Z,MX as _,I as a,qF as a0,PZ as a1,s3 as a2,LX as a3,vx as a4,dc as a5,YC as a6,U7 as a7,ne as a8,BS as a9,J7 as aA,zF as aB,WT as aC,Zd as aD,It as aa,or as ab,hn as ac,At as ad,ci as ae,cq as af,xm as ag,MC as ah,oe as ai,Bu as aj,nH as ak,Ru as al,IC as am,wd as an,NC as ao,M7 as ap,b7 as aq,yn as ar,jt as as,Jx as at,Lq as au,Nq as av,xq as aw,Kl as ax,Fq as ay,he as az,A as b,V as c,q as d,v as e,m as f,S as g,O as h,ve as i,Ae as j,ue as k,qn as l,X as m,ce as n,w as o,de as p,me as q,J as r,be as s,D as t,H as u,ut as v,W as w,re as x,ee as y,fe as z};
